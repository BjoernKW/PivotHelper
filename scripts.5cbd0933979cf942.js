!function(r,Ht){"object"==typeof exports&&typeof module<"u"?Ht(exports):"function"==typeof define&&define.amd?define(["exports"],Ht):Ht((r=r||self).d3=r.d3||{})}(this,function(r){"use strict";function Ht(t,i){return t<i?-1:t>i?1:t>=i?0:NaN}function bn(t){var i;return 1===t.length&&(i=t,t=function(a,u){return Ht(i(a),u)}),{left:function(a,u,c,d){for(null==c&&(c=0),null==d&&(d=a.length);c<d;){var v=c+d>>>1;t(a[v],u)<0?c=v+1:d=v}return c},right:function(a,u,c,d){for(null==c&&(c=0),null==d&&(d=a.length);c<d;){var v=c+d>>>1;t(a[v],u)>0?d=v:c=v+1}return c}}}var xn=bn(Ht),pe=xn.right,Tt=xn.left;function We(t,i){return[t,i]}function Ye(t){return null===t?NaN:+t}function Oe(t,i){var a,u,c=t.length,d=0,v=-1,m=0,_=0;if(null==i)for(;++v<c;)isNaN(a=Ye(t[v]))||(_+=(u=a-m)*(a-(m+=u/++d)));else for(;++v<c;)isNaN(a=Ye(i(t[v],v,t)))||(_+=(u=a-m)*(a-(m+=u/++d)));if(d>1)return _/(d-1)}function on(t,i){var a=Oe(t,i);return a&&Math.sqrt(a)}function Rn(t,i){var a,u,c,d=t.length,v=-1;if(null==i){for(;++v<d;)if(null!=(a=t[v])&&a>=a)for(u=c=a;++v<d;)null!=(a=t[v])&&(u>a&&(u=a),c<a&&(c=a))}else for(;++v<d;)if(null!=(a=i(t[v],v,t))&&a>=a)for(u=c=a;++v<d;)null!=(a=i(t[v],v,t))&&(u>a&&(u=a),c<a&&(c=a));return[u,c]}var mn=Array.prototype,ke=mn.slice,le=mn.map;function ce(t){return function(){return t}}function hn(t){return t}function ee(t,i,a){t=+t,i=+i,a=(c=arguments.length)<2?(i=t,t=0,1):c<3?1:+a;for(var u=-1,c=0|Math.max(0,Math.ceil((i-t)/a)),d=new Array(c);++u<c;)d[u]=t+u*a;return d}var qe=Math.sqrt(50),ye=Math.sqrt(10),Re=Math.sqrt(2);function Q(t,i,a){var u,c,d,v,m=-1;if(a=+a,(t=+t)==(i=+i)&&a>0)return[t];if((u=i<t)&&(c=t,t=i,i=c),0===(v=E(t,i,a))||!isFinite(v))return[];if(v>0)for(t=Math.ceil(t/v),i=Math.floor(i/v),d=new Array(c=Math.ceil(i-t+1));++m<c;)d[m]=(t+m)*v;else for(t=Math.floor(t*v),i=Math.ceil(i*v),d=new Array(c=Math.ceil(t-i+1));++m<c;)d[m]=(t-m)/v;return u&&d.reverse(),d}function E(t,i,a){var u=(i-t)/Math.max(0,a),c=Math.floor(Math.log(u)/Math.LN10),d=u/Math.pow(10,c);return c>=0?(d>=qe?10:d>=ye?5:d>=Re?2:1)*Math.pow(10,c):-Math.pow(10,-c)/(d>=qe?10:d>=ye?5:d>=Re?2:1)}function oe(t,i,a){var u=Math.abs(i-t)/Math.max(0,a),c=Math.pow(10,Math.floor(Math.log(u)/Math.LN10)),d=u/c;return d>=qe?c*=10:d>=ye?c*=5:d>=Re&&(c*=2),i<t?-c:c}function _e(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function Ue(t,i,a){if(null==a&&(a=Ye),u=t.length){if((i=+i)<=0||u<2)return+a(t[0],0,t);if(i>=1)return+a(t[u-1],u-1,t);var u,c=(u-1)*i,d=Math.floor(c),v=+a(t[d],d,t);return v+(+a(t[d+1],d+1,t)-v)*(c-d)}}function pn(t,i){var a,u,c=t.length,d=-1;if(null==i){for(;++d<c;)if(null!=(a=t[d])&&a>=a)for(u=a;++d<c;)null!=(a=t[d])&&a>u&&(u=a)}else for(;++d<c;)if(null!=(a=i(t[d],d,t))&&a>=a)for(u=a;++d<c;)null!=(a=i(t[d],d,t))&&a>u&&(u=a);return u}function se(t){for(var i,a,u,c=t.length,d=-1,v=0;++d<c;)v+=t[d].length;for(a=new Array(v);--c>=0;)for(i=(u=t[c]).length;--i>=0;)a[--v]=u[i];return a}function et(t,i){var a,u,c=t.length,d=-1;if(null==i){for(;++d<c;)if(null!=(a=t[d])&&a>=a)for(u=a;++d<c;)null!=(a=t[d])&&u>a&&(u=a)}else for(;++d<c;)if(null!=(a=i(t[d],d,t))&&a>=a)for(u=a;++d<c;)null!=(a=i(t[d],d,t))&&u>a&&(u=a);return u}function nt(t){if(!(c=t.length))return[];for(var i=-1,a=et(t,n),u=new Array(a);++i<a;)for(var c,d=-1,v=u[i]=new Array(c);++d<c;)v[d]=t[d][i];return u}function n(t){return t.length}var o=Array.prototype.slice;function h(t){return t}var M=1e-6;function G(t){return"translate("+(t+.5)+",0)"}function F(t){return"translate(0,"+(t+.5)+")"}function V(){return!this.__axis}function tt(t,i){var a=[],u=null,c=null,d=6,v=6,m=3,_=1===t||4===t?-1:1,b=4===t||2===t?"x":"y",S=1===t||3===t?G:F;function P(T){var I=u??(i.ticks?i.ticks.apply(i,a):i.domain()),O=c??(i.tickFormat?i.tickFormat.apply(i,a):h),H=Math.max(d,0)+m,B=i.range(),z=+B[0]+.5,U=+B[B.length-1]+.5,q=(i.bandwidth?function(xt){var K=Math.max(0,xt.bandwidth()-1)/2;return xt.round()&&(K=Math.round(K)),function(vt){return+xt(vt)+K}}:function(xt){return function(K){return+xt(K)}})(i.copy()),Z=T.selection?T.selection():T,st=Z.selectAll(".domain").data([null]),ft=Z.selectAll(".tick").data(I,i).order(),bt=ft.exit(),Ot=ft.enter().append("g").attr("class","tick"),ct=ft.select("line"),kt=ft.select("text");st=st.merge(st.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),ft=ft.merge(Ot),ct=ct.merge(Ot.append("line").attr("stroke","currentColor").attr(b+"2",_*d)),kt=kt.merge(Ot.append("text").attr("fill","currentColor").attr(b,_*H).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),T!==Z&&(st=st.transition(T),ft=ft.transition(T),ct=ct.transition(T),kt=kt.transition(T),bt=bt.transition(T).attr("opacity",M).attr("transform",function(xt){return isFinite(xt=q(xt))?S(xt):this.getAttribute("transform")}),Ot.attr("opacity",M).attr("transform",function(xt){var K=this.parentNode.__axis;return S(K&&isFinite(K=K(xt))?K:q(xt))})),bt.remove(),st.attr("d",4===t||2==t?v?"M"+_*v+","+z+"H0.5V"+U+"H"+_*v:"M0.5,"+z+"V"+U:v?"M"+z+","+_*v+"V0.5H"+U+"V"+_*v:"M"+z+",0.5H"+U),ft.attr("opacity",1).attr("transform",function(xt){return S(q(xt))}),ct.attr(b+"2",_*d),kt.attr(b,_*H).text(O),Z.filter(V).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),Z.each(function(){this.__axis=q})}return P.scale=function(T){return arguments.length?(i=T,P):i},P.ticks=function(){return a=o.call(arguments),P},P.tickArguments=function(T){return arguments.length?(a=null==T?[]:o.call(T),P):a.slice()},P.tickValues=function(T){return arguments.length?(u=null==T?null:o.call(T),P):u&&u.slice()},P.tickFormat=function(T){return arguments.length?(c=T,P):c},P.tickSize=function(T){return arguments.length?(d=v=+T,P):d},P.tickSizeInner=function(T){return arguments.length?(d=+T,P):d},P.tickSizeOuter=function(T){return arguments.length?(v=+T,P):v},P.tickPadding=function(T){return arguments.length?(m=+T,P):m},P}var dt={value:function(){}};function J(){for(var t,i=0,a=arguments.length,u={};i<a;++i){if(!(t=arguments[i]+"")||t in u||/[\s.]/.test(t))throw new Error("illegal type: "+t);u[t]=[]}return new mt(u)}function mt(t){this._=t}function Ct(t,i){return t.trim().split(/^|\s+/).map(function(a){var u="",c=a.indexOf(".");if(c>=0&&(u=a.slice(c+1),a=a.slice(0,c)),a&&!i.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:u}})}function Mt(t,i){for(var a,u=0,c=t.length;u<c;++u)if((a=t[u]).name===i)return a.value}function at(t,i,a){for(var u=0,c=t.length;u<c;++u)if(t[u].name===i){t[u]=dt,t=t.slice(0,u).concat(t.slice(u+1));break}return null!=a&&t.push({name:i,value:a}),t}mt.prototype=J.prototype={constructor:mt,on:function(t,i){var a,u=this._,c=Ct(t+"",u),d=-1,v=c.length;if(!(arguments.length<2)){if(null!=i&&"function"!=typeof i)throw new Error("invalid callback: "+i);for(;++d<v;)if(a=(t=c[d]).type)u[a]=at(u[a],t.name,i);else if(null==i)for(a in u)u[a]=at(u[a],t.name,null);return this}for(;++d<v;)if((a=(t=c[d]).type)&&(a=Mt(u[a],t.name)))return a},copy:function(){var t={},i=this._;for(var a in i)t[a]=i[a].slice();return new mt(t)},call:function(t,i){if((a=arguments.length-2)>0)for(var a,u,c=new Array(a),d=0;d<a;++d)c[d]=arguments[d+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(d=0,a=(u=this._[t]).length;d<a;++d)u[d].value.apply(i,c)},apply:function(t,i,a){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var u=this._[t],c=0,d=u.length;c<d;++c)u[c].value.apply(i,a)}};var re="http://www.w3.org/1999/xhtml",Dt={svg:"http://www.w3.org/2000/svg",xhtml:re,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function At(t){var i=t+="",a=i.indexOf(":");return a>=0&&"xmlns"!==(i=t.slice(0,a))&&(t=t.slice(a+1)),Dt.hasOwnProperty(i)?{space:Dt[i],local:t}:t}function Ut(t){var i=At(t);return(i.local?function(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}:function(a){return function(){var u=this.ownerDocument,c=this.namespaceURI;return c===re&&u.documentElement.namespaceURI===re?u.createElement(a):u.createElementNS(c,a)}})(i)}function he(){}function Zt(t){return null==t?he:function(){return this.querySelector(t)}}function Ft(){return[]}function $t(t){return null==t?Ft:function(){return this.querySelectorAll(t)}}function Yt(t){return function(){return this.matches(t)}}function Bt(t){return new Array(t.length)}function Le(t,i){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=i}function gn(t,i,a,u,c,d){for(var v,m=0,_=i.length,b=d.length;m<b;++m)(v=i[m])?(v.__data__=d[m],u[m]=v):a[m]=new Le(t,d[m]);for(;m<_;++m)(v=i[m])&&(c[m]=v)}function nn(t,i,a,u,c,d,v){var m,_,b,S={},P=i.length,T=d.length,I=new Array(P);for(m=0;m<P;++m)(_=i[m])&&(I[m]=b="$"+v.call(_,_.__data__,m,i),b in S?c[m]=_:S[b]=_);for(m=0;m<T;++m)(_=S[b="$"+v.call(t,d[m],m,d)])?(u[m]=_,_.__data__=d[m],S[b]=null):a[m]=new Le(t,d[m]);for(m=0;m<P;++m)(_=i[m])&&S[I[m]]===_&&(c[m]=_)}function Pe(t,i){return t<i?-1:t>i?1:t>=i?0:NaN}function Me(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function De(t,i){return t.style.getPropertyValue(i)||Me(t).getComputedStyle(t,null).getPropertyValue(i)}function Xt(t){return t.trim().split(/^|\s+/)}function e(t){return t.classList||new s(t)}function s(t){this._node=t,this._names=Xt(t.getAttribute("class")||"")}function l(t,i){for(var a=e(t),u=-1,c=i.length;++u<c;)a.add(i[u])}function g(t,i){for(var a=e(t),u=-1,c=i.length;++u<c;)a.remove(i[u])}function y(){this.textContent=""}function A(){this.innerHTML=""}function N(){this.nextSibling&&this.parentNode.appendChild(this)}function j(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function X(){return null}function ht(){var t=this.parentNode;t&&t.removeChild(this)}function ut(){var t=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(t,this.nextSibling):t}function ot(){var t=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(t,this.nextSibling):t}Le.prototype={constructor:Le,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,i){return this._parent.insertBefore(t,i)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},s.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var i=this._names.indexOf(t);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var yt={};function It(t,i,a){return t=qt(t,i,a),function(u){var c=u.relatedTarget;c&&(c===this||8&c.compareDocumentPosition(this))||t.call(this,u)}}function qt(t,i,a){return function(u){var c=r.event;r.event=u;try{t.call(this,this.__data__,i,a)}finally{r.event=c}}}function jt(t){return function(){var i=this.__on;if(i){for(var a,u=0,c=-1,d=i.length;u<d;++u)a=i[u],t.type&&a.type!==t.type||a.name!==t.name?i[++c]=a:this.removeEventListener(a.type,a.listener,a.capture);++c?i.length=c:delete this.__on}}}function Vt(t,i,a){var u=yt.hasOwnProperty(t.type)?It:qt;return function(c,d,v){var m,_=this.__on,b=u(i,d,v);if(_)for(var S=0,P=_.length;S<P;++S)if((m=_[S]).type===t.type&&m.name===t.name)return this.removeEventListener(m.type,m.listener,m.capture),this.addEventListener(m.type,m.listener=b,m.capture=a),void(m.value=i);this.addEventListener(t.type,b,a),m={type:t.type,name:t.name,value:i,listener:b,capture:a},_?_.push(m):this.__on=[m]}}function ze(t,i,a,u){var c=r.event;t.sourceEvent=r.event,r.event=t;try{return i.apply(a,u)}finally{r.event=c}}function ge(t,i,a){var u=Me(t),c=u.CustomEvent;"function"==typeof c?c=new c(i,a):(c=u.document.createEvent("Event"),a?(c.initEvent(i,a.bubbles,a.cancelable),c.detail=a.detail):c.initEvent(i,!1,!1)),t.dispatchEvent(c)}r.event=null,typeof document<"u"&&("onmouseenter"in document.documentElement||(yt={mouseenter:"mouseover",mouseleave:"mouseout"}));var vn=[null];function He(t,i){this._groups=t,this._parents=i}function de(){return new He([[document.documentElement]],vn)}function me(t){return"string"==typeof t?new He([[document.querySelector(t)]],[document.documentElement]):new He([[t]],vn)}He.prototype=de.prototype={constructor:He,select:function(t){"function"!=typeof t&&(t=Zt(t));for(var i=this._groups,a=i.length,u=new Array(a),c=0;c<a;++c)for(var d,v,m=i[c],_=m.length,b=u[c]=new Array(_),S=0;S<_;++S)(d=m[S])&&(v=t.call(d,d.__data__,S,m))&&("__data__"in d&&(v.__data__=d.__data__),b[S]=v);return new He(u,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=$t(t));for(var i=this._groups,a=i.length,u=[],c=[],d=0;d<a;++d)for(var v,m=i[d],_=m.length,b=0;b<_;++b)(v=m[b])&&(u.push(t.call(v,v.__data__,b,m)),c.push(v));return new He(u,c)},filter:function(t){"function"!=typeof t&&(t=Yt(t));for(var i=this._groups,a=i.length,u=new Array(a),c=0;c<a;++c)for(var d,v=i[c],m=v.length,_=u[c]=[],b=0;b<m;++b)(d=v[b])&&t.call(d,d.__data__,b,v)&&_.push(d);return new He(u,this._parents)},data:function(t,i){if(!t)return I=new Array(this.size()),b=-1,this.each(function(st){I[++b]=st}),I;var st,a=i?nn:gn,u=this._parents,c=this._groups;"function"!=typeof t&&(st=t,t=function(){return st});for(var d=c.length,v=new Array(d),m=new Array(d),_=new Array(d),b=0;b<d;++b){var S=u[b],P=c[b],T=P.length,I=t.call(S,S&&S.__data__,b,u),O=I.length,H=m[b]=new Array(O),B=v[b]=new Array(O);a(S,P,H,B,_[b]=new Array(T),I,i);for(var z,U,q=0,Z=0;q<O;++q)if(z=H[q]){for(q>=Z&&(Z=q+1);!(U=B[Z])&&++Z<O;);z._next=U||null}}return(v=new He(v,u))._enter=m,v._exit=_,v},enter:function(){return new He(this._enter||this._groups.map(Bt),this._parents)},exit:function(){return new He(this._exit||this._groups.map(Bt),this._parents)},join:function(t,i,a){var u=this.enter(),c=this,d=this.exit();return u="function"==typeof t?t(u):u.append(t+""),null!=i&&(c=i(c)),null==a?d.remove():a(d),u&&c?u.merge(c).order():c},merge:function(t){for(var i=this._groups,a=t._groups,u=i.length,d=Math.min(u,a.length),v=new Array(u),m=0;m<d;++m)for(var _,b=i[m],S=a[m],P=b.length,T=v[m]=new Array(P),I=0;I<P;++I)(_=b[I]||S[I])&&(T[I]=_);for(;m<u;++m)v[m]=i[m];return new He(v,this._parents)},order:function(){for(var t=this._groups,i=-1,a=t.length;++i<a;)for(var u,c=t[i],d=c.length-1,v=c[d];--d>=0;)(u=c[d])&&(v&&4^u.compareDocumentPosition(v)&&v.parentNode.insertBefore(u,v),v=u);return this},sort:function(t){function i(P,T){return P&&T?t(P.__data__,T.__data__):!P-!T}t||(t=Pe);for(var a=this._groups,u=a.length,c=new Array(u),d=0;d<u;++d){for(var v,m=a[d],_=m.length,b=c[d]=new Array(_),S=0;S<_;++S)(v=m[S])&&(b[S]=v);b.sort(i)}return new He(c,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),i=-1;return this.each(function(){t[++i]=this}),t},node:function(){for(var t=this._groups,i=0,a=t.length;i<a;++i)for(var u=t[i],c=0,d=u.length;c<d;++c){var v=u[c];if(v)return v}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var i=this._groups,a=0,u=i.length;a<u;++a)for(var c,d=i[a],v=0,m=d.length;v<m;++v)(c=d[v])&&t.call(c,c.__data__,v,d);return this},attr:function(t,i){var a=At(t);if(arguments.length<2){var u=this.node();return a.local?u.getAttributeNS(a.space,a.local):u.getAttribute(a)}return this.each((null==i?a.local?function(c){return function(){this.removeAttributeNS(c.space,c.local)}}:function(c){return function(){this.removeAttribute(c)}}:"function"==typeof i?a.local?function(c,d){return function(){var v=d.apply(this,arguments);null==v?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,c.local,v)}}:function(c,d){return function(){var v=d.apply(this,arguments);null==v?this.removeAttribute(c):this.setAttribute(c,v)}}:a.local?function(c,d){return function(){this.setAttributeNS(c.space,c.local,d)}}:function(c,d){return function(){this.setAttribute(c,d)}})(a,i))},style:function(t,i,a){return arguments.length>1?this.each((null==i?function(u){return function(){this.style.removeProperty(u)}}:"function"==typeof i?function(u,c,d){return function(){var v=c.apply(this,arguments);null==v?this.style.removeProperty(u):this.style.setProperty(u,v,d)}}:function(u,c,d){return function(){this.style.setProperty(u,c,d)}})(t,i,a??"")):De(this.node(),t)},property:function(t,i){return arguments.length>1?this.each((null==i?function(a){return function(){delete this[a]}}:"function"==typeof i?function(a,u){return function(){var c=u.apply(this,arguments);null==c?delete this[a]:this[a]=c}}:function(a,u){return function(){this[a]=u}})(t,i)):this.node()[t]},classed:function(t,i){var a=Xt(t+"");if(arguments.length<2){for(var u=e(this.node()),c=-1,d=a.length;++c<d;)if(!u.contains(a[c]))return!1;return!0}return this.each(("function"==typeof i?function(v,m){return function(){(m.apply(this,arguments)?l:g)(this,v)}}:i?function(v){return function(){l(this,v)}}:function(v){return function(){g(this,v)}})(a,i))},text:function(t){return arguments.length?this.each(null==t?y:("function"==typeof t?function(i){return function(){var a=i.apply(this,arguments);this.textContent=a??""}}:function(i){return function(){this.textContent=i}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?A:("function"==typeof t?function(i){return function(){var a=i.apply(this,arguments);this.innerHTML=a??""}}:function(i){return function(){this.innerHTML=i}})(t)):this.node().innerHTML},raise:function(){return this.each(N)},lower:function(){return this.each(j)},append:function(t){var i="function"==typeof t?t:Ut(t);return this.select(function(){return this.appendChild(i.apply(this,arguments))})},insert:function(t,i){var a="function"==typeof t?t:Ut(t),u=null==i?X:"function"==typeof i?i:Zt(i);return this.select(function(){return this.insertBefore(a.apply(this,arguments),u.apply(this,arguments)||null)})},remove:function(){return this.each(ht)},clone:function(t){return this.select(t?ot:ut)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,i,a){var u,c,d=(t+"").trim().split(/^|\s+/).map(function(T){var I="",O=T.indexOf(".");return O>=0&&(I=T.slice(O+1),T=T.slice(0,O)),{type:T,name:I}}),v=d.length;if(!(arguments.length<2)){for(m=i?Vt:jt,null==a&&(a=!1),u=0;u<v;++u)this.each(m(d[u],i,a));return this}var m=this.node().__on;if(m)for(var _,b=0,S=m.length;b<S;++b)for(u=0,_=m[b];u<v;++u)if((c=d[u]).type===_.type&&c.name===_.name)return _.value},dispatch:function(t,i){return this.each(("function"==typeof i?function(a,u){return function(){return ge(this,a,u.apply(this,arguments))}}:function(a,u){return function(){return ge(this,a,u)}})(t,i))}};var dn=0;function Nn(){return new tn}function tn(){this._="@"+(++dn).toString(36)}function Ke(){for(var t,i=r.event;t=i.sourceEvent;)i=t;return i}function Ie(t,i){var a=t.ownerSVGElement||t;if(a.createSVGPoint){var u=a.createSVGPoint();return u.x=i.clientX,u.y=i.clientY,[(u=u.matrixTransform(t.getScreenCTM().inverse())).x,u.y]}var c=t.getBoundingClientRect();return[i.clientX-c.left-t.clientLeft,i.clientY-c.top-t.clientTop]}function sn(t){var i=Ke();return i.changedTouches&&(i=i.changedTouches[0]),Ie(t,i)}function je(t,i,a){arguments.length<3&&(a=i,i=Ke().changedTouches);for(var u,c=0,d=i?i.length:0;c<d;++c)if((u=i[c]).identifier===a)return Ie(t,u);return null}function Bn(){r.event.stopImmediatePropagation()}function In(){r.event.preventDefault(),r.event.stopImmediatePropagation()}function qn(t){var i=t.document.documentElement,a=me(t).on("dragstart.drag",In,!0);"onselectstart"in i?a.on("selectstart.drag",In,!0):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function Cn(t,i){var a=t.document.documentElement,u=me(t).on("dragstart.drag",null);i&&(u.on("click.drag",In,!0),setTimeout(function(){u.on("click.drag",null)},0)),"onselectstart"in a?u.on("selectstart.drag",null):(a.style.MozUserSelect=a.__noselect,delete a.__noselect)}function Mn(t){return function(){return t}}function or(t,i,a,u,c,d,v,m,_,b){this.target=t,this.type=i,this.subject=a,this.identifier=u,this.active=c,this.x=d,this.y=v,this.dx=m,this.dy=_,this._=b}function er(){return!r.event.ctrlKey&&!r.event.button}function Ci(){return this.parentNode}function oi(t){return t??{x:r.event.x,y:r.event.y}}function An(){return navigator.maxTouchPoints||"ontouchstart"in this}function Un(t,i,a){t.prototype=i.prototype=a,a.constructor=t}function Kn(t,i){var a=Object.create(t.prototype);for(var u in i)a[u]=i[u];return a}function Zn(){}tn.prototype=Nn.prototype={constructor:tn,get:function(t){for(var i=this._;!(i in t);)if(!(t=t.parentNode))return;return t[i]},set:function(t,i){return t[this._]=i},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},or.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var si="\\s*([+-]?\\d+)\\s*",Jn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ln="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ei=/^#([0-9a-f]{3,8})$/,nl=new RegExp("^rgb\\("+[si,si,si]+"\\)$"),no=new RegExp("^rgb\\("+[ln,ln,ln]+"\\)$"),ms=new RegExp("^rgba\\("+[si,si,si,Jn]+"\\)$"),Sa=new RegExp("^rgba\\("+[ln,ln,ln,Jn]+"\\)$"),vs=new RegExp("^hsl\\("+[Jn,ln,ln]+"\\)$"),ji=new RegExp("^hsla\\("+[Jn,ln,ln,Jn]+"\\)$"),io={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ir(){return this.rgb().formatHex()}function _s(){return this.rgb().formatRgb()}function sr(t){var i,a;return t=(t+"").trim().toLowerCase(),(i=ei.exec(t))?(a=i[1].length,i=parseInt(i[1],16),6===a?ur(i):3===a?new Vn(i>>8&15|i>>4&240,i>>4&15|240&i,(15&i)<<4|15&i,1):8===a?Ui(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):4===a?Ui(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|240&i,((15&i)<<4|15&i)/255):null):(i=nl.exec(t))?new Vn(i[1],i[2],i[3],1):(i=no.exec(t))?new Vn(255*i[1]/100,255*i[2]/100,255*i[3]/100,1):(i=ms.exec(t))?Ui(i[1],i[2],i[3],i[4]):(i=Sa.exec(t))?Ui(255*i[1]/100,255*i[2]/100,255*i[3]/100,i[4]):(i=vs.exec(t))?Ca(i[1],i[2]/100,i[3]/100,1):(i=ji.exec(t))?Ca(i[1],i[2]/100,i[3]/100,i[4]):io.hasOwnProperty(t)?ur(io[t]):"transparent"===t?new Vn(NaN,NaN,NaN,0):null}function ur(t){return new Vn(t>>16&255,t>>8&255,255&t,1)}function Ui(t,i,a,u){return u<=0&&(t=i=a=NaN),new Vn(t,i,a,u)}function na(t){return t instanceof Zn||(t=sr(t)),t?new Vn((t=t.rgb()).r,t.g,t.b,t.opacity):new Vn}function Nr(t,i,a,u){return 1===arguments.length?na(t):new Vn(t,i,a,u??1)}function Vn(t,i,a,u){this.r=+t,this.g=+i,this.b=+a,this.opacity=+u}function ro(){return"#"+Ta(this.r)+Ta(this.g)+Ta(this.b)}function Or(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ta(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ca(t,i,a,u){return u<=0?t=i=a=NaN:a<=0||a>=1?t=i=NaN:i<=0&&(t=NaN),new Ki(t,i,a,u)}function ys(t){if(t instanceof Ki)return new Ki(t.h,t.s,t.l,t.opacity);if(t instanceof Zn||(t=sr(t)),!t)return new Ki;if(t instanceof Ki)return t;var i=(t=t.rgb()).r/255,a=t.g/255,u=t.b/255,c=Math.min(i,a,u),d=Math.max(i,a,u),v=NaN,m=d-c,_=(d+c)/2;return m?(v=i===d?(a-u)/m+6*(a<u):a===d?(u-i)/m+2:(i-a)/m+4,m/=_<.5?d+c:2-d-c,v*=60):m=_>0&&_<1?0:v,new Ki(v,m,_,t.opacity)}function ia(t,i,a,u){return 1===arguments.length?ys(t):new Ki(t,i,a,u??1)}function Ki(t,i,a,u){this.h=+t,this.s=+i,this.l=+a,this.opacity=+u}function ao(t,i,a){return 255*(t<60?i+(a-i)*t/60:t<180?a:t<240?i+(a-i)*(240-t)/60:i)}Un(Zn,sr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ir,formatHex:Ir,formatHsl:function(){return ys(this).formatHsl()},formatRgb:_s,toString:_s}),Un(Vn,Nr,Kn(Zn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ro,formatHex:ro,formatRgb:Or,toString:Or})),Un(Ki,ia,Kn(Zn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ki(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ki(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),i=isNaN(t)||isNaN(this.s)?0:this.s,a=this.l,u=a+(a<.5?a:1-a)*i,c=2*a-u;return new Vn(ao(t>=240?t-240:t+120,c,u),ao(t,c,u),ao(t<120?t+240:t-120,c,u),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Aa=Math.PI/180,bs=180/Math.PI,Ts=4/29,Rr=6/29,oo=3*Rr*Rr;function uo(t){if(t instanceof Oi)return new Oi(t.l,t.a,t.b,t.opacity);if(t instanceof Ri)return Cs(t);t instanceof Vn||(t=na(t));var i,a,u=gr(t.r),c=gr(t.g),d=gr(t.b),v=ka((.2225045*u+.7168786*c+.0606169*d)/1);return u===c&&c===d?i=a=v:(i=ka((.4360747*u+.3850649*c+.1430804*d)/.96422),a=ka((.0139322*u+.0971045*c+.7141733*d)/.82521)),new Oi(116*v-16,500*(i-v),200*(v-a),t.opacity)}function zr(t,i,a,u){return 1===arguments.length?uo(t):new Oi(t,i,a,u??1)}function Oi(t,i,a,u){this.l=+t,this.a=+i,this.b=+a,this.opacity=+u}function ka(t){return t>.008856451679035631?Math.pow(t,1/3):t/oo+Ts}function ra(t){return t>Rr?t*t*t:oo*(t-Ts)}function lo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function gr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function co(t){if(t instanceof Ri)return new Ri(t.h,t.c,t.l,t.opacity);if(t instanceof Oi||(t=uo(t)),0===t.a&&0===t.b)return new Ri(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var i=Math.atan2(t.b,t.a)*bs;return new Ri(i<0?i+360:i,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function aa(t,i,a,u){return 1===arguments.length?co(t):new Ri(t,i,a,u??1)}function Ri(t,i,a,u){this.h=+t,this.c=+i,this.l=+a,this.opacity=+u}function Cs(t){if(isNaN(t.h))return new Oi(t.l,0,0,t.opacity);var i=t.h*Aa;return new Oi(t.l,Math.cos(i)*t.c,Math.sin(i)*t.c,t.opacity)}Un(Oi,zr,Kn(Zn,{brighter:function(t){return new Oi(this.l+18*(t??1),this.a,this.b,this.opacity)},darker:function(t){return new Oi(this.l-18*(t??1),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,i=isNaN(this.a)?t:t+this.a/500,a=isNaN(this.b)?t:t-this.b/200;return new Vn(lo(3.1338561*(i=.96422*ra(i))-1.6168667*(t=1*ra(t))-.4906146*(a=.82521*ra(a))),lo(-.9787684*i+1.9161415*t+.033454*a),lo(.0719453*i-.2289914*t+1.4052427*a),this.opacity)}})),Un(Ri,aa,Kn(Zn,{brighter:function(t){return new Ri(this.h,this.c,this.l+18*(t??1),this.opacity)},darker:function(t){return new Ri(this.h,this.c,this.l-18*(t??1),this.opacity)},rgb:function(){return Cs(this).rgb()}}));var ho=1.78277,p=-.29227,x=-.90649,k=1.97294,D=k*x,R=k*ho,W=ho*p- -.14861*x;function Y(t,i,a,u){return 1===arguments.length?function(c){if(c instanceof it)return new it(c.h,c.s,c.l,c.opacity);c instanceof Vn||(c=na(c));var v=c.g/255,m=c.b/255,_=(W*m+D*(c.r/255)-R*v)/(W+D-R),b=m-_,S=(k*(v-_)-p*b)/x,P=Math.sqrt(S*S+b*b)/(k*_*(1-_)),T=P?Math.atan2(S,b)*bs-120:NaN;return new it(T<0?T+360:T,P,_,c.opacity)}(t):new it(t,i,a,u??1)}function it(t,i,a,u){this.h=+t,this.s=+i,this.l=+a,this.opacity=+u}function lt(t,i,a,u,c){var d=t*t,v=d*t;return((1-3*t+3*d-v)*i+(4-6*d+3*v)*a+(1+3*t+3*d-3*v)*u+v*c)/6}function _t(t){var i=t.length-1;return function(a){var u=a<=0?a=0:a>=1?(a=1,i-1):Math.floor(a*i),c=t[u],d=t[u+1];return lt((a-u/i)*i,u>0?t[u-1]:2*c-d,c,d,u<i-1?t[u+2]:2*d-c)}}function Lt(t){var i=t.length;return function(a){var u=Math.floor(((a%=1)<0?++a:a)*i);return lt((a-u/i)*i,t[(u+i-1)%i],t[u%i],t[(u+1)%i],t[(u+2)%i])}}function zt(t){return function(){return t}}function Pt(t,i){return function(a){return t+a*i}}function Et(t,i){var a=i-t;return a?Pt(t,a>180||a<-180?a-360*Math.round(a/360):a):zt(isNaN(t)?i:t)}function te(t,i){var a=i-t;return a?Pt(t,a):zt(isNaN(t)?i:t)}Un(it,Y,Kn(Zn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new it(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new it(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Aa,i=+this.l,a=isNaN(this.s)?0:this.s*i*(1-i),u=Math.cos(t),c=Math.sin(t);return new Vn(255*(i+a*(-.14861*u+ho*c)),255*(i+a*(p*u+x*c)),255*(i+a*(k*u)),this.opacity)}}));var ae=function t(i){var a=function ie(t){return 1==(t=+t)?te:function(i,a){return a-i?(u=i,c=a,d=t,u=Math.pow(u,d),c=Math.pow(c,d)-u,d=1/d,function(v){return Math.pow(u+v*c,d)}):zt(isNaN(i)?a:i);var u,c,d}}(i);function u(c,d){var v=a((c=Nr(c)).r,(d=Nr(d)).r),m=a(c.g,d.g),_=a(c.b,d.b),b=te(c.opacity,d.opacity);return function(S){return c.r=v(S),c.g=m(S),c.b=_(S),c.opacity=b(S),c+""}}return u.gamma=t,u}(1);function Dn(t){return function(i){var a,u,c=i.length,d=new Array(c),v=new Array(c),m=new Array(c);for(a=0;a<c;++a)u=Nr(i[a]),d[a]=u.r||0,v[a]=u.g||0,m[a]=u.b||0;return d=t(d),v=t(v),m=t(m),u.opacity=1,function(_){return u.r=d(_),u.g=v(_),u.b=m(_),u+""}}}var jn=Dn(_t),Ai=Dn(Lt);function fn(t,i){i||(i=[]);var a,u=t?Math.min(i.length,t.length):0,c=i.slice();return function(d){for(a=0;a<u;++a)c[a]=t[a]*(1-d)+i[a]*d;return c}}function Fe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hi(t,i){var a,u=i?i.length:0,c=t?Math.min(u,t.length):0,d=new Array(c),v=new Array(u);for(a=0;a<c;++a)d[a]=$i(t[a],i[a]);for(;a<u;++a)v[a]=i[a];return function(m){for(a=0;a<c;++a)v[a]=d[a](m);return v}}function rn(t,i){var a=new Date;return t=+t,i=+i,function(u){return a.setTime(t*(1-u)+i*u),a}}function an(t,i){return t=+t,i=+i,function(a){return t*(1-a)+i*a}}function Fr(t,i){var a,u={},c={};for(a in null!==t&&"object"==typeof t||(t={}),null!==i&&"object"==typeof i||(i={}),i)a in t?u[a]=$i(t[a],i[a]):c[a]=i[a];return function(d){for(a in u)c[a]=u[a](d);return c}}var Hr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,di=new RegExp(Hr.source,"g");function nr(t,i){var a,u,c,b,d=Hr.lastIndex=di.lastIndex=0,v=-1,m=[],_=[];for(t+="",i+="";(a=Hr.exec(t))&&(u=di.exec(i));)(c=u.index)>d&&(c=i.slice(d,c),m[v]?m[v]+=c:m[++v]=c),(a=a[0])===(u=u[0])?m[v]?m[v]+=u:m[++v]=u:(m[++v]=null,_.push({i:v,x:an(a,u)})),d=di.lastIndex;return d<i.length&&(c=i.slice(d),m[v]?m[v]+=c:m[++v]=c),m.length<2?_[0]?(b=_[0].x,function(S){return b(S)+""}):function(b){return function(){return b}}(i):(i=_.length,function(b){for(var S,P=0;P<i;++P)m[(S=_[P]).i]=S.x(b);return m.join("")})}function $i(t,i){var a,u=typeof i;return null==i||"boolean"===u?zt(i):("number"===u?an:"string"===u?(a=sr(i))?(i=a,ae):nr:i instanceof sr?ae:i instanceof Date?rn:Fe(i)?fn:Array.isArray(i)?hi:"function"!=typeof i.valueOf&&"function"!=typeof i.toString||isNaN(i)?Fr:an)(t,i)}function fi(t,i){return t=+t,i=+i,function(a){return Math.round(t*(1-a)+i*a)}}var Qi,_i,En,ui,yi=180/Math.PI,zi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ge(t,i,a,u,c,d){var v,m,_;return(v=Math.sqrt(t*t+i*i))&&(t/=v,i/=v),(_=t*a+i*u)&&(a-=t*_,u-=i*_),(m=Math.sqrt(a*a+u*u))&&(a/=m,u/=m,_/=m),t*u<i*a&&(t=-t,i=-i,_=-_,v=-v),{translateX:c,translateY:d,rotate:Math.atan2(i,t)*yi,skewX:Math.atan(_)*yi,scaleX:v,scaleY:m}}function cn(t,i,a,u){function c(d){return d.length?d.pop()+" ":""}return function(d,v){var b,S,P,m=[],_=[];return d=t(d),v=t(v),function(b,S,P,T,I,O){if(b!==P||S!==T){var H=I.push("translate(",null,i,null,a);O.push({i:H-4,x:an(b,P)},{i:H-2,x:an(S,T)})}else(P||T)&&I.push("translate("+P+i+T+a)}(d.translateX,d.translateY,v.translateX,v.translateY,m,_),P=m,(b=d.rotate)!==(S=v.rotate)?(b-S>180?S+=360:S-b>180&&(b+=360),_.push({i:P.push(c(P)+"rotate(",null,u)-2,x:an(b,S)})):S&&P.push(c(P)+"rotate("+S+u),function(b,S,P,T){b!==S?T.push({i:P.push(c(P)+"skewX(",null,u)-2,x:an(b,S)}):S&&P.push(c(P)+"skewX("+S+u)}(d.skewX,v.skewX,m,_),function(b,S,P,T,I,O){if(b!==P||S!==T){var H=I.push(c(I)+"scale(",null,",",null,")");O.push({i:H-4,x:an(b,P)},{i:H-2,x:an(S,T)})}else 1===P&&1===T||I.push(c(I)+"scale("+P+","+T+")")}(d.scaleX,d.scaleY,v.scaleX,v.scaleY,m,_),d=v=null,function(b){for(var S,P=-1,T=_.length;++P<T;)m[(S=_[P]).i]=S.x(b);return m.join("")}}}var Wn=cn(function(t){return"none"===t?zi:(Qi||(Qi=document.createElement("DIV"),_i=document.documentElement,En=document.defaultView),Qi.style.transform=t,t=En.getComputedStyle(_i.appendChild(Qi),null).getPropertyValue("transform"),_i.removeChild(Qi),Ge(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),bi=cn(function(t){return null==t?zi:(ui||(ui=document.createElementNS("http://www.w3.org/2000/svg","g")),ui.setAttribute("transform",t),(t=ui.transform.baseVal.consolidate())?Ge((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):zi)},", ",")",")"),Ln=Math.SQRT2;function ks(t){return((t=Math.exp(t))+1/t)/2}function Ps(t,i){var a,u,c=t[0],d=t[1],v=t[2],b=i[2],S=i[0]-c,P=i[1]-d,T=S*S+P*P;if(T<1e-12)u=Math.log(b/v)/Ln,a=function(U){return[c+U*S,d+U*P,v*Math.exp(Ln*U*u)]};else{var I=Math.sqrt(T),O=(b*b-v*v+4*T)/(2*v*2*I),H=(b*b-v*v-4*T)/(2*b*2*I),B=Math.log(Math.sqrt(O*O+1)-O),z=Math.log(Math.sqrt(H*H+1)-H);u=(z-B)/Ln,a=function(U){var ft,q=U*u,Z=ks(B),st=v/(2*I)*(Z*(ft=Ln*q+B,((ft=Math.exp(2*ft))-1)/(ft+1))-function(ft){return((ft=Math.exp(ft))-1/ft)/2}(B));return[c+st*S,d+st*P,v*Z/ks(Ln*q+B)]}}return a.duration=1e3*u,a}function Ms(t){return function(i,a){var u=t((i=ia(i)).h,(a=ia(a)).h),c=te(i.s,a.s),d=te(i.l,a.l),v=te(i.opacity,a.opacity);return function(m){return i.h=u(m),i.s=c(m),i.l=d(m),i.opacity=v(m),i+""}}}var Ma=Ms(Et),il=Ms(te);function Ds(t){return function(i,a){var u=t((i=aa(i)).h,(a=aa(a)).h),c=te(i.c,a.c),d=te(i.l,a.l),v=te(i.opacity,a.opacity);return function(m){return i.h=u(m),i.c=c(m),i.l=d(m),i.opacity=v(m),i+""}}}var rl=Ds(Et),oa=Ds(te);function Es(t){return function i(a){function u(c,d){var v=t((c=Y(c)).h,(d=Y(d)).h),m=te(c.s,d.s),_=te(c.l,d.l),b=te(c.opacity,d.opacity);return function(S){return c.h=v(S),c.s=m(S),c.l=_(Math.pow(S,a)),c.opacity=b(S),c+""}}return a=+a,u.gamma=i,u}(1)}var Hi,Gr,fo=Es(Et),Fi=Es(te),vr=0,Br=0,sa=0,_r=0,ni=0,xi=0,yr="object"==typeof performance&&performance.now?performance:Date,po="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function jr(){return ni||(po(al),ni=yr.now()+xi)}function al(){ni=0}function Wr(){this._call=this._time=this._next=null}function Zi(t,i,a){var u=new Wr;return u.restart(t,i,a),u}function Da(){jr(),++vr;for(var t,i=Hi;i;)(t=ni-i._time)>=0&&i._call.call(null,t),i=i._next;--vr}function go(){ni=(_r=yr.now())+xi,vr=Br=0;try{Da()}finally{vr=0,function(){for(var t,i,a=Hi,u=1/0;a;)a._call?(u>a._time&&(u=a._time),t=a,a=a._next):(i=a._next,a._next=null,a=t?t._next=i:Hi=i);Gr=t,Yr(u)}(),ni=0}}function Ea(){var t=yr.now(),i=t-_r;i>1e3&&(xi-=i,_r=t)}function Yr(t){vr||(Br&&(Br=clearTimeout(Br)),t-ni>24?(t<1/0&&(Br=setTimeout(go,t-yr.now()-xi)),sa&&(sa=clearInterval(sa))):(sa||(_r=yr.now(),sa=setInterval(Ea,1e3)),vr=1,po(go)))}function ua(t,i,a){var u=new Wr;return u.restart(function(c){u.stop(),t(c+i)},i=null==i?0:+i,a),u}Wr.prototype=Zi.prototype={constructor:Wr,restart:function(t,i,a){if("function"!=typeof t)throw new TypeError("callback is not a function");a=(null==a?jr():+a)+(null==i?0:+i),this._next||Gr===this||(Gr?Gr._next=this:Hi=this,Gr=this),this._call=t,this._time=a,Yr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yr())}};var La=J("start","end","cancel","interrupt"),mo=[];function Wt(t,i,a,u,c,d){var v=t.__transition;if(v){if(a in v)return}else t.__transition={};!function(m,_,b){var S,P=m.__transition;function T(H){var B,z,U,q;if(1!==b.state)return O();for(B in P)if((q=P[B]).name===b.name){if(3===q.state)return ua(T);4===q.state?(q.state=6,q.timer.stop(),q.on.call("interrupt",m,m.__data__,q.index,q.group),delete P[B]):+B<_&&(q.state=6,q.timer.stop(),q.on.call("cancel",m,m.__data__,q.index,q.group),delete P[B])}if(ua(function(){3===b.state&&(b.state=4,b.timer.restart(I,b.delay,b.time),I(H))}),b.state=2,b.on.call("start",m,m.__data__,b.index,b.group),2===b.state){for(b.state=3,S=new Array(U=b.tween.length),B=0,z=-1;B<U;++B)(q=b.tween[B].value.call(m,m.__data__,b.index,b.group))&&(S[++z]=q);S.length=z+1}}function I(H){for(var B=H<b.duration?b.ease.call(null,H/b.duration):(b.timer.restart(O),b.state=5,1),z=-1,U=S.length;++z<U;)S[z].call(m,B);5===b.state&&(b.on.call("end",m,m.__data__,b.index,b.group),O())}function O(){for(var H in b.state=6,b.timer.stop(),delete P[_],P)return;delete m.__transition}P[_]=b,b.timer=Zi(function(H){b.state=1,b.timer.restart(T,b.delay,b.time),b.delay<=H&&T(H-b.delay)},0,b.time)}(t,a,{name:i,index:u,group:c,on:La,tween:mo,time:d.time,delay:d.delay,duration:d.duration,ease:d.ease,timer:null,state:0})}function Kt(t,i){var a=xe(t,i);if(a.state>0)throw new Error("too late; already scheduled");return a}function Jt(t,i){var a=xe(t,i);if(a.state>3)throw new Error("too late; already running");return a}function xe(t,i){var a=t.__transition;if(!a||!(a=a[i]))throw new Error("transition not found");return a}function we(t,i){var a,u,c,d=t.__transition,v=!0;if(d){for(c in i=null==i?null:i+"",d)(a=d[c]).name===i?(u=a.state>2&&a.state<5,a.state=6,a.timer.stop(),a.on.call(u?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete d[c]):v=!1;v&&delete t.__transition}}function Ee(t,i,a){var u=t._id;return t.each(function(){var c=Jt(this,u);(c.value||(c.value={}))[i]=a.apply(this,arguments)}),function(c){return xe(c,u).value[i]}}function Ze(t,i){var a;return("number"==typeof i?an:i instanceof sr?ae:(a=sr(i))?(i=a,ae):nr)(t,i)}var zn=de.prototype.constructor;function Be(t){return function(){this.style.removeProperty(t)}}var $n=0;function wn(t,i,a,u){this._groups=t,this._parents=i,this._name=a,this._id=u}function li(t){return de().transition(t)}function yn(){return++$n}var gi=de.prototype;function ii(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function On(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}wn.prototype=li.prototype={constructor:wn,select:function(t){var i=this._name,a=this._id;"function"!=typeof t&&(t=Zt(t));for(var u=this._groups,c=u.length,d=new Array(c),v=0;v<c;++v)for(var m,_,b=u[v],S=b.length,P=d[v]=new Array(S),T=0;T<S;++T)(m=b[T])&&(_=t.call(m,m.__data__,T,b))&&("__data__"in m&&(_.__data__=m.__data__),P[T]=_,Wt(P[T],i,a,T,P,xe(m,a)));return new wn(d,this._parents,i,a)},selectAll:function(t){var i=this._name,a=this._id;"function"!=typeof t&&(t=$t(t));for(var u=this._groups,c=u.length,d=[],v=[],m=0;m<c;++m)for(var _,b=u[m],S=b.length,P=0;P<S;++P)if(_=b[P]){for(var T,I=t.call(_,_.__data__,P,b),O=xe(_,a),H=0,B=I.length;H<B;++H)(T=I[H])&&Wt(T,i,a,H,I,O);d.push(I),v.push(_)}return new wn(d,v,i,a)},filter:function(t){"function"!=typeof t&&(t=Yt(t));for(var i=this._groups,a=i.length,u=new Array(a),c=0;c<a;++c)for(var d,v=i[c],m=v.length,_=u[c]=[],b=0;b<m;++b)(d=v[b])&&t.call(d,d.__data__,b,v)&&_.push(d);return new wn(u,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var i=this._groups,a=t._groups,u=i.length,d=Math.min(u,a.length),v=new Array(u),m=0;m<d;++m)for(var _,b=i[m],S=a[m],P=b.length,T=v[m]=new Array(P),I=0;I<P;++I)(_=b[I]||S[I])&&(T[I]=_);for(;m<u;++m)v[m]=i[m];return new wn(v,this._parents,this._name,this._id)},selection:function(){return new zn(this._groups,this._parents)},transition:function(){for(var t=this._name,i=this._id,a=yn(),u=this._groups,c=u.length,d=0;d<c;++d)for(var v,m=u[d],_=m.length,b=0;b<_;++b)if(v=m[b]){var S=xe(v,i);Wt(v,t,a,b,m,{time:S.time+S.delay+S.duration,delay:0,duration:S.duration,ease:S.ease})}return new wn(u,this._parents,t,a)},call:gi.call,nodes:gi.nodes,node:gi.node,size:gi.size,empty:gi.empty,each:gi.each,on:function(t,i){var u,c,d,v,m,_,a=this._id;return arguments.length<2?xe(this.node(),a).on.on(t):this.each((u=a,d=i,_=((c=t)+"").trim().split(/^|\s+/).every(function(S){var P=S.indexOf(".");return P>=0&&(S=S.slice(0,P)),!S||"start"===S})?Kt:Jt,function(){var b=_(this,u),S=b.on;S!==v&&(m=(v=S).copy()).on(c,d),b.on=m}))},attr:function(t,i){var a=At(t),u="transform"===a?bi:Ze;return this.attrTween(t,"function"==typeof i?(a.local?function(c,d,v){var m,_,b;return function(){var S,P,T=v(this);if(null!=T)return(S=this.getAttributeNS(c.space,c.local))===(P=T+"")?null:S===m&&P===_?b:(_=P,b=d(m=S,T));this.removeAttributeNS(c.space,c.local)}}:function(c,d,v){var m,_,b;return function(){var S,P,T=v(this);if(null!=T)return(S=this.getAttribute(c))===(P=T+"")?null:S===m&&P===_?b:(_=P,b=d(m=S,T));this.removeAttribute(c)}})(a,u,Ee(this,"attr."+t,i)):null==i?(a.local?function(c){return function(){this.removeAttributeNS(c.space,c.local)}}:function(c){return function(){this.removeAttribute(c)}})(a):(a.local?function(c,d,v){var m,_,b=v+"";return function(){var S=this.getAttributeNS(c.space,c.local);return S===b?null:S===m?_:_=d(m=S,v)}}:function(c,d,v){var m,_,b=v+"";return function(){var S=this.getAttribute(c);return S===b?null:S===m?_:_=d(m=S,v)}})(a,u,i))},attrTween:function(t,i){var a="attr."+t;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==i)return this.tween(a,null);if("function"!=typeof i)throw new Error;var u=At(t);return this.tween(a,(u.local?function(c,d){var v,m;function _(){var S,P,b=d.apply(this,arguments);return b!==m&&(v=(m=b)&&(S=c,P=b,function(T){this.setAttributeNS(S.space,S.local,P.call(this,T))})),v}return _._value=d,_}:function(c,d){var v,m;function _(){var S,P,b=d.apply(this,arguments);return b!==m&&(v=(m=b)&&(S=c,P=b,function(T){this.setAttribute(S,P.call(this,T))})),v}return _._value=d,_})(u,i))},style:function(t,i,a){var c,d,v,m,_,u="transform"==(t+="")?Wn:Ze;return null==i?this.styleTween(t,(c=t,d=u,function(){var b=De(this,c),S=(this.style.removeProperty(c),De(this,c));return b===S?null:b===v&&S===m?_:_=d(v=b,m=S)})).on("end.style."+t,Be(t)):"function"==typeof i?this.styleTween(t,function(c,d,v){var m,_,b;return function(){var S=De(this,c),P=v(this),T=P+"";return null==P&&(this.style.removeProperty(c),T=P=De(this,c)),S===T?null:S===m&&T===_?b:(_=T,b=d(m=S,P))}}(t,u,Ee(this,"style."+t,i))).each(function(c,d){var v,m,_,b,S="style."+d,P="end."+S;return function(){var T=Jt(this,c),I=T.on,O=null==T.value[S]?b||(b=Be(d)):void 0;I===v&&_===O||(m=(v=I).copy()).on(P,_=O),T.on=m}}(this._id,t)):this.styleTween(t,function(c,d,v){var m,_,b=v+"";return function(){var S=De(this,c);return S===b?null:S===m?_:_=d(m=S,v)}}(t,u,i),a).on("end.style."+t,null)},styleTween:function(t,i,a){var u="style."+(t+="");if(arguments.length<2)return(u=this.tween(u))&&u._value;if(null==i)return this.tween(u,null);if("function"!=typeof i)throw new Error;return this.tween(u,function(c,d,v){var m,_;function b(){var P,T,I,S=d.apply(this,arguments);return S!==_&&(m=(_=S)&&(P=c,T=S,I=v,function(O){this.style.setProperty(P,T.call(this,O),I)})),m}return b._value=d,b}(t,i,a??""))},text:function(t){return this.tween("text","function"==typeof t?(i=Ee(this,"text",t),function(){var a=i(this);this.textContent=a??""}):function(i){return function(){this.textContent=i}}(null==t?"":t+""));var i},textTween:function(t){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,function(a){var u,c;function d(){var m,v=a.apply(this,arguments);return v!==c&&(u=(c=v)&&(m=v,function(_){this.textContent=m.call(this,_)})),u}return d._value=a,d}(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var i=this.parentNode;for(var a in this.__transition)if(+a!==t)return;i&&i.removeChild(this)}));var t},tween:function(t,i){var a=this._id;if(t+="",arguments.length<2){for(var u,c=xe(this.node(),a).tween,d=0,v=c.length;d<v;++d)if((u=c[d]).name===t)return u.value;return null}return this.each((null==i?function(m,_){var b,S;return function(){var P=Jt(this,m),T=P.tween;if(T!==b)for(var I=0,O=(S=b=T).length;I<O;++I)if(S[I].name===_){(S=S.slice()).splice(I,1);break}P.tween=S}}:function(m,_,b){var S,P;if("function"!=typeof b)throw new Error;return function(){var T=Jt(this,m),I=T.tween;if(I!==S){P=(S=I).slice();for(var O={name:_,value:b},H=0,B=P.length;H<B;++H)if(P[H].name===_){P[H]=O;break}H===B&&P.push(O)}T.tween=P}})(a,t,i))},delay:function(t){var i=this._id;return arguments.length?this.each(("function"==typeof t?function(a,u){return function(){Kt(this,a).delay=+u.apply(this,arguments)}}:function(a,u){return u=+u,function(){Kt(this,a).delay=u}})(i,t)):xe(this.node(),i).delay},duration:function(t){var i=this._id;return arguments.length?this.each(("function"==typeof t?function(a,u){return function(){Jt(this,a).duration=+u.apply(this,arguments)}}:function(a,u){return u=+u,function(){Jt(this,a).duration=u}})(i,t)):xe(this.node(),i).duration},ease:function(t){var i=this._id;return arguments.length?this.each(function(a,u){if("function"!=typeof u)throw new Error;return function(){Jt(this,a).ease=u}}(i,t)):xe(this.node(),i).ease},end:function(){var t,i,a=this,u=a._id,c=a.size();return new Promise(function(d,v){var m={value:v},_={value:function(){0==--c&&d()}};a.each(function(){var b=Jt(this,u),S=b.on;S!==t&&((i=(t=S).copy())._.cancel.push(m),i._.interrupt.push(m),i._.end.push(_)),b.on=i})})}};var Wi=function t(i){function a(u){return Math.pow(u,i)}return i=+i,a.exponent=t,a}(3),Na=function t(i){function a(u){return 1-Math.pow(1-u,i)}return i=+i,a.exponent=t,a}(3),vo=function t(i){function a(u){return((u*=2)<=1?Math.pow(u,i):2-Math.pow(2-u,i))/2}return i=+i,a.exponent=t,a}(3),_o=Math.PI,Ls=_o/2;function ch(t){return(1-Math.cos(_o*t))/2}function hh(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function dh(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Is=7.5625;function yo(t){return(t=+t)<.36363636363636365?Is*t*t:t<.7272727272727273?Is*(t-=.5454545454545454)*t+.75:t<.9090909090909091?Is*(t-=.8181818181818182)*t+.9375:Is*(t-=.9545454545454546)*t+.984375}var Gg=function t(i){function a(u){return u*u*((i+1)*u-i)}return i=+i,a.overshoot=t,a}(1.70158),Bg=function t(i){function a(u){return--u*u*((i+1)*u+i)+1}return i=+i,a.overshoot=t,a}(1.70158),fh=function t(i){function a(u){return((u*=2)<1?u*u*((i+1)*u-i):(u-=2)*u*((i+1)*u+i)+2)/2}return i=+i,a.overshoot=t,a}(1.70158),Oa=2*Math.PI,jg=function t(i,a){var u=Math.asin(1/(i=Math.max(1,i)))*(a/=Oa);function c(d){return i*Math.pow(2,10*--d)*Math.sin((u-d)/a)}return c.amplitude=function(d){return t(d,a*Oa)},c.period=function(d){return t(i,d)},c}(1,.3),ph=function t(i,a){var u=Math.asin(1/(i=Math.max(1,i)))*(a/=Oa);function c(d){return 1-i*Math.pow(2,-10*(d=+d))*Math.sin((d+u)/a)}return c.amplitude=function(d){return t(d,a*Oa)},c.period=function(d){return t(i,d)},c}(1,.3),Wg=function t(i,a){var u=Math.asin(1/(i=Math.max(1,i)))*(a/=Oa);function c(d){return((d=2*d-1)<0?i*Math.pow(2,10*d)*Math.sin((u-d)/a):2-i*Math.pow(2,-10*d)*Math.sin((u+d)/a))/2}return c.amplitude=function(d){return t(d,a*Oa)},c.period=function(d){return t(i,d)},c}(1,.3),sl={time:null,delay:0,duration:250,ease:On};function Yg(t,i){for(var a;!(a=t.__transition)||!(a=a[i]);)if(!(t=t.parentNode))return sl.time=jr(),sl;return a}de.prototype.interrupt=function(t){return this.each(function(){we(this,t)})},de.prototype.transition=function(t){var i,a;t instanceof wn?(i=t._id,t=t._name):(i=yn(),(a=sl).time=jr(),t=null==t?null:t+"");for(var u=this._groups,c=u.length,d=0;d<c;++d)for(var v,m=u[d],_=m.length,b=0;b<_;++b)(v=m[b])&&Wt(v,t,i,b,m,a||Yg(v,i));return new wn(u,this._parents,t,i)};var Xg=[null];function ul(t){return function(){return t}}function qg(t,i,a){this.target=t,this.type=i,this.selection=a}function gh(){r.event.stopImmediatePropagation()}function ll(){r.event.preventDefault(),r.event.stopImmediatePropagation()}var mh={name:"drag"},cl={name:"space"},Ra={name:"handle"},za={name:"center"};function vh(t){return[+t[0],+t[1]]}function hl(t){return[vh(t[0]),vh(t[1])]}var Ns={name:"x",handles:["w","e"].map(bo),input:function(t,i){return null==t?null:[[+t[0],i[0][1]],[+t[1],i[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Os={name:"y",handles:["n","s"].map(bo),input:function(t,i){return null==t?null:[[i[0][0],+t[0]],[i[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ug={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(bo),input:function(t){return null==t?null:hl(t)},output:function(t){return t}},br={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_h={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},yh={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Kg={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},$g={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function bo(t){return{type:t}}function Qg(){return!r.event.ctrlKey&&!r.event.button}function Zg(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Jg(){return navigator.maxTouchPoints||"ontouchstart"in this}function dl(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function fl(t){var i,a=Zg,u=Qg,c=Jg,d=!0,v=J("start","brush","end"),m=6;function _(B){var z=B.property("__brush",H).selectAll(".overlay").data([bo("overlay")]);z.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",br.overlay).merge(z).each(function(){var q=dl(this).extent;me(this).attr("x",q[0][0]).attr("y",q[0][1]).attr("width",q[1][0]-q[0][0]).attr("height",q[1][1]-q[0][1])}),B.selectAll(".selection").data([bo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",br.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var U=B.selectAll(".handle").data(t.handles,function(q){return q.type});U.exit().remove(),U.enter().append("rect").attr("class",function(q){return"handle handle--"+q.type}).attr("cursor",function(q){return br[q.type]}),B.each(b).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",T).filter(c).on("touchstart.brush",T).on("touchmove.brush",I).on("touchend.brush touchcancel.brush",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(){var B=me(this),z=dl(this).selection;z?(B.selectAll(".selection").style("display",null).attr("x",z[0][0]).attr("y",z[0][1]).attr("width",z[1][0]-z[0][0]).attr("height",z[1][1]-z[0][1]),B.selectAll(".handle").style("display",null).attr("x",function(U){return"e"===U.type[U.type.length-1]?z[1][0]-m/2:z[0][0]-m/2}).attr("y",function(U){return"s"===U.type[0]?z[1][1]-m/2:z[0][1]-m/2}).attr("width",function(U){return"n"===U.type||"s"===U.type?z[1][0]-z[0][0]+m:m}).attr("height",function(U){return"e"===U.type||"w"===U.type?z[1][1]-z[0][1]+m:m})):B.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function S(B,z,U){return!U&&B.__brush.emitter||new P(B,z)}function P(B,z){this.that=B,this.args=z,this.state=B.__brush,this.active=0}function T(){if((!i||r.event.touches)&&u.apply(this,arguments)){var B,z,U,q,Z,st,ft,bt,Ot,ct,kt,xt,K=this,vt=r.event.target.__data__.type,pt="selection"===(d&&r.event.metaKey?vt="overlay":vt)?mh:d&&r.event.altKey?za:Ra,St=t===Os?null:Kg[vt],Nt=t===Ns?null:$g[vt],Qt=dl(K),Te=Qt.extent,Ce=Qt.selection,Xe=Te[0][0],ne=Te[0][1],Ve=Te[1][0],en=Te[1][1],fe=0,Ne=0,Gn=St&&Nt&&d&&r.event.shiftKey,vi=r.event.touches?(xt=r.event.changedTouches[0].identifier,function(Qn){return je(Qn,r.event.touches,xt)}):sn,Dr=vi(K),ta=Dr,ea=S(K,arguments,!0).beforestart();"overlay"===vt?(Ce&&(Ot=!0),Qt.selection=Ce=[[B=t===Os?Xe:Dr[0],U=t===Ns?ne:Dr[1]],[Z=t===Os?Ve:B,ft=t===Ns?en:U]]):(B=Ce[0][0],U=Ce[0][1],Z=Ce[1][0],ft=Ce[1][1]),z=B,q=U,st=Z,bt=ft;var pr=me(K).attr("pointer-events","none"),Er=pr.selectAll(".overlay").attr("cursor",br[vt]);if(r.event.touches)ea.moved=el,ea.ended=ps;else{var tl=me(r.event.view).on("mousemove.brush",el,!0).on("mouseup.brush",ps,!0);d&&tl.on("keydown.brush",function(){switch(r.event.keyCode){case 16:Gn=St&&Nt;break;case 18:pt===Ra&&(St&&(Z=st-fe*St,B=z+fe*St),Nt&&(ft=bt-Ne*Nt,U=q+Ne*Nt),pt=za,Lr());break;case 32:pt!==Ra&&pt!==za||(St<0?Z=st-fe:St>0&&(B=z-fe),Nt<0?ft=bt-Ne:Nt>0&&(U=q-Ne),pt=cl,Er.attr("cursor",br.selection),Lr());break;default:return}ll()},!0).on("keyup.brush",function(){switch(r.event.keyCode){case 16:Gn&&(ct=kt=Gn=!1,Lr());break;case 18:pt===za&&(St<0?Z=st:St>0&&(B=z),Nt<0?ft=bt:Nt>0&&(U=q),pt=Ra,Lr());break;case 32:pt===cl&&(r.event.altKey?(St&&(Z=st-fe*St,B=z+fe*St),Nt&&(ft=bt-Ne*Nt,U=q+Ne*Nt),pt=za):(St<0?Z=st:St>0&&(B=z),Nt<0?ft=bt:Nt>0&&(U=q),pt=Ra),Er.attr("cursor",br[vt]),Lr());break;default:return}ll()},!0),qn(r.event.view)}gh(),we(K),b.call(K),ea.start()}function el(){var Qn=vi(K);!Gn||ct||kt||(Math.abs(Qn[0]-ta[0])>Math.abs(Qn[1]-ta[1])?kt=!0:ct=!0),ta=Qn,Ot=!0,ll(),Lr()}function Lr(){var Qn;switch(fe=ta[0]-Dr[0],Ne=ta[1]-Dr[1],pt){case cl:case mh:St&&(fe=Math.max(Xe-B,Math.min(Ve-Z,fe)),z=B+fe,st=Z+fe),Nt&&(Ne=Math.max(ne-U,Math.min(en-ft,Ne)),q=U+Ne,bt=ft+Ne);break;case Ra:St<0?(fe=Math.max(Xe-B,Math.min(Ve-B,fe)),z=B+fe,st=Z):St>0&&(fe=Math.max(Xe-Z,Math.min(Ve-Z,fe)),z=B,st=Z+fe),Nt<0?(Ne=Math.max(ne-U,Math.min(en-U,Ne)),q=U+Ne,bt=ft):Nt>0&&(Ne=Math.max(ne-ft,Math.min(en-ft,Ne)),q=U,bt=ft+Ne);break;case za:St&&(z=Math.max(Xe,Math.min(Ve,B-fe*St)),st=Math.max(Xe,Math.min(Ve,Z+fe*St))),Nt&&(q=Math.max(ne,Math.min(en,U-Ne*Nt)),bt=Math.max(ne,Math.min(en,ft+Ne*Nt)))}st<z&&(St*=-1,Qn=B,B=Z,Z=Qn,Qn=z,z=st,st=Qn,vt in _h&&Er.attr("cursor",br[vt=_h[vt]])),bt<q&&(Nt*=-1,Qn=U,U=ft,ft=Qn,Qn=q,q=bt,bt=Qn,vt in yh&&Er.attr("cursor",br[vt=yh[vt]])),Qt.selection&&(Ce=Qt.selection),ct&&(z=Ce[0][0],st=Ce[1][0]),kt&&(q=Ce[0][1],bt=Ce[1][1]),Ce[0][0]===z&&Ce[0][1]===q&&Ce[1][0]===st&&Ce[1][1]===bt||(Qt.selection=[[z,q],[st,bt]],b.call(K),ea.brush())}function ps(){if(gh(),r.event.touches){if(r.event.touches.length)return;i&&clearTimeout(i),i=setTimeout(function(){i=null},500)}else Cn(r.event.view,Ot),tl.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);var Qn;pr.attr("pointer-events","all"),Er.attr("cursor",br.overlay),Qt.selection&&(Ce=Qt.selection),((Qn=Ce)[0][0]===Qn[1][0]||Qn[0][1]===Qn[1][1])&&(Qt.selection=null,b.call(K)),ea.end()}}function I(){S(this,arguments).moved()}function O(){S(this,arguments).ended()}function H(){var B=this.__brush||{selection:null};return B.extent=hl(a.apply(this,arguments)),B.dim=t,B}return _.move=function(B,z){B.selection?B.on("start.brush",function(){S(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){S(this,arguments).end()}).tween("brush",function(){var U=this,q=U.__brush,Z=S(U,arguments),st=q.selection,ft=t.input("function"==typeof z?z.apply(this,arguments):z,q.extent),bt=$i(st,ft);function Ot(ct){q.selection=1===ct&&null===ft?null:bt(ct),b.call(U),Z.brush()}return null!==st&&null!==ft?Ot:Ot(1)}):B.each(function(){var U=this,q=arguments,Z=U.__brush,st=t.input("function"==typeof z?z.apply(U,q):z,Z.extent),ft=S(U,q).beforestart();we(U),Z.selection=null===st?null:st,b.call(U),ft.start().brush().end()})},_.clear=function(B){_.move(B,null)},P.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(B){ze(new qg(_,B,t.output(this.state.selection)),v.apply,v,[B,this.that,this.args])}},_.extent=function(B){return arguments.length?(a="function"==typeof B?B:ul(hl(B)),_):a},_.filter=function(B){return arguments.length?(u="function"==typeof B?B:ul(!!B),_):u},_.touchable=function(B){return arguments.length?(c="function"==typeof B?B:ul(!!B),_):c},_.handleSize=function(B){return arguments.length?(m=+B,_):m},_.keyModifiers=function(B){return arguments.length?(d=!!B,_):d},_.on=function(){var B=v.on.apply(v,arguments);return B===v?_:B},_}var bh=Math.cos,xh=Math.sin,wh=Math.PI,Rs=wh/2,Sh=2*wh,Th=Math.max;function Vg(t){return function(i,a){return t(i.source.value+i.target.value,a.source.value+a.target.value)}}var tm=Array.prototype.slice;function pl(t){return function(){return t}}var gl=Math.PI,ml=2*gl,em=ml-1e-6;function vl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Xr(){return new vl}function nm(t){return t.source}function im(t){return t.target}function rm(t){return t.radius}function am(t){return t.startAngle}function om(t){return t.endAngle}function zs(){}function xr(t,i){var a=new zs;if(t instanceof zs)t.each(function(m,_){a.set(_,m)});else if(Array.isArray(t)){var u,c=-1,d=t.length;if(null==i)for(;++c<d;)a.set(c,t[c]);else for(;++c<d;)a.set(i(u=t[c],c,t),u)}else if(t)for(var v in t)a.set(v,t[v]);return a}function sm(){return{}}function um(t,i,a){t[i]=a}function Ch(){return xr()}function Ah(t,i,a){t.set(i,a)}function Fs(){}vl.prototype=Xr.prototype={constructor:vl,moveTo:function(t,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,i){this._+="L"+(this._x1=+t)+","+(this._y1=+i)},quadraticCurveTo:function(t,i,a,u){this._+="Q"+ +t+","+ +i+","+(this._x1=+a)+","+(this._y1=+u)},bezierCurveTo:function(t,i,a,u,c,d){this._+="C"+ +t+","+ +i+","+ +a+","+ +u+","+(this._x1=+c)+","+(this._y1=+d)},arcTo:function(t,i,a,u,c){var d=this._x1,v=this._y1,m=(a=+a)-(t=+t),_=(u=+u)-(i=+i),b=d-t,S=v-i,P=b*b+S*S;if((c=+c)<0)throw new Error("negative radius: "+c);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=i);else if(P>1e-6)if(Math.abs(S*m-_*b)>1e-6&&c){var T=a-d,I=u-v,O=m*m+_*_,H=T*T+I*I,B=Math.sqrt(O),z=Math.sqrt(P),U=c*Math.tan((gl-Math.acos((O+P-H)/(2*B*z)))/2),q=U/z,Z=U/B;Math.abs(q-1)>1e-6&&(this._+="L"+(t+q*b)+","+(i+q*S)),this._+="A"+c+","+c+",0,0,"+ +(S*T>b*I)+","+(this._x1=t+Z*m)+","+(this._y1=i+Z*_)}else this._+="L"+(this._x1=t)+","+(this._y1=i)},arc:function(t,i,a,u,c,d){t=+t,i=+i,d=!!d;var v=(a=+a)*Math.cos(u),m=a*Math.sin(u),_=t+v,b=i+m,S=1^d,P=d?u-c:c-u;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+_+","+b:(Math.abs(this._x1-_)>1e-6||Math.abs(this._y1-b)>1e-6)&&(this._+="L"+_+","+b),a&&(P<0&&(P=P%ml+ml),P>em?this._+="A"+a+","+a+",0,1,"+S+","+(t-v)+","+(i-m)+"A"+a+","+a+",0,1,"+S+","+(this._x1=_)+","+(this._y1=b):P>1e-6&&(this._+="A"+a+","+a+",0,"+ +(P>=gl)+","+S+","+(this._x1=t+a*Math.cos(c))+","+(this._y1=i+a*Math.sin(c))))},rect:function(t,i,a,u){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)+"h"+ +a+"v"+ +u+"h"+-a+"Z"},toString:function(){return this._}},zs.prototype=xr.prototype={constructor:zs,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,i){return this["$"+t]=i,this},remove:function(t){var i="$"+t;return i in this&&delete this[i]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var i in this)"$"===i[0]&&t.push(i.slice(1));return t},values:function(){var t=[];for(var i in this)"$"===i[0]&&t.push(this[i]);return t},entries:function(){var t=[];for(var i in this)"$"===i[0]&&t.push({key:i.slice(1),value:this[i]});return t},size:function(){var t=0;for(var i in this)"$"===i[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var i in this)"$"===i[0]&&t(this[i],i.slice(1),this)}};var la=xr.prototype;function kh(t,i){var a=new Fs;if(t instanceof Fs)t.each(function(d){a.add(d)});else if(t){var u=-1,c=t.length;if(null==i)for(;++u<c;)a.add(t[u]);else for(;++u<c;)a.add(i(t[u],u,t))}return a}Fs.prototype=kh.prototype={constructor:Fs,has:la.has,add:function(t){return this["$"+(t+="")]=t,this},remove:la.remove,clear:la.clear,values:la.keys,size:la.size,empty:la.empty,each:la.each};var Ph=Array.prototype.slice;function lm(t,i){return t-i}function qr(t){return function(){return t}}function cm(t,i){for(var a,u=-1,c=i.length;++u<c;)if(a=hm(t,i[u]))return a;return 0}function hm(t,i){for(var a=i[0],u=i[1],c=-1,d=0,v=t.length,m=v-1;d<v;m=d++){var _=t[d],b=_[0],S=_[1],P=t[m],T=P[0],I=P[1];if(dm(_,P,i))return 0;S>u!=I>u&&a<(T-b)*(u-S)/(I-S)+b&&(c=-c)}return c}function dm(t,i,a){var u,c,d,v,m,_,b;return((_=i)[0]-(m=t)[0])*((b=a)[1]-m[1])==(b[0]-m[0])*(_[1]-m[1])&&(c=t[u=+(t[0]===i[0])],v=i[u],c<=(d=a[u])&&d<=v||v<=d&&d<=c)}function fm(){}var wr=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Mh(){var t=1,i=1,a=_e,u=m;function c(_){var b=a(_);if(Array.isArray(b))b=b.slice().sort(lm);else{var S=Rn(_),P=S[0],T=S[1];b=oe(P,T,b),b=ee(Math.floor(P/b)*b,Math.floor(T/b)*b,b)}return b.map(function(I){return d(_,I)})}function d(_,b){var S=[],P=[];return function(T,I,O){var H,B,U,q,Z,st=new Array,ft=new Array;for(H=B=-1,wr[(U=T[0]>=I)<<1].forEach(bt);++H<t-1;)wr[U|(U=T[H+1]>=I)<<1].forEach(bt);for(wr[U<<0].forEach(bt);++B<i-1;){for(H=-1,wr[(U=T[B*t+t]>=I)<<1|(q=T[B*t]>=I)<<2].forEach(bt);++H<t-1;)Z=q,wr[U|(U=T[B*t+t+H+1]>=I)<<1|(q=T[B*t+H+1]>=I)<<2|Z<<3].forEach(bt);wr[U|q<<3].forEach(bt)}for(H=-1,wr[(q=T[B*t]>=I)<<2].forEach(bt);++H<t-1;)Z=q,wr[(q=T[B*t+H+1]>=I)<<2|Z<<3].forEach(bt);function bt(Ot){var ct,kt,xt=[Ot[0][0]+H,Ot[0][1]+B],K=[Ot[1][0]+H,Ot[1][1]+B],vt=v(xt),pt=v(K);(ct=ft[vt])?(kt=st[pt])?(delete ft[ct.end],delete st[kt.start],ct===kt?(ct.ring.push(K),O(ct.ring)):st[ct.start]=ft[kt.end]={start:ct.start,end:kt.end,ring:ct.ring.concat(kt.ring)}):(delete ft[ct.end],ct.ring.push(K),ft[ct.end=pt]=ct):(ct=st[pt])?(kt=ft[vt])?(delete st[ct.start],delete ft[kt.end],ct===kt?(ct.ring.push(K),O(ct.ring)):st[kt.start]=ft[ct.end]={start:kt.start,end:ct.end,ring:kt.ring.concat(ct.ring)}):(delete st[ct.start],ct.ring.unshift(xt),st[ct.start=vt]=ct):st[vt]=ft[pt]={start:vt,end:pt,ring:[xt,K]}}wr[q<<3].forEach(bt)}(_,b,function(T){u(T,_,b),function(I){for(var O=0,H=I.length,B=I[H-1][1]*I[0][0]-I[H-1][0]*I[0][1];++O<H;)B+=I[O-1][1]*I[O][0]-I[O-1][0]*I[O][1];return B}(T)>0?S.push([T]):P.push(T)}),P.forEach(function(T){for(var I,O=0,H=S.length;O<H;++O)if(-1!==cm((I=S[O])[0],T))return void I.push(T)}),{type:"MultiPolygon",value:b,coordinates:S}}function v(_){return 2*_[0]+_[1]*(t+1)*4}function m(_,b,S){_.forEach(function(P){var T,I=P[0],O=P[1],H=0|I,B=0|O,z=b[B*t+H];I>0&&I<t&&H===I&&(P[0]=I+(S-(T=b[B*t+H-1]))/(z-T)-.5),O>0&&O<i&&B===O&&(P[1]=O+(S-(T=b[(B-1)*t+H]))/(z-T)-.5)})}return c.contour=d,c.size=function(_){if(!arguments.length)return[t,i];var b=Math.ceil(_[0]),S=Math.ceil(_[1]);if(!(b>0&&S>0))throw new Error("invalid size");return t=b,i=S,c},c.thresholds=function(_){return arguments.length?(a="function"==typeof _?_:Array.isArray(_)?qr(Ph.call(_)):qr(_),c):a},c.smooth=function(_){return arguments.length?(u=_?m:fm,c):u===m},c}function _l(t,i,a){for(var u=t.width,c=t.height,d=1+(a<<1),v=0;v<c;++v)for(var m=0,_=0;m<u+a;++m)m<u&&(_+=t.data[m+v*u]),m>=a&&(m>=d&&(_-=t.data[m-d+v*u]),i.data[m-a+v*u]=_/Math.min(m+1,u-1+d-m,d))}function yl(t,i,a){for(var u=t.width,c=t.height,d=1+(a<<1),v=0;v<u;++v)for(var m=0,_=0;m<c+a;++m)m<c&&(_+=t.data[v+m*u]),m>=a&&(m>=d&&(_-=t.data[v+(m-d)*u]),i.data[v+(m-a)*u]=_/Math.min(m+1,c-1+d-m,d))}function pm(t){return t[0]}function gm(t){return t[1]}function mm(){return 1}var Dh={},bl={};function Eh(t){return new Function("d","return {"+t.map(function(i,a){return JSON.stringify(i)+": d["+a+'] || ""'}).join(",")+"}")}function Lh(t){var i=Object.create(null),a=[];return t.forEach(function(u){for(var c in u)c in i||a.push(i[c]=c)}),a}function Gi(t,i){var a=t+"",u=a.length;return u<i?new Array(i-u+1).join(0)+a:a}function Hs(t){var i=new RegExp('["'+t+"\n\r]"),a=t.charCodeAt(0);function u(m,_){var b,S=[],P=m.length,T=0,I=0,O=P<=0,H=!1;function B(){if(O)return bl;if(H)return H=!1,Dh;var U,q,Z=T;if(34===m.charCodeAt(Z)){for(;T++<P&&34!==m.charCodeAt(T)||34===m.charCodeAt(++T););return(U=T)>=P?O=!0:10===(q=m.charCodeAt(T++))?H=!0:13===q&&(H=!0,10===m.charCodeAt(T)&&++T),m.slice(Z+1,U-1).replace(/""/g,'"')}for(;T<P;){if(10===(q=m.charCodeAt(U=T++)))H=!0;else if(13===q)H=!0,10===m.charCodeAt(T)&&++T;else if(q!==a)continue;return m.slice(Z,U)}return O=!0,m.slice(Z,P)}for(10===m.charCodeAt(P-1)&&--P,13===m.charCodeAt(P-1)&&--P;(b=B())!==bl;){for(var z=[];b!==Dh&&b!==bl;)z.push(b),b=B();_&&null==(z=_(z,I++))||S.push(z)}return S}function c(m,_){return m.map(function(b){return _.map(function(S){return v(b[S])}).join(t)})}function d(m){return m.map(v).join(t)}function v(m){return null==m?"":m instanceof Date?function vm(t){var d,i=t.getUTCHours(),a=t.getUTCMinutes(),u=t.getUTCSeconds(),c=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((d=t.getUTCFullYear())<0?"-"+Gi(-d,6):d>9999?"+"+Gi(d,6):Gi(d,4))+"-"+Gi(t.getUTCMonth()+1,2)+"-"+Gi(t.getUTCDate(),2)+(c?"T"+Gi(i,2)+":"+Gi(a,2)+":"+Gi(u,2)+"."+Gi(c,3)+"Z":u?"T"+Gi(i,2)+":"+Gi(a,2)+":"+Gi(u,2)+"Z":a||i?"T"+Gi(i,2)+":"+Gi(a,2)+"Z":"")}(m):i.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m}return{parse:function(m,_){var b,S,P=u(m,function(T,I){if(b)return b(T,I-1);var O,H,B;S=T,b=_?(H=_,B=Eh(O=T),function(z,U){return H(B(z),U,O)}):Eh(T)});return P.columns=S||[],P},parseRows:u,format:function(m,_){return null==_&&(_=Lh(m)),[_.map(v).join(t)].concat(c(m,_)).join("\n")},formatBody:function(m,_){return null==_&&(_=Lh(m)),c(m,_).join("\n")},formatRows:function(m){return m.map(d).join("\n")},formatRow:d,formatValue:v}}var ca=Hs(","),Ih=ca.parse,_m=ca.parseRows,ym=ca.format,bm=ca.formatBody,xm=ca.formatRows,wm=ca.formatRow,Sm=ca.formatValue,ha=Hs("\t"),Nh=ha.parse,Tm=ha.parseRows,Cm=ha.format,Am=ha.formatBody,km=ha.formatRows,Pm=ha.formatRow,Mm=ha.formatValue,Dm=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Em(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Lm(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Im(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Gs(t,i){return fetch(t,i).then(Im)}function Oh(t){return function(i,a,u){return 2===arguments.length&&"function"==typeof a&&(u=a,a=void 0),Gs(i,a).then(function(c){return t(c,u)})}}var Nm=Oh(Ih),Om=Oh(Nh);function Rm(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Sl(t){return function(i,a){return Gs(i,a).then(function(u){return(new DOMParser).parseFromString(u,t)})}}var zm=Sl("application/xml"),Fm=Sl("text/html"),Hm=Sl("image/svg+xml");function ri(t){return function(){return t}}function Ur(){return 1e-6*(Math.random()-.5)}function Rh(t,i,a,u){if(isNaN(i)||isNaN(a))return t;var c,d,v,m,_,b,S,P,T,I=t._root,O={data:u},H=t._x0,B=t._y0,z=t._x1,U=t._y1;if(!I)return t._root=O,t;for(;I.length;)if((b=i>=(d=(H+z)/2))?H=d:z=d,(S=a>=(v=(B+U)/2))?B=v:U=v,c=I,!(I=I[P=S<<1|b]))return c[P]=O,t;if(m=+t._x.call(null,I.data),_=+t._y.call(null,I.data),i===m&&a===_)return O.next=I,c?c[P]=O:t._root=O,t;do{c=c?c[P]=new Array(4):t._root=new Array(4),(b=i>=(d=(H+z)/2))?H=d:z=d,(S=a>=(v=(B+U)/2))?B=v:U=v}while((P=S<<1|b)==(T=(_>=v)<<1|m>=d));return c[T]=I,c[P]=O,t}function ki(t,i,a,u,c){this.node=t,this.x0=i,this.y0=a,this.x1=u,this.y1=c}function Gm(t){return t[0]}function Bm(t){return t[1]}function Bs(t,i,a){var u=new Tl(i??Gm,a??Bm,NaN,NaN,NaN,NaN);return null==t?u:u.addAll(t)}function Tl(t,i,a,u,c,d){this._x=t,this._y=i,this._x0=a,this._y0=u,this._x1=c,this._y1=d,this._root=void 0}function zh(t){for(var i={data:t.data},a=i;t=t.next;)a=a.next={data:t.data};return i}var Pi=Bs.prototype=Tl.prototype;function jm(t){return t.x+t.vx}function Wm(t){return t.y+t.vy}function Ym(t){return t.index}function Fh(t,i){var a=t.get(i);if(!a)throw new Error("missing: "+i);return a}function Xm(t){return t.x}function qm(t){return t.y}Pi.copy=function(){var t,i,a=new Tl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),u=this._root;if(!u)return a;if(!u.length)return a._root=zh(u),a;for(t=[{source:u,target:a._root=new Array(4)}];u=t.pop();)for(var c=0;c<4;++c)(i=u.source[c])&&(i.length?t.push({source:i,target:u.target[c]=new Array(4)}):u.target[c]=zh(i));return a},Pi.add=function(t){var i=+this._x.call(null,t),a=+this._y.call(null,t);return Rh(this.cover(i,a),i,a,t)},Pi.addAll=function(t){var i,a,u,c,d=t.length,v=new Array(d),m=new Array(d),_=1/0,b=1/0,S=-1/0,P=-1/0;for(a=0;a<d;++a)isNaN(u=+this._x.call(null,i=t[a]))||isNaN(c=+this._y.call(null,i))||(v[a]=u,m[a]=c,u<_&&(_=u),u>S&&(S=u),c<b&&(b=c),c>P&&(P=c));if(_>S||b>P)return this;for(this.cover(_,b).cover(S,P),a=0;a<d;++a)Rh(this,v[a],m[a],t[a]);return this},Pi.cover=function(t,i){if(isNaN(t=+t)||isNaN(i=+i))return this;var a=this._x0,u=this._y0,c=this._x1,d=this._y1;if(isNaN(a))c=(a=Math.floor(t))+1,d=(u=Math.floor(i))+1;else{for(var v,m,_=c-a,b=this._root;a>t||t>=c||u>i||i>=d;)switch(m=(i<u)<<1|t<a,(v=new Array(4))[m]=b,b=v,_*=2,m){case 0:c=a+_,d=u+_;break;case 1:a=c-_,d=u+_;break;case 2:c=a+_,u=d-_;break;case 3:a=c-_,u=d-_}this._root&&this._root.length&&(this._root=b)}return this._x0=a,this._y0=u,this._x1=c,this._y1=d,this},Pi.data=function(){var t=[];return this.visit(function(i){if(!i.length)do{t.push(i.data)}while(i=i.next)}),t},Pi.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Pi.find=function(t,i,a){var u,c,d,v,m,_,b,S=this._x0,P=this._y0,T=this._x1,I=this._y1,O=[],H=this._root;for(H&&O.push(new ki(H,S,P,T,I)),null==a?a=1/0:(S=t-a,P=i-a,T=t+a,I=i+a,a*=a);_=O.pop();)if(!(!(H=_.node)||(c=_.x0)>T||(d=_.y0)>I||(v=_.x1)<S||(m=_.y1)<P))if(H.length){var B=(c+v)/2,z=(d+m)/2;O.push(new ki(H[3],B,z,v,m),new ki(H[2],c,z,B,m),new ki(H[1],B,d,v,z),new ki(H[0],c,d,B,z)),(b=(i>=z)<<1|t>=B)&&(_=O[O.length-1],O[O.length-1]=O[O.length-1-b],O[O.length-1-b]=_)}else{var U=t-+this._x.call(null,H.data),q=i-+this._y.call(null,H.data),Z=U*U+q*q;if(Z<a){var st=Math.sqrt(a=Z);S=t-st,P=i-st,T=t+st,I=i+st,u=H.data}}return u},Pi.remove=function(t){if(isNaN(d=+this._x.call(null,t))||isNaN(v=+this._y.call(null,t)))return this;var i,a,u,c,d,v,m,_,b,S,P,T,I=this._root,O=this._x0,H=this._y0,B=this._x1,z=this._y1;if(!I)return this;if(I.length)for(;;){if((b=d>=(m=(O+B)/2))?O=m:B=m,(S=v>=(_=(H+z)/2))?H=_:z=_,i=I,!(I=I[P=S<<1|b]))return this;if(!I.length)break;(i[P+1&3]||i[P+2&3]||i[P+3&3])&&(a=i,T=P)}for(;I.data!==t;)if(u=I,!(I=I.next))return this;return(c=I.next)&&delete I.next,u?(c?u.next=c:delete u.next,this):i?(c?i[P]=c:delete i[P],(I=i[0]||i[1]||i[2]||i[3])&&I===(i[3]||i[2]||i[1]||i[0])&&!I.length&&(a?a[T]=I:this._root=I),this):(this._root=c,this)},Pi.removeAll=function(t){for(var i=0,a=t.length;i<a;++i)this.remove(t[i]);return this},Pi.root=function(){return this._root},Pi.size=function(){var t=0;return this.visit(function(i){if(!i.length)do{++t}while(i=i.next)}),t},Pi.visit=function(t){var i,a,u,c,d,v,m=[],_=this._root;for(_&&m.push(new ki(_,this._x0,this._y0,this._x1,this._y1));i=m.pop();)if(!t(_=i.node,u=i.x0,c=i.y0,d=i.x1,v=i.y1)&&_.length){var b=(u+d)/2,S=(c+v)/2;(a=_[3])&&m.push(new ki(a,b,S,d,v)),(a=_[2])&&m.push(new ki(a,u,S,b,v)),(a=_[1])&&m.push(new ki(a,b,c,d,S)),(a=_[0])&&m.push(new ki(a,u,c,b,S))}return this},Pi.visitAfter=function(t){var i,a=[],u=[];for(this._root&&a.push(new ki(this._root,this._x0,this._y0,this._x1,this._y1));i=a.pop();){var c=i.node;if(c.length){var d,v=i.x0,m=i.y0,_=i.x1,b=i.y1,S=(v+_)/2,P=(m+b)/2;(d=c[0])&&a.push(new ki(d,v,m,S,P)),(d=c[1])&&a.push(new ki(d,S,m,_,P)),(d=c[2])&&a.push(new ki(d,v,P,S,b)),(d=c[3])&&a.push(new ki(d,S,P,_,b))}u.push(i)}for(;i=u.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this},Pi.x=function(t){return arguments.length?(this._x=t,this):this._x},Pi.y=function(t){return arguments.length?(this._y=t,this):this._y};var Km=Math.PI*(3-Math.sqrt(5));function js(t,i){if((a=(t=i?t.toExponential(i-1):t.toExponential()).indexOf("e"))<0)return null;var a,u=t.slice(0,a);return[u.length>1?u[0]+u.slice(2):u,+t.slice(a+1)]}function Fa(t){return(t=js(Math.abs(t)))?t[1]:NaN}var Hh,$m=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wo(t){if(!(i=$m.exec(t)))throw new Error("invalid format: "+t);var i;return new Ws({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function Ws(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Gh(t,i){var a=js(t,i);if(!a)return t+"";var u=a[0],c=a[1];return c<0?"0."+new Array(-c).join("0")+u:u.length>c+1?u.slice(0,c+1)+"."+u.slice(c+1):u+new Array(c-u.length+2).join("0")}wo.prototype=Ws.prototype,Ws.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Bh={"%":function(t,i){return(100*t).toFixed(i)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,i){return t.toExponential(i)},f:function(t,i){return t.toFixed(i)},g:function(t,i){return t.toPrecision(i)},o:function(t){return Math.round(t).toString(8)},p:function(t,i){return Gh(100*t,i)},r:Gh,s:function(t,i){var a=js(t,i);if(!a)return t+"";var u=a[0],c=a[1],d=c-(Hh=3*Math.max(-8,Math.min(8,Math.floor(c/3))))+1,v=u.length;return d===v?u:d>v?u+new Array(d-v+1).join("0"):d>0?u.slice(0,d)+"."+u.slice(d):"0."+new Array(1-d).join("0")+js(t,Math.max(0,i+d-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function jh(t){return t}var Ys,Wh=Array.prototype.map,Yh=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Xh(t){var i,a,T,u=void 0===t.grouping||void 0===t.thousands?jh:(i=Wh.call(t.grouping,Number),a=t.thousands+"",function(T,I){for(var O=T.length,H=[],B=0,z=i[0],U=0;O>0&&z>0&&(U+z+1>I&&(z=Math.max(1,I-U)),H.push(T.substring(O-=z,O+z)),!((U+=z+1)>I));)z=i[B=(B+1)%i.length];return H.reverse().join(a)}),c=void 0===t.currency?"":t.currency[0]+"",d=void 0===t.currency?"":t.currency[1]+"",v=void 0===t.decimal?".":t.decimal+"",m=void 0===t.numerals?jh:(T=Wh.call(t.numerals,String),function(I){return I.replace(/[0-9]/g,function(O){return T[+O]})}),_=void 0===t.percent?"%":t.percent+"",b=void 0===t.minus?"-":t.minus+"",S=void 0===t.nan?"NaN":t.nan+"";function P(T){var I=(T=wo(T)).fill,O=T.align,H=T.sign,B=T.symbol,z=T.zero,U=T.width,q=T.comma,Z=T.precision,st=T.trim,ft=T.type;"n"===ft?(q=!0,ft="g"):Bh[ft]||(void 0===Z&&(Z=12),st=!0,ft="g"),(z||"0"===I&&"="===O)&&(z=!0,I="0",O="=");var bt="$"===B?c:"#"===B&&/[boxX]/.test(ft)?"0"+ft.toLowerCase():"",Ot="$"===B?d:/[%p]/.test(ft)?_:"",ct=Bh[ft],kt=/[defgprs%]/.test(ft);function xt(K){var vt,pt,St,Nt=bt,Qt=Ot;if("c"===ft)Qt=ct(K)+Qt,K="";else{var Te=(K=+K)<0||1/K<0;if(K=isNaN(K)?S:ct(Math.abs(K),Z),st&&(K=function(ne){t:for(var Ve,en=ne.length,fe=1,Ne=-1;fe<en;++fe)switch(ne[fe]){case".":Ne=Ve=fe;break;case"0":0===Ne&&(Ne=fe),Ve=fe;break;default:if(!+ne[fe])break t;Ne>0&&(Ne=0)}return Ne>0?ne.slice(0,Ne)+ne.slice(Ve+1):ne}(K)),Te&&0==+K&&"+"!==H&&(Te=!1),Nt=(Te?"("===H?H:b:"-"===H||"("===H?"":H)+Nt,Qt=("s"===ft?Yh[8+Hh/3]:"")+Qt+(Te&&"("===H?")":""),kt)for(vt=-1,pt=K.length;++vt<pt;)if(48>(St=K.charCodeAt(vt))||St>57){Qt=(46===St?v+K.slice(vt+1):K.slice(vt))+Qt,K=K.slice(0,vt);break}}q&&!z&&(K=u(K,1/0));var Ce=Nt.length+K.length+Qt.length,Xe=Ce<U?new Array(U-Ce+1).join(I):"";switch(q&&z&&(K=u(Xe+K,Xe.length?U-Qt.length:1/0),Xe=""),O){case"<":K=Nt+K+Qt+Xe;break;case"=":K=Nt+Xe+K+Qt;break;case"^":K=Xe.slice(0,Ce=Xe.length>>1)+Nt+K+Qt+Xe.slice(Ce);break;default:K=Xe+Nt+K+Qt}return m(K)}return Z=void 0===Z?6:/[gprs]/.test(ft)?Math.max(1,Math.min(21,Z)):Math.max(0,Math.min(20,Z)),xt.toString=function(){return T+""},xt}return{format:P,formatPrefix:function(T,I){var O=P(((T=wo(T)).type="f",T)),H=3*Math.max(-8,Math.min(8,Math.floor(Fa(I)/3))),B=Math.pow(10,-H),z=Yh[8+H/3];return function(U){return O(B*U)+z}}}}function qh(t){return Ys=Xh(t),r.format=Ys.format,r.formatPrefix=Ys.formatPrefix,Ys}function Uh(t){return Math.max(0,-Fa(Math.abs(t)))}function Kh(t,i){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Fa(i)/3)))-Fa(Math.abs(t)))}function $h(t,i){return t=Math.abs(t),i=Math.abs(i)-t,Math.max(0,Fa(i)-Fa(t))+1}function Kr(){return new Xs}function Xs(){this.reset()}qh({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Xs.prototype={constructor:Xs,reset:function(){this.s=this.t=0},add:function(t){Qh(qs,t,this.t),Qh(this,qs.s,this.s),this.s?this.t+=qs.t:this.s=qs.t},valueOf:function(){return this.s}};var qs=new Xs;function Qh(t,i,a){var u=t.s=i+a,c=u-i;t.t=i-(u-c)+(a-c)}var Se=1e-6,Us=1e-12,Qe=Math.PI,Yn=Qe/2,Ks=Qe/4,Mi=2*Qe,kn=180/Qe,Ae=Qe/180,un=Math.abs,Ha=Math.atan,Di=Math.atan2,ve=Math.cos,$s=Math.ceil,Zh=Math.exp,Qs=Math.log,Cl=Math.pow,ue=Math.sin,Ji=Math.sign||function(t){return t>0?1:t<0?-1:0},ti=Math.sqrt,Al=Math.tan;function Jh(t){return t>1?0:t<-1?Qe:Math.acos(t)}function Ei(t){return t>1?Yn:t<-1?-Yn:Math.asin(t)}function Vh(t){return(t=ue(t/2))*t}function Fn(){}function Zs(t,i){t&&ed.hasOwnProperty(t.type)&&ed[t.type](t,i)}var td={Feature:function(t,i){Zs(t.geometry,i)},FeatureCollection:function(t,i){for(var a=t.features,u=-1,c=a.length;++u<c;)Zs(a[u].geometry,i)}},ed={Sphere:function(t,i){i.sphere()},Point:function(t,i){i.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,i){for(var a=t.coordinates,u=-1,c=a.length;++u<c;)i.point((t=a[u])[0],t[1],t[2])},LineString:function(t,i){kl(t.coordinates,i,0)},MultiLineString:function(t,i){for(var a=t.coordinates,u=-1,c=a.length;++u<c;)kl(a[u],i,0)},Polygon:function(t,i){nd(t.coordinates,i)},MultiPolygon:function(t,i){for(var a=t.coordinates,u=-1,c=a.length;++u<c;)nd(a[u],i)},GeometryCollection:function(t,i){for(var a=t.geometries,u=-1,c=a.length;++u<c;)Zs(a[u],i)}};function kl(t,i,a){var u,c=-1,d=t.length-a;for(i.lineStart();++c<d;)i.point((u=t[c])[0],u[1],u[2]);i.lineEnd()}function nd(t,i){var a=-1,u=t.length;for(i.polygonStart();++a<u;)kl(t[a],i,1);i.polygonEnd()}function ir(t,i){t&&td.hasOwnProperty(t.type)?td[t.type](t,i):Zs(t,i)}var id,rd,Pl,Ml,Dl,Js=Kr(),Vs=Kr(),lr={point:Fn,lineStart:Fn,lineEnd:Fn,polygonStart:function(){Js.reset(),lr.lineStart=Qm,lr.lineEnd=Zm},polygonEnd:function(){var t=+Js;Vs.add(t<0?Mi+t:t),this.lineStart=this.lineEnd=this.point=Fn},sphere:function(){Vs.add(Mi)}};function Qm(){lr.point=Jm}function Zm(){ad(id,rd)}function Jm(t,i){lr.point=ad,id=t,rd=i,Pl=t*=Ae,Ml=ve(i=(i*=Ae)/2+Ks),Dl=ue(i)}function ad(t,i){var a=(t*=Ae)-Pl,u=a>=0?1:-1,c=u*a,d=ve(i=(i*=Ae)/2+Ks),v=ue(i),m=Dl*v,_=Ml*d+m*ve(c),b=m*u*ue(c);Js.add(Di(b,_)),Pl=t,Ml=d,Dl=v}function tu(t){return[Di(t[1],t[0]),Ei(t[2])]}function da(t){var i=t[0],a=t[1],u=ve(a);return[u*ve(i),u*ue(i),ue(a)]}function eu(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]}function Ga(t,i){return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]}function El(t,i){t[0]+=i[0],t[1]+=i[1],t[2]+=i[2]}function nu(t,i){return[t[0]*i,t[1]*i,t[2]*i]}function iu(t){var i=ti(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=i,t[1]/=i,t[2]/=i}var Hn,Bi,Xn,Yi,fa,od,sd,Ba,$r,Sr,ru,au,ou,su,uu,lu,cu,hu,Ll,Il,Nl,ud,ld,Li,Ii,Ni,So=Kr(),Tr={point:Ol,lineStart:hd,lineEnd:dd,polygonStart:function(){Tr.point=fd,Tr.lineStart=Vm,Tr.lineEnd=t0,So.reset(),lr.polygonStart()},polygonEnd:function(){lr.polygonEnd(),Tr.point=Ol,Tr.lineStart=hd,Tr.lineEnd=dd,Js<0?(Hn=-(Xn=180),Bi=-(Yi=90)):So>Se?Yi=90:So<-Se&&(Bi=-90),Sr[0]=Hn,Sr[1]=Xn},sphere:function(){Hn=-(Xn=180),Bi=-(Yi=90)}};function Ol(t,i){$r.push(Sr=[Hn=t,Xn=t]),i<Bi&&(Bi=i),i>Yi&&(Yi=i)}function cd(t,i){var a=da([t*Ae,i*Ae]);if(Ba){var u=Ga(Ba,a),c=Ga([u[1],-u[0],0],u);iu(c),c=tu(c);var d,v=t-fa,m=v>0?1:-1,_=c[0]*kn*m,b=un(v)>180;b^(m*fa<_&&_<m*t)?(d=c[1]*kn)>Yi&&(Yi=d):b^(m*fa<(_=(_+360)%360-180)&&_<m*t)?(d=-c[1]*kn)<Bi&&(Bi=d):(i<Bi&&(Bi=i),i>Yi&&(Yi=i)),b?t<fa?Xi(Hn,t)>Xi(Hn,Xn)&&(Xn=t):Xi(t,Xn)>Xi(Hn,Xn)&&(Hn=t):Xn>=Hn?(t<Hn&&(Hn=t),t>Xn&&(Xn=t)):t>fa?Xi(Hn,t)>Xi(Hn,Xn)&&(Xn=t):Xi(t,Xn)>Xi(Hn,Xn)&&(Hn=t)}else $r.push(Sr=[Hn=t,Xn=t]);i<Bi&&(Bi=i),i>Yi&&(Yi=i),Ba=a,fa=t}function hd(){Tr.point=cd}function dd(){Sr[0]=Hn,Sr[1]=Xn,Tr.point=Ol,Ba=null}function fd(t,i){if(Ba){var a=t-fa;So.add(un(a)>180?a+(a>0?360:-360):a)}else od=t,sd=i;lr.point(t,i),cd(t,i)}function Vm(){lr.lineStart()}function t0(){fd(od,sd),lr.lineEnd(),un(So)>Se&&(Hn=-(Xn=180)),Sr[0]=Hn,Sr[1]=Xn,Ba=null}function Xi(t,i){return(i-=t)<0?i+360:i}function e0(t,i){return t[0]-i[0]}function pd(t,i){return t[0]<=t[1]?t[0]<=i&&i<=t[1]:i<t[0]||t[1]<i}var rr={sphere:Fn,point:Rl,lineStart:gd,lineEnd:md,polygonStart:function(){rr.lineStart=r0,rr.lineEnd=a0},polygonEnd:function(){rr.lineStart=gd,rr.lineEnd=md}};function Rl(t,i){t*=Ae;var a=ve(i*=Ae);To(a*ve(t),a*ue(t),ue(i))}function To(t,i,a){ou+=(t-ou)/++ru,su+=(i-su)/ru,uu+=(a-uu)/ru}function gd(){rr.point=n0}function n0(t,i){t*=Ae;var a=ve(i*=Ae);Li=a*ve(t),Ii=a*ue(t),Ni=ue(i),rr.point=i0,To(Li,Ii,Ni)}function i0(t,i){t*=Ae;var a=ve(i*=Ae),u=a*ve(t),c=a*ue(t),d=ue(i),v=Di(ti((v=Ii*d-Ni*c)*v+(v=Ni*u-Li*d)*v+(v=Li*c-Ii*u)*v),Li*u+Ii*c+Ni*d);au+=v,lu+=v*(Li+(Li=u)),cu+=v*(Ii+(Ii=c)),hu+=v*(Ni+(Ni=d)),To(Li,Ii,Ni)}function md(){rr.point=Rl}function r0(){rr.point=o0}function a0(){vd(ud,ld),rr.point=Rl}function o0(t,i){ud=t,ld=i,t*=Ae,i*=Ae,rr.point=vd;var a=ve(i);Li=a*ve(t),Ii=a*ue(t),Ni=ue(i),To(Li,Ii,Ni)}function vd(t,i){t*=Ae;var a=ve(i*=Ae),u=a*ve(t),c=a*ue(t),d=ue(i),v=Ii*d-Ni*c,m=Ni*u-Li*d,_=Li*c-Ii*u,b=ti(v*v+m*m+_*_),S=Ei(b),P=b&&-S/b;Ll+=P*v,Il+=P*m,Nl+=P*_,au+=S,lu+=S*(Li+(Li=u)),cu+=S*(Ii+(Ii=c)),hu+=S*(Ni+(Ni=d)),To(Li,Ii,Ni)}function ja(t){return function(){return t}}function zl(t,i){function a(u,c){return u=t(u,c),i(u[0],u[1])}return t.invert&&i.invert&&(a.invert=function(u,c){return(u=i.invert(u,c))&&t.invert(u[0],u[1])}),a}function Fl(t,i){return[un(t)>Qe?t+Math.round(-t/Mi)*Mi:t,i]}function Hl(t,i,a){return(t%=Mi)?i||a?zl(yd(t),bd(i,a)):yd(t):i||a?bd(i,a):Fl}function _d(t){return function(i,a){return[(i+=t)>Qe?i-Mi:i<-Qe?i+Mi:i,a]}}function yd(t){var i=_d(t);return i.invert=_d(-t),i}function bd(t,i){var a=ve(t),u=ue(t),c=ve(i),d=ue(i);function v(m,_){var b=ve(_),S=ve(m)*b,P=ue(m)*b,T=ue(_),I=T*a+S*u;return[Di(P*c-I*d,S*a-T*u),Ei(I*c+P*d)]}return v.invert=function(m,_){var b=ve(_),S=ve(m)*b,P=ue(m)*b,T=ue(_),I=T*c-P*d;return[Di(P*c+T*d,S*a+I*u),Ei(I*a-S*u)]},v}function xd(t){function i(a){return(a=t(a[0]*Ae,a[1]*Ae))[0]*=kn,a[1]*=kn,a}return t=Hl(t[0]*Ae,t[1]*Ae,t.length>2?t[2]*Ae:0),i.invert=function(a){return(a=t.invert(a[0]*Ae,a[1]*Ae))[0]*=kn,a[1]*=kn,a},i}function wd(t,i,a,u,c,d){if(a){var v=ve(i),m=ue(i),_=u*a;null==c?(c=i+u*Mi,d=i-_/2):(c=Sd(v,c),d=Sd(v,d),(u>0?c<d:c>d)&&(c+=u*Mi));for(var b,S=c;u>0?S>d:S<d;S-=_)b=tu([v,-m*ve(S),-m*ue(S)]),t.point(b[0],b[1])}}function Sd(t,i){(i=da(i))[0]-=t,iu(i);var a=Jh(-i[1]);return((-i[2]<0?-a:a)+Mi-Se)%Mi}function Td(){var t,i=[];return{point:function(a,u){t.push([a,u])},lineStart:function(){i.push(t=[])},lineEnd:Fn,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var a=i;return i=[],t=null,a}}}function du(t,i){return un(t[0]-i[0])<Se&&un(t[1]-i[1])<Se}function fu(t,i,a,u){this.x=t,this.z=i,this.o=a,this.e=u,this.v=!1,this.n=this.p=null}function Cd(t,i,a,u,c){var d,v,m=[],_=[];if(t.forEach(function(O){if(!((H=O.length-1)<=0)){var H,B,z=O[0],U=O[H];if(du(z,U)){for(c.lineStart(),d=0;d<H;++d)c.point((z=O[d])[0],z[1]);c.lineEnd()}else m.push(B=new fu(z,O,null,!0)),_.push(B.o=new fu(z,null,B,!1)),m.push(B=new fu(U,O,null,!1)),_.push(B.o=new fu(U,null,B,!0))}}),m.length){for(_.sort(i),Ad(m),Ad(_),d=0,v=_.length;d<v;++d)_[d].e=a=!a;for(var b,S,P=m[0];;){for(var T=P,I=!0;T.v;)if((T=T.n)===P)return;b=T.z,c.lineStart();do{if(T.v=T.o.v=!0,T.e){if(I)for(d=0,v=b.length;d<v;++d)c.point((S=b[d])[0],S[1]);else u(T.x,T.n.x,1,c);T=T.n}else{if(I)for(d=(b=T.p.z).length-1;d>=0;--d)c.point((S=b[d])[0],S[1]);else u(T.x,T.p.x,-1,c);T=T.p}b=(T=T.o).z,I=!I}while(!T.v);c.lineEnd()}}}function Ad(t){if(i=t.length){for(var i,a,u=0,c=t[0];++u<i;)c.n=a=t[u],a.p=c,c=a;c.n=a=t[0],a.p=c}}Fl.invert=Fl;var Gl=Kr();function Bl(t){return un(t[0])<=Qe?t[0]:Ji(t[0])*((un(t[0])+Qe)%Mi-Qe)}function kd(t,i){var a=Bl(i),u=i[1],c=ue(u),d=[ue(a),-ve(a),0],v=0,m=0;Gl.reset(),1===c?u=Yn+Se:-1===c&&(u=-Yn-Se);for(var _=0,b=t.length;_<b;++_)if(P=(S=t[_]).length)for(var S,P,T=S[P-1],I=Bl(T),O=T[1]/2+Ks,H=ue(O),B=ve(O),z=0;z<P;++z,I=q,H=st,B=ft,T=U){var U=S[z],q=Bl(U),Z=U[1]/2+Ks,st=ue(Z),ft=ve(Z),bt=q-I,Ot=bt>=0?1:-1,ct=Ot*bt,kt=ct>Qe,xt=H*st;if(Gl.add(Di(xt*Ot*ue(ct),B*ft+xt*ve(ct))),v+=kt?bt+Ot*Mi:bt,kt^I>=a^q>=a){var K=Ga(da(T),da(U));iu(K);var vt=Ga(d,K);iu(vt);var pt=(kt^bt>=0?-1:1)*Ei(vt[2]);(u>pt||u===pt&&(K[0]||K[1]))&&(m+=kt^bt>=0?1:-1)}}return(v<-Se||v<Se&&Gl<-Se)^1&m}function Pd(t,i,a,u){return function(c){var d,v,m,_=i(c),b=Td(),S=i(b),P=!1,T={point:I,lineStart:H,lineEnd:B,polygonStart:function(){T.point=z,T.lineStart=U,T.lineEnd=q,v=[],d=[]},polygonEnd:function(){T.point=I,T.lineStart=H,T.lineEnd=B,v=se(v);var Z=kd(d,u);v.length?(P||(c.polygonStart(),P=!0),Cd(v,u0,Z,a,c)):Z&&(P||(c.polygonStart(),P=!0),c.lineStart(),a(null,null,1,c),c.lineEnd()),P&&(c.polygonEnd(),P=!1),v=d=null},sphere:function(){c.polygonStart(),c.lineStart(),a(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function I(Z,st){t(Z,st)&&c.point(Z,st)}function O(Z,st){_.point(Z,st)}function H(){T.point=O,_.lineStart()}function B(){T.point=I,_.lineEnd()}function z(Z,st){m.push([Z,st]),S.point(Z,st)}function U(){S.lineStart(),m=[]}function q(){z(m[0][0],m[0][1]),S.lineEnd();var Z,st,ft,bt,Ot=S.clean(),ct=b.result(),kt=ct.length;if(m.pop(),d.push(m),m=null,kt)if(1&Ot){if((st=(ft=ct[0]).length-1)>0){for(P||(c.polygonStart(),P=!0),c.lineStart(),Z=0;Z<st;++Z)c.point((bt=ft[Z])[0],bt[1]);c.lineEnd()}}else kt>1&&2&Ot&&ct.push(ct.pop().concat(ct.shift())),v.push(ct.filter(s0))}return T}}function s0(t){return t.length>1}function u0(t,i){return((t=t.x)[0]<0?t[1]-Yn-Se:Yn-t[1])-((i=i.x)[0]<0?i[1]-Yn-Se:Yn-i[1])}var jl=Pd(function(){return!0},function(t){var i,a=NaN,u=NaN,c=NaN;return{lineStart:function(){t.lineStart(),i=1},point:function(d,v){var b,S,P,T,I,O,H,m=d>0?Qe:-Qe,_=un(d-a);un(_-Qe)<Se?(t.point(a,u=(u+v)/2>0?Yn:-Yn),t.point(c,u),t.lineEnd(),t.lineStart(),t.point(m,u),t.point(d,u),i=0):c!==m&&_>=Qe&&(un(a-c)<Se&&(a-=c*Se),un(d-m)<Se&&(d-=m*Se),S=u,T=v,H=ue((b=a)-(P=d)),u=un(H)>Se?Ha((ue(S)*(O=ve(T))*ue(P)-ue(T)*(I=ve(S))*ue(b))/(I*O*H)):(S+T)/2,t.point(c,u),t.lineEnd(),t.lineStart(),t.point(m,u),i=0),t.point(a=d,u=v),c=m},lineEnd:function(){t.lineEnd(),a=u=NaN},clean:function(){return 2-i}}},function(t,i,a,u){var c;if(null==t)u.point(-Qe,c=a*Yn),u.point(0,c),u.point(Qe,c),u.point(Qe,0),u.point(Qe,-c),u.point(0,-c),u.point(-Qe,-c),u.point(-Qe,0),u.point(-Qe,c);else if(un(t[0]-i[0])>Se){var d=t[0]<i[0]?Qe:-Qe;u.point(-d,c=a*d/2),u.point(0,c),u.point(d,c)}else u.point(i[0],i[1])},[-Qe,-Yn]);function Md(t){var i=ve(t),a=6*Ae,u=i>0,c=un(i)>Se;function d(_,b){return ve(_)*ve(b)>i}function v(_,b,S){var P=[1,0,0],T=Ga(da(_),da(b)),I=eu(T,T),O=T[0],H=I-O*O;if(!H)return!S&&_;var B=i*I/H,z=-i*O/H,U=Ga(P,T),q=nu(P,B);El(q,nu(T,z));var Z=U,st=eu(q,Z),ft=eu(Z,Z),bt=st*st-ft*(eu(q,q)-1);if(!(bt<0)){var Ot=ti(bt),ct=nu(Z,(-st-Ot)/ft);if(El(ct,q),ct=tu(ct),!S)return ct;var kt,xt=_[0],K=b[0],vt=_[1],pt=b[1];K<xt&&(kt=xt,xt=K,K=kt);var St=K-xt,Nt=un(St-Qe)<Se;if(!Nt&&pt<vt&&(kt=vt,vt=pt,pt=kt),Nt||St<Se?Nt?vt+pt>0^ct[1]<(un(ct[0]-xt)<Se?vt:pt):vt<=ct[1]&&ct[1]<=pt:St>Qe^(xt<=ct[0]&&ct[0]<=K)){var Qt=nu(Z,(-st+Ot)/ft);return El(Qt,q),[ct,tu(Qt)]}}}function m(_,b){var S=u?t:Qe-t,P=0;return _<-S?P|=1:_>S&&(P|=2),b<-S?P|=4:b>S&&(P|=8),P}return Pd(d,function(_){var b,S,P,T,I;return{lineStart:function(){T=P=!1,I=1},point:function(O,H){var B,z=[O,H],U=d(O,H),q=u?U?0:m(O,H):U?m(O+(O<0?Qe:-Qe),H):0;if(!b&&(T=P=U)&&_.lineStart(),U!==P&&(!(B=v(b,z))||du(b,B)||du(z,B))&&(z[0]+=Se,z[1]+=Se,U=d(z[0],z[1])),U!==P)I=0,U?(_.lineStart(),B=v(z,b),_.point(B[0],B[1])):(B=v(b,z),_.point(B[0],B[1]),_.lineEnd()),b=B;else if(c&&b&&u^U){var Z;q&S||!(Z=v(z,b,!0))||(I=0,u?(_.lineStart(),_.point(Z[0][0],Z[0][1]),_.point(Z[1][0],Z[1][1]),_.lineEnd()):(_.point(Z[1][0],Z[1][1]),_.lineEnd(),_.lineStart(),_.point(Z[0][0],Z[0][1])))}!U||b&&du(b,z)||_.point(z[0],z[1]),b=z,P=U,S=q},lineEnd:function(){P&&_.lineEnd(),b=null},clean:function(){return I|(T&&P)<<1}}},function(_,b,S,P){wd(P,t,a,S,_,b)},u?[0,-t]:[-Qe,t-Qe])}var Co=1e9,pu=-Co;function gu(t,i,a,u){function c(b,S){return t<=b&&b<=a&&i<=S&&S<=u}function d(b,S,P,T){var I=0,O=0;if(null==b||(I=v(b,P))!==(O=v(S,P))||_(b,S)<0^P>0)do{T.point(0===I||3===I?t:a,I>1?u:i)}while((I=(I+P+4)%4)!==O);else T.point(S[0],S[1])}function v(b,S){return un(b[0]-t)<Se?S>0?0:3:un(b[0]-a)<Se?S>0?2:1:un(b[1]-i)<Se?S>0?1:0:S>0?3:2}function m(b,S){return _(b.x,S.x)}function _(b,S){var P=v(b,1),T=v(S,1);return P!==T?P-T:0===P?S[1]-b[1]:1===P?b[0]-S[0]:2===P?b[1]-S[1]:S[0]-b[0]}return function(b){var S,P,T,I,O,H,B,z,U,q,Z,st=b,ft=Td(),bt={point:Ot,lineStart:function(){bt.point=ct,P&&P.push(T=[]),q=!0,U=!1,B=z=NaN},lineEnd:function(){S&&(ct(I,O),H&&U&&ft.rejoin(),S.push(ft.result())),bt.point=Ot,U&&st.lineEnd()},polygonStart:function(){st=ft,S=[],P=[],Z=!0},polygonEnd:function(){var kt=function(){for(var vt=0,pt=0,St=P.length;pt<St;++pt)for(var Nt,Qt,Te=P[pt],Ce=1,Xe=Te.length,ne=Te[0],Ve=ne[0],en=ne[1];Ce<Xe;++Ce)Nt=Ve,Qt=en,Ve=(ne=Te[Ce])[0],en=ne[1],Qt<=u?en>u&&(Ve-Nt)*(u-Qt)>(en-Qt)*(t-Nt)&&++vt:en<=u&&(Ve-Nt)*(u-Qt)<(en-Qt)*(t-Nt)&&--vt;return vt}(),xt=Z&&kt,K=(S=se(S)).length;(xt||K)&&(b.polygonStart(),xt&&(b.lineStart(),d(null,null,1,b),b.lineEnd()),K&&Cd(S,m,kt,d,b),b.polygonEnd()),st=b,S=P=T=null}};function Ot(kt,xt){c(kt,xt)&&st.point(kt,xt)}function ct(kt,xt){var K=c(kt,xt);if(P&&T.push([kt,xt]),q)I=kt,O=xt,H=K,q=!1,K&&(st.lineStart(),st.point(kt,xt));else if(K&&U)st.point(kt,xt);else{var vt=[B=Math.max(pu,Math.min(Co,B)),z=Math.max(pu,Math.min(Co,z))],pt=[kt=Math.max(pu,Math.min(Co,kt)),xt=Math.max(pu,Math.min(Co,xt))];!function(St,Nt,Qt,Te,Ce,Xe){var ne,Ve=St[0],en=St[1],fe=0,Ne=1,Gn=Nt[0]-Ve,vi=Nt[1]-en;if(ne=Qt-Ve,Gn||!(ne>0)){if(ne/=Gn,Gn<0){if(ne<fe)return;ne<Ne&&(Ne=ne)}else if(Gn>0){if(ne>Ne)return;ne>fe&&(fe=ne)}if(ne=Ce-Ve,Gn||!(ne<0)){if(ne/=Gn,Gn<0){if(ne>Ne)return;ne>fe&&(fe=ne)}else if(Gn>0){if(ne<fe)return;ne<Ne&&(Ne=ne)}if(ne=Te-en,vi||!(ne>0)){if(ne/=vi,vi<0){if(ne<fe)return;ne<Ne&&(Ne=ne)}else if(vi>0){if(ne>Ne)return;ne>fe&&(fe=ne)}if(ne=Xe-en,vi||!(ne<0)){if(ne/=vi,vi<0){if(ne>Ne)return;ne>fe&&(fe=ne)}else if(vi>0){if(ne<fe)return;ne<Ne&&(Ne=ne)}return fe>0&&(St[0]=Ve+fe*Gn,St[1]=en+fe*vi),Ne<1&&(Nt[0]=Ve+Ne*Gn,Nt[1]=en+Ne*vi),!0}}}}}(vt,pt,t,i,a,u)?K&&(st.lineStart(),st.point(kt,xt),Z=!1):(U||(st.lineStart(),st.point(vt[0],vt[1])),st.point(pt[0],pt[1]),K||st.lineEnd(),Z=!1)}B=kt,z=xt,U=K}return bt}}var Wl,mu,vu,Yl=Kr(),Wa={sphere:Fn,point:Fn,lineStart:function(){Wa.point=c0,Wa.lineEnd=l0},lineEnd:Fn,polygonStart:Fn,polygonEnd:Fn};function l0(){Wa.point=Wa.lineEnd=Fn}function c0(t,i){Wl=t*=Ae,mu=ue(i*=Ae),vu=ve(i),Wa.point=h0}function h0(t,i){t*=Ae;var a=ue(i*=Ae),u=ve(i),c=un(t-Wl),d=ve(c),v=u*ue(c),m=vu*a-mu*u*d,_=mu*a+vu*u*d;Yl.add(Di(ti(v*v+m*m),_)),Wl=t,mu=a,vu=u}function Dd(t){return Yl.reset(),ir(t,Wa),+Yl}var Xl=[null,null],d0={type:"LineString",coordinates:Xl};function _u(t,i){return Xl[0]=t,Xl[1]=i,Dd(d0)}var Ed={Feature:function(t,i){return yu(t.geometry,i)},FeatureCollection:function(t,i){for(var a=t.features,u=-1,c=a.length;++u<c;)if(yu(a[u].geometry,i))return!0;return!1}},Ld={Sphere:function(){return!0},Point:function(t,i){return Id(t.coordinates,i)},MultiPoint:function(t,i){for(var a=t.coordinates,u=-1,c=a.length;++u<c;)if(Id(a[u],i))return!0;return!1},LineString:function(t,i){return Nd(t.coordinates,i)},MultiLineString:function(t,i){for(var a=t.coordinates,u=-1,c=a.length;++u<c;)if(Nd(a[u],i))return!0;return!1},Polygon:function(t,i){return Od(t.coordinates,i)},MultiPolygon:function(t,i){for(var a=t.coordinates,u=-1,c=a.length;++u<c;)if(Od(a[u],i))return!0;return!1},GeometryCollection:function(t,i){for(var a=t.geometries,u=-1,c=a.length;++u<c;)if(yu(a[u],i))return!0;return!1}};function yu(t,i){return!(!t||!Ld.hasOwnProperty(t.type))&&Ld[t.type](t,i)}function Id(t,i){return 0===_u(t,i)}function Nd(t,i){for(var a,u,c,d=0,v=t.length;d<v;d++){if(0===(u=_u(t[d],i))||d>0&&(c=_u(t[d],t[d-1]))>0&&a<=c&&u<=c&&(a+u-c)*(1-Math.pow((a-u)/c,2))<Us*c)return!0;a=u}return!1}function Od(t,i){return!!kd(t.map(f0),Rd(i))}function f0(t){return(t=t.map(Rd)).pop(),t}function Rd(t){return[t[0]*Ae,t[1]*Ae]}function zd(t,i,a){var u=ee(t,i-Se,a).concat(i);return function(c){return u.map(function(d){return[c,d]})}}function Fd(t,i,a){var u=ee(t,i-Se,a).concat(i);return function(c){return u.map(function(d){return[d,c]})}}function Hd(){var t,i,a,u,c,d,v,m,_,b,S,P,T=10,I=T,O=90,H=360,B=2.5;function z(){return{type:"MultiLineString",coordinates:U()}}function U(){return ee($s(u/O)*O,a,O).map(S).concat(ee($s(m/H)*H,v,H).map(P)).concat(ee($s(i/T)*T,t,T).filter(function(q){return un(q%O)>Se}).map(_)).concat(ee($s(d/I)*I,c,I).filter(function(q){return un(q%H)>Se}).map(b))}return z.lines=function(){return U().map(function(q){return{type:"LineString",coordinates:q}})},z.outline=function(){return{type:"Polygon",coordinates:[S(u).concat(P(v).slice(1),S(a).reverse().slice(1),P(m).reverse().slice(1))]}},z.extent=function(q){return arguments.length?z.extentMajor(q).extentMinor(q):z.extentMinor()},z.extentMajor=function(q){return arguments.length?(m=+q[0][1],v=+q[1][1],(u=+q[0][0])>(a=+q[1][0])&&(q=u,u=a,a=q),m>v&&(q=m,m=v,v=q),z.precision(B)):[[u,m],[a,v]]},z.extentMinor=function(q){return arguments.length?(d=+q[0][1],c=+q[1][1],(i=+q[0][0])>(t=+q[1][0])&&(q=i,i=t,t=q),d>c&&(q=d,d=c,c=q),z.precision(B)):[[i,d],[t,c]]},z.step=function(q){return arguments.length?z.stepMajor(q).stepMinor(q):z.stepMinor()},z.stepMajor=function(q){return arguments.length?(O=+q[0],H=+q[1],z):[O,H]},z.stepMinor=function(q){return arguments.length?(T=+q[0],I=+q[1],z):[T,I]},z.precision=function(q){return arguments.length?(B=+q,_=zd(d,c,90),b=Fd(i,t,B),S=zd(m,v,90),P=Fd(u,a,B),z):B},z.extentMajor([[-180,-90+Se],[180,90-Se]]).extentMinor([[-180,-80-Se],[180,80+Se]])}function Ao(t){return t}var Gd,Bd,ql,Ul,Kl=Kr(),$l=Kr(),Cr={point:Fn,lineStart:Fn,lineEnd:Fn,polygonStart:function(){Cr.lineStart=p0,Cr.lineEnd=m0},polygonEnd:function(){Cr.lineStart=Cr.lineEnd=Cr.point=Fn,Kl.add(un($l)),$l.reset()},result:function(){var t=Kl/2;return Kl.reset(),t}};function p0(){Cr.point=g0}function g0(t,i){Cr.point=jd,Gd=ql=t,Bd=Ul=i}function jd(t,i){$l.add(Ul*t-ql*i),ql=t,Ul=i}function m0(){jd(Gd,Bd)}var Wd,Yd,cr,hr,Ya=1/0,bu=Ya,ko=-Ya,xu=ko,wu={point:function(t,i){t<Ya&&(Ya=t),t>ko&&(ko=t),i<bu&&(bu=i),i>xu&&(xu=i)},lineStart:Fn,lineEnd:Fn,polygonStart:Fn,polygonEnd:Fn,result:function(){var t=[[Ya,bu],[ko,xu]];return ko=xu=-(bu=Ya=1/0),t}},Ql=0,Zl=0,Po=0,Su=0,Tu=0,Xa=0,Jl=0,Vl=0,Mo=0,Vi={point:pa,lineStart:Xd,lineEnd:qd,polygonStart:function(){Vi.lineStart=y0,Vi.lineEnd=b0},polygonEnd:function(){Vi.point=pa,Vi.lineStart=Xd,Vi.lineEnd=qd},result:function(){var t=Mo?[Jl/Mo,Vl/Mo]:Xa?[Su/Xa,Tu/Xa]:Po?[Ql/Po,Zl/Po]:[NaN,NaN];return Ql=Zl=Po=Su=Tu=Xa=Jl=Vl=Mo=0,t}};function pa(t,i){Ql+=t,Zl+=i,++Po}function Xd(){Vi.point=v0}function v0(t,i){Vi.point=_0,pa(cr=t,hr=i)}function _0(t,i){var a=t-cr,u=i-hr,c=ti(a*a+u*u);Su+=c*(cr+t)/2,Tu+=c*(hr+i)/2,Xa+=c,pa(cr=t,hr=i)}function qd(){Vi.point=pa}function y0(){Vi.point=x0}function b0(){Ud(Wd,Yd)}function x0(t,i){Vi.point=Ud,pa(Wd=cr=t,Yd=hr=i)}function Ud(t,i){var a=t-cr,u=i-hr,c=ti(a*a+u*u);Su+=c*(cr+t)/2,Tu+=c*(hr+i)/2,Xa+=c,Jl+=(c=hr*t-cr*i)*(cr+t),Vl+=c*(hr+i),Mo+=3*c,pa(cr=t,hr=i)}function Kd(t){this._context=t}Kd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,i){switch(this._point){case 0:this._context.moveTo(t,i),this._point=1;break;case 1:this._context.lineTo(t,i);break;default:this._context.moveTo(t+this._radius,i),this._context.arc(t,i,this._radius,0,Mi)}},result:Fn};var tc,$d,Qd,Do,Eo,ec=Kr(),Lo={point:Fn,lineStart:function(){Lo.point=w0},lineEnd:function(){tc&&Zd($d,Qd),Lo.point=Fn},polygonStart:function(){tc=!0},polygonEnd:function(){tc=null},result:function(){var t=+ec;return ec.reset(),t}};function w0(t,i){Lo.point=Zd,$d=Do=t,Qd=Eo=i}function Zd(t,i){ec.add(ti((Do-=t)*Do+(Eo-=i)*Eo)),Do=t,Eo=i}function Jd(){this._string=[]}function Vd(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Io(t){return function(i){var a=new nc;for(var u in t)a[u]=t[u];return a.stream=i,a}}function nc(){}function ic(t,i,a){var u=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=u&&t.clipExtent(null),ir(a,t.stream(wu)),i(wu.result()),null!=u&&t.clipExtent(u),t}function Cu(t,i,a){return ic(t,function(u){var c=i[1][0]-i[0][0],d=i[1][1]-i[0][1],v=Math.min(c/(u[1][0]-u[0][0]),d/(u[1][1]-u[0][1])),m=+i[0][0]+(c-v*(u[1][0]+u[0][0]))/2,_=+i[0][1]+(d-v*(u[1][1]+u[0][1]))/2;t.scale(150*v).translate([m,_])},a)}function rc(t,i,a){return Cu(t,[[0,0],i],a)}function ac(t,i,a){return ic(t,function(u){var c=+i,d=c/(u[1][0]-u[0][0]),v=(c-d*(u[1][0]+u[0][0]))/2,m=-d*u[0][1];t.scale(150*d).translate([v,m])},a)}function oc(t,i,a){return ic(t,function(u){var c=+i,d=c/(u[1][1]-u[0][1]),v=-d*u[0][0],m=(c-d*(u[1][1]+u[0][1]))/2;t.scale(150*d).translate([v,m])},a)}Jd.prototype={_radius:4.5,_circle:Vd(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,i){switch(this._point){case 0:this._string.push("M",t,",",i),this._point=1;break;case 1:this._string.push("L",t,",",i);break;default:null==this._circle&&(this._circle=Vd(this._radius)),this._string.push("M",t,",",i,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},nc.prototype={constructor:nc,point:function(t,i){this.stream.point(t,i)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var S0=ve(30*Ae);function ef(t,i){return+i?function(a,u){function c(d,v,m,_,b,S,P,T,I,O,H,B,z,U){var q=P-d,Z=T-v,st=q*q+Z*Z;if(st>4*u&&z--){var ft=_+O,bt=b+H,Ot=S+B,ct=ti(ft*ft+bt*bt+Ot*Ot),kt=Ei(Ot/=ct),xt=un(un(Ot)-1)<Se||un(m-I)<Se?(m+I)/2:Di(bt,ft),K=a(xt,kt),vt=K[0],pt=K[1],St=vt-d,Nt=pt-v,Qt=Z*St-q*Nt;(Qt*Qt/st>u||un((q*St+Z*Nt)/st-.5)>.3||_*O+b*H+S*B<S0)&&(c(d,v,m,_,b,S,vt,pt,xt,ft/=ct,bt/=ct,Ot,z,U),U.point(vt,pt),c(vt,pt,xt,ft,bt,Ot,P,T,I,O,H,B,z,U))}}return function(d){var v,m,_,b,S,P,T,I,O,H,B,z,U={point:q,lineStart:Z,lineEnd:ft,polygonStart:function(){d.polygonStart(),U.lineStart=bt},polygonEnd:function(){d.polygonEnd(),U.lineStart=Z}};function q(kt,xt){kt=a(kt,xt),d.point(kt[0],kt[1])}function Z(){I=NaN,U.point=st,d.lineStart()}function st(kt,xt){var K=da([kt,xt]),vt=a(kt,xt);c(I,O,T,H,B,z,I=vt[0],O=vt[1],T=kt,H=K[0],B=K[1],z=K[2],16,d),d.point(I,O)}function ft(){U.point=q,d.lineEnd()}function bt(){Z(),U.point=Ot,U.lineEnd=ct}function Ot(kt,xt){st(v=kt,xt),m=I,_=O,b=H,S=B,P=z,U.point=st}function ct(){c(I,O,T,H,B,z,m,_,v,b,S,P,16,d),U.lineEnd=ft,ft()}return U}}(t,i):(a=t,Io({point:function(u,c){u=a(u,c),this.stream.point(u[0],u[1])}}));var a}var T0=Io({point:function(t,i){this.stream.point(t*Ae,i*Ae)}});function nf(t,i,a,u,c,d){var v=ve(d),m=ue(d),_=v*t,b=m*t,S=v/t,P=m/t,T=(m*a-v*i)/t,I=(m*i+v*a)/t;function O(H,B){return[_*(H*=u)-b*(B*=c)+i,a-b*H-_*B]}return O.invert=function(H,B){return[u*(S*H-P*B+T),c*(I-P*H-S*B)]},O}function dr(t){return sc(function(){return t})()}function sc(t){var i,a,u,c,d,v,m,_,b,S,P=150,T=480,I=250,O=0,H=0,B=0,z=0,U=0,q=0,Z=1,st=1,ft=null,bt=jl,Ot=null,ct=Ao,kt=.5;function xt(St){return _(St[0]*Ae,St[1]*Ae)}function K(St){return(St=_.invert(St[0],St[1]))&&[St[0]*kn,St[1]*kn]}function vt(){var St=nf(P,0,0,Z,st,q).apply(null,i(O,H)),Nt=(q?nf:function(Qt,Te,Ce,Xe,ne){function Ve(en,fe){return[Te+Qt*(en*=Xe),Ce-Qt*(fe*=ne)]}return Ve.invert=function(en,fe){return[(en-Te)/Qt*Xe,(Ce-fe)/Qt*ne]},Ve})(P,T-St[0],I-St[1],Z,st,q);return a=Hl(B,z,U),m=zl(i,Nt),_=zl(a,m),v=ef(m,kt),pt()}function pt(){return b=S=null,xt}return xt.stream=function(St){return b&&S===St?b:b=T0((Nt=a,Io({point:function(Qt,Te){var Ce=Nt(Qt,Te);return this.stream.point(Ce[0],Ce[1])}}))(bt(v(ct(S=St)))));var Nt},xt.preclip=function(St){return arguments.length?(bt=St,ft=void 0,pt()):bt},xt.postclip=function(St){return arguments.length?(ct=St,Ot=u=c=d=null,pt()):ct},xt.clipAngle=function(St){return arguments.length?(bt=+St?Md(ft=St*Ae):(ft=null,jl),pt()):ft*kn},xt.clipExtent=function(St){return arguments.length?(ct=null==St?(Ot=u=c=d=null,Ao):gu(Ot=+St[0][0],u=+St[0][1],c=+St[1][0],d=+St[1][1]),pt()):null==Ot?null:[[Ot,u],[c,d]]},xt.scale=function(St){return arguments.length?(P=+St,vt()):P},xt.translate=function(St){return arguments.length?(T=+St[0],I=+St[1],vt()):[T,I]},xt.center=function(St){return arguments.length?(O=St[0]%360*Ae,H=St[1]%360*Ae,vt()):[O*kn,H*kn]},xt.rotate=function(St){return arguments.length?(B=St[0]%360*Ae,z=St[1]%360*Ae,U=St.length>2?St[2]%360*Ae:0,vt()):[B*kn,z*kn,U*kn]},xt.angle=function(St){return arguments.length?(q=St%360*Ae,vt()):q*kn},xt.reflectX=function(St){return arguments.length?(Z=St?-1:1,vt()):Z<0},xt.reflectY=function(St){return arguments.length?(st=St?-1:1,vt()):st<0},xt.precision=function(St){return arguments.length?(v=ef(m,kt=St*St),pt()):ti(kt)},xt.fitExtent=function(St,Nt){return Cu(xt,St,Nt)},xt.fitSize=function(St,Nt){return rc(xt,St,Nt)},xt.fitWidth=function(St,Nt){return ac(xt,St,Nt)},xt.fitHeight=function(St,Nt){return oc(xt,St,Nt)},function(){return i=t.apply(this,arguments),xt.invert=i.invert&&K,vt()}}function uc(t){var i=0,a=Qe/3,u=sc(t),c=u(i,a);return c.parallels=function(d){return arguments.length?u(i=d[0]*Ae,a=d[1]*Ae):[i*kn,a*kn]},c}function rf(t,i){var a=ue(t),u=(a+ue(i))/2;if(un(u)<Se)return function(m){var _=ve(m);function b(S,P){return[S*_,ue(P)/_]}return b.invert=function(S,P){return[S/_,Ei(P*_)]},b}(t);var c=1+a*(2*u-a),d=ti(c)/u;function v(m,_){var b=ti(c-2*u*ue(_))/u;return[b*ue(m*=u),d-b*ve(m)]}return v.invert=function(m,_){var b=d-_,S=Di(m,un(b))*Ji(b);return b*u<0&&(S-=Qe*Ji(m)*Ji(b)),[S/u,Ei((c-(m*m+b*b)*u*u)/(2*u))]},v}function Au(){return uc(rf).scale(155.424).center([0,33.6442])}function af(){return Au().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function of(t){return function(i,a){var u=ve(i),c=ve(a),d=t(u*c);return[d*c*ue(i),d*ue(a)]}}function No(t){return function(i,a){var u=ti(i*i+a*a),c=t(u),d=ue(c),v=ve(c);return[Di(i*d,u*v),Ei(u&&a*d/u)]}}var lc=of(function(t){return ti(2/(1+t))});lc.invert=No(function(t){return 2*Ei(t/2)});var cc=of(function(t){return(t=Jh(t))&&t/ue(t)});function Oo(t,i){return[t,Qs(Al((Yn+i)/2))]}function sf(t){var i,a,u,c=dr(t),d=c.center,v=c.scale,m=c.translate,_=c.clipExtent,b=null;function S(){var P=Qe*v(),T=c(xd(c.rotate()).invert([0,0]));return _(null==b?[[T[0]-P,T[1]-P],[T[0]+P,T[1]+P]]:t===Oo?[[Math.max(T[0]-P,b),i],[Math.min(T[0]+P,a),u]]:[[b,Math.max(T[1]-P,i)],[a,Math.min(T[1]+P,u)]])}return c.scale=function(P){return arguments.length?(v(P),S()):v()},c.translate=function(P){return arguments.length?(m(P),S()):m()},c.center=function(P){return arguments.length?(d(P),S()):d()},c.clipExtent=function(P){return arguments.length?(null==P?b=i=a=u=null:(b=+P[0][0],i=+P[0][1],a=+P[1][0],u=+P[1][1]),S()):null==b?null:[[b,i],[a,u]]},S()}function ku(t){return Al((Yn+t)/2)}function uf(t,i){var a=ve(t),u=t===i?ue(t):Qs(a/ve(i))/Qs(ku(i)/ku(t)),c=a*Cl(ku(t),u)/u;if(!u)return Oo;function d(v,m){c>0?m<-Yn+Se&&(m=-Yn+Se):m>Yn-Se&&(m=Yn-Se);var _=c/Cl(ku(m),u);return[_*ue(u*v),c-_*ve(u*v)]}return d.invert=function(v,m){var _=c-m,b=Ji(u)*ti(v*v+_*_),S=Di(v,un(_))*Ji(_);return _*u<0&&(S-=Qe*Ji(v)*Ji(_)),[S/u,2*Ha(Cl(c/b,1/u))-Yn]},d}function Ro(t,i){return[t,i]}function lf(t,i){var a=ve(t),u=t===i?ue(t):(a-ve(i))/(i-t),c=a/u+t;if(un(u)<Se)return Ro;function d(v,m){var _=c-m,b=u*v;return[_*ue(b),c-_*ve(b)]}return d.invert=function(v,m){var _=c-m,b=Di(v,un(_))*Ji(_);return _*u<0&&(b-=Qe*Ji(v)*Ji(_)),[b/u,c-Ji(u)*ti(v*v+_*_)]},d}cc.invert=No(function(t){return t}),Oo.invert=function(t,i){return[t,2*Ha(Zh(i))-Yn]},Ro.invert=Ro;var zo=1.340264,Fo=-.081106,Ho=893e-6,Go=.003796,Pu=ti(3)/2;function hc(t,i){var a=Ei(Pu*ue(i)),u=a*a,c=u*u*u;return[t*ve(a)/(Pu*(zo+3*Fo*u+c*(7*Ho+9*Go*u))),a*(zo+Fo*u+c*(Ho+Go*u))]}function dc(t,i){var a=ve(i),u=ve(t)*a;return[a*ue(t)/u,ue(i)/u]}function fc(t,i){var a=i*i,u=a*a;return[t*(.8707-.131979*a+u*(u*(.003971*a-.001529*u)-.013791)),i*(1.007226+a*(.015085+u*(.028874*a-.044475-.005916*u)))]}function pc(t,i){return[ve(i)*ue(t),ue(i)]}function gc(t,i){var a=ve(i),u=1+ve(t)*a;return[a*ue(t)/u,ue(i)/u]}function mc(t,i){return[Qs(Al((Yn+i)/2)),-t]}function C0(t,i){return t.parent===i.parent?1:2}function A0(t,i){return t+i.x}function k0(t,i){return Math.max(t,i.y)}function P0(t){var i=0,a=t.children,u=a&&a.length;if(u)for(;--u>=0;)i+=a[u].value;else i=1;t.value=i}function vc(t,i){var a,u,c,d,v,m=new qa(t),_=+t.value&&(m.value=t.value),b=[m];for(null==i&&(i=M0);a=b.pop();)if(_&&(a.value=+a.data.value),(c=i(a.data))&&(v=c.length))for(a.children=new Array(v),d=v-1;d>=0;--d)b.push(u=a.children[d]=new qa(c[d])),u.parent=a,u.depth=a.depth+1;return m.eachBefore(cf)}function M0(t){return t.children}function D0(t){t.data=t.data.data}function cf(t){var i=0;do{t.height=i}while((t=t.parent)&&t.height<++i)}function qa(t){this.data=t,this.depth=this.height=0,this.parent=null}hc.invert=function(t,i){for(var a,u=i,c=u*u,d=c*c*c,v=0;v<12&&(d=(c=(u-=a=(u*(zo+Fo*c+d*(Ho+Go*c))-i)/(zo+3*Fo*c+d*(7*Ho+9*Go*c)))*u)*c*c,!(un(a)<Us));++v);return[Pu*t*(zo+3*Fo*c+d*(7*Ho+9*Go*c))/ve(u),Ei(ue(u)/Pu)]},dc.invert=No(Ha),fc.invert=function(t,i){var a,u=i,c=25;do{var d=u*u,v=d*d;u-=a=(u*(1.007226+d*(.015085+v*(.028874*d-.044475-.005916*v)))-i)/(1.007226+d*(.045255+v*(.259866*d-.311325-.005916*11*v)))}while(un(a)>Se&&--c>0);return[t/(.8707+(d=u*u)*(d*(d*d*d*(.003971-.001529*d)-.013791)-.131979)),u]},pc.invert=No(Ei),gc.invert=No(function(t){return 2*Ha(t)}),mc.invert=function(t,i){return[-i,2*Ha(Zh(t))-Yn]},qa.prototype=vc.prototype={constructor:qa,count:function(){return this.eachAfter(P0)},each:function(t){var i,a,u,c,d=this,v=[d];do{for(i=v.reverse(),v=[];d=i.pop();)if(t(d),a=d.children)for(u=0,c=a.length;u<c;++u)v.push(a[u])}while(v.length);return this},eachAfter:function(t){for(var i,a,u,c=this,d=[c],v=[];c=d.pop();)if(v.push(c),i=c.children)for(a=0,u=i.length;a<u;++a)d.push(i[a]);for(;c=v.pop();)t(c);return this},eachBefore:function(t){for(var i,a,u=this,c=[u];u=c.pop();)if(t(u),i=u.children)for(a=i.length-1;a>=0;--a)c.push(i[a]);return this},sum:function(t){return this.eachAfter(function(i){for(var a=+t(i.data)||0,u=i.children,c=u&&u.length;--c>=0;)a+=u[c].value;i.value=a})},sort:function(t){return this.eachBefore(function(i){i.children&&i.children.sort(t)})},path:function(t){for(var i=this,a=function(d,v){if(d===v)return d;var m=d.ancestors(),_=v.ancestors(),b=null;for(d=m.pop(),v=_.pop();d===v;)b=d,d=m.pop(),v=_.pop();return b}(i,t),u=[i];i!==a;)u.push(i=i.parent);for(var c=u.length;t!==a;)u.splice(c,0,t),t=t.parent;return u},ancestors:function(){for(var t=this,i=[t];t=t.parent;)i.push(t);return i},descendants:function(){var t=[];return this.each(function(i){t.push(i)}),t},leaves:function(){var t=[];return this.eachBefore(function(i){i.children||t.push(i)}),t},links:function(){var t=this,i=[];return t.each(function(a){a!==t&&i.push({source:a.parent,target:a})}),i},copy:function(){return vc(this).eachBefore(D0)}};var E0=Array.prototype.slice;function hf(t){for(var i,a,u=0,c=(t=function(v){for(var m,_,b=v.length;b;)_=Math.random()*b--|0,m=v[b],v[b]=v[_],v[_]=m;return v}(E0.call(t))).length,d=[];u<c;)i=t[u],a&&df(a,i)?++u:(a=I0(d=L0(d,i)),u=0);return a}function L0(t,i){var a,u;if(_c(i,t))return[i];for(a=0;a<t.length;++a)if(Mu(i,t[a])&&_c(Bo(t[a],i),t))return[t[a],i];for(a=0;a<t.length-1;++a)for(u=a+1;u<t.length;++u)if(Mu(Bo(t[a],t[u]),i)&&Mu(Bo(t[a],i),t[u])&&Mu(Bo(t[u],i),t[a])&&_c(ff(t[a],t[u],i),t))return[t[a],t[u],i];throw new Error}function Mu(t,i){var a=t.r-i.r,u=i.x-t.x,c=i.y-t.y;return a<0||a*a<u*u+c*c}function df(t,i){var a=t.r-i.r+1e-6,u=i.x-t.x,c=i.y-t.y;return a>0&&a*a>u*u+c*c}function _c(t,i){for(var a=0;a<i.length;++a)if(!df(t,i[a]))return!1;return!0}function I0(t){switch(t.length){case 1:return{x:(i=t[0]).x,y:i.y,r:i.r};case 2:return Bo(t[0],t[1]);case 3:return ff(t[0],t[1],t[2])}var i}function Bo(t,i){var a=t.x,u=t.y,c=t.r,d=i.x,v=i.y,m=i.r,_=d-a,b=v-u,S=m-c,P=Math.sqrt(_*_+b*b);return{x:(a+d+_/P*S)/2,y:(u+v+b/P*S)/2,r:(P+c+m)/2}}function ff(t,i,a){var u=t.x,c=t.y,d=t.r,v=i.x,m=i.y,_=i.r,b=a.x,S=a.y,P=a.r,T=u-v,I=u-b,O=c-m,H=c-S,B=_-d,z=P-d,U=u*u+c*c-d*d,q=U-v*v-m*m+_*_,Z=U-b*b-S*S+P*P,st=I*O-T*H,ft=(O*Z-H*q)/(2*st)-u,bt=(H*B-O*z)/st,Ot=(I*q-T*Z)/(2*st)-c,ct=(T*z-I*B)/st,kt=bt*bt+ct*ct-1,xt=2*(d+ft*bt+Ot*ct),K=ft*ft+Ot*Ot-d*d,vt=-(kt?(xt+Math.sqrt(xt*xt-4*kt*K))/(2*kt):K/xt);return{x:u+ft+bt*vt,y:c+Ot+ct*vt,r:vt}}function pf(t,i,a){var u,c,d,v,m=t.x-i.x,_=t.y-i.y,b=m*m+_*_;b?(c=i.r+a.r,v=t.r+a.r,(c*=c)>(v*=v)?(u=(b+v-c)/(2*b),d=Math.sqrt(Math.max(0,v/b-u*u)),a.x=t.x-u*m-d*_,a.y=t.y-u*_+d*m):(u=(b+c-v)/(2*b),d=Math.sqrt(Math.max(0,c/b-u*u)),a.x=i.x+u*m-d*_,a.y=i.y+u*_+d*m)):(a.x=i.x+a.r,a.y=i.y)}function gf(t,i){var a=t.r+i.r-1e-6,u=i.x-t.x,c=i.y-t.y;return a>0&&a*a>u*u+c*c}function mf(t){var i=t._,a=t.next._,u=i.r+a.r,c=(i.x*a.r+a.x*i.r)/u,d=(i.y*a.r+a.y*i.r)/u;return c*c+d*d}function Du(t){this._=t,this.next=null,this.previous=null}function vf(t){if(!(c=t.length))return 0;var i,a,u,c,d,v,m,_,b,S,P;if((i=t[0]).x=0,i.y=0,!(c>1))return i.r;if(i.x=-(a=t[1]).r,a.x=i.r,a.y=0,!(c>2))return i.r+a.r;pf(a,i,u=t[2]),i=new Du(i),a=new Du(a),u=new Du(u),i.next=u.previous=a,a.next=i.previous=u,u.next=a.previous=i;t:for(m=3;m<c;++m){pf(i._,a._,u=t[m]),u=new Du(u),_=a.next,b=i.previous,S=a._.r,P=i._.r;do{if(S<=P){if(gf(_._,u._)){i.next=a=_,a.previous=i,--m;continue t}S+=_._.r,_=_.next}else{if(gf(b._,u._)){(i=b).next=a,a.previous=i,--m;continue t}P+=b._.r,b=b.previous}}while(_!==b.next);for(u.previous=i,u.next=a,i.next=a.previous=a=u,d=mf(i);(u=u.next)!==a;)(v=mf(u))<d&&(i=u,d=v);a=i.next}for(i=[a._],u=a;(u=u.next)!==a;)i.push(u._);for(u=hf(i),m=0;m<c;++m)(i=t[m]).x-=u.x,i.y-=u.y;return u.r}function N0(t){return null==t?null:Eu(t)}function Eu(t){if("function"!=typeof t)throw new Error;return t}function ga(){return 0}function Ua(t){return function(){return t}}function O0(t){return Math.sqrt(t.value)}function _f(t){return function(i){i.children||(i.r=Math.max(0,+t(i)||0))}}function yc(t,i){return function(a){if(u=a.children){var u,c,d,v=u.length,m=t(a)*i||0;if(m)for(c=0;c<v;++c)u[c].r+=m;if(d=vf(u),m)for(c=0;c<v;++c)u[c].r-=m;a.r=d+m}}}function yf(t){return function(i){var a=i.parent;i.r*=t,a&&(i.x=a.x+t*i.x,i.y=a.y+t*i.y)}}function bf(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function jo(t,i,a,u,c){for(var d,v=t.children,m=-1,_=v.length,b=t.value&&(u-i)/t.value;++m<_;)(d=v[m]).y0=a,d.y1=c,d.x0=i,d.x1=i+=d.value*b}var R0={depth:-1},wf={};function z0(t){return t.id}function F0(t){return t.parentId}function H0(t,i){return t.parent===i.parent?1:2}function bc(t){var i=t.children;return i?i[0]:t.t}function xc(t){var i=t.children;return i?i[i.length-1]:t.t}function G0(t,i,a){var u=a/(i.i-t.i);i.c-=u,i.s+=a,t.c+=u,i.z+=a,i.m+=a}function B0(t,i,a){return t.a.parent===i.parent?t.a:a}function Lu(t,i){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=i}function Iu(t,i,a,u,c){for(var d,v=t.children,m=-1,_=v.length,b=t.value&&(c-a)/t.value;++m<_;)(d=v[m]).x0=i,d.x1=u,d.y0=a,d.y1=a+=d.value*b}Lu.prototype=Object.create(qa.prototype);var Sf=(1+Math.sqrt(5))/2;function Tf(t,i,a,u,c,d){for(var v,m,_,b,S,P,T,I,O,H,B,z=[],U=i.children,q=0,Z=0,st=U.length,ft=i.value;q<st;){_=c-a,b=d-u;do{S=U[Z++].value}while(!S&&Z<st);for(P=T=S,B=S*S*(H=Math.max(b/_,_/b)/(ft*t)),O=Math.max(T/B,B/P);Z<st;++Z){if(S+=m=U[Z].value,m<P&&(P=m),m>T&&(T=m),B=S*S*H,(I=Math.max(T/B,B/P))>O){S-=m;break}O=I}z.push(v={value:S,dice:_<b,children:U.slice(q,Z)}),v.dice?jo(v,a,u,c,ft?u+=b*S/ft:d):Iu(v,a,u,ft?a+=_*S/ft:c,d),ft-=S,q=Z}return z}var Cf=function t(i){function a(u,c,d,v,m){Tf(i,u,c,d,v,m)}return a.ratio=function(u){return t((u=+u)>1?u:1)},a}(Sf),j0=function t(i){function a(u,c,d,v,m){if((_=u._squarify)&&_.ratio===i)for(var _,b,S,P,T,I=-1,O=_.length,H=u.value;++I<O;){for(S=(b=_[I]).children,P=b.value=0,T=S.length;P<T;++P)b.value+=S[P].value;b.dice?jo(b,c,d,v,d+=(m-d)*b.value/H):Iu(b,c,d,c+=(v-c)*b.value/H,m),H-=b.value}else u._squarify=_=Tf(i,u,c,d,v,m),_.ratio=i}return a.ratio=function(u){return t((u=+u)>1?u:1)},a}(Sf);function W0(t,i,a){return(i[0]-t[0])*(a[1]-t[1])-(i[1]-t[1])*(a[0]-t[0])}function Y0(t,i){return t[0]-i[0]||t[1]-i[1]}function Af(t){for(var i=t.length,a=[0,1],u=2,c=2;c<i;++c){for(;u>1&&W0(t[a[u-2]],t[a[u-1]],t[c])<=0;)--u;a[u++]=c}return a.slice(0,u)}function Ka(){return Math.random()}var X0=function t(i){function a(u,c){return u=null==u?0:+u,c=null==c?1:+c,1===arguments.length?(c=u,u=0):c-=u,function(){return i()*c+u}}return a.source=t,a}(Ka),kf=function t(i){function a(u,c){var d,v;return u=null==u?0:+u,c=null==c?1:+c,function(){var m;if(null!=d)m=d,d=null;else do{d=2*i()-1,m=2*i()-1,v=d*d+m*m}while(!v||v>1);return u+c*m*Math.sqrt(-2*Math.log(v)/v)}}return a.source=t,a}(Ka),q0=function t(i){function a(){var u=kf.source(i).apply(this,arguments);return function(){return Math.exp(u())}}return a.source=t,a}(Ka),Pf=function t(i){function a(u){return function(){for(var c=0,d=0;d<u;++d)c+=i();return c}}return a.source=t,a}(Ka),U0=function t(i){function a(u){var c=Pf.source(i)(u);return function(){return c()/u}}return a.source=t,a}(Ka),K0=function t(i){function a(u){return function(){return-Math.log(1-i())/u}}return a.source=t,a}(Ka);function ar(t,i){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(i).domain(t)}return this}function Ar(t,i){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(i).domain(t)}return this}var Mf=Array.prototype,Nu=Mf.map,ma=Mf.slice,wc={name:"implicit"};function Sc(){var t=xr(),i=[],a=[],u=wc;function c(d){var v=d+"",m=t.get(v);if(!m){if(u!==wc)return u;t.set(v,m=i.push(d))}return a[(m-1)%a.length]}return c.domain=function(d){if(!arguments.length)return i.slice();i=[],t=xr();for(var v,m,_=-1,b=d.length;++_<b;)t.has(m=(v=d[_])+"")||t.set(m,i.push(v));return c},c.range=function(d){return arguments.length?(a=ma.call(d),c):a.slice()},c.unknown=function(d){return arguments.length?(u=d,c):u},c.copy=function(){return Sc(i,a).unknown(u)},ar.apply(c,arguments),c}function Tc(){var t,i,a=Sc().unknown(void 0),u=a.domain,c=a.range,d=[0,1],v=!1,m=0,_=0,b=.5;function S(){var P=u().length,T=d[1]<d[0],I=d[T-0],O=d[1-T];t=(O-I)/Math.max(1,P-m+2*_),v&&(t=Math.floor(t)),I+=(O-I-t*(P-m))*b,i=t*(1-m),v&&(I=Math.round(I),i=Math.round(i));var H=ee(P).map(function(B){return I+t*B});return c(T?H.reverse():H)}return delete a.unknown,a.domain=function(P){return arguments.length?(u(P),S()):u()},a.range=function(P){return arguments.length?(d=[+P[0],+P[1]],S()):d.slice()},a.rangeRound=function(P){return d=[+P[0],+P[1]],v=!0,S()},a.bandwidth=function(){return i},a.step=function(){return t},a.round=function(P){return arguments.length?(v=!!P,S()):v},a.padding=function(P){return arguments.length?(m=Math.min(1,_=+P),S()):m},a.paddingInner=function(P){return arguments.length?(m=Math.min(1,P),S()):m},a.paddingOuter=function(P){return arguments.length?(_=+P,S()):_},a.align=function(P){return arguments.length?(b=Math.max(0,Math.min(1,P)),S()):b},a.copy=function(){return Tc(u(),d).round(v).paddingInner(m).paddingOuter(_).align(b)},ar.apply(S(),arguments)}function Cc(t){return+t}var Df=[0,1];function mi(t){return t}function Ac(t,i){return(i-=t=+t)?function(a){return(a-t)/i}:(a=isNaN(i)?NaN:.5,function(){return a});var a}function Ef(t){var i,a=t[0],u=t[t.length-1];return a>u&&(i=a,a=u,u=i),function(c){return Math.max(a,Math.min(u,c))}}function $0(t,i,a){var u=t[0],c=t[1],d=i[0],v=i[1];return c<u?(u=Ac(c,u),d=a(v,d)):(u=Ac(u,c),d=a(d,v)),function(m){return d(u(m))}}function Q0(t,i,a){var u=Math.min(t.length,i.length)-1,c=new Array(u),d=new Array(u),v=-1;for(t[u]<t[0]&&(t=t.slice().reverse(),i=i.slice().reverse());++v<u;)c[v]=Ac(t[v],t[v+1]),d[v]=a(i[v],i[v+1]);return function(m){var _=pe(t,m,1,u)-1;return d[_](c[_](m))}}function Wo(t,i){return i.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ou(){var t,i,a,u,c,d,v=Df,m=Df,_=$i,b=mi;function S(){return u=Math.min(v.length,m.length)>2?Q0:$0,c=d=null,P}function P(T){return isNaN(T=+T)?a:(c||(c=u(v.map(t),m,_)))(t(b(T)))}return P.invert=function(T){return b(i((d||(d=u(m,v.map(t),an)))(T)))},P.domain=function(T){return arguments.length?(v=Nu.call(T,Cc),b===mi||(b=Ef(v)),S()):v.slice()},P.range=function(T){return arguments.length?(m=ma.call(T),S()):m.slice()},P.rangeRound=function(T){return m=ma.call(T),_=fi,S()},P.clamp=function(T){return arguments.length?(b=T?Ef(v):mi,P):b!==mi},P.interpolate=function(T){return arguments.length?(_=T,S()):_},P.unknown=function(T){return arguments.length?(a=T,P):a},function(T,I){return t=T,i=I,S()}}function Lf(t,i){return Ou()(t,i)}function If(t,i,a,u){var c,d=oe(t,i,a);switch((u=wo(u??",f")).type){case"s":var v=Math.max(Math.abs(t),Math.abs(i));return null!=u.precision||isNaN(c=Kh(d,v))||(u.precision=c),r.formatPrefix(u,v);case"":case"e":case"g":case"p":case"r":null!=u.precision||isNaN(c=$h(d,Math.max(Math.abs(t),Math.abs(i))))||(u.precision=c-("e"===u.type));break;case"f":case"%":null!=u.precision||isNaN(c=Uh(d))||(u.precision=c-2*("%"===u.type))}return r.format(u)}function va(t){var i=t.domain;return t.ticks=function(a){var u=i();return Q(u[0],u[u.length-1],a??10)},t.tickFormat=function(a,u){var c=i();return If(c[0],c[c.length-1],a??10,u)},t.nice=function(a){null==a&&(a=10);var u,c=i(),d=0,v=c.length-1,m=c[d],_=c[v];return _<m&&(u=m,m=_,_=u,u=d,d=v,v=u),(u=E(m,_,a))>0?u=E(m=Math.floor(m/u)*u,_=Math.ceil(_/u)*u,a):u<0&&(u=E(m=Math.ceil(m*u)/u,_=Math.floor(_*u)/u,a)),u>0?(c[d]=Math.floor(m/u)*u,c[v]=Math.ceil(_/u)*u,i(c)):u<0&&(c[d]=Math.ceil(m*u)/u,c[v]=Math.floor(_*u)/u,i(c)),t},t}function Nf(t,i){var a,u=0,c=(t=t.slice()).length-1,d=t[u],v=t[c];return v<d&&(a=u,u=c,c=a,a=d,d=v,v=a),t[u]=i.floor(d),t[c]=i.ceil(v),t}function Of(t){return Math.log(t)}function Rf(t){return Math.exp(t)}function Z0(t){return-Math.log(-t)}function J0(t){return-Math.exp(-t)}function V0(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zf(t){return function(i){return-t(-i)}}function kc(t){var i,a,u=t(Of,Rf),c=u.domain,d=10;function v(){return i=(m=d)===Math.E?Math.log:10===m&&Math.log10||2===m&&Math.log2||(m=Math.log(m),function(_){return Math.log(_)/m}),a=function(m){return 10===m?V0:m===Math.E?Math.exp:function(_){return Math.pow(m,_)}}(d),c()[0]<0?(i=zf(i),a=zf(a),t(Z0,J0)):t(Of,Rf),u;var m}return u.base=function(m){return arguments.length?(d=+m,v()):d},u.domain=function(m){return arguments.length?(c(m),v()):c()},u.ticks=function(m){var _,b=c(),S=b[0],P=b[b.length-1];(_=P<S)&&(H=S,S=P,P=H);var T,I,O,H=i(S),B=i(P),z=null==m?10:+m,U=[];if(!(d%1)&&B-H<z){if(H=Math.round(H)-1,B=Math.round(B)+1,S>0){for(;H<B;++H)for(I=1,T=a(H);I<d;++I)if(!((O=T*I)<S)){if(O>P)break;U.push(O)}}else for(;H<B;++H)for(I=d-1,T=a(H);I>=1;--I)if(!((O=T*I)<S)){if(O>P)break;U.push(O)}}else U=Q(H,B,Math.min(B-H,z)).map(a);return _?U.reverse():U},u.tickFormat=function(m,_){if(null==_&&(_=10===d?".0e":","),"function"!=typeof _&&(_=r.format(_)),m===1/0)return _;null==m&&(m=10);var b=Math.max(1,d*m/u.ticks().length);return function(S){var P=S/a(Math.round(i(S)));return P*d<d-.5&&(P*=d),P<=b?_(S):""}},u.nice=function(){return c(Nf(c(),{floor:function(m){return a(Math.floor(i(m)))},ceil:function(m){return a(Math.ceil(i(m)))}}))},u}function Ff(t){return function(i){return Math.sign(i)*Math.log1p(Math.abs(i/t))}}function Hf(t){return function(i){return Math.sign(i)*Math.expm1(Math.abs(i))*t}}function Pc(t){var i=1,a=t(Ff(i),Hf(i));return a.constant=function(u){return arguments.length?t(Ff(i=+u),Hf(i)):i},va(a)}function Gf(t){return function(i){return i<0?-Math.pow(-i,t):Math.pow(i,t)}}function tv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ev(t){return t<0?-t*t:t*t}function Mc(t){var i=t(mi,mi),a=1;function u(){return 1===a?t(mi,mi):.5===a?t(tv,ev):t(Gf(a),Gf(1/a))}return i.exponent=function(c){return arguments.length?(a=+c,u()):a},va(i)}function Dc(){var t=Mc(Ou());return t.copy=function(){return Wo(t,Dc()).exponent(t.exponent())},ar.apply(t,arguments),t}var Ec=new Date,Lc=new Date;function ai(t,i,a,u){function c(d){return t(d=0===arguments.length?new Date:new Date(+d)),d}return c.floor=function(d){return t(d=new Date(+d)),d},c.ceil=function(d){return t(d=new Date(d-1)),i(d,1),t(d),d},c.round=function(d){var v=c(d),m=c.ceil(d);return d-v<m-d?v:m},c.offset=function(d,v){return i(d=new Date(+d),null==v?1:Math.floor(v)),d},c.range=function(d,v,m){var _,b=[];if(d=c.ceil(d),m=null==m?1:Math.floor(m),!(d<v&&m>0))return b;do{b.push(_=new Date(+d)),i(d,m),t(d)}while(_<d&&d<v);return b},c.filter=function(d){return ai(function(v){if(v>=v)for(;t(v),!d(v);)v.setTime(v-1)},function(v,m){if(v>=v)if(m<0)for(;++m<=0;)for(;i(v,-1),!d(v););else for(;--m>=0;)for(;i(v,1),!d(v););})},a&&(c.count=function(d,v){return Ec.setTime(+d),Lc.setTime(+v),t(Ec),t(Lc),Math.floor(a(Ec,Lc))},c.every=function(d){return d=Math.floor(d),isFinite(d)&&d>0?d>1?c.filter(u?function(v){return u(v)%d==0}:function(v){return c.count(0,v)%d==0}):c:null}),c}var _a=ai(function(){},function(t,i){t.setTime(+t+i)},function(t,i){return i-t});_a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ai(function(i){i.setTime(Math.floor(i/t)*t)},function(i,a){i.setTime(+i+a*t)},function(i,a){return(a-i)/t}):_a:null};var Bf=_a.range,ya=6e4,jf=6048e5,Yo=ai(function(t){t.setTime(t-t.getMilliseconds())},function(t,i){t.setTime(+t+1e3*i)},function(t,i){return(i-t)/1e3},function(t){return t.getUTCSeconds()}),Wf=Yo.range,Ic=ai(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,i){t.setTime(+t+i*ya)},function(t,i){return(i-t)/ya},function(t){return t.getMinutes()}),nv=Ic.range,Nc=ai(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*ya)},function(t,i){t.setTime(+t+36e5*i)},function(t,i){return(i-t)/36e5},function(t){return t.getHours()}),iv=Nc.range,Xo=ai(function(t){t.setHours(0,0,0,0)},function(t,i){t.setDate(t.getDate()+i)},function(t,i){return(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*ya)/864e5},function(t){return t.getDate()-1}),rv=Xo.range;function ba(t){return ai(function(i){i.setDate(i.getDate()-(i.getDay()+7-t)%7),i.setHours(0,0,0,0)},function(i,a){i.setDate(i.getDate()+7*a)},function(i,a){return(a-i-(a.getTimezoneOffset()-i.getTimezoneOffset())*ya)/jf})}var qo=ba(0),Uo=ba(1),Yf=ba(2),Xf=ba(3),Ko=ba(4),qf=ba(5),Uf=ba(6),Kf=qo.range,av=Uo.range,ov=Yf.range,sv=Xf.range,uv=Ko.range,lv=qf.range,cv=Uf.range,Oc=ai(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,i){t.setMonth(t.getMonth()+i)},function(t,i){return i.getMonth()-t.getMonth()+12*(i.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),hv=Oc.range,kr=ai(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,i){t.setFullYear(t.getFullYear()+i)},function(t,i){return i.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});kr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ai(function(i){i.setFullYear(Math.floor(i.getFullYear()/t)*t),i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,a){i.setFullYear(i.getFullYear()+a*t)}):null};var dv=kr.range,Rc=ai(function(t){t.setUTCSeconds(0,0)},function(t,i){t.setTime(+t+i*ya)},function(t,i){return(i-t)/ya},function(t){return t.getUTCMinutes()}),fv=Rc.range,zc=ai(function(t){t.setUTCMinutes(0,0,0)},function(t,i){t.setTime(+t+36e5*i)},function(t,i){return(i-t)/36e5},function(t){return t.getUTCHours()}),pv=zc.range,$o=ai(function(t){t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCDate(t.getUTCDate()+i)},function(t,i){return(i-t)/864e5},function(t){return t.getUTCDate()-1}),gv=$o.range;function xa(t){return ai(function(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-t)%7),i.setUTCHours(0,0,0,0)},function(i,a){i.setUTCDate(i.getUTCDate()+7*a)},function(i,a){return(a-i)/jf})}var Qo=xa(0),Zo=xa(1),$f=xa(2),Qf=xa(3),Jo=xa(4),Zf=xa(5),Jf=xa(6),Vf=Qo.range,mv=Zo.range,vv=$f.range,_v=Qf.range,yv=Jo.range,bv=Zf.range,xv=Jf.range,Fc=ai(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCMonth(t.getUTCMonth()+i)},function(t,i){return i.getUTCMonth()-t.getUTCMonth()+12*(i.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),wv=Fc.range,Pr=ai(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCFullYear(t.getUTCFullYear()+i)},function(t,i){return i.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Pr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ai(function(i){i.setUTCFullYear(Math.floor(i.getUTCFullYear()/t)*t),i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,a){i.setUTCFullYear(i.getUTCFullYear()+a*t)}):null};var Sv=Pr.range;function Hc(t){if(0<=t.y&&t.y<100){var i=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return i.setFullYear(t.y),i}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Gc(t){if(0<=t.y&&t.y<100){var i=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return i.setUTCFullYear(t.y),i}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vo(t,i,a){return{y:t,m:i,d:a,H:0,M:0,S:0,L:0}}function tp(t){var i=t.dateTime,a=t.date,u=t.time,c=t.periods,d=t.days,v=t.shortDays,m=t.months,_=t.shortMonths,b=ts(c),S=es(c),P=ts(d),T=es(d),I=ts(v),O=es(v),H=ts(m),B=es(m),z=ts(_),U=es(_),q={a:function(ct){return v[ct.getDay()]},A:function(ct){return d[ct.getDay()]},b:function(ct){return _[ct.getMonth()]},B:function(ct){return m[ct.getMonth()]},c:null,d:rp,e:rp,f:Kv,H:Xv,I:qv,j:Uv,L:ap,m:$v,M:Qv,p:function(ct){return c[+(ct.getHours()>=12)]},q:function(ct){return 1+~~(ct.getMonth()/3)},Q:lp,s:cp,S:Zv,u:Jv,U:Vv,V:t_,w:e_,W:n_,x:null,X:null,y:i_,Y:r_,Z:a_,"%":up},Z={a:function(ct){return v[ct.getUTCDay()]},A:function(ct){return d[ct.getUTCDay()]},b:function(ct){return _[ct.getUTCMonth()]},B:function(ct){return m[ct.getUTCMonth()]},c:null,d:op,e:op,f:l_,H:o_,I:s_,j:u_,L:sp,m:c_,M:h_,p:function(ct){return c[+(ct.getUTCHours()>=12)]},q:function(ct){return 1+~~(ct.getUTCMonth()/3)},Q:lp,s:cp,S:d_,u:f_,U:p_,V:g_,w:m_,W:v_,x:null,X:null,y:__,Y:y_,Z:b_,"%":up},st={a:function(ct,kt,xt){var K=I.exec(kt.slice(xt));return K?(ct.w=O[K[0].toLowerCase()],xt+K[0].length):-1},A:function(ct,kt,xt){var K=P.exec(kt.slice(xt));return K?(ct.w=T[K[0].toLowerCase()],xt+K[0].length):-1},b:function(ct,kt,xt){var K=z.exec(kt.slice(xt));return K?(ct.m=U[K[0].toLowerCase()],xt+K[0].length):-1},B:function(ct,kt,xt){var K=H.exec(kt.slice(xt));return K?(ct.m=B[K[0].toLowerCase()],xt+K[0].length):-1},c:function(ct,kt,xt){return Ot(ct,i,kt,xt)},d:np,e:np,f:Bv,H:ip,I:ip,j:zv,L:Gv,m:Rv,M:Fv,p:function(ct,kt,xt){var K=b.exec(kt.slice(xt));return K?(ct.p=S[K[0].toLowerCase()],xt+K[0].length):-1},q:Ov,Q:Wv,s:Yv,S:Hv,u:Pv,U:Mv,V:Dv,w:kv,W:Ev,x:function(ct,kt,xt){return Ot(ct,a,kt,xt)},X:function(ct,kt,xt){return Ot(ct,u,kt,xt)},y:Iv,Y:Lv,Z:Nv,"%":jv};function ft(ct,kt){return function(xt){var K,vt,pt,St=[],Nt=-1,Qt=0,Te=ct.length;for(xt instanceof Date||(xt=new Date(+xt));++Nt<Te;)37===ct.charCodeAt(Nt)&&(St.push(ct.slice(Qt,Nt)),null!=(vt=ep[K=ct.charAt(++Nt)])?K=ct.charAt(++Nt):vt="e"===K?" ":"0",(pt=kt[K])&&(K=pt(xt,vt)),St.push(K),Qt=Nt+1);return St.push(ct.slice(Qt,Nt)),St.join("")}}function bt(ct,kt){return function(xt){var K,vt,pt=Vo(1900,void 0,1);if(Ot(pt,ct,xt+="",0)!=xt.length)return null;if("Q"in pt)return new Date(pt.Q);if("s"in pt)return new Date(1e3*pt.s+("L"in pt?pt.L:0));if(!kt||"Z"in pt||(pt.Z=0),"p"in pt&&(pt.H=pt.H%12+12*pt.p),void 0===pt.m&&(pt.m="q"in pt?pt.q:0),"V"in pt){if(pt.V<1||pt.V>53)return null;"w"in pt||(pt.w=1),"Z"in pt?(vt=(K=Gc(Vo(pt.y,0,1))).getUTCDay(),K=vt>4||0===vt?Zo.ceil(K):Zo(K),K=$o.offset(K,7*(pt.V-1)),pt.y=K.getUTCFullYear(),pt.m=K.getUTCMonth(),pt.d=K.getUTCDate()+(pt.w+6)%7):(vt=(K=Hc(Vo(pt.y,0,1))).getDay(),K=vt>4||0===vt?Uo.ceil(K):Uo(K),K=Xo.offset(K,7*(pt.V-1)),pt.y=K.getFullYear(),pt.m=K.getMonth(),pt.d=K.getDate()+(pt.w+6)%7)}else("W"in pt||"U"in pt)&&("w"in pt||(pt.w="u"in pt?pt.u%7:"W"in pt?1:0),vt="Z"in pt?Gc(Vo(pt.y,0,1)).getUTCDay():Hc(Vo(pt.y,0,1)).getDay(),pt.m=0,pt.d="W"in pt?(pt.w+6)%7+7*pt.W-(vt+5)%7:pt.w+7*pt.U-(vt+6)%7);return"Z"in pt?(pt.H+=pt.Z/100|0,pt.M+=pt.Z%100,Gc(pt)):Hc(pt)}}function Ot(ct,kt,xt,K){for(var vt,pt,St=0,Nt=kt.length,Qt=xt.length;St<Nt;){if(K>=Qt)return-1;if(37===(vt=kt.charCodeAt(St++))){if(vt=kt.charAt(St++),!(pt=st[vt in ep?kt.charAt(St++):vt])||(K=pt(ct,xt,K))<0)return-1}else if(vt!=xt.charCodeAt(K++))return-1}return K}return q.x=ft(a,q),q.X=ft(u,q),q.c=ft(i,q),Z.x=ft(a,Z),Z.X=ft(u,Z),Z.c=ft(i,Z),{format:function(ct){var kt=ft(ct+="",q);return kt.toString=function(){return ct},kt},parse:function(ct){var kt=bt(ct+="",!1);return kt.toString=function(){return ct},kt},utcFormat:function(ct){var kt=ft(ct+="",Z);return kt.toString=function(){return ct},kt},utcParse:function(ct){var kt=bt(ct+="",!0);return kt.toString=function(){return ct},kt}}}var $a,ep={"-":"",_:" ",0:"0"},ci=/^\s*\d+/,Tv=/^%/,Cv=/[\\^$*+?|[\]().{}]/g;function Sn(t,i,a){var u=t<0?"-":"",c=(u?-t:t)+"",d=c.length;return u+(d<a?new Array(a-d+1).join(i)+c:c)}function Av(t){return t.replace(Cv,"\\$&")}function ts(t){return new RegExp("^(?:"+t.map(Av).join("|")+")","i")}function es(t){for(var i={},a=-1,u=t.length;++a<u;)i[t[a].toLowerCase()]=a;return i}function kv(t,i,a){var u=ci.exec(i.slice(a,a+1));return u?(t.w=+u[0],a+u[0].length):-1}function Pv(t,i,a){var u=ci.exec(i.slice(a,a+1));return u?(t.u=+u[0],a+u[0].length):-1}function Mv(t,i,a){var u=ci.exec(i.slice(a,a+2));return u?(t.U=+u[0],a+u[0].length):-1}function Dv(t,i,a){var u=ci.exec(i.slice(a,a+2));return u?(t.V=+u[0],a+u[0].length):-1}function Ev(t,i,a){var u=ci.exec(i.slice(a,a+2));return u?(t.W=+u[0],a+u[0].length):-1}function Lv(t,i,a){var u=ci.exec(i.slice(a,a+4));return u?(t.y=+u[0],a+u[0].length):-1}function Iv(t,i,a){var u=ci.exec(i.slice(a,a+2));return u?(t.y=+u[0]+(+u[0]>68?1900:2e3),a+u[0].length):-1}function Nv(t,i,a){var u=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(i.slice(a,a+6));return u?(t.Z=u[1]?0:-(u[2]+(u[3]||"00")),a+u[0].length):-1}function Ov(t,i,a){var u=ci.exec(i.slice(a,a+1));return u?(t.q=3*u[0]-3,a+u[0].length):-1}function Rv(t,i,a){var u=ci.exec(i.slice(a,a+2));return u?(t.m=u[0]-1,a+u[0].length):-1}function np(t,i,a){var u=ci.exec(i.slice(a,a+2));return u?(t.d=+u[0],a+u[0].length):-1}function zv(t,i,a){var u=ci.exec(i.slice(a,a+3));return u?(t.m=0,t.d=+u[0],a+u[0].length):-1}function ip(t,i,a){var u=ci.exec(i.slice(a,a+2));return u?(t.H=+u[0],a+u[0].length):-1}function Fv(t,i,a){var u=ci.exec(i.slice(a,a+2));return u?(t.M=+u[0],a+u[0].length):-1}function Hv(t,i,a){var u=ci.exec(i.slice(a,a+2));return u?(t.S=+u[0],a+u[0].length):-1}function Gv(t,i,a){var u=ci.exec(i.slice(a,a+3));return u?(t.L=+u[0],a+u[0].length):-1}function Bv(t,i,a){var u=ci.exec(i.slice(a,a+6));return u?(t.L=Math.floor(u[0]/1e3),a+u[0].length):-1}function jv(t,i,a){var u=Tv.exec(i.slice(a,a+1));return u?a+u[0].length:-1}function Wv(t,i,a){var u=ci.exec(i.slice(a));return u?(t.Q=+u[0],a+u[0].length):-1}function Yv(t,i,a){var u=ci.exec(i.slice(a));return u?(t.s=+u[0],a+u[0].length):-1}function rp(t,i){return Sn(t.getDate(),i,2)}function Xv(t,i){return Sn(t.getHours(),i,2)}function qv(t,i){return Sn(t.getHours()%12||12,i,2)}function Uv(t,i){return Sn(1+Xo.count(kr(t),t),i,3)}function ap(t,i){return Sn(t.getMilliseconds(),i,3)}function Kv(t,i){return ap(t,i)+"000"}function $v(t,i){return Sn(t.getMonth()+1,i,2)}function Qv(t,i){return Sn(t.getMinutes(),i,2)}function Zv(t,i){return Sn(t.getSeconds(),i,2)}function Jv(t){var i=t.getDay();return 0===i?7:i}function Vv(t,i){return Sn(qo.count(kr(t)-1,t),i,2)}function t_(t,i){var a=t.getDay();return t=a>=4||0===a?Ko(t):Ko.ceil(t),Sn(Ko.count(kr(t),t)+(4===kr(t).getDay()),i,2)}function e_(t){return t.getDay()}function n_(t,i){return Sn(Uo.count(kr(t)-1,t),i,2)}function i_(t,i){return Sn(t.getFullYear()%100,i,2)}function r_(t,i){return Sn(t.getFullYear()%1e4,i,4)}function a_(t){var i=t.getTimezoneOffset();return(i>0?"-":(i*=-1,"+"))+Sn(i/60|0,"0",2)+Sn(i%60,"0",2)}function op(t,i){return Sn(t.getUTCDate(),i,2)}function o_(t,i){return Sn(t.getUTCHours(),i,2)}function s_(t,i){return Sn(t.getUTCHours()%12||12,i,2)}function u_(t,i){return Sn(1+$o.count(Pr(t),t),i,3)}function sp(t,i){return Sn(t.getUTCMilliseconds(),i,3)}function l_(t,i){return sp(t,i)+"000"}function c_(t,i){return Sn(t.getUTCMonth()+1,i,2)}function h_(t,i){return Sn(t.getUTCMinutes(),i,2)}function d_(t,i){return Sn(t.getUTCSeconds(),i,2)}function f_(t){var i=t.getUTCDay();return 0===i?7:i}function p_(t,i){return Sn(Qo.count(Pr(t)-1,t),i,2)}function g_(t,i){var a=t.getUTCDay();return t=a>=4||0===a?Jo(t):Jo.ceil(t),Sn(Jo.count(Pr(t),t)+(4===Pr(t).getUTCDay()),i,2)}function m_(t){return t.getUTCDay()}function v_(t,i){return Sn(Zo.count(Pr(t)-1,t),i,2)}function __(t,i){return Sn(t.getUTCFullYear()%100,i,2)}function y_(t,i){return Sn(t.getUTCFullYear()%1e4,i,4)}function b_(){return"+0000"}function up(){return"%"}function lp(t){return+t}function cp(t){return Math.floor(+t/1e3)}function hp(t){return $a=tp(t),r.timeFormat=$a.format,r.timeParse=$a.parse,r.utcFormat=$a.utcFormat,r.utcParse=$a.utcParse,$a}hp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var x_=Date.prototype.toISOString?function(t){return t.toISOString()}:r.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),w_=+new Date("2000-01-01T00:00:00.000Z")?function(t){var i=new Date(t);return isNaN(i)?null:i}:r.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),is=6e4,rs=60*is,as=24*rs,dp=30*as,Bc=365*as;function T_(t){return new Date(t)}function C_(t){return t instanceof Date?+t:+new Date(+t)}function jc(t,i,a,u,c,d,v,m,_){var b=Lf(mi,mi),S=b.invert,P=b.domain,T=_(".%L"),I=_(":%S"),O=_("%I:%M"),H=_("%I %p"),B=_("%a %d"),z=_("%b %d"),U=_("%B"),q=_("%Y"),Z=[[v,1,1e3],[v,5,5e3],[v,15,15e3],[v,30,3e4],[d,1,is],[d,5,5*is],[d,15,15*is],[d,30,30*is],[c,1,rs],[c,3,3*rs],[c,6,6*rs],[c,12,12*rs],[u,1,as],[u,2,2*as],[a,1,6048e5],[i,1,dp],[i,3,3*dp],[t,1,Bc]];function st(bt){return(v(bt)<bt?T:d(bt)<bt?I:c(bt)<bt?O:u(bt)<bt?H:i(bt)<bt?a(bt)<bt?B:z:t(bt)<bt?U:q)(bt)}function ft(bt,Ot,ct,kt){if(null==bt&&(bt=10),"number"==typeof bt){var xt=Math.abs(ct-Ot)/bt,K=bn(function(vt){return vt[2]}).right(Z,xt);K===Z.length?(kt=oe(Ot/Bc,ct/Bc,bt),bt=t):K?(kt=(K=Z[xt/Z[K-1][2]<Z[K][2]/xt?K-1:K])[1],bt=K[0]):(kt=Math.max(oe(Ot,ct,bt),1),bt=m)}return null==kt?bt:bt.every(kt)}return b.invert=function(bt){return new Date(S(bt))},b.domain=function(bt){return arguments.length?P(Nu.call(bt,C_)):P().map(T_)},b.ticks=function(bt,Ot){var ct,kt=P(),xt=kt[0],K=kt[kt.length-1],vt=K<xt;return vt&&(ct=xt,xt=K,K=ct),ct=(ct=ft(bt,xt,K,Ot))?ct.range(xt,K+1):[],vt?ct.reverse():ct},b.tickFormat=function(bt,Ot){return null==Ot?st:_(Ot)},b.nice=function(bt,Ot){var ct=P();return(bt=ft(bt,ct[0],ct[ct.length-1],Ot))?P(Nf(ct,bt)):b},b.copy=function(){return Wo(b,jc(t,i,a,u,c,d,v,m,_))},b}function Ru(){var t,i,a,u,c,d=0,v=1,m=mi,_=!1;function b(S){return isNaN(S=+S)?c:m(0===a?.5:(S=(u(S)-t)*a,_?Math.max(0,Math.min(1,S)):S))}return b.domain=function(S){return arguments.length?(t=u(d=+S[0]),i=u(v=+S[1]),a=t===i?0:1/(i-t),b):[d,v]},b.clamp=function(S){return arguments.length?(_=!!S,b):_},b.interpolator=function(S){return arguments.length?(m=S,b):m},b.unknown=function(S){return arguments.length?(c=S,b):c},function(S){return u=S,t=S(d),i=S(v),a=t===i?0:1/(i-t),b}}function Qr(t,i){return i.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Wc(){var t=Mc(Ru());return t.copy=function(){return Qr(t,Wc()).exponent(t.exponent())},Ar.apply(t,arguments)}function zu(){var t,i,a,u,c,d,v,m=0,_=.5,b=1,S=mi,P=!1;function T(I){return isNaN(I=+I)?v:(I=.5+((I=+d(I))-i)*(I<i?u:c),S(P?Math.max(0,Math.min(1,I)):I))}return T.domain=function(I){return arguments.length?(t=d(m=+I[0]),i=d(_=+I[1]),a=d(b=+I[2]),u=t===i?0:.5/(i-t),c=i===a?0:.5/(a-i),T):[m,_,b]},T.clamp=function(I){return arguments.length?(P=!!I,T):P},T.interpolator=function(I){return arguments.length?(S=I,T):S},T.unknown=function(I){return arguments.length?(v=I,T):v},function(I){return d=I,t=I(m),i=I(_),a=I(b),u=t===i?0:.5/(i-t),c=i===a?0:.5/(a-i),T}}function Yc(){var t=Mc(zu());return t.copy=function(){return Qr(t,Yc()).exponent(t.exponent())},Ar.apply(t,arguments)}function $e(t){for(var i=t.length/6|0,a=new Array(i),u=0;u<i;)a[u]="#"+t.slice(6*u,6*++u);return a}var A_=$e("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),k_=$e("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),P_=$e("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),M_=$e("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),D_=$e("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),E_=$e("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),L_=$e("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),I_=$e("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),N_=$e("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),O_=$e("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Pn(t){return jn(t[t.length-1])}var fp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map($e),R_=Pn(fp),pp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map($e),z_=Pn(pp),gp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map($e),F_=Pn(gp),mp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map($e),H_=Pn(mp),vp=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map($e),G_=Pn(vp),_p=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map($e),B_=Pn(_p),yp=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map($e),j_=Pn(yp),bp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map($e),W_=Pn(bp),xp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map($e),Y_=Pn(xp),wp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map($e),X_=Pn(wp),Sp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map($e),q_=Pn(Sp),Tp=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map($e),U_=Pn(Tp),Cp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map($e),K_=Pn(Cp),Ap=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map($e),$_=Pn(Ap),kp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map($e),Q_=Pn(kp),Pp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map($e),Z_=Pn(Pp),Mp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map($e),J_=Pn(Mp),Dp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map($e),V_=Pn(Dp),Ep=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map($e),ty=Pn(Ep),Lp=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map($e),ey=Pn(Lp),Ip=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map($e),ny=Pn(Ip),Np=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map($e),iy=Pn(Np),Op=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map($e),ry=Pn(Op),Rp=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map($e),ay=Pn(Rp),zp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map($e),oy=Pn(zp),Fp=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map($e),sy=Pn(Fp),Hp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map($e),uy=Pn(Hp),ly=Fi(Y(300,.5,0),Y(-240,.5,1)),cy=Fi(Y(-100,.75,.35),Y(80,1.5,.8)),hy=Fi(Y(260,.75,.35),Y(80,1.5,.8)),Fu=Y(),Hu=Nr(),dy=Math.PI/3,fy=2*Math.PI/3;function Gu(t){var i=t.length;return function(a){return t[Math.max(0,Math.min(i-1,Math.floor(a*i)))]}}var py=Gu($e("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),gy=Gu($e("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),my=Gu($e("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),vy=Gu($e("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Je(t){return function(){return t}}var Gp=Math.abs,wi=Math.atan2,wa=Math.cos,_y=Math.max,Xc=Math.min,fr=Math.sin,Qa=Math.sqrt,Si=1e-12,Zr=Math.PI,Bu=Zr/2,Jr=2*Zr;function Bp(t){return t>=1?Bu:t<=-1?-Bu:Math.asin(t)}function yy(t){return t.innerRadius}function by(t){return t.outerRadius}function xy(t){return t.startAngle}function wy(t){return t.endAngle}function Sy(t){return t&&t.padAngle}function ju(t,i,a,u,c,d,v){var m=t-a,_=i-u,b=(v?d:-d)/Qa(m*m+_*_),S=b*_,P=-b*m,T=t+S,I=i+P,O=a+S,H=u+P,B=(T+O)/2,z=(I+H)/2,U=O-T,q=H-I,Z=U*U+q*q,st=c-d,ft=T*H-O*I,bt=(q<0?-1:1)*Qa(_y(0,st*st*Z-ft*ft)),Ot=(ft*q-U*bt)/Z,ct=(-ft*U-q*bt)/Z,kt=(ft*q+U*bt)/Z,xt=(-ft*U+q*bt)/Z,K=Ot-B,vt=ct-z,pt=kt-B,St=xt-z;return K*K+vt*vt>pt*pt+St*St&&(Ot=kt,ct=xt),{cx:Ot,cy:ct,x01:-S,y01:-P,x11:Ot*(c/st-1),y11:ct*(c/st-1)}}function jp(t){this._context=t}function Wu(t){return new jp(t)}function qc(t){return t[0]}function Uc(t){return t[1]}function Kc(){var t=qc,i=Uc,a=Je(!0),u=null,c=Wu,d=null;function v(m){var _,b,S,P=m.length,T=!1;for(null==u&&(d=c(S=Xr())),_=0;_<=P;++_)!(_<P&&a(b=m[_],_,m))===T&&((T=!T)?d.lineStart():d.lineEnd()),T&&d.point(+t(b,_,m),+i(b,_,m));if(S)return d=null,S+""||null}return v.x=function(m){return arguments.length?(t="function"==typeof m?m:Je(+m),v):t},v.y=function(m){return arguments.length?(i="function"==typeof m?m:Je(+m),v):i},v.defined=function(m){return arguments.length?(a="function"==typeof m?m:Je(!!m),v):a},v.curve=function(m){return arguments.length?(c=m,null!=u&&(d=c(u)),v):c},v.context=function(m){return arguments.length?(null==m?u=d=null:d=c(u=m),v):u},v}function Wp(){var t=qc,i=null,a=Je(0),u=Uc,c=Je(!0),d=null,v=Wu,m=null;function _(S){var P,T,I,O,H,B=S.length,z=!1,U=new Array(B),q=new Array(B);for(null==d&&(m=v(H=Xr())),P=0;P<=B;++P){if(!(P<B&&c(O=S[P],P,S))===z)if(z=!z)T=P,m.areaStart(),m.lineStart();else{for(m.lineEnd(),m.lineStart(),I=P-1;I>=T;--I)m.point(U[I],q[I]);m.lineEnd(),m.areaEnd()}z&&(U[P]=+t(O,P,S),q[P]=+a(O,P,S),m.point(i?+i(O,P,S):U[P],u?+u(O,P,S):q[P]))}if(H)return m=null,H+""||null}function b(){return Kc().defined(c).curve(v).context(d)}return _.x=function(S){return arguments.length?(t="function"==typeof S?S:Je(+S),i=null,_):t},_.x0=function(S){return arguments.length?(t="function"==typeof S?S:Je(+S),_):t},_.x1=function(S){return arguments.length?(i=null==S?null:"function"==typeof S?S:Je(+S),_):i},_.y=function(S){return arguments.length?(a="function"==typeof S?S:Je(+S),u=null,_):a},_.y0=function(S){return arguments.length?(a="function"==typeof S?S:Je(+S),_):a},_.y1=function(S){return arguments.length?(u=null==S?null:"function"==typeof S?S:Je(+S),_):u},_.lineX0=_.lineY0=function(){return b().x(t).y(a)},_.lineY1=function(){return b().x(t).y(u)},_.lineX1=function(){return b().x(i).y(a)},_.defined=function(S){return arguments.length?(c="function"==typeof S?S:Je(!!S),_):c},_.curve=function(S){return arguments.length?(v=S,null!=d&&(m=v(d)),_):v},_.context=function(S){return arguments.length?(null==S?d=m=null:m=v(d=S),_):d},_}function Ty(t,i){return i<t?-1:i>t?1:i>=t?0:NaN}function Cy(t){return t}jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:this._context.lineTo(t,i)}}};var Yp=$c(Wu);function Xp(t){this._curve=t}function $c(t){function i(a){return new Xp(t(a))}return i._curve=t,i}function os(t){var i=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(a){return arguments.length?i($c(a)):i()._curve},t}function qp(){return os(Kc().curve(Yp))}function Up(){var t=Wp().curve(Yp),i=t.curve,a=t.lineX0,u=t.lineX1,c=t.lineY0,d=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return os(a())},delete t.lineX0,t.lineEndAngle=function(){return os(u())},delete t.lineX1,t.lineInnerRadius=function(){return os(c())},delete t.lineY0,t.lineOuterRadius=function(){return os(d())},delete t.lineY1,t.curve=function(v){return arguments.length?i($c(v)):i()._curve},t}function ss(t,i){return[(i=+i)*Math.cos(t-=Math.PI/2),i*Math.sin(t)]}Xp.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,i){this._curve.point(i*Math.sin(t),i*-Math.cos(t))}};var Qc=Array.prototype.slice;function Ay(t){return t.source}function ky(t){return t.target}function Zc(t){var i=Ay,a=ky,u=qc,c=Uc,d=null;function v(){var m,_=Qc.call(arguments),b=i.apply(this,_),S=a.apply(this,_);if(d||(d=m=Xr()),t(d,+u.apply(this,(_[0]=b,_)),+c.apply(this,_),+u.apply(this,(_[0]=S,_)),+c.apply(this,_)),m)return d=null,m+""||null}return v.source=function(m){return arguments.length?(i=m,v):i},v.target=function(m){return arguments.length?(a=m,v):a},v.x=function(m){return arguments.length?(u="function"==typeof m?m:Je(+m),v):u},v.y=function(m){return arguments.length?(c="function"==typeof m?m:Je(+m),v):c},v.context=function(m){return arguments.length?(d=m??null,v):d},v}function Py(t,i,a,u,c){t.moveTo(i,a),t.bezierCurveTo(i=(i+u)/2,a,i,c,u,c)}function My(t,i,a,u,c){t.moveTo(i,a),t.bezierCurveTo(i,a=(a+c)/2,u,a,u,c)}function Dy(t,i,a,u,c){var d=ss(i,a),v=ss(i,a=(a+c)/2),m=ss(u,a),_=ss(u,c);t.moveTo(d[0],d[1]),t.bezierCurveTo(v[0],v[1],m[0],m[1],_[0],_[1])}var Jc={draw:function(t,i){var a=Math.sqrt(i/Zr);t.moveTo(a,0),t.arc(0,0,a,0,Jr)}},Kp={draw:function(t,i){var a=Math.sqrt(i/5)/2;t.moveTo(-3*a,-a),t.lineTo(-a,-a),t.lineTo(-a,-3*a),t.lineTo(a,-3*a),t.lineTo(a,-a),t.lineTo(3*a,-a),t.lineTo(3*a,a),t.lineTo(a,a),t.lineTo(a,3*a),t.lineTo(-a,3*a),t.lineTo(-a,a),t.lineTo(-3*a,a),t.closePath()}},$p=Math.sqrt(1/3),Ey=2*$p,Qp={draw:function(t,i){var a=Math.sqrt(i/Ey),u=a*$p;t.moveTo(0,-a),t.lineTo(u,0),t.lineTo(0,a),t.lineTo(-u,0),t.closePath()}},Zp=Math.sin(Zr/10)/Math.sin(7*Zr/10),Ly=Math.sin(Jr/10)*Zp,Iy=-Math.cos(Jr/10)*Zp,Jp={draw:function(t,i){var a=Math.sqrt(.8908130915292852*i),u=Ly*a,c=Iy*a;t.moveTo(0,-a),t.lineTo(u,c);for(var d=1;d<5;++d){var v=Jr*d/5,m=Math.cos(v),_=Math.sin(v);t.lineTo(_*a,-m*a),t.lineTo(m*u-_*c,_*u+m*c)}t.closePath()}},Vp={draw:function(t,i){var a=Math.sqrt(i),u=-a/2;t.rect(u,u,a,a)}},Vc=Math.sqrt(3),tg={draw:function(t,i){var a=-Math.sqrt(i/(3*Vc));t.moveTo(0,2*a),t.lineTo(-Vc*a,-a),t.lineTo(Vc*a,-a),t.closePath()}},tr=Math.sqrt(3)/2,th=1/Math.sqrt(12),Ny=3*(th/2+1),eg={draw:function(t,i){var a=Math.sqrt(i/Ny),u=a/2,c=a*th,d=u,v=a*th+a,m=-d,_=v;t.moveTo(u,c),t.lineTo(d,v),t.lineTo(m,_),t.lineTo(-.5*u-tr*c,tr*u+-.5*c),t.lineTo(-.5*d-tr*v,tr*d+-.5*v),t.lineTo(-.5*m-tr*_,tr*m+-.5*_),t.lineTo(-.5*u+tr*c,-.5*c-tr*u),t.lineTo(-.5*d+tr*v,-.5*v-tr*d),t.lineTo(-.5*m+tr*_,-.5*_-tr*m),t.closePath()}},Oy=[Jc,Kp,Qp,Vp,Jp,tg,eg];function Vr(){}function Yu(t,i,a){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+i)/6,(t._y0+4*t._y1+a)/6)}function Xu(t){this._context=t}function ng(t){this._context=t}function ig(t){this._context=t}function rg(t,i){this._basis=new Xu(t),this._beta=i}Xu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yu(this,t,i)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}},ng.prototype={areaStart:Vr,areaEnd:Vr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._x2=t,this._y2=i;break;case 1:this._point=2,this._x3=t,this._y3=i;break;case 2:this._point=3,this._x4=t,this._y4=i,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+i)/6);break;default:Yu(this,t,i)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}},ig.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+t)/6,u=(this._y0+4*this._y1+i)/6;this._line?this._context.lineTo(a,u):this._context.moveTo(a,u);break;case 3:this._point=4;default:Yu(this,t,i)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}},rg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,i=this._y,a=t.length-1;if(a>0)for(var u,c=t[0],d=i[0],v=t[a]-c,m=i[a]-d,_=-1;++_<=a;)this._basis.point(this._beta*t[_]+(1-this._beta)*(c+(u=_/a)*v),this._beta*i[_]+(1-this._beta)*(d+u*m));this._x=this._y=null,this._basis.lineEnd()},point:function(t,i){this._x.push(+t),this._y.push(+i)}};var Ry=function t(i){function a(u){return 1===i?new Xu(u):new rg(u,i)}return a.beta=function(u){return t(+u)},a}(.85);function qu(t,i,a){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-i),t._y2+t._k*(t._y1-a),t._x2,t._y2)}function eh(t,i){this._context=t,this._k=(1-i)/6}eh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:qu(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2,this._x1=t,this._y1=i;break;case 2:this._point=3;default:qu(this,t,i)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var zy=function t(i){function a(u){return new eh(u,i)}return a.tension=function(u){return t(+u)},a}(0);function nh(t,i){this._context=t,this._k=(1-i)/6}nh.prototype={areaStart:Vr,areaEnd:Vr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=i);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:qu(this,t,i)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var Fy=function t(i){function a(u){return new nh(u,i)}return a.tension=function(u){return t(+u)},a}(0);function ih(t,i){this._context=t,this._k=(1-i)/6}ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qu(this,t,i)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var Hy=function t(i){function a(u){return new ih(u,i)}return a.tension=function(u){return t(+u)},a}(0);function rh(t,i,a){var u=t._x1,c=t._y1,d=t._x2,v=t._y2;if(t._l01_a>Si){var m=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,_=3*t._l01_a*(t._l01_a+t._l12_a);u=(u*m-t._x0*t._l12_2a+t._x2*t._l01_2a)/_,c=(c*m-t._y0*t._l12_2a+t._y2*t._l01_2a)/_}if(t._l23_a>Si){var b=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,S=3*t._l23_a*(t._l23_a+t._l12_a);d=(d*b+t._x1*t._l23_2a-i*t._l12_2a)/S,v=(v*b+t._y1*t._l23_2a-a*t._l12_2a)/S}t._context.bezierCurveTo(u,c,d,v,t._x2,t._y2)}function ag(t,i){this._context=t,this._alpha=i}ag.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){if(t=+t,i=+i,this._point){var a=this._x2-t,u=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+u*u,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3;default:rh(this,t,i)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var Gy=function t(i){function a(u){return i?new ag(u,i):new eh(u,0)}return a.alpha=function(u){return t(+u)},a}(.5);function og(t,i){this._context=t,this._alpha=i}og.prototype={areaStart:Vr,areaEnd:Vr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,i){if(t=+t,i=+i,this._point){var a=this._x2-t,u=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+u*u,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=i);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:rh(this,t,i)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var By=function t(i){function a(u){return i?new og(u,i):new nh(u,0)}return a.alpha=function(u){return t(+u)},a}(.5);function sg(t,i){this._context=t,this._alpha=i}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){if(t=+t,i=+i,this._point){var a=this._x2-t,u=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+u*u,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rh(this,t,i)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var jy=function t(i){function a(u){return i?new sg(u,i):new ih(u,0)}return a.alpha=function(u){return t(+u)},a}(.5);function ug(t){this._context=t}function lg(t){return t<0?-1:1}function cg(t,i,a){var u=t._x1-t._x0,c=i-t._x1,d=(t._y1-t._y0)/(u||c<0&&-0),v=(a-t._y1)/(c||u<0&&-0),m=(d*c+v*u)/(u+c);return(lg(d)+lg(v))*Math.min(Math.abs(d),Math.abs(v),.5*Math.abs(m))||0}function hg(t,i){var a=t._x1-t._x0;return a?(3*(t._y1-t._y0)/a-i)/2:i}function ah(t,i,a){var u=t._x0,d=t._x1,v=t._y1,m=(d-u)/3;t._context.bezierCurveTo(u+m,t._y0+m*i,d-m,v-m*a,d,v)}function Uu(t){this._context=t}function dg(t){this._context=new fg(t)}function fg(t){this._context=t}function pg(t){this._context=t}function gg(t){var i,a,u=t.length-1,c=new Array(u),d=new Array(u),v=new Array(u);for(c[0]=0,d[0]=2,v[0]=t[0]+2*t[1],i=1;i<u-1;++i)c[i]=1,d[i]=4,v[i]=4*t[i]+2*t[i+1];for(c[u-1]=2,d[u-1]=7,v[u-1]=8*t[u-1]+t[u],i=1;i<u;++i)d[i]-=a=c[i]/d[i-1],v[i]-=a*v[i-1];for(c[u-1]=v[u-1]/d[u-1],i=u-2;i>=0;--i)c[i]=(v[i]-c[i+1])/d[i];for(d[u-1]=(t[u]+c[u-1])/2,i=0;i<u-1;++i)d[i]=2*t[i+1]-c[i+1];return[c,d]}function Ku(t,i){this._context=t,this._t=i}function Za(t,i){if((c=t.length)>1)for(var a,u,c,d=1,v=t[i[0]],m=v.length;d<c;++d)for(u=v,v=t[i[d]],a=0;a<m;++a)v[a][1]+=v[a][0]=isNaN(u[a][1])?u[a][0]:u[a][1]}function Ja(t){for(var i=t.length,a=new Array(i);--i>=0;)a[i]=i;return a}function Wy(t,i){return t[i]}function mg(t){var i=t.map(Yy);return Ja(t).sort(function(a,u){return i[a]-i[u]})}function Yy(t){for(var i,a=-1,u=0,c=t.length,d=-1/0;++a<c;)(i=+t[a][1])>d&&(d=i,u=a);return u}function vg(t){var i=t.map(_g);return Ja(t).sort(function(a,u){return i[a]-i[u]})}function _g(t){for(var i,a=0,u=-1,c=t.length;++u<c;)(i=+t[u][1])&&(a+=i);return a}function yg(t){return function(){return t}}function Xy(t){return t[0]}function qy(t){return t[1]}function $u(){this._=null}function Qu(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function us(t,i){var a=i,u=i.R,c=a.U;c?c.L===a?c.L=u:c.R=u:t._=u,u.U=c,a.U=u,a.R=u.L,a.R&&(a.R.U=a),u.L=a}function ls(t,i){var a=i,u=i.L,c=a.U;c?c.L===a?c.L=u:c.R=u:t._=u,u.U=c,a.U=u,a.L=u.R,a.L&&(a.L.U=a),u.R=a}function bg(t){for(;t.L;)t=t.L;return t}function cs(t,i,a,u){var c=[null,null],d=Ti.push(c)-1;return c.left=t,c.right=i,a&&Zu(c,t,i,a),u&&Zu(c,i,t,u),qi[t.index].halfedges.push(d),qi[i.index].halfedges.push(d),c}function hs(t,i,a){var u=[i,a];return u.left=t,u}function Zu(t,i,a,u){t[0]||t[1]?t.left===a?t[1]=u:t[0]=u:(t[0]=u,t.left=i,t.right=a)}function Uy(t,i,a,u,c){var d,v=t[0],m=t[1],_=v[0],b=v[1],S=0,P=1,T=m[0]-_,I=m[1]-b;if(d=i-_,T||!(d>0)){if(d/=T,T<0){if(d<S)return;d<P&&(P=d)}else if(T>0){if(d>P)return;d>S&&(S=d)}if(d=u-_,T||!(d<0)){if(d/=T,T<0){if(d>P)return;d>S&&(S=d)}else if(T>0){if(d<S)return;d<P&&(P=d)}if(d=a-b,I||!(d>0)){if(d/=I,I<0){if(d<S)return;d<P&&(P=d)}else if(I>0){if(d>P)return;d>S&&(S=d)}if(d=c-b,I||!(d<0)){if(d/=I,I<0){if(d>P)return;d>S&&(S=d)}else if(I>0){if(d<S)return;d<P&&(P=d)}return!(S>0||P<1)||(S>0&&(t[0]=[_+S*T,b+S*I]),P<1&&(t[1]=[_+P*T,b+P*I]),!0)}}}}}function Ky(t,i,a,u,c){var d=t[1];if(d)return!0;var v,m,_=t[0],b=t.left,S=t.right,P=b[0],T=b[1],I=S[0],O=S[1],H=(P+I)/2;if(O===T){if(H<i||H>=u)return;if(P>I){if(_){if(_[1]>=c)return}else _=[H,a];d=[H,c]}else{if(_){if(_[1]<a)return}else _=[H,c];d=[H,a]}}else if(m=(T+O)/2-(v=(P-I)/(O-T))*H,v<-1||v>1)if(P>I){if(_){if(_[1]>=c)return}else _=[(a-m)/v,a];d=[(c-m)/v,c]}else{if(_){if(_[1]<a)return}else _=[(c-m)/v,c];d=[(a-m)/v,a]}else if(T<O){if(_){if(_[0]>=u)return}else _=[i,v*i+m];d=[u,v*u+m]}else{if(_){if(_[0]<i)return}else _=[u,v*u+m];d=[i,v*i+m]}return t[0]=_,t[1]=d,!0}function $y(t,i){var a=t.site,u=i.left,c=i.right;return a===c&&(c=u,u=a),c?Math.atan2(c[1]-u[1],c[0]-u[0]):(a===u?(u=i[1],c=i[0]):(u=i[0],c=i[1]),Math.atan2(u[0]-c[0],c[1]-u[1]))}function xg(t,i){return i[+(i.left!==t.site)]}function Qy(t,i){return i[+(i.left===t.site)]}ug.prototype={areaStart:Vr,areaEnd:Vr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,i){t=+t,i=+i,this._point?this._context.lineTo(t,i):(this._point=1,this._context.moveTo(t,i))}},Uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ah(this,this._t0,hg(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){var a=NaN;if(i=+i,(t=+t)!==this._x1||i!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,ah(this,hg(this,a=cg(this,t,i)),a);break;default:ah(this,this._t0,a=cg(this,t,i))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i,this._t0=a}}},(dg.prototype=Object.create(Uu.prototype)).point=function(t,i){Uu.prototype.point.call(this,i,t)},fg.prototype={moveTo:function(t,i){this._context.moveTo(i,t)},closePath:function(){this._context.closePath()},lineTo:function(t,i){this._context.lineTo(i,t)},bezierCurveTo:function(t,i,a,u,c,d){this._context.bezierCurveTo(i,t,u,a,d,c)}},pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,i=this._y,a=t.length;if(a)if(this._line?this._context.lineTo(t[0],i[0]):this._context.moveTo(t[0],i[0]),2===a)this._context.lineTo(t[1],i[1]);else for(var u=gg(t),c=gg(i),d=0,v=1;v<a;++d,++v)this._context.bezierCurveTo(u[0][d],c[0][d],u[1][d],c[1][d],t[v],i[v]);(this._line||0!==this._line&&1===a)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,i){this._x.push(+t),this._y.push(+i)}},Ku.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(t,i);else{var a=this._x*(1-this._t)+t*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,i)}}this._x=t,this._y=i}},$u.prototype={constructor:$u,insert:function(t,i){var a,u,c;if(t){if(i.P=t,i.N=t.N,t.N&&(t.N.P=i),t.N=i,t.R){for(t=t.R;t.L;)t=t.L;t.L=i}else t.R=i;a=t}else this._?(t=bg(this._),i.P=null,i.N=t,t.P=t.L=i,a=t):(i.P=i.N=null,this._=i,a=null);for(i.L=i.R=null,i.U=a,i.C=!0,t=i;a&&a.C;)a===(u=a.U).L?(c=u.R)&&c.C?(a.C=c.C=!1,u.C=!0,t=u):(t===a.R&&(us(this,a),a=(t=a).U),a.C=!1,u.C=!0,ls(this,u)):(c=u.L)&&c.C?(a.C=c.C=!1,u.C=!0,t=u):(t===a.L&&(ls(this,a),a=(t=a).U),a.C=!1,u.C=!0,us(this,u)),a=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var i,a,u,c=t.U,d=t.L,v=t.R;if(a=d?v?bg(v):d:v,c?c.L===t?c.L=a:c.R=a:this._=a,d&&v?(u=a.C,a.C=t.C,a.L=d,d.U=a,a!==v?(c=a.U,a.U=t.U,c.L=t=a.R,a.R=v,v.U=a):(a.U=c,c=a,t=a.R)):(u=t.C,t=a),t&&(t.U=c),!u)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===c.L){if((i=c.R).C&&(i.C=!1,c.C=!0,us(this,c),i=c.R),i.L&&i.L.C||i.R&&i.R.C){i.R&&i.R.C||(i.L.C=!1,i.C=!0,ls(this,i),i=c.R),i.C=c.C,c.C=i.R.C=!1,us(this,c),t=this._;break}}else if((i=c.L).C&&(i.C=!1,c.C=!0,ls(this,c),i=c.L),i.L&&i.L.C||i.R&&i.R.C){i.L&&i.L.C||(i.R.C=!1,i.C=!0,us(this,i),i=c.L),i.C=c.C,c.C=i.L.C=!1,ls(this,c),t=this._;break}i.C=!0,t=c,c=c.U}while(!t.C);t&&(t.C=!1)}}};var oh,wg=[];function Zy(){Qu(this),this.x=this.y=this.arc=this.site=this.cy=null}function Va(t){var i=t.P,a=t.N;if(i&&a){var u=i.site,c=t.site,d=a.site;if(u!==d){var v=c[0],m=c[1],_=u[0]-v,b=u[1]-m,S=d[0]-v,P=d[1]-m,T=2*(_*P-b*S);if(!(T>=-n1)){var I=_*_+b*b,O=S*S+P*P,H=(P*I-b*O)/T,B=(_*O-S*I)/T,z=wg.pop()||new Zy;z.arc=t,z.site=c,z.x=H+v,z.y=(z.cy=B+m)+Math.sqrt(H*H+B*B),t.circle=z;for(var U=null,q=ds._;q;)if(z.y<q.y||z.y===q.y&&z.x<=q.x){if(!q.L){U=q.P;break}q=q.L}else{if(!q.R){U=q;break}q=q.R}ds.insert(U,z),U||(oh=z)}}}}function to(t){var i=t.circle;i&&(i.P||(oh=i.N),ds.remove(i),wg.push(i),Qu(i),t.circle=null)}var Sg=[];function Jy(){Qu(this),this.edge=this.site=this.circle=null}function Tg(t){var i=Sg.pop()||new Jy;return i.site=t,i}function sh(t){to(t),eo.remove(t),Sg.push(t),Qu(t)}function Vy(t){var i=t.circle,a=i.x,u=i.cy,c=[a,u],d=t.P,v=t.N,m=[t];sh(t);for(var _=d;_.circle&&Math.abs(a-_.circle.x)<Tn&&Math.abs(u-_.circle.cy)<Tn;)d=_.P,m.unshift(_),sh(_),_=d;m.unshift(_),to(_);for(var b=v;b.circle&&Math.abs(a-b.circle.x)<Tn&&Math.abs(u-b.circle.cy)<Tn;)v=b.N,m.push(b),sh(b),b=v;m.push(b),to(b);var S,P=m.length;for(S=1;S<P;++S)Zu((b=m[S]).edge,(_=m[S-1]).site,b.site,c);(b=m[P-1]).edge=cs((_=m[0]).site,b.site,null,c),Va(_),Va(b)}function t1(t){for(var i,a,u,c,d=t[0],v=t[1],m=eo._;m;)if((u=Cg(m,v)-d)>Tn)m=m.L;else{if(!((c=d-e1(m,v))>Tn)){u>-Tn?(i=m.P,a=m):c>-Tn?(i=m,a=m.N):i=a=m;break}if(!m.R){i=m;break}m=m.R}var st;qi[(st=t).index]={site:st,halfedges:[]};var _=Tg(t);if(eo.insert(i,_),i||a){if(i===a)return to(i),a=Tg(i.site),eo.insert(_,a),_.edge=a.edge=cs(i.site,_.site),Va(i),void Va(a);if(a){to(i),to(a);var b=i.site,S=b[0],P=b[1],T=t[0]-S,I=t[1]-P,O=a.site,H=O[0]-S,B=O[1]-P,z=2*(T*B-I*H),U=T*T+I*I,q=H*H+B*B,Z=[(B*U-I*q)/z+S,(T*q-H*U)/z+P];Zu(a.edge,b,O,Z),_.edge=cs(b,t,null,Z),a.edge=cs(t,O,null,Z),Va(i),Va(a)}else _.edge=cs(i.site,_.site)}}function Cg(t,i){var a=t.site,u=a[0],c=a[1],d=c-i;if(!d)return u;var v=t.P;if(!v)return-1/0;var m=(a=v.site)[0],_=a[1],b=_-i;if(!b)return m;var S=m-u,P=1/d-1/b,T=S/b;return P?(-T+Math.sqrt(T*T-2*P*(S*S/(-2*b)-_+b/2+c-d/2)))/P+u:(u+m)/2}function e1(t,i){var a=t.N;if(a)return Cg(a,i);var u=t.site;return u[1]===i?u[0]:1/0}var eo,qi,ds,Ti,Tn=1e-6,n1=1e-12;function i1(t,i,a){return(t[0]-a[0])*(i[1]-t[1])-(t[0]-i[0])*(a[1]-t[1])}function r1(t,i){return i[1]-t[1]||i[0]-t[0]}function uh(t,i){var a,u,c,d=t.sort(r1).pop();for(Ti=[],qi=new Array(t.length),eo=new $u,ds=new $u;;)if(c=oh,d&&(!c||d[1]<c.y||d[1]===c.y&&d[0]<c.x))d[0]===a&&d[1]===u||(t1(d),a=d[0],u=d[1]),d=t.pop();else{if(!c)break;Vy(c.arc)}if(function(){for(var S,P,T,I,O=0,H=qi.length;O<H;++O)if((S=qi[O])&&(I=(P=S.halfedges).length)){var B=new Array(I),z=new Array(I);for(T=0;T<I;++T)B[T]=T,z[T]=$y(S,Ti[P[T]]);for(B.sort(function(U,q){return z[q]-z[U]}),T=0;T<I;++T)z[T]=P[B[T]];for(T=0;T<I;++T)P[T]=z[T]}}(),i){var v=+i[0][0],m=+i[0][1],_=+i[1][0],b=+i[1][1];(function(S,P,T,I){for(var O,H=Ti.length;H--;)Ky(O=Ti[H],S,P,T,I)&&Uy(O,S,P,T,I)&&(Math.abs(O[0][0]-O[1][0])>Tn||Math.abs(O[0][1]-O[1][1])>Tn)||delete Ti[H]})(v,m,_,b),function(S,P,T,I){var O,H,B,z,U,q,Z,st,ft,bt,Ot,ct,kt=qi.length,xt=!0;for(O=0;O<kt;++O)if(H=qi[O]){for(B=H.site,z=(U=H.halfedges).length;z--;)Ti[U[z]]||U.splice(z,1);for(z=0,q=U.length;z<q;)Ot=(bt=Qy(H,Ti[U[z]]))[0],ct=bt[1],st=(Z=xg(H,Ti[U[++z%q]]))[0],ft=Z[1],(Math.abs(Ot-st)>Tn||Math.abs(ct-ft)>Tn)&&(U.splice(z,0,Ti.push(hs(B,bt,Math.abs(Ot-S)<Tn&&I-ct>Tn?[S,Math.abs(st-S)<Tn?ft:I]:Math.abs(ct-I)<Tn&&T-Ot>Tn?[Math.abs(ft-I)<Tn?st:T,I]:Math.abs(Ot-T)<Tn&&ct-P>Tn?[T,Math.abs(st-T)<Tn?ft:P]:Math.abs(ct-P)<Tn&&Ot-S>Tn?[Math.abs(ft-P)<Tn?st:S,P]:null))-1),++q);q&&(xt=!1)}if(xt){var K,vt,pt,St=1/0;for(O=0,xt=null;O<kt;++O)(H=qi[O])&&(pt=(K=(B=H.site)[0]-S)*K+(vt=B[1]-P)*vt)<St&&(St=pt,xt=H);if(xt){var Nt=[S,P],Qt=[S,I],Te=[T,I],Ce=[T,P];xt.halfedges.push(Ti.push(hs(B=xt.site,Nt,Qt))-1,Ti.push(hs(B,Qt,Te))-1,Ti.push(hs(B,Te,Ce))-1,Ti.push(hs(B,Ce,Nt))-1)}}for(O=0;O<kt;++O)(H=qi[O])&&(H.halfedges.length||delete qi[O])}(v,m,_,b)}this.edges=Ti,this.cells=qi,eo=ds=Ti=qi=null}function Ju(t){return function(){return t}}function a1(t,i,a){this.target=t,this.type=i,this.transform=a}function Mr(t,i,a){this.k=t,this.x=i,this.y=a}uh.prototype={constructor:uh,polygons:function(){var t=this.edges;return this.cells.map(function(i){var a=i.halfedges.map(function(u){return xg(i,t[u])});return a.data=i.site.data,a})},triangles:function(){var t=[],i=this.edges;return this.cells.forEach(function(a,u){if(d=(c=a.halfedges).length)for(var c,d,v,m=a.site,_=-1,b=i[c[d-1]],S=b.left===m?b.right:b.left;++_<d;)v=S,S=(b=i[c[_]]).left===m?b.right:b.left,v&&S&&u<v.index&&u<S.index&&i1(m,v,S)<0&&t.push([m.data,v.data,S.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,i,a){for(var u,c,d=this,v=d._found||0,m=d.cells.length;!(c=d.cells[v]);)if(++v>=m)return null;var _=t-c.site[0],b=i-c.site[1],S=_*_+b*b;do{c=d.cells[u=v],v=null,c.halfedges.forEach(function(P){var T=d.edges[P],I=T.left;if(I!==c.site&&I||(I=T.right)){var O=t-I[0],H=i-I[1],B=O*O+H*H;B<S&&(S=B,v=I.index)}})}while(null!==v);return d._found=u,null==a||S<=a*a?c.site:null}},Mr.prototype={constructor:Mr,scale:function(t){return 1===t?this:new Mr(this.k*t,this.x,this.y)},translate:function(t,i){return 0===t&0===i?this:new Mr(this.k,this.x+this.k*t,this.y+this.k*i)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vu=new Mr(1,0,0);function Ag(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Vu;return t.__zoom}function lh(){r.event.stopImmediatePropagation()}function fs(){r.event.preventDefault(),r.event.stopImmediatePropagation()}function o1(){return!r.event.ctrlKey&&!r.event.button}function s1(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function kg(){return this.__zoom||Vu}function u1(){return-r.event.deltaY*(1===r.event.deltaMode?.05:r.event.deltaMode?1:.002)}function l1(){return navigator.maxTouchPoints||"ontouchstart"in this}function c1(t,i,a){var u=t.invertX(i[0][0])-a[0][0],c=t.invertX(i[1][0])-a[1][0],d=t.invertY(i[0][1])-a[0][1],v=t.invertY(i[1][1])-a[1][1];return t.translate(c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c),v>d?(d+v)/2:Math.min(0,d)||Math.max(0,v))}Ag.prototype=Mr.prototype,r.FormatSpecifier=Ws,r.active=function(t,i){var a,u,c=t.__transition;if(c)for(u in i=null==i?null:i+"",c)if((a=c[u]).state>1&&a.name===i)return new wn([[t]],Xg,i,+u);return null},r.arc=function(){var t=yy,i=by,a=Je(0),u=null,c=xy,d=wy,v=Sy,m=null;function _(){var b,S,pr,P=+t.apply(this,arguments),T=+i.apply(this,arguments),I=c.apply(this,arguments)-Bu,O=d.apply(this,arguments)-Bu,H=Gp(O-I),B=O>I;if(m||(m=b=Xr()),T<P&&(S=T,T=P,P=S),T>Si)if(H>Jr-Si)m.moveTo(T*wa(I),T*fr(I)),m.arc(0,0,T,I,O,!B),P>Si&&(m.moveTo(P*wa(O),P*fr(O)),m.arc(0,0,P,O,I,B));else{var z,U,q=I,Z=O,st=I,ft=O,bt=H,Ot=H,ct=v.apply(this,arguments)/2,kt=ct>Si&&(u?+u.apply(this,arguments):Qa(P*P+T*T)),xt=Xc(Gp(T-P)/2,+a.apply(this,arguments)),K=xt,vt=xt;if(kt>Si){var pt=Bp(kt/P*fr(ct)),St=Bp(kt/T*fr(ct));(bt-=2*pt)>Si?(st+=pt*=B?1:-1,ft-=pt):(bt=0,st=ft=(I+O)/2),(Ot-=2*St)>Si?(q+=St*=B?1:-1,Z-=St):(Ot=0,q=Z=(I+O)/2)}var Nt=T*wa(q),Qt=T*fr(q),Te=P*wa(ft),Ce=P*fr(ft);if(xt>Si){var Xe,ne=T*wa(Z),Ve=T*fr(Z),en=P*wa(st),fe=P*fr(st);if(H<Zr&&(Xe=function(pr,Er,tl,el,Lr,ps,Qn,h1){var Pg=tl-pr,Mg=el-Er,Dg=Qn-Lr,Eg=h1-ps,gs=Eg*Pg-Dg*Mg;if(!(gs*gs<Si))return[pr+(gs=(Dg*(Er-ps)-Eg*(pr-Lr))/gs)*Pg,Er+gs*Mg]}(Nt,Qt,en,fe,ne,Ve,Te,Ce))){var Ne=Nt-Xe[0],Gn=Qt-Xe[1],vi=ne-Xe[0],Dr=Ve-Xe[1],ta=1/fr(((pr=(Ne*vi+Gn*Dr)/(Qa(Ne*Ne+Gn*Gn)*Qa(vi*vi+Dr*Dr)))>1?0:pr<-1?Zr:Math.acos(pr))/2),ea=Qa(Xe[0]*Xe[0]+Xe[1]*Xe[1]);K=Xc(xt,(P-ea)/(ta-1)),vt=Xc(xt,(T-ea)/(ta+1))}}Ot>Si?vt>Si?(z=ju(en,fe,Nt,Qt,T,vt,B),U=ju(ne,Ve,Te,Ce,T,vt,B),m.moveTo(z.cx+z.x01,z.cy+z.y01),vt<xt?m.arc(z.cx,z.cy,vt,wi(z.y01,z.x01),wi(U.y01,U.x01),!B):(m.arc(z.cx,z.cy,vt,wi(z.y01,z.x01),wi(z.y11,z.x11),!B),m.arc(0,0,T,wi(z.cy+z.y11,z.cx+z.x11),wi(U.cy+U.y11,U.cx+U.x11),!B),m.arc(U.cx,U.cy,vt,wi(U.y11,U.x11),wi(U.y01,U.x01),!B))):(m.moveTo(Nt,Qt),m.arc(0,0,T,q,Z,!B)):m.moveTo(Nt,Qt),P>Si&&bt>Si?K>Si?(z=ju(Te,Ce,ne,Ve,P,-K,B),U=ju(Nt,Qt,en,fe,P,-K,B),m.lineTo(z.cx+z.x01,z.cy+z.y01),K<xt?m.arc(z.cx,z.cy,K,wi(z.y01,z.x01),wi(U.y01,U.x01),!B):(m.arc(z.cx,z.cy,K,wi(z.y01,z.x01),wi(z.y11,z.x11),!B),m.arc(0,0,P,wi(z.cy+z.y11,z.cx+z.x11),wi(U.cy+U.y11,U.cx+U.x11),B),m.arc(U.cx,U.cy,K,wi(U.y11,U.x11),wi(U.y01,U.x01),!B))):m.arc(0,0,P,ft,st,B):m.lineTo(Te,Ce)}else m.moveTo(0,0);if(m.closePath(),b)return m=null,b+""||null}return _.centroid=function(){var b=(+t.apply(this,arguments)+ +i.apply(this,arguments))/2,S=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2-Zr/2;return[wa(S)*b,fr(S)*b]},_.innerRadius=function(b){return arguments.length?(t="function"==typeof b?b:Je(+b),_):t},_.outerRadius=function(b){return arguments.length?(i="function"==typeof b?b:Je(+b),_):i},_.cornerRadius=function(b){return arguments.length?(a="function"==typeof b?b:Je(+b),_):a},_.padRadius=function(b){return arguments.length?(u=null==b?null:"function"==typeof b?b:Je(+b),_):u},_.startAngle=function(b){return arguments.length?(c="function"==typeof b?b:Je(+b),_):c},_.endAngle=function(b){return arguments.length?(d="function"==typeof b?b:Je(+b),_):d},_.padAngle=function(b){return arguments.length?(v="function"==typeof b?b:Je(+b),_):v},_.context=function(b){return arguments.length?(m=b??null,_):m},_},r.area=Wp,r.areaRadial=Up,r.ascending=Ht,r.autoType=function(t){for(var i in t){var a,u,c=t[i].trim();if(c)if("true"===c)c=!0;else if("false"===c)c=!1;else if("NaN"===c)c=NaN;else if(isNaN(a=+c)){if(!(u=c.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Dm&&u[4]&&!u[7]&&(c=c.replace(/-/g,"/").replace(/T/," ")),c=new Date(c)}else c=a;else c=null;t[i]=c}return t},r.axisBottom=function(t){return tt(3,t)},r.axisLeft=function(t){return tt(4,t)},r.axisRight=function(t){return tt(2,t)},r.axisTop=function(t){return tt(1,t)},r.bisect=pe,r.bisectLeft=Tt,r.bisectRight=pe,r.bisector=bn,r.blob=function(t,i){return fetch(t,i).then(Em)},r.brush=function(){return fl(Ug)},r.brushSelection=function(t){var i=t.__brush;return i?i.dim.output(i.selection):null},r.brushX=function(){return fl(Ns)},r.brushY=function(){return fl(Os)},r.buffer=function(t,i){return fetch(t,i).then(Lm)},r.chord=function(){var t=0,i=null,a=null,u=null;function c(d){var v,m,_,b,S,P,T=d.length,I=[],O=ee(T),H=[],B=[],z=B.groups=new Array(T),U=new Array(T*T);for(v=0,S=-1;++S<T;){for(m=0,P=-1;++P<T;)m+=d[S][P];I.push(m),H.push(ee(T)),v+=m}for(i&&O.sort(function(kt,xt){return i(I[kt],I[xt])}),a&&H.forEach(function(kt,xt){kt.sort(function(K,vt){return a(d[xt][K],d[xt][vt])})}),b=(v=Th(0,Sh-t*T)/v)?t:Sh/T,m=0,S=-1;++S<T;){for(_=m,P=-1;++P<T;){var q=O[S],Z=H[q][P],st=d[q][Z],ft=m,bt=m+=st*v;U[Z*T+q]={index:q,subindex:Z,startAngle:ft,endAngle:bt,value:st}}z[q]={index:q,startAngle:_,endAngle:m,value:I[q]},m+=b}for(S=-1;++S<T;)for(P=S-1;++P<T;){var Ot=U[P*T+S],ct=U[S*T+P];(Ot.value||ct.value)&&B.push(Ot.value<ct.value?{source:ct,target:Ot}:{source:Ot,target:ct})}return u?B.sort(u):B}return c.padAngle=function(d){return arguments.length?(t=Th(0,d),c):t},c.sortGroups=function(d){return arguments.length?(i=d,c):i},c.sortSubgroups=function(d){return arguments.length?(a=d,c):a},c.sortChords=function(d){return arguments.length?(null==d?u=null:(u=Vg(d))._=d,c):u&&u._},c},r.clientPoint=Ie,r.cluster=function(){var t=C0,i=1,a=1,u=!1;function c(d){var v,m=0;d.eachAfter(function(T){var O,I=T.children;I?(T.x=(O=I).reduce(A0,0)/O.length,T.y=function(O){return 1+O.reduce(k0,0)}(I)):(T.x=v?m+=t(T,v):0,T.y=0,v=T)});var _=function(T){for(var I;I=T.children;)T=I[0];return T}(d),b=function(T){for(var I;I=T.children;)T=I[I.length-1];return T}(d),S=_.x-t(_,b)/2,P=b.x+t(b,_)/2;return d.eachAfter(u?function(T){T.x=(T.x-d.x)*i,T.y=(d.y-T.y)*a}:function(T){T.x=(T.x-S)/(P-S)*i,T.y=(1-(d.y?T.y/d.y:1))*a})}return c.separation=function(d){return arguments.length?(t=d,c):t},c.size=function(d){return arguments.length?(u=!1,i=+d[0],a=+d[1],c):u?null:[i,a]},c.nodeSize=function(d){return arguments.length?(u=!0,i=+d[0],a=+d[1],c):u?[i,a]:null},c},r.color=sr,r.contourDensity=function(){var t=pm,i=gm,a=mm,u=960,c=500,d=20,v=2,m=3*d,_=u+2*m>>v,b=c+2*m>>v,S=qr(20);function P(z){var U=new Float32Array(_*b),q=new Float32Array(_*b);z.forEach(function(ft,bt,Ot){var ct=+t(ft,bt,Ot)+m>>v,kt=+i(ft,bt,Ot)+m>>v,xt=+a(ft,bt,Ot);ct>=0&&ct<_&&kt>=0&&kt<b&&(U[ct+kt*_]+=xt)}),_l({width:_,height:b,data:U},{width:_,height:b,data:q},d>>v),yl({width:_,height:b,data:q},{width:_,height:b,data:U},d>>v),_l({width:_,height:b,data:U},{width:_,height:b,data:q},d>>v),yl({width:_,height:b,data:q},{width:_,height:b,data:U},d>>v),_l({width:_,height:b,data:U},{width:_,height:b,data:q},d>>v),yl({width:_,height:b,data:q},{width:_,height:b,data:U},d>>v);var Z=S(U);if(!Array.isArray(Z)){var st=pn(U);Z=oe(0,st,Z),(Z=ee(0,Math.floor(st/Z)*Z,Z)).shift()}return Mh().thresholds(Z).size([_,b])(U).map(T)}function T(z){return z.value*=Math.pow(2,-2*v),z.coordinates.forEach(I),z}function I(z){z.forEach(O)}function O(z){z.forEach(H)}function H(z){z[0]=z[0]*Math.pow(2,v)-m,z[1]=z[1]*Math.pow(2,v)-m}function B(){return _=u+2*(m=3*d)>>v,b=c+2*m>>v,P}return P.x=function(z){return arguments.length?(t="function"==typeof z?z:qr(+z),P):t},P.y=function(z){return arguments.length?(i="function"==typeof z?z:qr(+z),P):i},P.weight=function(z){return arguments.length?(a="function"==typeof z?z:qr(+z),P):a},P.size=function(z){if(!arguments.length)return[u,c];var U=Math.ceil(z[0]),q=Math.ceil(z[1]);if(!(U>=0||U>=0))throw new Error("invalid size");return u=U,c=q,B()},P.cellSize=function(z){if(!arguments.length)return 1<<v;if(!((z=+z)>=1))throw new Error("invalid cell size");return v=Math.floor(Math.log(z)/Math.LN2),B()},P.thresholds=function(z){return arguments.length?(S="function"==typeof z?z:Array.isArray(z)?qr(Ph.call(z)):qr(z),P):S},P.bandwidth=function(z){if(!arguments.length)return Math.sqrt(d*(d+1));if(!((z=+z)>=0))throw new Error("invalid bandwidth");return d=Math.round((Math.sqrt(4*z*z+1)-1)/2),B()},P},r.contours=Mh,r.create=function(t){return me(Ut(t).call(document.documentElement))},r.creator=Ut,r.cross=function(t,i,a){var u,c,d,v,m=t.length,_=i.length,b=new Array(m*_);for(null==a&&(a=We),u=d=0;u<m;++u)for(v=t[u],c=0;c<_;++c,++d)b[d]=a(v,i[c]);return b},r.csv=Nm,r.csvFormat=ym,r.csvFormatBody=bm,r.csvFormatRow=wm,r.csvFormatRows=xm,r.csvFormatValue=Sm,r.csvParse=Ih,r.csvParseRows=_m,r.cubehelix=Y,r.curveBasis=function(t){return new Xu(t)},r.curveBasisClosed=function(t){return new ng(t)},r.curveBasisOpen=function(t){return new ig(t)},r.curveBundle=Ry,r.curveCardinal=zy,r.curveCardinalClosed=Fy,r.curveCardinalOpen=Hy,r.curveCatmullRom=Gy,r.curveCatmullRomClosed=By,r.curveCatmullRomOpen=jy,r.curveLinear=Wu,r.curveLinearClosed=function(t){return new ug(t)},r.curveMonotoneX=function(t){return new Uu(t)},r.curveMonotoneY=function(t){return new dg(t)},r.curveNatural=function(t){return new pg(t)},r.curveStep=function(t){return new Ku(t,.5)},r.curveStepAfter=function(t){return new Ku(t,1)},r.curveStepBefore=function(t){return new Ku(t,0)},r.customEvent=ze,r.descending=function(t,i){return i<t?-1:i>t?1:i>=t?0:NaN},r.deviation=on,r.dispatch=J,r.drag=function(){var t,i,a,u,c=er,d=Ci,v=oi,m=An,_={},b=J("start","drag","end"),S=0,P=0;function T(Z){Z.on("mousedown.drag",I).filter(m).on("touchstart.drag",B).on("touchmove.drag",z).on("touchend.drag touchcancel.drag",U).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function I(){if(!u&&c.apply(this,arguments)){var Z=q("mouse",d.apply(this,arguments),sn,this,arguments);Z&&(me(r.event.view).on("mousemove.drag",O,!0).on("mouseup.drag",H,!0),qn(r.event.view),Bn(),a=!1,t=r.event.clientX,i=r.event.clientY,Z("start"))}}function O(){if(In(),!a){var Z=r.event.clientX-t,st=r.event.clientY-i;a=Z*Z+st*st>P}_.mouse("drag")}function H(){me(r.event.view).on("mousemove.drag mouseup.drag",null),Cn(r.event.view,a),In(),_.mouse("end")}function B(){if(c.apply(this,arguments)){var Z,st,ft=r.event.changedTouches,bt=d.apply(this,arguments),Ot=ft.length;for(Z=0;Z<Ot;++Z)(st=q(ft[Z].identifier,bt,je,this,arguments))&&(Bn(),st("start"))}}function z(){var Z,st,ft=r.event.changedTouches,bt=ft.length;for(Z=0;Z<bt;++Z)(st=_[ft[Z].identifier])&&(In(),st("drag"))}function U(){var Z,st,ft=r.event.changedTouches,bt=ft.length;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),Z=0;Z<bt;++Z)(st=_[ft[Z].identifier])&&(Bn(),st("end"))}function q(Z,st,ft,bt,Ot){var ct,kt,xt,K=ft(st,Z),vt=b.copy();if(ze(new or(T,"beforestart",ct,Z,S,K[0],K[1],0,0,vt),function(){return null!=(r.event.subject=ct=v.apply(bt,Ot))&&(kt=ct.x-K[0]||0,xt=ct.y-K[1]||0,!0)}))return function pt(St){var Nt,Qt=K;switch(St){case"start":_[Z]=pt,Nt=S++;break;case"end":delete _[Z],--S;case"drag":K=ft(st,Z),Nt=S}ze(new or(T,St,ct,Z,Nt,K[0]+kt,K[1]+xt,K[0]-Qt[0],K[1]-Qt[1],vt),vt.apply,vt,[St,bt,Ot])}}return T.filter=function(Z){return arguments.length?(c="function"==typeof Z?Z:Mn(!!Z),T):c},T.container=function(Z){return arguments.length?(d="function"==typeof Z?Z:Mn(Z),T):d},T.subject=function(Z){return arguments.length?(v="function"==typeof Z?Z:Mn(Z),T):v},T.touchable=function(Z){return arguments.length?(m="function"==typeof Z?Z:Mn(!!Z),T):m},T.on=function(){var Z=b.on.apply(b,arguments);return Z===b?T:Z},T.clickDistance=function(Z){return arguments.length?(P=(Z=+Z)*Z,T):Math.sqrt(P)},T},r.dragDisable=qn,r.dragEnable=Cn,r.dsv=function(t,i,a,u){3===arguments.length&&"function"==typeof a&&(u=a,a=void 0);var c=Hs(t);return Gs(i,a).then(function(d){return c.parse(d,u)})},r.dsvFormat=Hs,r.easeBack=fh,r.easeBackIn=Gg,r.easeBackInOut=fh,r.easeBackOut=Bg,r.easeBounce=yo,r.easeBounceIn=function(t){return 1-yo(1-t)},r.easeBounceInOut=function(t){return((t*=2)<=1?1-yo(1-t):yo(t-1)+1)/2},r.easeBounceOut=yo,r.easeCircle=dh,r.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},r.easeCircleInOut=dh,r.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},r.easeCubic=On,r.easeCubicIn=function(t){return t*t*t},r.easeCubicInOut=On,r.easeCubicOut=function(t){return--t*t*t+1},r.easeElastic=ph,r.easeElasticIn=jg,r.easeElasticInOut=Wg,r.easeElasticOut=ph,r.easeExp=hh,r.easeExpIn=function(t){return Math.pow(2,10*t-10)},r.easeExpInOut=hh,r.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},r.easeLinear=function(t){return+t},r.easePoly=vo,r.easePolyIn=Wi,r.easePolyInOut=vo,r.easePolyOut=Na,r.easeQuad=ii,r.easeQuadIn=function(t){return t*t},r.easeQuadInOut=ii,r.easeQuadOut=function(t){return t*(2-t)},r.easeSin=ch,r.easeSinIn=function(t){return 1-Math.cos(t*Ls)},r.easeSinInOut=ch,r.easeSinOut=function(t){return Math.sin(t*Ls)},r.entries=function(t){var i=[];for(var a in t)i.push({key:a,value:t[a]});return i},r.extent=Rn,r.forceCenter=function(t,i){var a;function u(){var c,d,v=a.length,m=0,_=0;for(c=0;c<v;++c)m+=(d=a[c]).x,_+=d.y;for(m=m/v-t,_=_/v-i,c=0;c<v;++c)(d=a[c]).x-=m,d.y-=_}return null==t&&(t=0),null==i&&(i=0),u.initialize=function(c){a=c},u.x=function(c){return arguments.length?(t=+c,u):t},u.y=function(c){return arguments.length?(i=+c,u):i},u},r.forceCollide=function(t){var i,a,u=1,c=1;function d(){for(var _,b,S,P,T,I,O,H=i.length,B=0;B<c;++B)for(b=Bs(i,jm,Wm).visitAfter(v),_=0;_<H;++_)O=(I=a[(S=i[_]).index])*I,P=S.x+S.vx,T=S.y+S.vy,b.visit(z);function z(U,q,Z,st,ft){var bt=U.data,Ot=U.r,ct=I+Ot;if(!bt)return q>P+ct||st<P-ct||Z>T+ct||ft<T-ct;if(bt.index>S.index){var kt=P-bt.x-bt.vx,xt=T-bt.y-bt.vy,K=kt*kt+xt*xt;K<ct*ct&&(0===kt&&(K+=(kt=Ur())*kt),0===xt&&(K+=(xt=Ur())*xt),K=(ct-(K=Math.sqrt(K)))/K*u,S.vx+=(kt*=K)*(ct=(Ot*=Ot)/(O+Ot)),S.vy+=(xt*=K)*ct,bt.vx-=kt*(ct=1-ct),bt.vy-=xt*ct)}}}function v(_){if(_.data)return _.r=a[_.data.index];for(var b=_.r=0;b<4;++b)_[b]&&_[b].r>_.r&&(_.r=_[b].r)}function m(){if(i){var _,b,S=i.length;for(a=new Array(S),_=0;_<S;++_)a[(b=i[_]).index]=+t(b,_,i)}}return"function"!=typeof t&&(t=ri(null==t?1:+t)),d.initialize=function(_){i=_,m()},d.iterations=function(_){return arguments.length?(c=+_,d):c},d.strength=function(_){return arguments.length?(u=+_,d):u},d.radius=function(_){return arguments.length?(t="function"==typeof _?_:ri(+_),m(),d):t},d},r.forceLink=function(t){var i,a,u,c,d,v=Ym,m=function(O){return 1/Math.min(c[O.source.index],c[O.target.index])},_=ri(30),b=1;function S(O){for(var H=0,B=t.length;H<b;++H)for(var z,U,q,Z,st,ft,bt,Ot=0;Ot<B;++Ot)U=(z=t[Ot]).source,Z=(q=z.target).x+q.vx-U.x-U.vx||Ur(),st=q.y+q.vy-U.y-U.vy||Ur(),Z*=ft=((ft=Math.sqrt(Z*Z+st*st))-a[Ot])/ft*O*i[Ot],st*=ft,q.vx-=Z*(bt=d[Ot]),q.vy-=st*bt,U.vx+=Z*(bt=1-bt),U.vy+=st*bt}function P(){if(u){var O,H,B=u.length,z=t.length,U=xr(u,v);for(O=0,c=new Array(B);O<z;++O)(H=t[O]).index=O,"object"!=typeof H.source&&(H.source=Fh(U,H.source)),"object"!=typeof H.target&&(H.target=Fh(U,H.target)),c[H.source.index]=(c[H.source.index]||0)+1,c[H.target.index]=(c[H.target.index]||0)+1;for(O=0,d=new Array(z);O<z;++O)d[O]=c[(H=t[O]).source.index]/(c[H.source.index]+c[H.target.index]);i=new Array(z),T(),a=new Array(z),I()}}function T(){if(u)for(var O=0,H=t.length;O<H;++O)i[O]=+m(t[O],O,t)}function I(){if(u)for(var O=0,H=t.length;O<H;++O)a[O]=+_(t[O],O,t)}return null==t&&(t=[]),S.initialize=function(O){u=O,P()},S.links=function(O){return arguments.length?(t=O,P(),S):t},S.id=function(O){return arguments.length?(v=O,S):v},S.iterations=function(O){return arguments.length?(b=+O,S):b},S.strength=function(O){return arguments.length?(m="function"==typeof O?O:ri(+O),T(),S):m},S.distance=function(O){return arguments.length?(_="function"==typeof O?O:ri(+O),I(),S):_},S},r.forceManyBody=function(){var t,i,a,u,c=ri(-30),d=1,v=1/0,m=.81;function _(T){var I,O=t.length,H=Bs(t,Xm,qm).visitAfter(S);for(a=T,I=0;I<O;++I)i=t[I],H.visit(P)}function b(){if(t){var T,I,O=t.length;for(u=new Array(O),T=0;T<O;++T)u[(I=t[T]).index]=+c(I,T,t)}}function S(T){var I,O,H,B,z,U=0,q=0;if(T.length){for(H=B=z=0;z<4;++z)(I=T[z])&&(O=Math.abs(I.value))&&(U+=I.value,q+=O,H+=O*I.x,B+=O*I.y);T.x=H/q,T.y=B/q}else{(I=T).x=I.data.x,I.y=I.data.y;do{U+=u[I.data.index]}while(I=I.next)}T.value=U}function P(T,I,O,H){if(!T.value)return!0;var B=T.x-i.x,z=T.y-i.y,U=H-I,q=B*B+z*z;if(U*U/m<q)return q<v&&(0===B&&(q+=(B=Ur())*B),0===z&&(q+=(z=Ur())*z),q<d&&(q=Math.sqrt(d*q)),i.vx+=B*T.value*a/q,i.vy+=z*T.value*a/q),!0;if(!(T.length||q>=v)){(T.data!==i||T.next)&&(0===B&&(q+=(B=Ur())*B),0===z&&(q+=(z=Ur())*z),q<d&&(q=Math.sqrt(d*q)));do{T.data!==i&&(i.vx+=B*(U=u[T.data.index]*a/q),i.vy+=z*U)}while(T=T.next)}}return _.initialize=function(T){t=T,b()},_.strength=function(T){return arguments.length?(c="function"==typeof T?T:ri(+T),b(),_):c},_.distanceMin=function(T){return arguments.length?(d=T*T,_):Math.sqrt(d)},_.distanceMax=function(T){return arguments.length?(v=T*T,_):Math.sqrt(v)},_.theta=function(T){return arguments.length?(m=T*T,_):Math.sqrt(m)},_},r.forceRadial=function(t,i,a){var u,c,d,v=ri(.1);function m(b){for(var S=0,P=u.length;S<P;++S){var T=u[S],I=T.x-i||1e-6,O=T.y-a||1e-6,H=Math.sqrt(I*I+O*O),B=(d[S]-H)*c[S]*b/H;T.vx+=I*B,T.vy+=O*B}}function _(){if(u){var b,S=u.length;for(c=new Array(S),d=new Array(S),b=0;b<S;++b)d[b]=+t(u[b],b,u),c[b]=isNaN(d[b])?0:+v(u[b],b,u)}}return"function"!=typeof t&&(t=ri(+t)),null==i&&(i=0),null==a&&(a=0),m.initialize=function(b){u=b,_()},m.strength=function(b){return arguments.length?(v="function"==typeof b?b:ri(+b),_(),m):v},m.radius=function(b){return arguments.length?(t="function"==typeof b?b:ri(+b),_(),m):t},m.x=function(b){return arguments.length?(i=+b,m):i},m.y=function(b){return arguments.length?(a=+b,m):a},m},r.forceSimulation=function(t){var i,a=1,u=.001,c=1-Math.pow(u,1/300),d=0,v=.6,m=xr(),_=Zi(S),b=J("tick","end");function S(){P(),b.call("tick",i),a<u&&(_.stop(),b.call("end",i))}function P(O){var H,B,z=t.length;void 0===O&&(O=1);for(var U=0;U<O;++U)for(a+=(d-a)*c,m.each(function(q){q(a)}),H=0;H<z;++H)null==(B=t[H]).fx?B.x+=B.vx*=v:(B.x=B.fx,B.vx=0),null==B.fy?B.y+=B.vy*=v:(B.y=B.fy,B.vy=0);return i}function T(){for(var O,H=0,B=t.length;H<B;++H){if((O=t[H]).index=H,null!=O.fx&&(O.x=O.fx),null!=O.fy&&(O.y=O.fy),isNaN(O.x)||isNaN(O.y)){var z=10*Math.sqrt(H),U=H*Km;O.x=z*Math.cos(U),O.y=z*Math.sin(U)}(isNaN(O.vx)||isNaN(O.vy))&&(O.vx=O.vy=0)}}function I(O){return O.initialize&&O.initialize(t),O}return null==t&&(t=[]),T(),i={tick:P,restart:function(){return _.restart(S),i},stop:function(){return _.stop(),i},nodes:function(O){return arguments.length?(t=O,T(),m.each(I),i):t},alpha:function(O){return arguments.length?(a=+O,i):a},alphaMin:function(O){return arguments.length?(u=+O,i):u},alphaDecay:function(O){return arguments.length?(c=+O,i):+c},alphaTarget:function(O){return arguments.length?(d=+O,i):d},velocityDecay:function(O){return arguments.length?(v=1-O,i):1-v},force:function(O,H){return arguments.length>1?(null==H?m.remove(O):m.set(O,I(H)),i):m.get(O)},find:function(O,H,B){var z,U,q,Z,st,ft=0,bt=t.length;for(null==B?B=1/0:B*=B,ft=0;ft<bt;++ft)(q=(z=O-(Z=t[ft]).x)*z+(U=H-Z.y)*U)<B&&(st=Z,B=q);return st},on:function(O,H){return arguments.length>1?(b.on(O,H),i):b.on(O)}}},r.forceX=function(t){var i,a,u,c=ri(.1);function d(m){for(var _,b=0,S=i.length;b<S;++b)(_=i[b]).vx+=(u[b]-_.x)*a[b]*m}function v(){if(i){var m,_=i.length;for(a=new Array(_),u=new Array(_),m=0;m<_;++m)a[m]=isNaN(u[m]=+t(i[m],m,i))?0:+c(i[m],m,i)}}return"function"!=typeof t&&(t=ri(null==t?0:+t)),d.initialize=function(m){i=m,v()},d.strength=function(m){return arguments.length?(c="function"==typeof m?m:ri(+m),v(),d):c},d.x=function(m){return arguments.length?(t="function"==typeof m?m:ri(+m),v(),d):t},d},r.forceY=function(t){var i,a,u,c=ri(.1);function d(m){for(var _,b=0,S=i.length;b<S;++b)(_=i[b]).vy+=(u[b]-_.y)*a[b]*m}function v(){if(i){var m,_=i.length;for(a=new Array(_),u=new Array(_),m=0;m<_;++m)a[m]=isNaN(u[m]=+t(i[m],m,i))?0:+c(i[m],m,i)}}return"function"!=typeof t&&(t=ri(null==t?0:+t)),d.initialize=function(m){i=m,v()},d.strength=function(m){return arguments.length?(c="function"==typeof m?m:ri(+m),v(),d):c},d.y=function(m){return arguments.length?(t="function"==typeof m?m:ri(+m),v(),d):t},d},r.formatDefaultLocale=qh,r.formatLocale=Xh,r.formatSpecifier=wo,r.geoAlbers=af,r.geoAlbersUsa=function(){var t,i,a,u,c,d,v=af(),m=Au().rotate([154,0]).center([-2,58.5]).parallels([55,65]),_=Au().rotate([157,0]).center([-3,19.9]).parallels([8,18]),b={point:function(T,I){d=[T,I]}};function S(T){var I=T[0],O=T[1];return d=null,a.point(I,O),d||(u.point(I,O),d)||(c.point(I,O),d)}function P(){return t=i=null,S}return S.invert=function(T){var I=v.scale(),O=v.translate(),H=(T[0]-O[0])/I,B=(T[1]-O[1])/I;return(B>=.12&&B<.234&&H>=-.425&&H<-.214?m:B>=.166&&B<.234&&H>=-.214&&H<-.115?_:v).invert(T)},S.stream=function(T){return t&&i===T?t:(I=[v.stream(i=T),m.stream(T),_.stream(T)],O=I.length,t={point:function(H,B){for(var z=-1;++z<O;)I[z].point(H,B)},sphere:function(){for(var H=-1;++H<O;)I[H].sphere()},lineStart:function(){for(var H=-1;++H<O;)I[H].lineStart()},lineEnd:function(){for(var H=-1;++H<O;)I[H].lineEnd()},polygonStart:function(){for(var H=-1;++H<O;)I[H].polygonStart()},polygonEnd:function(){for(var H=-1;++H<O;)I[H].polygonEnd()}});var I,O},S.precision=function(T){return arguments.length?(v.precision(T),m.precision(T),_.precision(T),P()):v.precision()},S.scale=function(T){return arguments.length?(v.scale(T),m.scale(.35*T),_.scale(T),S.translate(v.translate())):v.scale()},S.translate=function(T){if(!arguments.length)return v.translate();var I=v.scale(),O=+T[0],H=+T[1];return a=v.translate(T).clipExtent([[O-.455*I,H-.238*I],[O+.455*I,H+.238*I]]).stream(b),u=m.translate([O-.307*I,H+.201*I]).clipExtent([[O-.425*I+Se,H+.12*I+Se],[O-.214*I-Se,H+.234*I-Se]]).stream(b),c=_.translate([O-.205*I,H+.212*I]).clipExtent([[O-.214*I+Se,H+.166*I+Se],[O-.115*I-Se,H+.234*I-Se]]).stream(b),P()},S.fitExtent=function(T,I){return Cu(S,T,I)},S.fitSize=function(T,I){return rc(S,T,I)},S.fitWidth=function(T,I){return ac(S,T,I)},S.fitHeight=function(T,I){return oc(S,T,I)},S.scale(1070)},r.geoArea=function(t){return Vs.reset(),ir(t,lr),2*Vs},r.geoAzimuthalEqualArea=function(){return dr(lc).scale(124.75).clipAngle(179.999)},r.geoAzimuthalEqualAreaRaw=lc,r.geoAzimuthalEquidistant=function(){return dr(cc).scale(79.4188).clipAngle(179.999)},r.geoAzimuthalEquidistantRaw=cc,r.geoBounds=function(t){var i,a,u,c,d,v,m;if(Yi=Xn=-(Hn=Bi=1/0),$r=[],ir(t,Tr),a=$r.length){for($r.sort(e0),i=1,d=[u=$r[0]];i<a;++i)pd(u,(c=$r[i])[0])||pd(u,c[1])?(Xi(u[0],c[1])>Xi(u[0],u[1])&&(u[1]=c[1]),Xi(c[0],u[1])>Xi(u[0],u[1])&&(u[0]=c[0])):d.push(u=c);for(v=-1/0,i=0,u=d[a=d.length-1];i<=a;u=c,++i)(m=Xi(u[1],(c=d[i])[0]))>v&&(v=m,Hn=c[0],Xn=u[1])}return $r=Sr=null,Hn===1/0||Bi===1/0?[[NaN,NaN],[NaN,NaN]]:[[Hn,Bi],[Xn,Yi]]},r.geoCentroid=function(t){ru=au=ou=su=uu=lu=cu=hu=Ll=Il=Nl=0,ir(t,rr);var i=Ll,a=Il,u=Nl,c=i*i+a*a+u*u;return c<Us&&(i=lu,a=cu,u=hu,au<Se&&(i=ou,a=su,u=uu),(c=i*i+a*a+u*u)<Us)?[NaN,NaN]:[Di(a,i)*kn,Ei(u/ti(c))*kn]},r.geoCircle=function(){var t,i,a=ja([0,0]),u=ja(90),c=ja(6),d={point:function(m,_){t.push(m=i(m,_)),m[0]*=kn,m[1]*=kn}};function v(){var m=a.apply(this,arguments),_=u.apply(this,arguments)*Ae,b=c.apply(this,arguments)*Ae;return t=[],i=Hl(-m[0]*Ae,-m[1]*Ae,0).invert,wd(d,_,b,1),m={type:"Polygon",coordinates:[t]},t=i=null,m}return v.center=function(m){return arguments.length?(a="function"==typeof m?m:ja([+m[0],+m[1]]),v):a},v.radius=function(m){return arguments.length?(u="function"==typeof m?m:ja(+m),v):u},v.precision=function(m){return arguments.length?(c="function"==typeof m?m:ja(+m),v):c},v},r.geoClipAntimeridian=jl,r.geoClipCircle=Md,r.geoClipExtent=function(){var t,i,a,u=0,c=0,d=960,v=500;return a={stream:function(m){return t&&i===m?t:t=gu(u,c,d,v)(i=m)},extent:function(m){return arguments.length?(u=+m[0][0],c=+m[0][1],d=+m[1][0],v=+m[1][1],t=i=null,a):[[u,c],[d,v]]}}},r.geoClipRectangle=gu,r.geoConicConformal=function(){return uc(uf).scale(109.5).parallels([30,30])},r.geoConicConformalRaw=uf,r.geoConicEqualArea=Au,r.geoConicEqualAreaRaw=rf,r.geoConicEquidistant=function(){return uc(lf).scale(131.154).center([0,13.9389])},r.geoConicEquidistantRaw=lf,r.geoContains=function(t,i){return(t&&Ed.hasOwnProperty(t.type)?Ed[t.type]:yu)(t,i)},r.geoDistance=_u,r.geoEqualEarth=function(){return dr(hc).scale(177.158)},r.geoEqualEarthRaw=hc,r.geoEquirectangular=function(){return dr(Ro).scale(152.63)},r.geoEquirectangularRaw=Ro,r.geoGnomonic=function(){return dr(dc).scale(144.049).clipAngle(60)},r.geoGnomonicRaw=dc,r.geoGraticule=Hd,r.geoGraticule10=function(){return Hd()()},r.geoIdentity=function(){var t,i,a,u,c,d,v,m=1,_=0,b=0,S=1,P=1,T=0,I=null,O=1,H=1,B=Io({point:function(Z,st){var ft=q([Z,st]);this.stream.point(ft[0],ft[1])}}),z=Ao;function U(){return O=m*S,H=m*P,d=v=null,q}function q(Z){var st=Z[0]*O,ft=Z[1]*H;if(T){var bt=ft*t-st*i;st=st*t+ft*i,ft=bt}return[st+_,ft+b]}return q.invert=function(Z){var st=Z[0]-_,ft=Z[1]-b;if(T){var bt=ft*t+st*i;st=st*t-ft*i,ft=bt}return[st/O,ft/H]},q.stream=function(Z){return d&&v===Z?d:d=B(z(v=Z))},q.postclip=function(Z){return arguments.length?(z=Z,I=a=u=c=null,U()):z},q.clipExtent=function(Z){return arguments.length?(z=null==Z?(I=a=u=c=null,Ao):gu(I=+Z[0][0],a=+Z[0][1],u=+Z[1][0],c=+Z[1][1]),U()):null==I?null:[[I,a],[u,c]]},q.scale=function(Z){return arguments.length?(m=+Z,U()):m},q.translate=function(Z){return arguments.length?(_=+Z[0],b=+Z[1],U()):[_,b]},q.angle=function(Z){return arguments.length?(i=ue(T=Z%360*Ae),t=ve(T),U()):T*kn},q.reflectX=function(Z){return arguments.length?(S=Z?-1:1,U()):S<0},q.reflectY=function(Z){return arguments.length?(P=Z?-1:1,U()):P<0},q.fitExtent=function(Z,st){return Cu(q,Z,st)},q.fitSize=function(Z,st){return rc(q,Z,st)},q.fitWidth=function(Z,st){return ac(q,Z,st)},q.fitHeight=function(Z,st){return oc(q,Z,st)},q},r.geoInterpolate=function(t,i){var a=t[0]*Ae,u=t[1]*Ae,c=i[0]*Ae,d=i[1]*Ae,v=ve(u),m=ue(u),_=ve(d),b=ue(d),S=v*ve(a),P=v*ue(a),T=_*ve(c),I=_*ue(c),O=2*Ei(ti(Vh(d-u)+v*_*Vh(c-a))),H=ue(O),B=O?function(z){var U=ue(z*=O)/H,q=ue(O-z)/H,Z=q*S+U*T,st=q*P+U*I,ft=q*m+U*b;return[Di(st,Z)*kn,Di(ft,ti(Z*Z+st*st))*kn]}:function(){return[a*kn,u*kn]};return B.distance=O,B},r.geoLength=Dd,r.geoMercator=function(){return sf(Oo).scale(961/Mi)},r.geoMercatorRaw=Oo,r.geoNaturalEarth1=function(){return dr(fc).scale(175.295)},r.geoNaturalEarth1Raw=fc,r.geoOrthographic=function(){return dr(pc).scale(249.5).clipAngle(90+Se)},r.geoOrthographicRaw=pc,r.geoPath=function(t,i){var a,u,c=4.5;function d(v){return v&&("function"==typeof c&&u.pointRadius(+c.apply(this,arguments)),ir(v,a(u))),u.result()}return d.area=function(v){return ir(v,a(Cr)),Cr.result()},d.measure=function(v){return ir(v,a(Lo)),Lo.result()},d.bounds=function(v){return ir(v,a(wu)),wu.result()},d.centroid=function(v){return ir(v,a(Vi)),Vi.result()},d.projection=function(v){return arguments.length?(a=null==v?(t=null,Ao):(t=v).stream,d):t},d.context=function(v){return arguments.length?(u=null==v?(i=null,new Jd):new Kd(i=v),"function"!=typeof c&&u.pointRadius(c),d):i},d.pointRadius=function(v){return arguments.length?(c="function"==typeof v?v:(u.pointRadius(+v),+v),d):c},d.projection(t).context(i)},r.geoProjection=dr,r.geoProjectionMutator=sc,r.geoRotation=xd,r.geoStereographic=function(){return dr(gc).scale(250).clipAngle(142)},r.geoStereographicRaw=gc,r.geoStream=ir,r.geoTransform=function(t){return{stream:Io(t)}},r.geoTransverseMercator=function(){var t=sf(mc),i=t.center,a=t.rotate;return t.center=function(u){return arguments.length?i([-u[1],u[0]]):[(u=i())[1],-u[0]]},t.rotate=function(u){return arguments.length?a([u[0],u[1],u.length>2?u[2]+90:90]):[(u=a())[0],u[1],u[2]-90]},a([0,0,90]).scale(159.155)},r.geoTransverseMercatorRaw=mc,r.gray=function(t,i){return new Oi(t,0,0,i??1)},r.hcl=aa,r.hierarchy=vc,r.histogram=function(){var t=hn,i=Rn,a=_e;function u(c){var d,v,m=c.length,_=new Array(m);for(d=0;d<m;++d)_[d]=t(c[d],d,c);var b=i(_),S=b[0],P=b[1],T=a(_,S,P);Array.isArray(T)||(T=oe(S,P,T),T=ee(Math.ceil(S/T)*T,P,T));for(var I=T.length;T[0]<=S;)T.shift(),--I;for(;T[I-1]>P;)T.pop(),--I;var O,H=new Array(I+1);for(d=0;d<=I;++d)(O=H[d]=[]).x0=d>0?T[d-1]:S,O.x1=d<I?T[d]:P;for(d=0;d<m;++d)S<=(v=_[d])&&v<=P&&H[pe(T,v,0,I)].push(c[d]);return H}return u.value=function(c){return arguments.length?(t="function"==typeof c?c:ce(c),u):t},u.domain=function(c){return arguments.length?(i="function"==typeof c?c:ce([c[0],c[1]]),u):i},u.thresholds=function(c){return arguments.length?(a="function"==typeof c?c:Array.isArray(c)?ce(ke.call(c)):ce(c),u):a},u},r.hsl=ia,r.html=Fm,r.image=function(t,i){return new Promise(function(a,u){var c=new Image;for(var d in i)c[d]=i[d];c.onerror=u,c.onload=function(){a(c)},c.src=t})},r.interpolate=$i,r.interpolateArray=function(t,i){return(Fe(i)?fn:hi)(t,i)},r.interpolateBasis=_t,r.interpolateBasisClosed=Lt,r.interpolateBlues=iy,r.interpolateBrBG=R_,r.interpolateBuGn=X_,r.interpolateBuPu=q_,r.interpolateCividis=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},r.interpolateCool=hy,r.interpolateCubehelix=fo,r.interpolateCubehelixDefault=ly,r.interpolateCubehelixLong=Fi,r.interpolateDate=rn,r.interpolateDiscrete=function(t){var i=t.length;return function(a){return t[Math.max(0,Math.min(i-1,Math.floor(a*i)))]}},r.interpolateGnBu=U_,r.interpolateGreens=ry,r.interpolateGreys=ay,r.interpolateHcl=rl,r.interpolateHclLong=oa,r.interpolateHsl=Ma,r.interpolateHslLong=il,r.interpolateHue=function(t,i){var a=Et(+t,+i);return function(u){var c=a(u);return c-360*Math.floor(c/360)}},r.interpolateInferno=my,r.interpolateLab=function(t,i){var a=te((t=zr(t)).l,(i=zr(i)).l),u=te(t.a,i.a),c=te(t.b,i.b),d=te(t.opacity,i.opacity);return function(v){return t.l=a(v),t.a=u(v),t.b=c(v),t.opacity=d(v),t+""}},r.interpolateMagma=gy,r.interpolateNumber=an,r.interpolateNumberArray=fn,r.interpolateObject=Fr,r.interpolateOrRd=K_,r.interpolateOranges=uy,r.interpolatePRGn=z_,r.interpolatePiYG=F_,r.interpolatePlasma=vy,r.interpolatePuBu=Q_,r.interpolatePuBuGn=$_,r.interpolatePuOr=H_,r.interpolatePuRd=Z_,r.interpolatePurples=oy,r.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var i=Math.abs(t-.5);return Fu.h=360*t-100,Fu.s=1.5-1.5*i,Fu.l=.8-.9*i,Fu+""},r.interpolateRdBu=G_,r.interpolateRdGy=B_,r.interpolateRdPu=J_,r.interpolateRdYlBu=j_,r.interpolateRdYlGn=W_,r.interpolateReds=sy,r.interpolateRgb=ae,r.interpolateRgbBasis=jn,r.interpolateRgbBasisClosed=Ai,r.interpolateRound=fi,r.interpolateSinebow=function(t){var i;return t=(.5-t)*Math.PI,Hu.r=255*(i=Math.sin(t))*i,Hu.g=255*(i=Math.sin(t+dy))*i,Hu.b=255*(i=Math.sin(t+fy))*i,Hu+""},r.interpolateSpectral=Y_,r.interpolateString=nr,r.interpolateTransformCss=Wn,r.interpolateTransformSvg=bi,r.interpolateTurbo=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},r.interpolateViridis=py,r.interpolateWarm=cy,r.interpolateYlGn=ty,r.interpolateYlGnBu=V_,r.interpolateYlOrBr=ey,r.interpolateYlOrRd=ny,r.interpolateZoom=Ps,r.interrupt=we,r.interval=function(t,i,a){var u=new Wr,c=i;return null==i?(u.restart(t,i,a),u):(i=+i,a=null==a?jr():+a,u.restart(function d(v){v+=c,u.restart(d,c+=i,a),t(v)},i,a),u)},r.isoFormat=x_,r.isoParse=w_,r.json=function(t,i){return fetch(t,i).then(Rm)},r.keys=function(t){var i=[];for(var a in t)i.push(a);return i},r.lab=zr,r.lch=function(t,i,a,u){return 1===arguments.length?co(t):new Ri(a,i,t,u??1)},r.line=Kc,r.lineRadial=qp,r.linkHorizontal=function(){return Zc(Py)},r.linkRadial=function(){var t=Zc(Dy);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},r.linkVertical=function(){return Zc(My)},r.local=Nn,r.map=xr,r.matcher=Yt,r.max=pn,r.mean=function(t,i){var a,u=t.length,c=u,d=-1,v=0;if(null==i)for(;++d<u;)isNaN(a=Ye(t[d]))?--c:v+=a;else for(;++d<u;)isNaN(a=Ye(i(t[d],d,t)))?--c:v+=a;if(c)return v/c},r.median=function(t,i){var a,u=t.length,c=-1,d=[];if(null==i)for(;++c<u;)isNaN(a=Ye(t[c]))||d.push(a);else for(;++c<u;)isNaN(a=Ye(i(t[c],c,t)))||d.push(a);return Ue(d.sort(Ht),.5)},r.merge=se,r.min=et,r.mouse=sn,r.namespace=At,r.namespaces=Dt,r.nest=function(){var t,i,a,u=[],c=[];function d(v,m,_,b){if(m>=u.length)return null!=t&&v.sort(t),null!=i?i(v):v;for(var S,P,T,I=-1,O=v.length,H=u[m++],B=xr(),z=_();++I<O;)(T=B.get(S=H(P=v[I])+""))?T.push(P):B.set(S,[P]);return B.each(function(U,q){b(z,q,d(U,m,_,b))}),z}return a={object:function(v){return d(v,0,sm,um)},map:function(v){return d(v,0,Ch,Ah)},entries:function(v){return function m(_,b){if(++b>u.length)return _;var S,P=c[b-1];return null!=i&&b>=u.length?S=_.entries():(S=[],_.each(function(T,I){S.push({key:I,values:m(T,b)})})),null!=P?S.sort(function(T,I){return P(T.key,I.key)}):S}(d(v,0,Ch,Ah),0)},key:function(v){return u.push(v),a},sortKeys:function(v){return c[u.length-1]=v,a},sortValues:function(v){return t=v,a},rollup:function(v){return i=v,a}}},r.now=jr,r.pack=function(){var t=null,i=1,a=1,u=ga;function c(d){return d.x=i/2,d.y=a/2,t?d.eachBefore(_f(t)).eachAfter(yc(u,.5)).eachBefore(yf(1)):d.eachBefore(_f(O0)).eachAfter(yc(ga,1)).eachAfter(yc(u,d.r/Math.min(i,a))).eachBefore(yf(Math.min(i,a)/(2*d.r))),d}return c.radius=function(d){return arguments.length?(t=N0(d),c):t},c.size=function(d){return arguments.length?(i=+d[0],a=+d[1],c):[i,a]},c.padding=function(d){return arguments.length?(u="function"==typeof d?d:Ua(+d),c):u},c},r.packEnclose=hf,r.packSiblings=function(t){return vf(t),t},r.pairs=function(t,i){null==i&&(i=We);for(var a=0,u=t.length-1,c=t[0],d=new Array(u<0?0:u);a<u;)d[a]=i(c,c=t[++a]);return d},r.partition=function(){var t=1,i=1,a=0,u=!1;function c(d){var m,_,v=d.height+1;return d.x0=d.y0=a,d.x1=t,d.y1=i/v,d.eachBefore((m=i,_=v,function(b){b.children&&jo(b,b.x0,m*(b.depth+1)/_,b.x1,m*(b.depth+2)/_);var S=b.x0,P=b.y0,T=b.x1-a,I=b.y1-a;T<S&&(S=T=(S+T)/2),I<P&&(P=I=(P+I)/2),b.x0=S,b.y0=P,b.x1=T,b.y1=I})),u&&d.eachBefore(bf),d}return c.round=function(d){return arguments.length?(u=!!d,c):u},c.size=function(d){return arguments.length?(t=+d[0],i=+d[1],c):[t,i]},c.padding=function(d){return arguments.length?(a=+d,c):a},c},r.path=Xr,r.permute=function(t,i){for(var a=i.length,u=new Array(a);a--;)u[a]=t[i[a]];return u},r.pie=function(){var t=Cy,i=Ty,a=null,u=Je(0),c=Je(Jr),d=Je(0);function v(m){var _,b,S,P,T,I=m.length,O=0,H=new Array(I),B=new Array(I),z=+u.apply(this,arguments),U=Math.min(Jr,Math.max(-Jr,c.apply(this,arguments)-z)),q=Math.min(Math.abs(U)/I,d.apply(this,arguments)),Z=q*(U<0?-1:1);for(_=0;_<I;++_)(T=B[H[_]=_]=+t(m[_],_,m))>0&&(O+=T);for(null!=i?H.sort(function(st,ft){return i(B[st],B[ft])}):null!=a&&H.sort(function(st,ft){return a(m[st],m[ft])}),_=0,S=O?(U-I*Z)/O:0;_<I;++_,z=P)P=z+((T=B[b=H[_]])>0?T*S:0)+Z,B[b]={data:m[b],index:_,value:T,startAngle:z,endAngle:P,padAngle:q};return B}return v.value=function(m){return arguments.length?(t="function"==typeof m?m:Je(+m),v):t},v.sortValues=function(m){return arguments.length?(i=m,a=null,v):i},v.sort=function(m){return arguments.length?(a=m,i=null,v):a},v.startAngle=function(m){return arguments.length?(u="function"==typeof m?m:Je(+m),v):u},v.endAngle=function(m){return arguments.length?(c="function"==typeof m?m:Je(+m),v):c},v.padAngle=function(m){return arguments.length?(d="function"==typeof m?m:Je(+m),v):d},v},r.piecewise=function(t,i){for(var a=0,u=i.length-1,c=i[0],d=new Array(u<0?0:u);a<u;)d[a]=t(c,c=i[++a]);return function(v){var m=Math.max(0,Math.min(u-1,Math.floor(v*=u)));return d[m](v-m)}},r.pointRadial=ss,r.polygonArea=function(t){for(var i,a=-1,u=t.length,c=t[u-1],d=0;++a<u;)d+=(i=c)[1]*(c=t[a])[0]-i[0]*c[1];return d/2},r.polygonCentroid=function(t){for(var i,a,u=-1,c=t.length,d=0,v=0,m=t[c-1],_=0;++u<c;)_+=a=(i=m)[0]*(m=t[u])[1]-m[0]*i[1],d+=(i[0]+m[0])*a,v+=(i[1]+m[1])*a;return[d/(_*=3),v/_]},r.polygonContains=function(t,i){for(var a,u,c=t.length,d=t[c-1],v=i[0],m=i[1],_=d[0],b=d[1],S=!1,P=0;P<c;++P)a=(d=t[P])[0],(u=d[1])>m!=b>m&&v<(_-a)*(m-u)/(b-u)+a&&(S=!S),_=a,b=u;return S},r.polygonHull=function(t){if((a=t.length)<3)return null;var i,a,u=new Array(a),c=new Array(a);for(i=0;i<a;++i)u[i]=[+t[i][0],+t[i][1],i];for(u.sort(Y0),i=0;i<a;++i)c[i]=[u[i][0],-u[i][1]];var d=Af(u),v=Af(c),m=v[0]===d[0],_=v[v.length-1]===d[d.length-1],b=[];for(i=d.length-1;i>=0;--i)b.push(t[u[d[i]][2]]);for(i=+m;i<v.length-_;++i)b.push(t[u[v[i]][2]]);return b},r.polygonLength=function(t){for(var i,a,u=-1,c=t.length,d=t[c-1],v=d[0],m=d[1],_=0;++u<c;)i=v,a=m,i-=v=(d=t[u])[0],a-=m=d[1],_+=Math.sqrt(i*i+a*a);return _},r.precisionFixed=Uh,r.precisionPrefix=Kh,r.precisionRound=$h,r.quadtree=Bs,r.quantile=Ue,r.quantize=function(t,i){for(var a=new Array(i),u=0;u<i;++u)a[u]=t(u/(i-1));return a},r.radialArea=Up,r.radialLine=qp,r.randomBates=U0,r.randomExponential=K0,r.randomIrwinHall=Pf,r.randomLogNormal=q0,r.randomNormal=kf,r.randomUniform=X0,r.range=ee,r.rgb=Nr,r.ribbon=function(){var t=nm,i=im,a=rm,u=am,c=om,d=null;function v(){var m,_=tm.call(arguments),b=t.apply(this,_),S=i.apply(this,_),P=+a.apply(this,(_[0]=b,_)),T=u.apply(this,_)-Rs,I=c.apply(this,_)-Rs,O=P*bh(T),H=P*xh(T),B=+a.apply(this,(_[0]=S,_)),z=u.apply(this,_)-Rs,U=c.apply(this,_)-Rs;if(d||(d=m=Xr()),d.moveTo(O,H),d.arc(0,0,P,T,I),T===z&&I===U||(d.quadraticCurveTo(0,0,B*bh(z),B*xh(z)),d.arc(0,0,B,z,U)),d.quadraticCurveTo(0,0,O,H),d.closePath(),m)return d=null,m+""||null}return v.radius=function(m){return arguments.length?(a="function"==typeof m?m:pl(+m),v):a},v.startAngle=function(m){return arguments.length?(u="function"==typeof m?m:pl(+m),v):u},v.endAngle=function(m){return arguments.length?(c="function"==typeof m?m:pl(+m),v):c},v.source=function(m){return arguments.length?(t=m,v):t},v.target=function(m){return arguments.length?(i=m,v):i},v.context=function(m){return arguments.length?(d=m??null,v):d},v},r.scaleBand=Tc,r.scaleDiverging=function t(){var i=va(zu()(mi));return i.copy=function(){return Qr(i,t())},Ar.apply(i,arguments)},r.scaleDivergingLog=function t(){var i=kc(zu()).domain([.1,1,10]);return i.copy=function(){return Qr(i,t()).base(i.base())},Ar.apply(i,arguments)},r.scaleDivergingPow=Yc,r.scaleDivergingSqrt=function(){return Yc.apply(null,arguments).exponent(.5)},r.scaleDivergingSymlog=function t(){var i=Pc(zu());return i.copy=function(){return Qr(i,t()).constant(i.constant())},Ar.apply(i,arguments)},r.scaleIdentity=function t(i){var a;function u(c){return isNaN(c=+c)?a:c}return u.invert=u,u.domain=u.range=function(c){return arguments.length?(i=Nu.call(c,Cc),u):i.slice()},u.unknown=function(c){return arguments.length?(a=c,u):a},u.copy=function(){return t(i).unknown(a)},i=arguments.length?Nu.call(i,Cc):[0,1],va(u)},r.scaleImplicit=wc,r.scaleLinear=function t(){var i=Lf(mi,mi);return i.copy=function(){return Wo(i,t())},ar.apply(i,arguments),va(i)},r.scaleLog=function t(){var i=kc(Ou()).domain([1,10]);return i.copy=function(){return Wo(i,t()).base(i.base())},ar.apply(i,arguments),i},r.scaleOrdinal=Sc,r.scalePoint=function(){return function t(i){var a=i.copy;return i.padding=i.paddingOuter,delete i.paddingInner,delete i.paddingOuter,i.copy=function(){return t(a())},i}(Tc.apply(null,arguments).paddingInner(1))},r.scalePow=Dc,r.scaleQuantile=function t(){var i,a=[],u=[],c=[];function d(){var m=0,_=Math.max(1,u.length);for(c=new Array(_-1);++m<_;)c[m-1]=Ue(a,m/_);return v}function v(m){return isNaN(m=+m)?i:u[pe(c,m)]}return v.invertExtent=function(m){var _=u.indexOf(m);return _<0?[NaN,NaN]:[_>0?c[_-1]:a[0],_<c.length?c[_]:a[a.length-1]]},v.domain=function(m){if(!arguments.length)return a.slice();a=[];for(var _,b=0,S=m.length;b<S;++b)null==(_=m[b])||isNaN(_=+_)||a.push(_);return a.sort(Ht),d()},v.range=function(m){return arguments.length?(u=ma.call(m),d()):u.slice()},v.unknown=function(m){return arguments.length?(i=m,v):i},v.quantiles=function(){return c.slice()},v.copy=function(){return t().domain(a).range(u).unknown(i)},ar.apply(v,arguments)},r.scaleQuantize=function t(){var i,a=0,u=1,c=1,d=[.5],v=[0,1];function m(b){return b<=b?v[pe(d,b,0,c)]:i}function _(){var b=-1;for(d=new Array(c);++b<c;)d[b]=((b+1)*u-(b-c)*a)/(c+1);return m}return m.domain=function(b){return arguments.length?(a=+b[0],u=+b[1],_()):[a,u]},m.range=function(b){return arguments.length?(c=(v=ma.call(b)).length-1,_()):v.slice()},m.invertExtent=function(b){var S=v.indexOf(b);return S<0?[NaN,NaN]:S<1?[a,d[0]]:S>=c?[d[c-1],u]:[d[S-1],d[S]]},m.unknown=function(b){return arguments.length&&(i=b),m},m.thresholds=function(){return d.slice()},m.copy=function(){return t().domain([a,u]).range(v).unknown(i)},ar.apply(va(m),arguments)},r.scaleSequential=function t(){var i=va(Ru()(mi));return i.copy=function(){return Qr(i,t())},Ar.apply(i,arguments)},r.scaleSequentialLog=function t(){var i=kc(Ru()).domain([1,10]);return i.copy=function(){return Qr(i,t()).base(i.base())},Ar.apply(i,arguments)},r.scaleSequentialPow=Wc,r.scaleSequentialQuantile=function t(){var i=[],a=mi;function u(c){if(!isNaN(c=+c))return a((pe(i,c)-1)/(i.length-1))}return u.domain=function(c){if(!arguments.length)return i.slice();i=[];for(var d,v=0,m=c.length;v<m;++v)null==(d=c[v])||isNaN(d=+d)||i.push(d);return i.sort(Ht),u},u.interpolator=function(c){return arguments.length?(a=c,u):a},u.copy=function(){return t(a).domain(i)},Ar.apply(u,arguments)},r.scaleSequentialSqrt=function(){return Wc.apply(null,arguments).exponent(.5)},r.scaleSequentialSymlog=function t(){var i=Pc(Ru());return i.copy=function(){return Qr(i,t()).constant(i.constant())},Ar.apply(i,arguments)},r.scaleSqrt=function(){return Dc.apply(null,arguments).exponent(.5)},r.scaleSymlog=function t(){var i=Pc(Ou());return i.copy=function(){return Wo(i,t()).constant(i.constant())},ar.apply(i,arguments)},r.scaleThreshold=function t(){var i,a=[.5],u=[0,1],c=1;function d(v){return v<=v?u[pe(a,v,0,c)]:i}return d.domain=function(v){return arguments.length?(a=ma.call(v),c=Math.min(a.length,u.length-1),d):a.slice()},d.range=function(v){return arguments.length?(u=ma.call(v),c=Math.min(a.length,u.length-1),d):u.slice()},d.invertExtent=function(v){var m=u.indexOf(v);return[a[m-1],a[m]]},d.unknown=function(v){return arguments.length?(i=v,d):i},d.copy=function(){return t().domain(a).range(u).unknown(i)},ar.apply(d,arguments)},r.scaleTime=function(){return ar.apply(jc(kr,Oc,qo,Xo,Nc,Ic,Yo,_a,r.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},r.scaleUtc=function(){return ar.apply(jc(Pr,Fc,Qo,$o,zc,Rc,Yo,_a,r.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},r.scan=function(t,i){if(a=t.length){var a,u,c=0,d=0,v=t[d];for(null==i&&(i=Ht);++c<a;)(i(u=t[c],v)<0||0!==i(v,v))&&(v=u,d=c);return 0===i(v,v)?d:void 0}},r.schemeAccent=k_,r.schemeBlues=Np,r.schemeBrBG=fp,r.schemeBuGn=wp,r.schemeBuPu=Sp,r.schemeCategory10=A_,r.schemeDark2=P_,r.schemeGnBu=Tp,r.schemeGreens=Op,r.schemeGreys=Rp,r.schemeOrRd=Cp,r.schemeOranges=Hp,r.schemePRGn=pp,r.schemePaired=M_,r.schemePastel1=D_,r.schemePastel2=E_,r.schemePiYG=gp,r.schemePuBu=kp,r.schemePuBuGn=Ap,r.schemePuOr=mp,r.schemePuRd=Pp,r.schemePurples=zp,r.schemeRdBu=vp,r.schemeRdGy=_p,r.schemeRdPu=Mp,r.schemeRdYlBu=yp,r.schemeRdYlGn=bp,r.schemeReds=Fp,r.schemeSet1=L_,r.schemeSet2=I_,r.schemeSet3=N_,r.schemeSpectral=xp,r.schemeTableau10=O_,r.schemeYlGn=Ep,r.schemeYlGnBu=Dp,r.schemeYlOrBr=Lp,r.schemeYlOrRd=Ip,r.select=me,r.selectAll=function(t){return"string"==typeof t?new He([document.querySelectorAll(t)],[document.documentElement]):new He([t??[]],vn)},r.selection=de,r.selector=Zt,r.selectorAll=$t,r.set=kh,r.shuffle=function(t,i,a){for(var u,c,d=(a??t.length)-(i=null==i?0:+i);d;)c=Math.random()*d--|0,u=t[d+i],t[d+i]=t[c+i],t[c+i]=u;return t},r.stack=function(){var t=Je([]),i=Ja,a=Za,u=Wy;function c(d){var v,m,_=t.apply(this,arguments),b=d.length,S=_.length,P=new Array(S);for(v=0;v<S;++v){for(var T,I=_[v],O=P[v]=new Array(b),H=0;H<b;++H)O[H]=T=[0,+u(d[H],I,H,d)],T.data=d[H];O.key=I}for(v=0,m=i(P);v<S;++v)P[m[v]].index=v;return a(P,m),P}return c.keys=function(d){return arguments.length?(t="function"==typeof d?d:Je(Qc.call(d)),c):t},c.value=function(d){return arguments.length?(u="function"==typeof d?d:Je(+d),c):u},c.order=function(d){return arguments.length?(i=null==d?Ja:"function"==typeof d?d:Je(Qc.call(d)),c):i},c.offset=function(d){return arguments.length?(a=d??Za,c):a},c},r.stackOffsetDiverging=function(t,i){if((m=t.length)>0)for(var a,u,c,d,v,m,_=0,b=t[i[0]].length;_<b;++_)for(d=v=0,a=0;a<m;++a)(c=(u=t[i[a]][_])[1]-u[0])>0?(u[0]=d,u[1]=d+=c):c<0?(u[1]=v,u[0]=v+=c):(u[0]=0,u[1]=c)},r.stackOffsetExpand=function(t,i){if((u=t.length)>0){for(var a,u,c,d=0,v=t[0].length;d<v;++d){for(c=a=0;a<u;++a)c+=t[a][d][1]||0;if(c)for(a=0;a<u;++a)t[a][d][1]/=c}Za(t,i)}},r.stackOffsetNone=Za,r.stackOffsetSilhouette=function(t,i){if((a=t.length)>0){for(var a,u=0,c=t[i[0]],d=c.length;u<d;++u){for(var v=0,m=0;v<a;++v)m+=t[v][u][1]||0;c[u][1]+=c[u][0]=-m/2}Za(t,i)}},r.stackOffsetWiggle=function(t,i){if((c=t.length)>0&&(u=(a=t[i[0]]).length)>0){for(var a,u,c,d=0,v=1;v<u;++v){for(var m=0,_=0,b=0;m<c;++m){for(var S=t[i[m]],P=S[v][1]||0,T=(P-(S[v-1][1]||0))/2,I=0;I<m;++I){var O=t[i[I]];T+=(O[v][1]||0)-(O[v-1][1]||0)}_+=P,b+=T*P}a[v-1][1]+=a[v-1][0]=d,_&&(d-=b/_)}a[v-1][1]+=a[v-1][0]=d,Za(t,i)}},r.stackOrderAppearance=mg,r.stackOrderAscending=vg,r.stackOrderDescending=function(t){return vg(t).reverse()},r.stackOrderInsideOut=function(t){var i,a,u=t.length,c=t.map(_g),d=mg(t),v=0,m=0,_=[],b=[];for(i=0;i<u;++i)a=d[i],v<m?(v+=c[a],_.push(a)):(m+=c[a],b.push(a));return b.reverse().concat(_)},r.stackOrderNone=Ja,r.stackOrderReverse=function(t){return Ja(t).reverse()},r.stratify=function(){var t=z0,i=F0;function a(u){var c,d,v,m,_,b,S,P=u.length,T=new Array(P),I={};for(d=0;d<P;++d)_=T[d]=new qa(c=u[d]),null!=(b=t(c,d,u))&&(b+="")&&(I[S="$"+(_.id=b)]=S in I?wf:_);for(d=0;d<P;++d)if(_=T[d],null!=(b=i(u[d],d,u))&&(b+="")){if(!(m=I["$"+b]))throw new Error("missing: "+b);if(m===wf)throw new Error("ambiguous: "+b);m.children?m.children.push(_):m.children=[_],_.parent=m}else{if(v)throw new Error("multiple roots");v=_}if(!v)throw new Error("no root");if(v.parent=R0,v.eachBefore(function(O){O.depth=O.parent.depth+1,--P}).eachBefore(cf),v.parent=null,P>0)throw new Error("cycle");return v}return a.id=function(u){return arguments.length?(t=Eu(u),a):t},a.parentId=function(u){return arguments.length?(i=Eu(u),a):i},a},r.style=De,r.sum=function(t,i){var a,u=t.length,c=-1,d=0;if(null==i)for(;++c<u;)(a=+t[c])&&(d+=a);else for(;++c<u;)(a=+i(t[c],c,t))&&(d+=a);return d},r.svg=Hm,r.symbol=function(){var t=Je(Jc),i=Je(64),a=null;function u(){var c;if(a||(a=c=Xr()),t.apply(this,arguments).draw(a,+i.apply(this,arguments)),c)return a=null,c+""||null}return u.type=function(c){return arguments.length?(t="function"==typeof c?c:Je(c),u):t},u.size=function(c){return arguments.length?(i="function"==typeof c?c:Je(+c),u):i},u.context=function(c){return arguments.length?(a=c??null,u):a},u},r.symbolCircle=Jc,r.symbolCross=Kp,r.symbolDiamond=Qp,r.symbolSquare=Vp,r.symbolStar=Jp,r.symbolTriangle=tg,r.symbolWye=eg,r.symbols=Oy,r.text=Gs,r.thresholdFreedmanDiaconis=function(t,i,a){return t=le.call(t,Ye).sort(Ht),Math.ceil((a-i)/(2*(Ue(t,.75)-Ue(t,.25))*Math.pow(t.length,-1/3)))},r.thresholdScott=function(t,i,a){return Math.ceil((a-i)/(3.5*on(t)*Math.pow(t.length,-1/3)))},r.thresholdSturges=_e,r.tickFormat=If,r.tickIncrement=E,r.tickStep=oe,r.ticks=Q,r.timeDay=Xo,r.timeDays=rv,r.timeFormatDefaultLocale=hp,r.timeFormatLocale=tp,r.timeFriday=qf,r.timeFridays=lv,r.timeHour=Nc,r.timeHours=iv,r.timeInterval=ai,r.timeMillisecond=_a,r.timeMilliseconds=Bf,r.timeMinute=Ic,r.timeMinutes=nv,r.timeMonday=Uo,r.timeMondays=av,r.timeMonth=Oc,r.timeMonths=hv,r.timeSaturday=Uf,r.timeSaturdays=cv,r.timeSecond=Yo,r.timeSeconds=Wf,r.timeSunday=qo,r.timeSundays=Kf,r.timeThursday=Ko,r.timeThursdays=uv,r.timeTuesday=Yf,r.timeTuesdays=ov,r.timeWednesday=Xf,r.timeWednesdays=sv,r.timeWeek=qo,r.timeWeeks=Kf,r.timeYear=kr,r.timeYears=dv,r.timeout=ua,r.timer=Zi,r.timerFlush=Da,r.touch=je,r.touches=function(t,i){null==i&&(i=Ke().touches);for(var a=0,u=i?i.length:0,c=new Array(u);a<u;++a)c[a]=Ie(t,i[a]);return c},r.transition=li,r.transpose=nt,r.tree=function(){var t=H0,i=1,a=1,u=null;function c(_){var b=function(z){for(var U,q,Z,st,ft,bt=new Lu(z,0),Ot=[bt];U=Ot.pop();)if(Z=U._.children)for(U.children=new Array(ft=Z.length),st=ft-1;st>=0;--st)Ot.push(q=U.children[st]=new Lu(Z[st],st)),q.parent=U;return(bt.parent=new Lu(null,0)).children=[bt],bt}(_);if(b.eachAfter(d),b.parent.m=-b.z,b.eachBefore(v),u)_.eachBefore(m);else{var S=_,P=_,T=_;_.eachBefore(function(z){z.x<S.x&&(S=z),z.x>P.x&&(P=z),z.depth>T.depth&&(T=z)});var I=S===P?1:t(S,P)/2,O=I-S.x,H=i/(P.x+I+O),B=a/(T.depth||1);_.eachBefore(function(z){z.x=(z.x+O)*H,z.y=z.depth*B})}return _}function d(_){var b=_.children,S=_.parent.children,P=_.i?S[_.i-1]:null;if(b){!function(I){for(var O,H=0,B=0,z=I.children,U=z.length;--U>=0;)(O=z[U]).z+=H,O.m+=H,H+=O.s+(B+=O.c)}(_);var T=(b[0].z+b[b.length-1].z)/2;P?(_.z=P.z+t(_._,P._),_.m=_.z-T):_.z=T}else P&&(_.z=P.z+t(_._,P._));_.parent.A=function(I,O,H){if(O){for(var B,z=I,U=I,q=O,Z=z.parent.children[0],st=z.m,ft=U.m,bt=q.m,Ot=Z.m;q=xc(q),z=bc(z),q&&z;)Z=bc(Z),(U=xc(U)).a=I,(B=q.z+bt-z.z-st+t(q._,z._))>0&&(G0(B0(q,I,H),I,B),st+=B,ft+=B),bt+=q.m,st+=z.m,Ot+=Z.m,ft+=U.m;q&&!xc(U)&&(U.t=q,U.m+=bt-ft),z&&!bc(Z)&&(Z.t=z,Z.m+=st-Ot,H=I)}return H}(_,P,_.parent.A||S[0])}function v(_){_._.x=_.z+_.parent.m,_.m+=_.parent.m}function m(_){_.x*=i,_.y=_.depth*a}return c.separation=function(_){return arguments.length?(t=_,c):t},c.size=function(_){return arguments.length?(u=!1,i=+_[0],a=+_[1],c):u?null:[i,a]},c.nodeSize=function(_){return arguments.length?(u=!0,i=+_[0],a=+_[1],c):u?[i,a]:null},c},r.treemap=function(){var t=Cf,i=!1,a=1,u=1,c=[0],d=ga,v=ga,m=ga,_=ga,b=ga;function S(T){return T.x0=T.y0=0,T.x1=a,T.y1=u,T.eachBefore(P),c=[0],i&&T.eachBefore(bf),T}function P(T){var I=c[T.depth],O=T.x0+I,H=T.y0+I,B=T.x1-I,z=T.y1-I;B<O&&(O=B=(O+B)/2),z<H&&(H=z=(H+z)/2),T.x0=O,T.y0=H,T.x1=B,T.y1=z,T.children&&(I=c[T.depth+1]=d(T)/2,O+=b(T)-I,H+=v(T)-I,(B-=m(T)-I)<O&&(O=B=(O+B)/2),(z-=_(T)-I)<H&&(H=z=(H+z)/2),t(T,O,H,B,z))}return S.round=function(T){return arguments.length?(i=!!T,S):i},S.size=function(T){return arguments.length?(a=+T[0],u=+T[1],S):[a,u]},S.tile=function(T){return arguments.length?(t=Eu(T),S):t},S.padding=function(T){return arguments.length?S.paddingInner(T).paddingOuter(T):S.paddingInner()},S.paddingInner=function(T){return arguments.length?(d="function"==typeof T?T:Ua(+T),S):d},S.paddingOuter=function(T){return arguments.length?S.paddingTop(T).paddingRight(T).paddingBottom(T).paddingLeft(T):S.paddingTop()},S.paddingTop=function(T){return arguments.length?(v="function"==typeof T?T:Ua(+T),S):v},S.paddingRight=function(T){return arguments.length?(m="function"==typeof T?T:Ua(+T),S):m},S.paddingBottom=function(T){return arguments.length?(_="function"==typeof T?T:Ua(+T),S):_},S.paddingLeft=function(T){return arguments.length?(b="function"==typeof T?T:Ua(+T),S):b},S},r.treemapBinary=function(t,i,a,u,c){var d,v,m=t.children,_=m.length,b=new Array(_+1);for(b[0]=v=d=0;d<_;++d)b[d+1]=v+=m[d].value;!function S(P,T,I,O,H,B,z){if(P>=T-1){var U=m[P];return U.x0=O,U.y0=H,U.x1=B,void(U.y1=z)}for(var q=b[P],Z=I/2+q,st=P+1,ft=T-1;st<ft;){var bt=st+ft>>>1;b[bt]<Z?st=bt+1:ft=bt}Z-b[st-1]<b[st]-Z&&P+1<st&&--st;var Ot=b[st]-q,ct=I-Ot;if(B-O>z-H){var kt=(O*ct+B*Ot)/I;S(P,st,Ot,O,H,kt,z),S(st,T,ct,kt,H,B,z)}else{var xt=(H*ct+z*Ot)/I;S(P,st,Ot,O,H,B,xt),S(st,T,ct,O,xt,B,z)}}(0,_,t.value,i,a,u,c)},r.treemapDice=jo,r.treemapResquarify=j0,r.treemapSlice=Iu,r.treemapSliceDice=function(t,i,a,u,c){(1&t.depth?Iu:jo)(t,i,a,u,c)},r.treemapSquarify=Cf,r.tsv=Om,r.tsvFormat=Cm,r.tsvFormatBody=Am,r.tsvFormatRow=Pm,r.tsvFormatRows=km,r.tsvFormatValue=Mm,r.tsvParse=Nh,r.tsvParseRows=Tm,r.utcDay=$o,r.utcDays=gv,r.utcFriday=Zf,r.utcFridays=bv,r.utcHour=zc,r.utcHours=pv,r.utcMillisecond=_a,r.utcMilliseconds=Bf,r.utcMinute=Rc,r.utcMinutes=fv,r.utcMonday=Zo,r.utcMondays=mv,r.utcMonth=Fc,r.utcMonths=wv,r.utcSaturday=Jf,r.utcSaturdays=xv,r.utcSecond=Yo,r.utcSeconds=Wf,r.utcSunday=Qo,r.utcSundays=Vf,r.utcThursday=Jo,r.utcThursdays=yv,r.utcTuesday=$f,r.utcTuesdays=vv,r.utcWednesday=Qf,r.utcWednesdays=_v,r.utcWeek=Qo,r.utcWeeks=Vf,r.utcYear=Pr,r.utcYears=Sv,r.values=function(t){var i=[];for(var a in t)i.push(t[a]);return i},r.variance=Oe,r.version="5.16.0",r.voronoi=function(){var t=Xy,i=qy,a=null;function u(c){return new uh(c.map(function(d,v){var m=[Math.round(t(d,v,c)/Tn)*Tn,Math.round(i(d,v,c)/Tn)*Tn];return m.index=v,m.data=d,m}),a)}return u.polygons=function(c){return u(c).polygons()},u.links=function(c){return u(c).links()},u.triangles=function(c){return u(c).triangles()},u.x=function(c){return arguments.length?(t="function"==typeof c?c:yg(+c),u):t},u.y=function(c){return arguments.length?(i="function"==typeof c?c:yg(+c),u):i},u.extent=function(c){return arguments.length?(a=null==c?null:[[+c[0][0],+c[0][1]],[+c[1][0],+c[1][1]]],u):a&&[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},u.size=function(c){return arguments.length?(a=null==c?null:[[0,0],[+c[0],+c[1]]],u):a&&[a[1][0]-a[0][0],a[1][1]-a[0][1]]},u},r.window=Me,r.xml=zm,r.zip=function(){return nt(arguments)},r.zoom=function(){var t,i,a=o1,u=s1,c=c1,d=u1,v=l1,m=[0,1/0],_=[[-1/0,-1/0],[1/0,1/0]],b=250,S=Ps,P=J("start","zoom","end"),T=500,O=0;function H(K){K.property("__zoom",kg).on("wheel.zoom",ft).on("mousedown.zoom",bt).on("dblclick.zoom",Ot).filter(v).on("touchstart.zoom",ct).on("touchmove.zoom",kt).on("touchend.zoom touchcancel.zoom",xt).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function B(K,vt){return(vt=Math.max(m[0],Math.min(m[1],vt)))===K.k?K:new Mr(vt,K.x,K.y)}function z(K,vt,pt){var St=vt[0]-pt[0]*K.k,Nt=vt[1]-pt[1]*K.k;return St===K.x&&Nt===K.y?K:new Mr(K.k,St,Nt)}function U(K){return[(+K[0][0]+ +K[1][0])/2,(+K[0][1]+ +K[1][1])/2]}function q(K,vt,pt){K.on("start.zoom",function(){Z(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){Z(this,arguments).end()}).tween("zoom",function(){var St=this,Nt=arguments,Qt=Z(St,Nt),Te=u.apply(St,Nt),Ce=null==pt?U(Te):"function"==typeof pt?pt.apply(St,Nt):pt,Xe=Math.max(Te[1][0]-Te[0][0],Te[1][1]-Te[0][1]),ne=St.__zoom,Ve="function"==typeof vt?vt.apply(St,Nt):vt,en=S(ne.invert(Ce).concat(Xe/ne.k),Ve.invert(Ce).concat(Xe/Ve.k));return function(fe){if(1===fe)fe=Ve;else{var Ne=en(fe),Gn=Xe/Ne[2];fe=new Mr(Gn,Ce[0]-Ne[0]*Gn,Ce[1]-Ne[1]*Gn)}Qt.zoom(null,fe)}})}function Z(K,vt,pt){return!pt&&K.__zooming||new st(K,vt)}function st(K,vt){this.that=K,this.args=vt,this.active=0,this.extent=u.apply(K,vt),this.taps=0}function ft(){if(a.apply(this,arguments)){var K=Z(this,arguments),vt=this.__zoom,pt=Math.max(m[0],Math.min(m[1],vt.k*Math.pow(2,d.apply(this,arguments)))),St=sn(this);if(K.wheel)K.mouse[0][0]===St[0]&&K.mouse[0][1]===St[1]||(K.mouse[1]=vt.invert(K.mouse[0]=St)),clearTimeout(K.wheel);else{if(vt.k===pt)return;K.mouse=[St,vt.invert(St)],we(this),K.start()}fs(),K.wheel=setTimeout(function(){K.wheel=null,K.end()},150),K.zoom("mouse",c(z(B(vt,pt),K.mouse[0],K.mouse[1]),K.extent,_))}}function bt(){if(!i&&a.apply(this,arguments)){var K=Z(this,arguments,!0),vt=me(r.event.view).on("mousemove.zoom",function(){if(fs(),!K.moved){var Qt=r.event.clientX-St,Te=r.event.clientY-Nt;K.moved=Qt*Qt+Te*Te>O}K.zoom("mouse",c(z(K.that.__zoom,K.mouse[0]=sn(K.that),K.mouse[1]),K.extent,_))},!0).on("mouseup.zoom",function(){vt.on("mousemove.zoom mouseup.zoom",null),Cn(r.event.view,K.moved),fs(),K.end()},!0),pt=sn(this),St=r.event.clientX,Nt=r.event.clientY;qn(r.event.view),lh(),K.mouse=[pt,this.__zoom.invert(pt)],we(this),K.start()}}function Ot(){if(a.apply(this,arguments)){var K=this.__zoom,vt=sn(this),pt=K.invert(vt),St=K.k*(r.event.shiftKey?.5:2),Nt=c(z(B(K,St),vt,pt),u.apply(this,arguments),_);fs(),b>0?me(this).transition().duration(b).call(q,Nt,vt):me(this).call(H.transform,Nt)}}function ct(){if(a.apply(this,arguments)){var K,vt,pt,St,Nt=r.event.touches,Qt=Nt.length,Te=Z(this,arguments,r.event.changedTouches.length===Qt);for(lh(),vt=0;vt<Qt;++vt)St=[St=je(this,Nt,(pt=Nt[vt]).identifier),this.__zoom.invert(St),pt.identifier],Te.touch0?Te.touch1||Te.touch0[2]===St[2]||(Te.touch1=St,Te.taps=0):(Te.touch0=St,K=!0,Te.taps=1+!!t);t&&(t=clearTimeout(t)),K&&(Te.taps<2&&(t=setTimeout(function(){t=null},T)),we(this),Te.start())}}function kt(){if(this.__zooming){var K,vt,pt,St,Nt=Z(this,arguments),Qt=r.event.changedTouches,Te=Qt.length;for(fs(),t&&(t=clearTimeout(t)),Nt.taps=0,K=0;K<Te;++K)pt=je(this,Qt,(vt=Qt[K]).identifier),Nt.touch0&&Nt.touch0[2]===vt.identifier?Nt.touch0[0]=pt:Nt.touch1&&Nt.touch1[2]===vt.identifier&&(Nt.touch1[0]=pt);if(vt=Nt.that.__zoom,Nt.touch1){var Ce=Nt.touch0[0],Xe=Nt.touch0[1],ne=Nt.touch1[0],Ve=Nt.touch1[1],en=(en=ne[0]-Ce[0])*en+(en=ne[1]-Ce[1])*en,fe=(fe=Ve[0]-Xe[0])*fe+(fe=Ve[1]-Xe[1])*fe;vt=B(vt,Math.sqrt(en/fe)),pt=[(Ce[0]+ne[0])/2,(Ce[1]+ne[1])/2],St=[(Xe[0]+Ve[0])/2,(Xe[1]+Ve[1])/2]}else{if(!Nt.touch0)return;pt=Nt.touch0[0],St=Nt.touch0[1]}Nt.zoom("touch",c(z(vt,pt,St),Nt.extent,_))}}function xt(){if(this.__zooming){var K,vt,pt=Z(this,arguments),St=r.event.changedTouches,Nt=St.length;for(lh(),i&&clearTimeout(i),i=setTimeout(function(){i=null},T),K=0;K<Nt;++K)vt=St[K],pt.touch0&&pt.touch0[2]===vt.identifier?delete pt.touch0:pt.touch1&&pt.touch1[2]===vt.identifier&&delete pt.touch1;if(pt.touch1&&!pt.touch0&&(pt.touch0=pt.touch1,delete pt.touch1),pt.touch0)pt.touch0[1]=this.__zoom.invert(pt.touch0[0]);else if(pt.end(),2===pt.taps){var Qt=me(this).on("dblclick.zoom");Qt&&Qt.apply(this,arguments)}}}return H.transform=function(K,vt,pt){var St=K.selection?K.selection():K;St.property("__zoom",kg),K!==St?q(K,vt,pt):St.interrupt().each(function(){Z(this,arguments).start().zoom(null,"function"==typeof vt?vt.apply(this,arguments):vt).end()})},H.scaleBy=function(K,vt,pt){H.scaleTo(K,function(){var St=this.__zoom.k,Nt="function"==typeof vt?vt.apply(this,arguments):vt;return St*Nt},pt)},H.scaleTo=function(K,vt,pt){H.transform(K,function(){var St=u.apply(this,arguments),Nt=this.__zoom,Qt=null==pt?U(St):"function"==typeof pt?pt.apply(this,arguments):pt,Te=Nt.invert(Qt),Ce="function"==typeof vt?vt.apply(this,arguments):vt;return c(z(B(Nt,Ce),Qt,Te),St,_)},pt)},H.translateBy=function(K,vt,pt){H.transform(K,function(){return c(this.__zoom.translate("function"==typeof vt?vt.apply(this,arguments):vt,"function"==typeof pt?pt.apply(this,arguments):pt),u.apply(this,arguments),_)})},H.translateTo=function(K,vt,pt,St){H.transform(K,function(){var Nt=u.apply(this,arguments),Qt=this.__zoom,Te=null==St?U(Nt):"function"==typeof St?St.apply(this,arguments):St;return c(Vu.translate(Te[0],Te[1]).scale(Qt.k).translate("function"==typeof vt?-vt.apply(this,arguments):-vt,"function"==typeof pt?-pt.apply(this,arguments):-pt),Nt,_)},St)},st.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(K,vt){return this.mouse&&"mouse"!==K&&(this.mouse[1]=vt.invert(this.mouse[0])),this.touch0&&"touch"!==K&&(this.touch0[1]=vt.invert(this.touch0[0])),this.touch1&&"touch"!==K&&(this.touch1[1]=vt.invert(this.touch1[0])),this.that.__zoom=vt,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(K){ze(new a1(H,K,this.that.__zoom),P.apply,P,[K,this.that,this.args])}},H.wheelDelta=function(K){return arguments.length?(d="function"==typeof K?K:Ju(+K),H):d},H.filter=function(K){return arguments.length?(a="function"==typeof K?K:Ju(!!K),H):a},H.touchable=function(K){return arguments.length?(v="function"==typeof K?K:Ju(!!K),H):v},H.extent=function(K){return arguments.length?(u="function"==typeof K?K:Ju([[+K[0][0],+K[0][1]],[+K[1][0],+K[1][1]]]),H):u},H.scaleExtent=function(K){return arguments.length?(m[0]=+K[0],m[1]=+K[1],H):[m[0],m[1]]},H.translateExtent=function(K){return arguments.length?(_[0][0]=+K[0][0],_[1][0]=+K[1][0],_[0][1]=+K[0][1],_[1][1]=+K[1][1],H):[[_[0][0],_[0][1]],[_[1][0],_[1][1]]]},H.constrain=function(K){return arguments.length?(c=K,H):c},H.duration=function(K){return arguments.length?(b=+K,H):b},H.interpolate=function(K){return arguments.length?(S=K,H):S},H.on=function(){var K=P.on.apply(P,arguments);return K===P?H:K},H.clickDistance=function(K){return arguments.length?(O=(K=+K)*K,H):Math.sqrt(O)},H},r.zoomIdentity=Vu,r.zoomTransform=Ag,Object.defineProperty(r,"__esModule",{value:!0})}),function(r,Ht){"object"==typeof exports&&typeof module<"u"?module.exports=Ht():"function"==typeof define&&define.amd?define(Ht):(r=r||self).c3=Ht()}(this,function(){"use strict";function r(n){var o=this;o.d3=window.d3?window.d3:typeof require<"u"?require("d3"):void 0,o.api=n,o.config=o.getDefaultConfig(),o.data={},o.cache={},o.axes={}}function Ht(n){this.internal=new r(this),this.internal.loadConfig(n),this.internal.beforeInit(n),this.internal.init(),this.internal.afterInit(n),function o(h,f,w){Object.keys(h).forEach(function(C){f[C]=h[C].bind(w),0<Object.keys(h[C]).length&&o(h[C],f[C],w)})}(Ht.prototype,this,this)}function bn(n){return Math.ceil(n)+.5}function xn(n){return 10*Math.ceil(n/10)}function pe(n){return n[1]-n[0]}function Tt(n,o,h){return qe(n[o])?n[o]:h}function We(n){var o=ee(n),h=[n.pathSegList.getItem(0),n.pathSegList.getItem(1)];return{x:h[0].x,y:Math.min(h[0].y,h[1].y),width:o.width,height:o.height}}function Ye(n){return Array.isArray(n)}function Oe(n){return null==n||ye(n)&&0===n.length||"object"==typeof n&&0===Object.keys(n).length}function on(n){return"function"==typeof n}function Rn(n){return"number"==typeof n}function mn(n){return void 0===n}function ke(n){return n||0===n}function le(n){return!Oe(n)}function ce(n){return"string"==typeof n?n.replace(/</g,"&lt;").replace(/>/g,"&gt;"):n}function hn(n){var o=function(h){void 0===h&&(h=window.navigator.userAgent);var f=h.indexOf("MSIE ");return 0<f?parseInt(h.substring(f+5,h.indexOf(".",f)),10):0<(f=h.indexOf("Trident/"))&&(f=h.indexOf("rv:"),parseInt(h.substring(f+3,h.indexOf(".",f)),10))}();return void 0===n?!!o:n===o}var ee=function(n){try{return n.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},qe=function(n){return void 0!==n},ye=function(n){return"string"==typeof n};function Re(n,o){var h=this;h.component=n,h.params=o||{},h.d3=n.d3,h.scale=h.d3.scaleLinear(),h.orient="bottom",h.innerTickSize=6,h.outerTickSize=this.params.withOuterTick?6:0,h.tickPadding=3,h.tickValues=null,h.tickOffset=0,h.tickCulling=!0,h.tickTextRotate=h.params.tickTextRotate,h.axis=h.generateAxis()}Re.prototype.axisX=function(n,o,h){n.attr("transform",function(f){return"translate("+Math.ceil(o(f)+h)+", 0)"})},Re.prototype.axisY=function(n,o){n.attr("transform",function(h){return"translate(0,"+Math.ceil(o(h))+")"})},Re.prototype.scaleExtent=function(n){var o=n[0],h=n[n.length-1];return o<h?[o,h]:[h,o]},Re.prototype.generateTicks=function(n){var o,h,f=[];if(n.ticks)return n.ticks.apply(n,this.tickArguments);for(h=n.domain(),o=Math.ceil(h[0]);o<h[1];o++)f.push(o);return 0<f.length&&0<f[0]&&f.unshift(f[0]-(f[1]-f[0])),f},Re.prototype.copyScale=function(){var n,o=this.scale.copy();return this.params.isCategory&&(n=this.scale.domain(),o.domain([n[0],n[1]-1])),o},Re.prototype.textFormatted=function(n){var o=this.tickFormat?this.tickFormat(n):n;return void 0!==o?o:""},Re.prototype.updateRange=function(){var n=this;return n.range=n.scale.rangeExtent?n.scale.rangeExtent():n.scaleExtent(n.scale.range()),n.range},Re.prototype.updateTickTextCharSize=function(n){var o=this;if(o.tickTextCharSize)return o.tickTextCharSize;var h={h:11.5,w:5.5};return n.select("text").text(function(f){return o.textFormatted(f)}).each(function(f){var w=ee(this),C=o.textFormatted(f),L=w.height,M=C?w.width/C.length:void 0;L&&M&&(h.h=L,h.w=M)}).text(""),o.tickTextCharSize=h},Re.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient},Re.prototype.tspanData=function(n,o,h){var f=this,w=f.params.tickMultiline?f.splitTickText(n,h):[].concat(f.textFormatted(n));return f.params.tickMultiline&&0<f.params.tickMultilineMax&&(w=f.ellipsify(w,f.params.tickMultilineMax)),w.map(function(C){return{index:o,splitted:C,length:w.length}})},Re.prototype.splitTickText=function(n,o){var h,f,C=this,L=C.textFormatted(n),M=C.params.tickWidth;return"[object Array]"===Object.prototype.toString.call(L)?L:((!M||M<=0)&&(M=C.isVertical()?95:C.params.isCategory?Math.ceil(o(1)-o(0))-12:110),function G(F,V){f=void 0;for(var tt=1;tt<V.length;tt++)if(" "===V.charAt(tt)&&(f=tt),h=V.substr(0,tt+1),M<C.tickTextCharSize.w*h.length)return G(F.concat(V.substr(0,f||tt)),V.slice(f?f+1:tt));return F.concat(V)}([],L+""))},Re.prototype.ellipsify=function(n,o){if(n.length<=o)return n;for(var h=n.slice(0,o),f=3,w=o-1;0<=w;w--){var C=h[w].length;if(h[w]=h[w].substr(0,C-f).padEnd(C,"."),(f-=C)<=0)break}return h},Re.prototype.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},Re.prototype.lineY2=function(n){var o=this,h=o.scale(n)+(o.tickCentered?0:o.tickOffset);return o.range[0]<h&&h<o.range[1]?o.innerTickSize:0},Re.prototype.textY=function(){var n=this.tickTextRotate;return n?11.5-n/15*2.5*(0<n?1:-1):this.tickLength},Re.prototype.textTransform=function(){var n=this.tickTextRotate;return n?"rotate("+n+")":""},Re.prototype.textTextAnchor=function(){var n=this.tickTextRotate;return n?0<n?"start":"end":"middle"},Re.prototype.tspanDx=function(){var n=this.tickTextRotate;return n?8*Math.sin(Math.PI*(n/180)):0},Re.prototype.tspanDy=function(n,o){var h=this.tickTextCharSize.h;return 0===o&&(h=this.isVertical()?-(this.tickTextCharSize.h/2*(n.length-1)-3):".71em"),h},Re.prototype.generateAxis=function(){var n=this,o=n.d3,h=n.params;function f(w,C){var L;return w.each(function(){var M,G,F,V=f.g=o.select(this),tt=this.__chart__||n.scale,dt=this.__chart__=n.copyScale(),J=n.tickValues?n.tickValues:n.generateTicks(dt),mt=V.selectAll(".tick").data(J,dt),Ct=mt.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),Mt=mt.exit().remove(),at=mt.merge(Ct);h.isCategory?(n.tickOffset=Math.ceil((dt(1)-dt(0))/2),G=n.tickCentered?0:n.tickOffset,F=n.tickCentered?n.tickOffset:0):n.tickOffset=G=0,n.updateRange(),n.updateTickLength(),n.updateTickTextCharSize(V.select(".tick"));var re=at.select("line").merge(Ct.append("line")),Dt=at.select("text").merge(Ct.append("text")),At=at.selectAll("text").selectAll("tspan").data(function(Yt,Bt){return n.tspanData(Yt,Bt,dt)}),Ut=At.enter().append("tspan").merge(At).text(function(Yt){return Yt.splitted});At.exit().remove();var he,Zt,Ft=V.selectAll(".domain").data([0]),$t=Ft.enter().append("path").merge(Ft).attr("class","domain");switch(n.orient){case"bottom":M=n.axisX,re.attr("x1",G).attr("x2",G).attr("y2",function(Yt,Bt){return n.lineY2(Yt,Bt)}),Dt.attr("x",0).attr("y",function(Yt,Bt){return n.textY(Yt,Bt)}).attr("transform",function(Yt,Bt){return n.textTransform(Yt,Bt)}).style("text-anchor",function(Yt,Bt){return n.textTextAnchor(Yt,Bt)}),Ut.attr("x",0).attr("dy",function(Yt,Bt){return n.tspanDy(Yt,Bt)}).attr("dx",function(Yt,Bt){return n.tspanDx(Yt,Bt)}),$t.attr("d","M"+n.range[0]+","+n.outerTickSize+"V0H"+n.range[1]+"V"+n.outerTickSize);break;case"top":M=n.axisX,re.attr("x1",G).attr("x2",G).attr("y2",function(Yt,Bt){return-1*n.lineY2(Yt,Bt)}),Dt.attr("x",0).attr("y",function(Yt,Bt){return-1*n.textY(Yt,Bt)-(h.isCategory?2:n.tickLength-2)}).attr("transform",function(Yt,Bt){return n.textTransform(Yt,Bt)}).style("text-anchor",function(Yt,Bt){return n.textTextAnchor(Yt,Bt)}),Ut.attr("x",0).attr("dy",function(Yt,Bt){return n.tspanDy(Yt,Bt)}).attr("dx",function(Yt,Bt){return n.tspanDx(Yt,Bt)}),$t.attr("d","M"+n.range[0]+","+-n.outerTickSize+"V0H"+n.range[1]+"V"+-n.outerTickSize);break;case"left":M=n.axisY,re.attr("x2",-n.innerTickSize).attr("y1",F).attr("y2",F),Dt.attr("x",-n.tickLength).attr("y",n.tickOffset).style("text-anchor","end"),Ut.attr("x",-n.tickLength).attr("dy",function(Yt,Bt){return n.tspanDy(Yt,Bt)}),$t.attr("d","M"+-n.outerTickSize+","+n.range[0]+"H0V"+n.range[1]+"H"+-n.outerTickSize);break;case"right":M=n.axisY,re.attr("x2",n.innerTickSize).attr("y1",F).attr("y2",F),Dt.attr("x",n.tickLength).attr("y",n.tickOffset).style("text-anchor","start"),Ut.attr("x",n.tickLength).attr("dy",function(Yt,Bt){return n.tspanDy(Yt,Bt)}),$t.attr("d","M"+n.outerTickSize+","+n.range[0]+"H0V"+n.range[1]+"H"+n.outerTickSize)}dt.rangeBand?(Zt=(he=dt).rangeBand()/2,tt=dt=function(Yt){return he(Yt)+Zt}):tt.rangeBand?tt=dt:Mt.call(M,dt,n.tickOffset),Ct.call(M,tt,n.tickOffset),L=(C?at.transition(C):at).style("opacity",1).call(M,dt,n.tickOffset)}),L}return f.scale=function(w){return arguments.length?(n.scale=w,f):n.scale},f.orient=function(w){return arguments.length?(n.orient=w in{top:1,right:1,bottom:1,left:1}?w+"":"bottom",f):n.orient},f.tickFormat=function(w){return arguments.length?(n.tickFormat=w,f):n.tickFormat},f.tickCentered=function(w){return arguments.length?(n.tickCentered=w,f):n.tickCentered},f.tickOffset=function(){return n.tickOffset},f.tickInterval=function(){var w=h.isCategory?2*n.tickOffset:(f.g.select("path.domain").node().getTotalLength()-2*n.outerTickSize)/f.g.selectAll("line").size();return w===1/0?0:w},f.ticks=function(){return arguments.length?(n.tickArguments=arguments,f):n.tickArguments},f.tickCulling=function(w){return arguments.length?(n.tickCulling=w,f):n.tickCulling},f.tickValues=function(w){if("function"==typeof w)n.tickValues=function(){return w(n.scale.domain())};else{if(!arguments.length)return n.tickValues;n.tickValues=w}return f},f};var Q={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},E=function(n){this.owner=n,this.d3=n.d3,this.internal=Re},oe=E;oe.prototype.init=function(){var n=this.owner,o=n.config,h=n.main;n.axes.x=h.append("g").attr("class",Q.axis+" "+Q.axisX).attr("clip-path",o.axis_x_inner?"":n.clipPathForXAxis).attr("transform",n.getTranslate("x")).style("visibility",o.axis_x_show?"visible":"hidden"),n.axes.x.append("text").attr("class",Q.axisXLabel).attr("transform",o.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),n.axes.y=h.append("g").attr("class",Q.axis+" "+Q.axisY).attr("clip-path",o.axis_y_inner?"":n.clipPathForYAxis).attr("transform",n.getTranslate("y")).style("visibility",o.axis_y_show?"visible":"hidden"),n.axes.y.append("text").attr("class",Q.axisYLabel).attr("transform",o.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),n.axes.y2=h.append("g").attr("class",Q.axis+" "+Q.axisY2).attr("transform",n.getTranslate("y2")).style("visibility",o.axis_y2_show?"visible":"hidden"),n.axes.y2.append("text").attr("class",Q.axisY2Label).attr("transform",o.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},oe.prototype.getXAxis=function(n,o,h,f,w,C,L){var M=this.owner,G=M.config,F={isCategory:M.isCategorized(),withOuterTick:w,tickMultiline:G.axis_x_tick_multiline,tickMultilineMax:G.axis_x_tick_multiline?Number(G.axis_x_tick_multilineMax):0,tickWidth:G.axis_x_tick_width,tickTextRotate:L?0:G.axis_x_tick_rotate,withoutTransition:C},V=new this.internal(this,F).axis.scale(n).orient(o);return M.isTimeSeries()&&f&&"function"!=typeof f&&(f=f.map(function(tt){return M.parseDate(tt)})),V.tickFormat(h).tickValues(f),M.isCategorized()&&(V.tickCentered(G.axis_x_tick_centered),Oe(G.axis_x_tick_culling)&&(G.axis_x_tick_culling=!1)),V},oe.prototype.updateXAxisTickValues=function(n,o){var h,f=this.owner,w=f.config;return(w.axis_x_tick_fit||w.axis_x_tick_count)&&(h=this.generateTickValues(f.mapTargetsToUniqueXs(n),w.axis_x_tick_count,f.isTimeSeries())),o?o.tickValues(h):(f.xAxis.tickValues(h),f.subXAxis.tickValues(h)),h},oe.prototype.getYAxis=function(n,o,h,f,w,C,L){var M=this.owner,G=M.config,F=G["axis_"+n+"_tick_format"];!F&&M.isAxisNormalized(n)&&(F=function(tt){return tt+"%"});var V=new this.internal(this,{withOuterTick:w,withoutTransition:C,tickTextRotate:L?0:G.axis_y_tick_rotate}).axis.scale(o).orient(h);return F&&V.tickFormat(F),M.isTimeSeriesY()?V.ticks(G.axis_y_tick_time_type,G.axis_y_tick_time_interval):V.tickValues(f),V},oe.prototype.getId=function(n){var o=this.owner.config;return n in o.data_axes?o.data_axes[n]:"y"},oe.prototype.getXAxisTickFormat=function(){var n=this.owner,o=n.config,h=n.isTimeSeries()?n.defaultAxisTimeFormat:n.isCategorized()?n.categoryName:function(f){return f};return o.axis_x_tick_format&&(on(o.axis_x_tick_format)?h=o.axis_x_tick_format:n.isTimeSeries()&&(h=function(f){return f?n.axisTimeFormat(o.axis_x_tick_format)(f):""})),on(h)?function(f){return h.call(n,f)}:h},oe.prototype.getTickValues=function(n,o){return n||(o?o.tickValues():void 0)},oe.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},oe.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},oe.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},oe.prototype.getLabelOptionByAxisId=function(n){var o,h=this.owner.config;return"y"===n?o=h.axis_y_label:"y2"===n?o=h.axis_y2_label:"x"===n&&(o=h.axis_x_label),o},oe.prototype.getLabelText=function(n){var o=this.getLabelOptionByAxisId(n);return ye(o)?o:o?o.text:null},oe.prototype.setLabelText=function(n,o){var h=this.owner.config,f=this.getLabelOptionByAxisId(n);ye(f)?"y"===n?h.axis_y_label=o:"y2"===n?h.axis_y2_label=o:"x"===n&&(h.axis_x_label=o):f&&(f.text=o)},oe.prototype.getLabelPosition=function(n,o){var h=this.getLabelOptionByAxisId(n),f=h&&"object"==typeof h&&h.position?h.position:o;return{isInner:0<=f.indexOf("inner"),isOuter:0<=f.indexOf("outer"),isLeft:0<=f.indexOf("left"),isCenter:0<=f.indexOf("center"),isRight:0<=f.indexOf("right"),isTop:0<=f.indexOf("top"),isMiddle:0<=f.indexOf("middle"),isBottom:0<=f.indexOf("bottom")}},oe.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},oe.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},oe.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},oe.prototype.getLabelPositionById=function(n){return"y2"===n?this.getY2AxisLabelPosition():"y"===n?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},oe.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},oe.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},oe.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},oe.prototype.xForAxisLabel=function(n,o){var h=this.owner;return n?o.isLeft?0:o.isCenter?h.width/2:h.width:o.isBottom?-h.height:o.isMiddle?-h.height/2:0},oe.prototype.dxForAxisLabel=function(n,o){return n?o.isLeft?"0.5em":o.isRight?"-0.5em":"0":o.isTop?"-0.5em":o.isBottom?"0.5em":"0"},oe.prototype.textAnchorForAxisLabel=function(n,o){return n?o.isLeft?"start":o.isCenter?"middle":"end":o.isBottom?"start":o.isMiddle?"middle":"end"},oe.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},oe.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},oe.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},oe.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},oe.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},oe.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},oe.prototype.dyForXAxisLabel=function(){var n=this.owner,o=n.config,h=this.getXAxisLabelPosition();return o.axis_rotated?h.isInner?"1.2em":-25-(n.config.axis_x_inner?0:this.getMaxTickWidth("x")):h.isInner?"-0.5em":n.getHorizontalAxisHeight("x")-10},oe.prototype.dyForYAxisLabel=function(){var n=this.owner,o=this.getYAxisLabelPosition();return n.config.axis_rotated?o.isInner?"-0.5em":"3em":o.isInner?"1.2em":-10-(n.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},oe.prototype.dyForY2AxisLabel=function(){var n=this.owner,o=this.getY2AxisLabelPosition();return n.config.axis_rotated?o.isInner?"1.2em":"-2.2em":o.isInner?"-0.5em":15+(n.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},oe.prototype.textAnchorForXAxisLabel=function(){return this.textAnchorForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},oe.prototype.textAnchorForYAxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},oe.prototype.textAnchorForY2AxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},oe.prototype.getMaxTickWidth=function(n,o){var h,f,w,C,L=this.owner,M=0;return o&&L.currentMaxTickWidths[n]||(L.svg&&(h=L.filterTargetsToShow(L.data.targets),"y"===n?(f=L.y.copy().domain(L.getYDomain(h,"y")),w=this.getYAxis(n,f,L.yOrient,L.yAxisTickValues,!1,!0,!0)):"y2"===n?(f=L.y2.copy().domain(L.getYDomain(h,"y2")),w=this.getYAxis(n,f,L.y2Orient,L.y2AxisTickValues,!1,!0,!0)):(f=L.x.copy().domain(L.getXDomain(h)),w=this.getXAxis(f,L.xOrient,L.xAxisTickFormat,L.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(h,w)),(C=L.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(w).each(function(){L.d3.select(this).selectAll("text").each(function(){var G=ee(this);M<G.width&&(M=G.width)}),C.remove()})),L.currentMaxTickWidths[n]=M<=0?L.currentMaxTickWidths[n]:M),L.currentMaxTickWidths[n]},oe.prototype.updateLabels=function(n){var o=this.owner,h=o.main.select("."+Q.axisX+" ."+Q.axisXLabel),f=o.main.select("."+Q.axisY+" ."+Q.axisYLabel),w=o.main.select("."+Q.axisY2+" ."+Q.axisY2Label);(n?h.transition():h).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(n?f.transition():f).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(n?w.transition():w).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},oe.prototype.getPadding=function(n,o,h,f){var w="number"==typeof n?n:n[o];return ke(w)?"ratio"===n.unit?n[o]*f:this.convertPixelsToAxisPadding(w,f):h},oe.prototype.convertPixelsToAxisPadding=function(n,o){var h=this.owner;return o*(n/(h.config.axis_rotated?h.width:h.height))},oe.prototype.generateTickValues=function(n,o,h){var f,w,C,L,M,G,F,V=n;if(o)if(1===(f=on(o)?o():o))V=[n[0]];else if(2===f)V=[n[0],n[n.length-1]];else if(2<f){for(M=((C=n[n.length-1])-(w=n[0]))/(1+(L=f-2)),V=[w],G=0;G<L;G++)F=+w+M*(G+1),V.push(h?new Date(F):F);V.push(C)}return h||(V=V.sort(function(tt,dt){return tt-dt})),V},oe.prototype.generateTransitions=function(n){var o=this.owner.axes;return{axisX:n?o.x.transition().duration(n):o.x,axisY:n?o.y.transition().duration(n):o.y,axisY2:n?o.y2.transition().duration(n):o.y2,axisSubX:n?o.subx.transition().duration(n):o.subx}},oe.prototype.redraw=function(n,o){var h=this.owner,f=n?h.d3.transition().duration(n):null;h.axes.x.style("opacity",o?0:1).call(h.xAxis,f),h.axes.y.style("opacity",o?0:1).call(h.yAxis,f),h.axes.y2.style("opacity",o?0:1).call(h.y2Axis,f),h.axes.subx.style("opacity",o?0:1).call(h.subXAxis,f)};var _e={version:"0.7.20",chart:{fn:Ht.prototype,internal:{fn:r.prototype,axis:{fn:E.prototype,internal:{fn:Re.prototype}}}},generate:function(n){return new Ht(n)}};function Ue(n,o,h){var f=[.01,10];function w(C){return h(o(C))}return o||(o=n.scaleLinear()).range(f),h||((h=n.scaleLog()).domain(f),h.nice()),w.domain=function(C){return arguments.length?(o.domain(C),w):o.domain()},w.range=function(C){return arguments.length?(h.range(C),w):h.range()},w.ticks=function(C){return function(L,M,G){var F,V,tt,dt;if(arguments.length<3)G=10;else if(0===G)return[];dt=(M-L)/(V=G-1),tt=L,(F=new Array(G))[0]=Math.pow(10,tt);for(var J=1;J<V;J++)tt+=dt,F[J]=Math.pow(10,tt);return F[V]=Math.pow(10,M),F}(-2,1,C||10).map(function(L){return o.invert(L)})},w.copy=function(){return Ue(n,o.copy(),h.copy())},w}function pn(n){return n/Math.pow(10,Math.ceil(Math.log(n)/Math.LN10-1e-12))==1}r.prototype.beforeInit=function(){},r.prototype.afterInit=function(){},r.prototype.init=function(){var n=this,o=n.config;if(n.initParams(),o.data_url)n.convertUrlToData(o.data_url,o.data_mimeType,o.data_headers,o.data_keys,n.initWithData);else if(o.data_json)n.initWithData(n.convertJsonToData(o.data_json,o.data_keys));else if(o.data_rows)n.initWithData(n.convertRowsToData(o.data_rows));else{if(!o.data_columns)throw Error("url or json or rows or columns is required.");n.initWithData(n.convertColumnsToData(o.data_columns))}},r.prototype.initParams=function(){var n=this,o=n.d3,h=n.config;n.clipId="c3-"+(new Date).valueOf()+"-clip",n.clipIdForXAxis=n.clipId+"-xaxis",n.clipIdForYAxis=n.clipId+"-yaxis",n.clipIdForGrid=n.clipId+"-grid",n.clipIdForSubchart=n.clipId+"-subchart",n.clipPath=n.getClipPath(n.clipId),n.clipPathForXAxis=n.getClipPath(n.clipIdForXAxis),n.clipPathForYAxis=n.getClipPath(n.clipIdForYAxis),n.clipPathForGrid=n.getClipPath(n.clipIdForGrid),n.clipPathForSubchart=n.getClipPath(n.clipIdForSubchart),n.dragStart=null,n.dragging=!1,n.flowing=!1,n.cancelClick=!1,n.mouseover=void 0,n.transiting=!1,n.color=n.generateColor(),n.levelColor=n.generateLevelColor(),n.dataTimeParse=(h.data_xLocaltime?o.timeParse:o.utcParse)(n.config.data_xFormat),n.axisTimeFormat=h.axis_x_localtime?o.timeFormat:o.utcFormat,n.defaultAxisTimeFormat=function(f){return(f.getMilliseconds()?o.timeFormat(".%L"):f.getSeconds()?o.timeFormat(":%S"):f.getMinutes()?o.timeFormat("%I:%M"):f.getHours()?o.timeFormat("%I %p"):f.getDay()&&1!==f.getDate()||1!==f.getDate()||f.getMonth()?o.timeFormat("%-m/%-d"):o.timeFormat("%Y/%-m/%-d"))(f)},n.hiddenTargetIds=[],n.hiddenLegendIds=[],n.focusedTargetIds=[],n.defocusedTargetIds=[],n.xOrient=h.axis_rotated?h.axis_x_inner?"right":"left":h.axis_x_inner?"top":"bottom",n.yOrient=h.axis_rotated?h.axis_y_inner?"top":"bottom":h.axis_y_inner?"right":"left",n.y2Orient=h.axis_rotated?h.axis_y2_inner?"bottom":"top":h.axis_y2_inner?"left":"right",n.subXOrient=h.axis_rotated?"left":"bottom",n.isLegendRight="right"===h.legend_position,n.isLegendInset="inset"===h.legend_position,n.isLegendTop="top-left"===h.legend_inset_anchor||"top-right"===h.legend_inset_anchor,n.isLegendLeft="top-left"===h.legend_inset_anchor||"bottom-left"===h.legend_inset_anchor,n.legendStep=0,n.legendItemWidth=0,n.legendItemHeight=0,n.currentMaxTickWidths={x:0,y:0,y2:0},n.rotated_padding_left=30,n.rotated_padding_right=h.axis_rotated&&!h.axis_x_show?0:30,n.rotated_padding_top=5,n.withoutFadeIn={},n.intervalForObserveInserted=void 0,n.axes.subx=o.selectAll([])},r.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},r.prototype.initWithData=function(n){var o,h,f=this,w=f.d3,C=f.config,L=!0;f.axis=new E(f),f.selectChart=C.bindto?"function"==typeof C.bindto.node?C.bindto:w.select(C.bindto):w.selectAll([]),f.selectChart.empty()&&(f.selectChart=w.select(document.createElement("div")).style("opacity",0),f.observeInserted(f.selectChart),L=!1),f.selectChart.html("").classed("c3",!0),f.data.xs={},f.data.targets=f.convertDataToTargets(n),C.data_filter&&(f.data.targets=f.data.targets.filter(C.data_filter)),C.data_hide&&f.addHiddenTargetIds(!0===C.data_hide?f.mapToIds(f.data.targets):C.data_hide),C.legend_hide&&f.addHiddenLegendIds(!0===C.legend_hide?f.mapToIds(f.data.targets):C.legend_hide),f.isStanfordGraphType()&&f.initStanfordData(),f.updateSizes(),f.updateScales(),f.x.domain(w.extent(f.getXDomain(f.data.targets))),f.y.domain(f.getYDomain(f.data.targets,"y")),f.y2.domain(f.getYDomain(f.data.targets,"y2")),f.subX.domain(f.x.domain()),f.subY.domain(f.y.domain()),f.subY2.domain(f.y2.domain()),f.orgXDomain=f.x.domain(),f.svg=f.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return C.onmouseover.call(f)}).on("mouseleave",function(){return C.onmouseout.call(f)}),f.config.svg_classname&&f.svg.attr("class",f.config.svg_classname),o=f.svg.append("defs"),f.clipChart=f.appendClip(o,f.clipId),f.clipXAxis=f.appendClip(o,f.clipIdForXAxis),f.clipYAxis=f.appendClip(o,f.clipIdForYAxis),f.clipGrid=f.appendClip(o,f.clipIdForGrid),f.clipSubchart=f.appendClip(o,f.clipIdForSubchart),f.updateSvgSize(),h=f.main=f.svg.append("g").attr("transform",f.getTranslate("main")),f.initPie&&f.initPie(),f.initDragZoom&&f.initDragZoom(),C.subchart_show&&f.initSubchart&&f.initSubchart(),f.initTooltip&&f.initTooltip(),f.initLegend&&f.initLegend(),f.initTitle&&f.initTitle(),f.initZoom&&f.initZoom(),f.isStanfordGraphType()&&f.drawColorScale(),C.subchart_show&&f.initSubchartBrush&&f.initSubchartBrush(),h.append("text").attr("class",Q.text+" "+Q.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),f.initRegion(),f.initGrid(),h.append("g").attr("clip-path",f.clipPath).attr("class",Q.chart),C.grid_lines_front&&f.initGridLines(),f.initStanfordElements(),f.initEventRect(),f.initChartElements(),f.axis.init(),f.updateTargets(f.data.targets),C.axis_x_selection&&f.brush.selectionAsValue(f.getDefaultSelection()),L&&(f.updateDimension(),f.config.oninit.call(f),f.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),f.bindResize(),f.bindWindowFocus(),f.api.element=f.selectChart.node()},r.prototype.smoothLines=function(n,o){var h=this;"grid"===o&&n.each(function(){var f=h.d3.select(this),w=f.attr("x1"),C=f.attr("x2"),L=f.attr("y1"),M=f.attr("y2");f.attr({x1:Math.ceil(w),x2:Math.ceil(C),y1:Math.ceil(L),y2:Math.ceil(M)})})},r.prototype.updateSizes=function(){var n=this,o=n.config,h=n.legend?n.getLegendHeight():0,f=n.legend?n.getLegendWidth():0,w=n.isLegendRight||n.isLegendInset?0:h,C=n.hasArcType(),L=o.axis_rotated||C?0:n.getHorizontalAxisHeight("x"),M=o.axis_rotated||C?0:n.getHorizontalAxisHeight("x",!0),G=o.subchart_show&&!C?o.subchart_size_height+M:0;n.currentWidth=n.getCurrentWidth(),n.currentHeight=n.getCurrentHeight(),n.margin=o.axis_rotated?{top:n.getHorizontalAxisHeight("y2")+n.getCurrentPaddingTop(),right:C?0:n.getCurrentPaddingRight(),bottom:n.getHorizontalAxisHeight("y")+w+n.getCurrentPaddingBottom(),left:G+(C?0:n.getCurrentPaddingLeft())}:{top:4+n.getCurrentPaddingTop(),right:C?0:n.getCurrentPaddingRight(),bottom:L+G+w+n.getCurrentPaddingBottom(),left:C?0:n.getCurrentPaddingLeft()},n.margin2=o.axis_rotated?{top:n.margin.top,right:NaN,bottom:20+w,left:n.rotated_padding_left}:{top:n.currentHeight-G-w,right:NaN,bottom:M+w,left:n.margin.left},n.margin3={top:0,right:NaN,bottom:0,left:0},n.updateSizeForLegend&&n.updateSizeForLegend(h,f),n.width=n.currentWidth-n.margin.left-n.margin.right,n.height=n.currentHeight-n.margin.top-n.margin.bottom,n.width<0&&(n.width=0),n.height<0&&(n.height=0),n.width2=o.axis_rotated?n.margin.left-n.rotated_padding_left-n.rotated_padding_right:n.width,n.height2=o.axis_rotated?n.height:n.currentHeight-n.margin2.top-n.margin2.bottom,n.width2<0&&(n.width2=0),n.height2<0&&(n.height2=0),n.arcWidth=n.width-(n.isLegendRight?f+10:0),n.arcHeight=n.height-(n.isLegendRight?0:10),n.hasType("gauge")&&!o.gauge_fullCircle&&(n.arcHeight+=n.height-n.getGaugeLabelHeight()),n.updateRadius&&n.updateRadius(),n.isLegendRight&&C&&(n.margin3.left=n.arcWidth/2+1.1*n.radiusExpanded)},r.prototype.updateTargets=function(n){var o=this,h=o.config;o.updateTargetsForText(n),o.updateTargetsForBar(n),o.updateTargetsForLine(n),o.hasArcType()&&o.updateTargetsForArc&&o.updateTargetsForArc(n),h.subchart_show&&o.updateTargetsForSubchart&&o.updateTargetsForSubchart(n),o.showTargets()},r.prototype.showTargets=function(){var n=this;n.svg.selectAll("."+Q.target).filter(function(o){return n.isTargetToShow(o.id)}).transition().duration(n.config.transition_duration).style("opacity",1)},r.prototype.redraw=function(n,o){var h,f,w,C,L,M,G,F,V,tt,dt,J,mt,Ct,Mt,at=this,re=at.main,Dt=at.d3,At=at.config,Ut=at.getShapeIndices(at.isAreaType),he=at.getShapeIndices(at.isBarType),Zt=at.getShapeIndices(at.isLineType),Ft=at.hasArcType(),$t=at.filterTargetsToShow(at.data.targets),Yt=at.xv.bind(at),Bt=Tt(n=n||{},"withY",!0),Le=Tt(n,"withSubchart",!0),be=Tt(n,"withTransition",!0),gn=Tt(n,"withTransform",!1),nn=Tt(n,"withUpdateXDomain",!1),Pe=Tt(n,"withUpdateOrgXDomain",!1),Me=Tt(n,"withTrimXDomain",!0),De=Tt(n,"withUpdateXAxis",nn),Xt=Tt(n,"withLegend",!1),e=Tt(n,"withEventRect",!0),s=Tt(n,"withDimension",!0),l=Tt(n,"withTransitionForExit",be),g=Tt(n,"withTransitionForAxis",be),y=be?At.transition_duration:0,A=l?y:0,N=g?y:0;if(o=o||at.axis.generateTransitions(N),Xt&&At.legend_show?at.updateLegend(at.mapToIds(at.data.targets),n,o):s&&at.updateDimension(!0),at.isCategorized()&&0===$t.length&&at.x.domain([0,at.axes.x.selectAll(".tick").size()]),$t.length?(at.updateXDomain($t,nn,Pe,Me),At.axis_x_tick_values||(tt=at.axis.updateXAxisTickValues($t))):(at.xAxis.tickValues([]),at.subXAxis.tickValues([])),At.zoom_rescale&&!n.flow&&(mt=at.x.orgDomain()),at.y.domain(at.getYDomain($t,"y",mt)),at.y2.domain(at.getYDomain($t,"y2",mt)),!At.axis_y_tick_values&&At.axis_y_tick_count&&at.yAxis.tickValues(at.axis.generateTickValues(at.y.domain(),At.axis_y_tick_count)),!At.axis_y2_tick_values&&At.axis_y2_tick_count&&at.y2Axis.tickValues(at.axis.generateTickValues(at.y2.domain(),At.axis_y2_tick_count)),at.axis.redraw(N,Ft),at.axis.updateLabels(be),(nn||De)&&$t.length)if(At.axis_x_tick_culling&&tt){for(dt=1;dt<tt.length;dt++)if(tt.length/dt<At.axis_x_tick_culling_max){J=dt;break}at.svg.selectAll("."+Q.axisX+" .tick text").each(function(j){var X=tt.indexOf(j);0<=X&&Dt.select(this).style("display",X%J?"none":"block")})}else at.svg.selectAll("."+Q.axisX+" .tick text").style("display","block");h=at.generateDrawArea?at.generateDrawArea(Ut,!1):void 0,f=at.generateDrawBar?at.generateDrawBar(he):void 0,w=at.generateDrawLine?at.generateDrawLine(Zt,!1):void 0,C=at.generateXYForText(Ut,he,Zt,!0),L=at.generateXYForText(Ut,he,Zt,!1),at.updateCircleY(),Ct=(at.config.axis_rotated?at.circleY:at.circleX).bind(at),Mt=(at.config.axis_rotated?at.circleX:at.circleY).bind(at),Bt&&(at.subY.domain(at.getYDomain($t,"y")),at.subY2.domain(at.getYDomain($t,"y2"))),at.updateXgridFocus(),re.select("text."+Q.text+"."+Q.empty).attr("x",at.width/2).attr("y",at.height/2).text(At.data_empty_label_text).transition().style("opacity",$t.length?0:1),e&&at.redrawEventRect(),at.updateGrid(y),at.updateStanfordElements(y),at.updateRegion(y),at.updateBar(A),at.updateLine(A),at.updateArea(A),at.updateCircle(Ct,Mt),at.hasDataLabel()&&at.updateText(C,L,A),at.redrawTitle&&at.redrawTitle(),at.redrawArc&&at.redrawArc(y,A,gn),At.subchart_show&&at.redrawSubchart&&at.redrawSubchart(Le,o,y,A,Ut,he,Zt),at.isStanfordGraphType()&&at.drawColorScale(),re.selectAll("."+Q.selectedCircles).filter(at.isBarType.bind(at)).selectAll("circle").remove(),n.flow&&(F=at.generateFlow({targets:$t,flow:n.flow,duration:n.flow.duration,drawBar:f,drawLine:w,drawArea:h,cx:Ct,cy:Mt,xv:Yt,xForText:C,yForText:L})),y&&at.isTabVisible()?(V=Dt.transition().duration(y),M=[],[at.redrawBar(f,!0,V),at.redrawLine(w,!0,V),at.redrawArea(h,!0,V),at.redrawCircle(Ct,Mt,!0,V),at.redrawText(C,L,n.flow,!0,V),at.redrawRegion(!0,V),at.redrawGrid(!0,V)].forEach(function(j){j.forEach(function(X){M.push(X)})}),G=at.generateWait(),M.forEach(function(j){G.add(j)}),G(function(){F&&F(),At.onrendered&&At.onrendered.call(at)})):(at.redrawBar(f),at.redrawLine(w),at.redrawArea(h),at.redrawCircle(Ct,Mt),at.redrawText(C,L,n.flow),at.redrawRegion(),at.redrawGrid(),F&&F(),At.onrendered&&At.onrendered.call(at)),at.mapToIds(at.data.targets).forEach(function(j){at.withoutFadeIn[j]=!0})},r.prototype.updateAndRedraw=function(n){var o,h=this,f=h.config;(n=n||{}).withTransition=Tt(n,"withTransition",!0),n.withTransform=Tt(n,"withTransform",!1),n.withLegend=Tt(n,"withLegend",!1),n.withUpdateXDomain=Tt(n,"withUpdateXDomain",!0),n.withUpdateOrgXDomain=Tt(n,"withUpdateOrgXDomain",!0),n.withTransitionForExit=!1,n.withTransitionForTransform=Tt(n,"withTransitionForTransform",n.withTransition),h.updateSizes(),n.withLegend&&f.legend_show||(o=h.axis.generateTransitions(n.withTransitionForAxis?f.transition_duration:0),h.updateScales(),h.updateSvgSize(),h.transformAll(n.withTransitionForTransform,o)),h.redraw(n,o)},r.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},r.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},r.prototype.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")},r.prototype.isCustomX=function(){var n=this.config;return!this.isTimeSeries()&&(n.data_x||le(n.data_xs))},r.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},r.prototype.getTranslate=function(n){var o,h,f=this,w=f.config;return"main"===n?(o=bn(f.margin.left),h=bn(f.margin.top)):"context"===n?(o=bn(f.margin2.left),h=bn(f.margin2.top)):"legend"===n?(o=f.margin3.left,h=f.margin3.top):"x"===n?(o=0,h=w.axis_rotated?0:f.height):"y"===n?(o=0,h=w.axis_rotated?f.height:0):"y2"===n?(o=w.axis_rotated?0:f.width,h=w.axis_rotated?1:0):"subx"===n?(o=0,h=w.axis_rotated?0:f.height2):"arc"===n&&(o=f.arcWidth/2,h=f.arcHeight/2-(f.hasType("gauge")?6:0)),"translate("+o+","+h+")"},r.prototype.initialOpacity=function(n){return null!==n.value&&this.withoutFadeIn[n.id]?1:0},r.prototype.initialOpacityForCircle=function(n){return null!==n.value&&this.withoutFadeIn[n.id]?this.opacityForCircle(n):0},r.prototype.opacityForCircle=function(n){var o=(on(this.config.point_show)?this.config.point_show(n):this.config.point_show)||this.isStanfordType(n)?1:0;return ke(n.value)?this.isScatterType(n)?.5:o:0},r.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},r.prototype.xx=function(n){return n?this.x(n.x):null},r.prototype.xvCustom=function(n,o){var h=this,f=o?n[o]:n.value;return h.isTimeSeries()?f=h.parseDate(n.value):h.isCategorized()&&"string"==typeof n.value&&(f=h.config.axis_x_categories.indexOf(n.value)),Math.ceil(h.x(f))},r.prototype.yvCustom=function(n,o){return Math.ceil((n.axis&&"y2"===n.axis?this.y2:this.y)(o?n[o]:n.value))},r.prototype.xv=function(n){var o=this,h=n.value;return o.isTimeSeries()?h=o.parseDate(n.value):o.isCategorized()&&"string"==typeof n.value&&(h=o.config.axis_x_categories.indexOf(n.value)),Math.ceil(o.x(h))},r.prototype.yv=function(n){return Math.ceil((n.axis&&"y2"===n.axis?this.y2:this.y)(n.value))},r.prototype.subxx=function(n){return n?this.subX(n.x):null},r.prototype.transformMain=function(n,o){var h,f,w,C=this;o&&o.axisX?h=o.axisX:(h=C.main.select("."+Q.axisX),n&&(h=h.transition())),o&&o.axisY?f=o.axisY:(f=C.main.select("."+Q.axisY),n&&(f=f.transition())),o&&o.axisY2?w=o.axisY2:(w=C.main.select("."+Q.axisY2),n&&(w=w.transition())),(n?C.main.transition():C.main).attr("transform",C.getTranslate("main")),h.attr("transform",C.getTranslate("x")),f.attr("transform",C.getTranslate("y")),w.attr("transform",C.getTranslate("y2")),C.main.select("."+Q.chartArcs).attr("transform",C.getTranslate("arc"))},r.prototype.transformAll=function(n,o){var h=this;h.transformMain(n,o),h.config.subchart_show&&h.transformContext(n,o),h.legend&&h.transformLegend(n)},r.prototype.updateSvgSize=function(){var n=this,o=n.svg.select("."+Q.brush+" .overlay");n.svg.attr("width",n.currentWidth).attr("height",n.currentHeight),n.svg.selectAll(["#"+n.clipId,"#"+n.clipIdForGrid]).select("rect").attr("width",n.width).attr("height",n.height),n.svg.select("#"+n.clipIdForXAxis).select("rect").attr("x",n.getXAxisClipX.bind(n)).attr("y",n.getXAxisClipY.bind(n)).attr("width",n.getXAxisClipWidth.bind(n)).attr("height",n.getXAxisClipHeight.bind(n)),n.svg.select("#"+n.clipIdForYAxis).select("rect").attr("x",n.getYAxisClipX.bind(n)).attr("y",n.getYAxisClipY.bind(n)).attr("width",n.getYAxisClipWidth.bind(n)).attr("height",n.getYAxisClipHeight.bind(n)),n.svg.select("#"+n.clipIdForSubchart).select("rect").attr("width",n.width).attr("height",o.size()&&o.attr("height")||0),n.selectChart.style("max-height",n.currentHeight+"px")},r.prototype.updateDimension=function(n){var o=this;n||(o.config.axis_rotated?(o.axes.x.call(o.xAxis),o.axes.subx.call(o.subXAxis)):(o.axes.y.call(o.yAxis),o.axes.y2.call(o.y2Axis))),o.updateSizes(),o.updateScales(),o.updateSvgSize(),o.transformAll(!1)},r.prototype.observeInserted=function(n){var o,h=this;typeof MutationObserver<"u"?(o=new MutationObserver(function(f){f.forEach(function(w){"childList"===w.type&&w.previousSibling&&(o.disconnect(),h.intervalForObserveInserted=window.setInterval(function(){n.node().parentNode&&(window.clearInterval(h.intervalForObserveInserted),h.updateDimension(),h.brush&&h.brush.update(),h.config.oninit.call(h),h.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),n.transition().style("opacity",1))},10))})})).observe(n.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},r.prototype.bindResize=function(){var n=this,o=n.config;n.resizeFunction=n.generateResize(),n.resizeFunction.add(function(){o.onresize.call(n)}),o.resize_auto&&n.resizeFunction.add(function(){void 0!==n.resizeTimeout&&window.clearTimeout(n.resizeTimeout),n.resizeTimeout=window.setTimeout(function(){delete n.resizeTimeout,n.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),n.brush&&n.brush.update()},100)}),n.resizeFunction.add(function(){o.onresized.call(n)}),n.resizeIfElementDisplayed=function(){null!=n.api&&n.api.element.offsetParent&&n.resizeFunction()},window.addEventListener("resize",n.resizeIfElementDisplayed,!1)},r.prototype.bindWindowFocus=function(){var n=this;this.windowFocusHandler||(this.windowFocusHandler=function(){n.redraw()},window.addEventListener("focus",this.windowFocusHandler))},r.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},r.prototype.generateResize=function(){var n=[];function o(){n.forEach(function(h){h()})}return o.add=function(h){n.push(h)},o.remove=function(h){for(var f=0;f<n.length;f++)if(n[f]===h){n.splice(f,1);break}},o},r.prototype.endall=function(n,o){var h=0;n.each(function(){++h}).on("end",function(){--h||o.apply(this,arguments)})},r.prototype.generateWait=function(){function n(f){var w=setInterval(function(){var C;o.isTabVisible()&&(C=0,h.forEach(function(L){if(L.empty())C+=1;else try{L.transition()}catch{C+=1}}),C===h.length&&(clearInterval(w),f&&f()))},50)}var o=this,h=[];return n.add=function(f){h.push(f)},n},r.prototype.parseDate=function(n){var o;return n instanceof Date?o=n:"string"==typeof n?o=this.dataTimeParse(n):"object"!=typeof n&&("number"!=typeof n||isNaN(n))||(o=new Date(+n)),o&&!isNaN(+o)||window.console.error("Failed to parse x '"+n+"' to Date object"),o},r.prototype.isTabVisible=function(){return!document.hidden},r.prototype.getPathBox=We,r.prototype.CLASS=Q,"SVGPathSeg"in window||(window.SVGPathSeg=function(n,o,h){this.pathSegType=n,this.pathSegTypeAsLetter=o,this._owningPathSegList=h},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",n)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(n,o,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",n),this._x=o,this._y=h},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(n,o,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",n),this._x=o,this._y=h},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(n,o,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",n),this._x=o,this._y=h},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(n,o,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",n),this._x=o,this._y=h},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(n,o,h,f,w,C,L){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",n),this._x=o,this._y=h,this._x1=f,this._y1=w,this._x2=C,this._y2=L},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(n,o,h,f,w,C,L){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",n),this._x=o,this._y=h,this._x1=f,this._y1=w,this._x2=C,this._y2=L},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(n,o,h,f,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",n),this._x=o,this._y=h,this._x1=f,this._y1=w},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(n,o,h,f,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",n),this._x=o,this._y=h,this._x1=f,this._y1=w},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(n,o,h,f,w,C,L,M){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",n),this._x=o,this._y=h,this._r1=f,this._r2=w,this._angle=C,this._largeArcFlag=L,this._sweepFlag=M},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(n,o,h,f,w,C,L,M){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",n),this._x=o,this._y=h,this._r1=f,this._r2=w,this._angle=C,this._largeArcFlag=L,this._sweepFlag=M},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(n,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",n),this._x=o},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(n,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",n),this._x=o},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(n,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",n),this._y=o},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(n,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",n),this._y=o},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(n,o,h,f,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",n),this._x=o,this._y=h,this._x2=f,this._y2=w},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(n,o,h,f,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",n),this._x=o,this._y=h,this._x2=f,this._y2=w},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(n,o,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",n),this._x=o,this._y=h},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(n,o,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",n),this._x=o,this._y=h},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(n,o){return new window.SVGPathSegMovetoAbs(void 0,n,o)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(n,o){return new window.SVGPathSegMovetoRel(void 0,n,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(n,o){return new window.SVGPathSegLinetoAbs(void 0,n,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(n,o){return new window.SVGPathSegLinetoRel(void 0,n,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(n,o,h,f,w,C){return new window.SVGPathSegCurvetoCubicAbs(void 0,n,o,h,f,w,C)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(n,o,h,f,w,C){return new window.SVGPathSegCurvetoCubicRel(void 0,n,o,h,f,w,C)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(n,o,h,f){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,n,o,h,f)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(n,o,h,f){return new window.SVGPathSegCurvetoQuadraticRel(void 0,n,o,h,f)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(n,o,h,f,w,C,L){return new window.SVGPathSegArcAbs(void 0,n,o,h,f,w,C,L)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(n,o,h,f,w,C,L){return new window.SVGPathSegArcRel(void 0,n,o,h,f,w,C,L)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(n){return new window.SVGPathSegLinetoHorizontalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(n){return new window.SVGPathSegLinetoHorizontalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(n){return new window.SVGPathSegLinetoVerticalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(n){return new window.SVGPathSegLinetoVerticalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(n,o,h,f){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,n,o,h,f)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(n,o,h,f){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,n,o,h,f)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(n,o){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,n,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(n,o){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,n,o)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(n){if(void 0===n||!isFinite(n))throw"Invalid arguments.";var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",this.getAttribute("d"));var h=o.pathSegList.numberOfItems-1;if(h<=0)return 0;do{if(o.pathSegList.removeItem(h),n>o.getTotalLength())break;h--}while(0<h);return h})),"SVGPathSegList"in window||(window.SVGPathSegList=function(n){this._pathElement=n,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(n){var o;this._pathElement&&(o=!1,n.forEach(function(h){"d"==h.attributeName&&(o=!0)}),o&&(this._list=this._parsePath(this._pathElement.getAttribute("d"))))},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(n){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(n){n._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(n){return this._checkPathSynchronizedToList(),this._list=[n],(n._owningPathSegList=this)._writeListToPath(),n},window.SVGPathSegList.prototype._checkValidIndex=function(n){if(isNaN(n)||n<0||n>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(n){return this._checkPathSynchronizedToList(),this._checkValidIndex(n),this._list[n]},window.SVGPathSegList.prototype.insertItemBefore=function(n,o){return this._checkPathSynchronizedToList(),o>this.numberOfItems&&(o=this.numberOfItems),n._owningPathSegList&&(n=n.clone()),this._list.splice(o,0,n),(n._owningPathSegList=this)._writeListToPath(),n},window.SVGPathSegList.prototype.replaceItem=function(n,o){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._checkValidIndex(o),((this._list[o]=n)._owningPathSegList=this)._writeListToPath(),n},window.SVGPathSegList.prototype.removeItem=function(n){this._checkPathSynchronizedToList(),this._checkValidIndex(n);var o=this._list[n];return this._list.splice(n,1),this._writeListToPath(),o},window.SVGPathSegList.prototype.appendItem=function(n){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._list.push(n),(n._owningPathSegList=this)._writeListToPath(),n},window.SVGPathSegList._pathSegArrayAsString=function(n){var o="",h=!0;return n.forEach(function(f){h?(h=!1,o+=f._asPathString()):o+=" "+f._asPathString()}),o},window.SVGPathSegList.prototype._parsePath=function(n){if(!n||0==n.length)return[];function o(){this.pathSegList=[]}var h=this;function f(M){this._string=M,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()}o.prototype.appendSegment=function(M){this.pathSegList.push(M)},f.prototype._isCurrentSpace=function(){var M=this._string[this._currentIndex];return M<=" "&&(" "==M||"\n"==M||"\t"==M||"\r"==M||"\f"==M)},f.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},f.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},f.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},f.prototype.peekSegmentType=function(){return this._pathSegTypeFromChar(this._string[this._currentIndex])},f.prototype._pathSegTypeFromChar=function(M){switch(M){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},f.prototype._nextCommandHelper=function(M,G){return("+"==M||"-"==M||"."==M||"0"<=M&&M<="9")&&G!=window.SVGPathSeg.PATHSEG_CLOSEPATH?G==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:G==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:G:window.SVGPathSeg.PATHSEG_UNKNOWN},f.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var M=this.peekSegmentType();return M==window.SVGPathSeg.PATHSEG_MOVETO_ABS||M==window.SVGPathSeg.PATHSEG_MOVETO_REL},f.prototype._parseNumber=function(){var M=0,G=0,F=1,V=0,tt=1,dt=1,J=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,tt=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))&&"."!=this._string.charAt(this._currentIndex))){for(var mt=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=mt)for(var Ct=this._currentIndex-1,Mt=1;mt<=Ct;)G+=Mt*(this._string.charAt(Ct--)-"0"),Mt*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)F*=10,V+=(this._string.charAt(this._currentIndex)-"0")/F,this._currentIndex+=1}if(this._currentIndex!=J&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,dt=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)M*=10,M+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var at=G+V;if(at*=tt,M&&(at*=Math.pow(10,dt*M)),J!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),at}},f.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var M=!1,G=this._string.charAt(this._currentIndex++);if("0"==G)M=!1;else{if("1"!=G)return;M=!0}return this._skipOptionalSpacesOrDelimiter(),M}},f.prototype.parseSegment=function(){var M=this._string[this._currentIndex],G=this._pathSegTypeFromChar(M);if(G==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(G=this._nextCommandHelper(M,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=G){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(h,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(h,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(h,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(h,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(h);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var F={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(h,F.x,F.y,F.x1,F.y1,F.x2,F.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return F={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(h,F.x,F.y,F.x1,F.y1,F.x2,F.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return F={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(h,F.x,F.y,F.x2,F.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return F={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(h,F.x,F.y,F.x2,F.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return F={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(h,F.x,F.y,F.x1,F.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return F={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(h,F.x,F.y,F.x1,F.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return F={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(h,F.x,F.y,F.x1,F.y1,F.arcAngle,F.arcLarge,F.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return F={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(h,F.x,F.y,F.x1,F.y1,F.arcAngle,F.arcLarge,F.arcSweep);default:throw"Unknown path seg type."}};var w=new o,C=new f(n);if(!C.initialCommandIsMoveTo())return[];for(;C.hasMoreData();){var L=C.parseSegment();if(!L)return[];w.appendSegment(L)}return w.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(n,o){return n>>=0,o=String(void 0!==o?o:" "),this.length>n?String(this):((n-=this.length)>o.length&&(o+=o.repeat(n/o.length)),String(this)+o.slice(0,n))}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(n,o){if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(n),f=1;f<arguments.length;f++){var w=arguments[f];if(null!=w)for(var C in w)Object.prototype.hasOwnProperty.call(w,C)&&(h[C]=w[C])}return h},writable:!0,configurable:!0}),(Ht.prototype.axis=function(){}).labels=function(n){var o=this.internal;arguments.length&&(Object.keys(n).forEach(function(h){o.axis.setLabelText(h,n[h])}),o.axis.updateLabels())},Ht.prototype.axis.max=function(n){var o=this.internal,h=o.config;if(!arguments.length)return{x:h.axis_x_max,y:h.axis_y_max,y2:h.axis_y2_max};"object"==typeof n?(ke(n.x)&&(h.axis_x_max=n.x),ke(n.y)&&(h.axis_y_max=n.y),ke(n.y2)&&(h.axis_y2_max=n.y2)):h.axis_y_max=h.axis_y2_max=n,o.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},Ht.prototype.axis.min=function(n){var o=this.internal,h=o.config;if(!arguments.length)return{x:h.axis_x_min,y:h.axis_y_min,y2:h.axis_y2_min};"object"==typeof n?(ke(n.x)&&(h.axis_x_min=n.x),ke(n.y)&&(h.axis_y_min=n.y),ke(n.y2)&&(h.axis_y2_min=n.y2)):h.axis_y_min=h.axis_y2_min=n,o.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},Ht.prototype.axis.range=function(n){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};qe(n.max)&&this.axis.max(n.max),qe(n.min)&&this.axis.min(n.min)},Ht.prototype.axis.types=function(n){var o=this.internal;if(void 0===n)return{y:o.config.axis_y_type,y2:o.config.axis_y2_type};qe(n.y)&&(o.config.axis_y_type=n.y),qe(n.y2)&&(o.config.axis_y2_type=n.y2),o.updateScales(),o.redraw()},Ht.prototype.category=function(n,o){var h=this.internal,f=h.config;return 1<arguments.length&&(f.axis_x_categories[n]=o,h.redraw()),f.axis_x_categories[n]},Ht.prototype.categories=function(n){var o=this.internal,h=o.config;return arguments.length&&(h.axis_x_categories=n,o.redraw()),h.axis_x_categories},Ht.prototype.resize=function(n){var o=this.internal.config;o.size_width=n?n.width:null,o.size_height=n?n.height:null,this.flush()},Ht.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},Ht.prototype.destroy=function(){var n=this.internal;return window.clearInterval(n.intervalForObserveInserted),void 0!==n.resizeTimeout&&window.clearTimeout(n.resizeTimeout),window.removeEventListener("resize",n.resizeIfElementDisplayed),n.resizeFunction.remove(),n.unbindWindowFocus(),n.selectChart.classed("c3",!1).html(""),Object.keys(n).forEach(function(o){n[o]=null}),null},Ht.prototype.color=function(n){return this.internal.color(n)},(Ht.prototype.data=function(n){var o=this.internal.data.targets;return void 0===n?o:o.filter(function(h){return 0<=[].concat(n).indexOf(h.id)})}).shown=function(n){return this.internal.filterTargetsToShow(this.data(n))},Ht.prototype.data.values=function(n,o){void 0===o&&(o=!0);var h,f=null;return!n||(h=this.data(n))&&Ye(h)&&(f=h.reduce(function(w,C){var L=C.values.map(function(M){return M.value});return o?w=w.concat(L):w.push(L),w},[])),f},Ht.prototype.data.names=function(n){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",n)},Ht.prototype.data.colors=function(n){return this.internal.updateDataAttributes("colors",n)},Ht.prototype.data.axes=function(n){return this.internal.updateDataAttributes("axes",n)},Ht.prototype.data.stackNormalized=function(n){if(void 0===n)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!n,this.internal.redraw()},(Ht.prototype.donut=function(){}).padAngle=function(n){if(void 0===n)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=n,this.flush()},Ht.prototype.flow=function(n){var o,h,f,w,C,L,M,G=this.internal,F=[],V=G.getMaxDataCount(),tt=0,dt=0;if(n.json)h=G.convertJsonToData(n.json,n.keys);else if(n.rows)h=G.convertRowsToData(n.rows);else{if(!n.columns)return;h=G.convertColumnsToData(n.columns)}o=G.convertDataToTargets(h,!0),G.data.targets.forEach(function(J){for(var mt,Ct=!1,Mt=0;Mt<o.length;Mt++)if(J.id===o[Mt].id){for(Ct=!0,J.values[J.values.length-1]&&(dt=J.values[J.values.length-1].index+1),tt=o[Mt].values.length,mt=0;mt<tt;mt++)o[Mt].values[mt].index=dt+mt,G.isTimeSeries()||(o[Mt].values[mt].x=dt+mt);J.values=J.values.concat(o[Mt].values),o.splice(Mt,1);break}Ct||F.push(J.id)}),G.data.targets.forEach(function(J){for(var mt,Ct=0;Ct<F.length;Ct++)if(J.id===F[Ct])for(dt=J.values[J.values.length-1].index+1,mt=0;mt<tt;mt++)J.values.push({id:J.id,index:dt+mt,x:G.isTimeSeries()?G.getOtherTargetX(dt+mt):dt+mt,value:null})}),G.data.targets.length&&o.forEach(function(J){for(var mt=[],Ct=G.data.targets[0].values[0].index;Ct<dt;Ct++)mt.push({id:J.id,index:Ct,x:G.isTimeSeries()?G.getOtherTargetX(Ct):Ct,value:null});J.values.forEach(function(Mt){Mt.index+=dt,G.isTimeSeries()||(Mt.x+=dt)}),J.values=mt.concat(J.values)}),G.data.targets=G.data.targets.concat(o),G.getMaxDataCount(),C=(w=G.data.targets[0]).values[0],qe(n.to)?(tt=0,M=G.isTimeSeries()?G.parseDate(n.to):n.to,w.values.forEach(function(J){J.x<M&&tt++})):qe(n.length)&&(tt=n.length),V?1===V&&G.isTimeSeries()&&(L=(w.values[w.values.length-1].x-C.x)/2,f=[new Date(C.x-L),new Date(+C.x+L)],G.updateXDomain(null,!0,!0,!1,f)):(L=G.isTimeSeries()?1<w.values.length?w.values[w.values.length-1].x-C.x:C.x-G.getXDomain(G.data.targets)[0]:1,G.updateXDomain(null,!0,!0,!1,f=[C.x-L,C.x])),G.updateTargets(G.data.targets),G.redraw({flow:{index:C.index,length:tt,duration:ke(n.duration)?n.duration:G.config.transition_duration,done:n.done,orgDataCount:V},withLegend:!0,withTransition:1<V,withTrimXDomain:!1,withUpdateXAxis:!0})},r.prototype.generateFlow=function(n){var o=this,h=o.config,f=o.d3;return function(){var w,C,L,M,G,F,V,tt,dt,J,mt=n.targets,Ct=n.flow,Mt=n.drawBar,at=n.drawLine,re=n.drawArea,Dt=n.cx,At=n.cy,Ut=n.xv,he=n.xForText,Zt=n.yForText,Ft=n.duration,$t=Ct.index,Yt=Ct.length,Bt=o.getValueOnIndex(o.data.targets[0].values,$t),Le=o.getValueOnIndex(o.data.targets[0].values,$t+Yt),be=o.x.domain(),gn=Ct.duration||Ft,nn=Ct.done||function(){},Pe=o.generateWait();o.flowing=!0,o.data.targets.forEach(function(De){De.values.splice(0,Yt)}),C=o.updateXDomain(mt,!0,!0),o.updateXGrid&&o.updateXGrid(!0),L=o.xgrid||f.selectAll([]),M=o.xgridLines||f.selectAll([]),G=o.mainRegion||f.selectAll([]),F=o.mainText||f.selectAll([]),V=o.mainBar||f.selectAll([]),tt=o.mainLine||f.selectAll([]),dt=o.mainArea||f.selectAll([]),J=o.mainCircle||f.selectAll([]),w="translate("+(Ct.orgDataCount?1===Ct.orgDataCount||(Bt&&Bt.x)===(Le&&Le.x)||o.isTimeSeries()?o.x(be[0])-o.x(C[0]):o.x(Bt.x)-o.x(Le.x):1!==o.data.targets[0].values.length?o.x(be[0])-o.x(C[0]):o.isTimeSeries()?(Bt=o.getValueOnIndex(o.data.targets[0].values,0),Le=o.getValueOnIndex(o.data.targets[0].values,o.data.targets[0].values.length-1),o.x(Bt.x)-o.x(Le.x)):pe(C)/2)+",0) scale("+pe(be)/pe(C)+",1)",o.hideXGridFocus();var Me=f.transition().ease(f.easeLinear).duration(gn);Pe.add(o.xAxis(o.axes.x,Me)),Pe.add(V.transition(Me).attr("transform",w)),Pe.add(tt.transition(Me).attr("transform",w)),Pe.add(dt.transition(Me).attr("transform",w)),Pe.add(J.transition(Me).attr("transform",w)),Pe.add(F.transition(Me).attr("transform",w)),Pe.add(G.filter(o.isRegionOnX).transition(Me).attr("transform",w)),Pe.add(L.transition(Me).attr("transform",w)),Pe.add(M.transition(Me).attr("transform",w)),Pe(function(){var De,Xt=[],e=[];if(Yt){for(De=0;De<Yt;De++)Xt.push("."+Q.shape+"-"+($t+De)),e.push("."+Q.text+"-"+($t+De));o.svg.selectAll("."+Q.shapes).selectAll(Xt).remove(),o.svg.selectAll("."+Q.texts).selectAll(e).remove(),o.svg.select("."+Q.xgrid).remove()}L.attr("transform",null).attr("x1",o.xgridAttr.x1).attr("x2",o.xgridAttr.x2).attr("y1",o.xgridAttr.y1).attr("y2",o.xgridAttr.y2).style("opacity",o.xgridAttr.opacity),M.attr("transform",null),M.select("line").attr("x1",h.axis_rotated?0:Ut).attr("x2",h.axis_rotated?o.width:Ut),M.select("text").attr("x",h.axis_rotated?o.width:0).attr("y",Ut),V.attr("transform",null).attr("d",Mt),tt.attr("transform",null).attr("d",at),dt.attr("transform",null).attr("d",re),J.attr("transform",null).attr("cx",Dt).attr("cy",At),F.attr("transform",null).attr("x",he).attr("y",Zt).style("fill-opacity",o.opacityForText.bind(o)),G.attr("transform",null),G.filter(o.isRegionOnX).attr("x",o.regionX.bind(o)).attr("width",o.regionWidth.bind(o)),nn(),o.flowing=!1})}},Ht.prototype.focus=function(n){var o,h=this.internal;n=h.mapToTargetIds(n),o=h.svg.selectAll(h.selectorTargets(n.filter(h.isTargetToShow,h))),this.revert(),this.defocus(),o.classed(Q.focused,!0).classed(Q.defocused,!1),h.hasArcType()&&h.expandArc(n),h.toggleFocusLegend(n,!0),h.focusedTargetIds=n,h.defocusedTargetIds=h.defocusedTargetIds.filter(function(f){return n.indexOf(f)<0})},Ht.prototype.defocus=function(n){var o=this.internal;n=o.mapToTargetIds(n),o.svg.selectAll(o.selectorTargets(n.filter(o.isTargetToShow,o))).classed(Q.focused,!1).classed(Q.defocused,!0),o.hasArcType()&&o.unexpandArc(n),o.toggleFocusLegend(n,!1),o.focusedTargetIds=o.focusedTargetIds.filter(function(h){return n.indexOf(h)<0}),o.defocusedTargetIds=n},Ht.prototype.revert=function(n){var o=this.internal;n=o.mapToTargetIds(n),o.svg.selectAll(o.selectorTargets(n)).classed(Q.focused,!1).classed(Q.defocused,!1),o.hasArcType()&&o.unexpandArc(n),o.config.legend_show&&(o.showLegend(n.filter(o.isLegendToShow.bind(o))),o.legend.selectAll(o.selectorLegends(n)).filter(function(){return o.d3.select(this).classed(Q.legendItemFocused)}).classed(Q.legendItemFocused,!1)),o.focusedTargetIds=[],o.defocusedTargetIds=[]},(Ht.prototype.xgrids=function(n){var o=this.internal,h=o.config;return n&&(h.grid_x_lines=n,o.redrawWithoutRescale()),h.grid_x_lines}).add=function(n){return this.xgrids(this.internal.config.grid_x_lines.concat(n||[]))},Ht.prototype.xgrids.remove=function(n){this.internal.removeGridLines(n,!0)},(Ht.prototype.ygrids=function(n){var o=this.internal,h=o.config;return n&&(h.grid_y_lines=n,o.redrawWithoutRescale()),h.grid_y_lines}).add=function(n){return this.ygrids(this.internal.config.grid_y_lines.concat(n||[]))},Ht.prototype.ygrids.remove=function(n){this.internal.removeGridLines(n,!1)},Ht.prototype.groups=function(n){var o=this.internal,h=o.config;return mn(n)||(h.data_groups=n,o.redraw()),h.data_groups},(Ht.prototype.legend=function(){}).show=function(n){var o=this.internal;o.showLegend(o.mapToTargetIds(n)),o.updateAndRedraw({withLegend:!0})},Ht.prototype.legend.hide=function(n){var o=this.internal;o.hideLegend(o.mapToTargetIds(n)),o.updateAndRedraw({withLegend:!1})},Ht.prototype.load=function(n){var o=this.internal,h=o.config;n.xs&&o.addXs(n.xs),"names"in n&&Ht.prototype.data.names.bind(this)(n.names),"classes"in n&&Object.keys(n.classes).forEach(function(f){h.data_classes[f]=n.classes[f]}),"categories"in n&&o.isCategorized()&&(h.axis_x_categories=n.categories),"axes"in n&&Object.keys(n.axes).forEach(function(f){h.data_axes[f]=n.axes[f]}),"colors"in n&&Object.keys(n.colors).forEach(function(f){h.data_colors[f]=n.colors[f]}),"cacheIds"in n&&o.hasCaches(n.cacheIds)?o.load(o.getCaches(n.cacheIds),n.done):n.unload?o.unload(o.mapToTargetIds(!0===n.unload?null:n.unload),function(){o.loadFromArgs(n)}):o.loadFromArgs(n)},Ht.prototype.unload=function(n){var o=this.internal;(n=n||{})instanceof Array?n={ids:n}:"string"==typeof n&&(n={ids:[n]}),o.unload(o.mapToTargetIds(n.ids),function(){o.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.done&&n.done()})},(Ht.prototype.pie=function(){}).padAngle=function(n){if(void 0===n)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=n,this.flush()},(Ht.prototype.regions=function(n){var o=this.internal,h=o.config;return n&&(h.regions=n,o.redrawWithoutRescale()),h.regions}).add=function(n){var o=this.internal,h=o.config;return n&&(h.regions=h.regions.concat(n),o.redrawWithoutRescale()),h.regions},Ht.prototype.regions.remove=function(n){var o=this.internal,h=o.config,f=Tt(n=n||{},"duration",h.transition_duration),w=Tt(n,"classes",[Q.region]),C=o.main.select("."+Q.regions).selectAll(w.map(function(L){return"."+L}));return(f?C.transition().duration(f):C).style("opacity",0).remove(),h.regions=h.regions.filter(function(L){var M=!1;return!L.class||(L.class.split(" ").forEach(function(G){0<=w.indexOf(G)&&(M=!0)}),!M)}),h.regions},Ht.prototype.selected=function(n){var o=this.internal,h=o.d3;return o.main.selectAll("."+Q.shapes+o.getTargetSelectorSuffix(n)).selectAll("."+Q.shape).filter(function(){return h.select(this).classed(Q.SELECTED)}).nodes().map(function(f){var w=f.__data__;return w.data?w.data:w})},Ht.prototype.select=function(n,o,h){var f=this.internal,w=f.d3,C=f.config;C.data_selection_enabled&&f.main.selectAll("."+Q.shapes).selectAll("."+Q.shape).each(function(L,M){var G=w.select(this),F=L.data?L.data.id:L.id,V=f.getToggle(this,L).bind(f),tt=C.data_selection_grouped||!n||0<=n.indexOf(F),dt=!o||0<=o.indexOf(M),J=G.classed(Q.SELECTED);G.classed(Q.line)||G.classed(Q.area)||(tt&&dt?C.data_selection_isselectable(L)&&!J&&V(!0,G.classed(Q.SELECTED,!0),L,M):qe(h)&&h&&J&&V(!1,G.classed(Q.SELECTED,!1),L,M))})},Ht.prototype.unselect=function(n,o){var h=this.internal,f=h.d3,w=h.config;w.data_selection_enabled&&h.main.selectAll("."+Q.shapes).selectAll("."+Q.shape).each(function(C,L){var M=f.select(this),G=C.data?C.data.id:C.id,F=h.getToggle(this,C).bind(h),V=w.data_selection_grouped||!n||0<=n.indexOf(G),tt=!o||0<=o.indexOf(L),dt=M.classed(Q.SELECTED);M.classed(Q.line)||M.classed(Q.area)||V&&tt&&w.data_selection_isselectable(C)&&dt&&F(!1,M.classed(Q.SELECTED,!1),C,L)})},Ht.prototype.show=function(n,o){var h,f=this.internal;n=f.mapToTargetIds(n),o=o||{},f.removeHiddenTargetIds(n),(h=f.svg.selectAll(f.selectorTargets(n))).transition().style("display",hn()?"block":"initial","important").style("opacity",1,"important").call(f.endall,function(){h.style("opacity",null).style("opacity",1)}),o.withLegend&&f.showLegend(n),f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},Ht.prototype.hide=function(n,o){var h,f=this.internal;n=f.mapToTargetIds(n),o=o||{},f.addHiddenTargetIds(n),(h=f.svg.selectAll(f.selectorTargets(n))).transition().style("opacity",0,"important").call(f.endall,function(){h.style("opacity",null).style("opacity",0),h.style("display","none")}),o.withLegend&&f.hideLegend(n),f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},Ht.prototype.toggle=function(n,o){var h=this,f=this.internal;f.mapToTargetIds(n).forEach(function(w){f.isTargetToShow(w)?h.hide(w,o):h.show(w,o)})},(Ht.prototype.subchart=function(){}).isShown=function(){return this.internal.config.subchart_show},Ht.prototype.subchart.show=function(){var n=this.internal;n.config.subchart_show||(n.config.subchart_show=!0,n.initSubchart(),n.updateDimension(),n.initSubchartBrush(),n.updateTargetsForSubchart(n.getTargets()),n.mapToIds(n.data.targets).forEach(function(o){n.withoutFadeIn[o]=!1}),n.updateAndRedraw(),n.showTargets())},Ht.prototype.subchart.hide=function(){var n=this.internal;n.config.subchart_show&&(n.config.subchart_show=!1,n.removeSubchart(),n.redraw())},(Ht.prototype.tooltip=function(){}).show=function(n){var o,h,f=this.internal,w=n.mouse?n.mouse:(n.data?h=n.data:void 0!==n.x&&(o=n.id?f.data.targets.filter(function(C){return C.id===n.id}):f.data.targets,h=f.filterByX(o,n.x).slice(0,1)[0]),h?f.getMousePosition(h):null);f.dispatchEvent("mousemove",w),f.config.tooltip_onshow.call(f,h)},Ht.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},Ht.prototype.transform=function(n,o){var h=this.internal,f=0<=["pie","donut"].indexOf(n)?{withTransform:!0}:null;h.transformTo(o,n,f)},r.prototype.transformTo=function(n,o,h){var f=this,w=!f.hasArcType(),C=h||{withTransitionForAxis:w};C.withTransitionForTransform=!1,f.transiting=!1,f.setTargetType(n,o),f.updateTargets(f.data.targets),f.updateAndRedraw(C)},Ht.prototype.x=function(n){var o=this.internal;return arguments.length&&(o.updateTargetX(o.data.targets,n),o.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),o.data.xs},Ht.prototype.xs=function(n){var o=this.internal;return arguments.length&&(o.updateTargetXs(o.data.targets,n),o.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),o.data.xs},(Ht.prototype.zoom=function(n){var o=this.internal;return n?(o.isTimeSeries()&&(n=n.map(function(h){return o.parseDate(h)})),o.config.subchart_show?o.brush.selectionAsValue(n,!0):(o.updateXDomain(null,!0,!1,!1,n),o.redraw({withY:o.config.zoom_rescale,withSubchart:!1})),o.config.zoom_onzoom.call(this,o.x.orgDomain()),n):o.x.domain()}).enable=function(n){var o=this.internal;o.config.zoom_enabled=n,o.updateAndRedraw()},Ht.prototype.unzoom=function(){var n=this.internal;n.config.subchart_show?n.brush.clear():(n.updateXDomain(null,!0,!1,!1,n.subX.domain()),n.redraw({withY:n.config.zoom_rescale,withSubchart:!1}))},Ht.prototype.zoom.max=function(n){var o=this.internal,h=o.config;if(0!==n&&!n)return h.zoom_x_max;h.zoom_x_max=o.d3.max([o.orgXDomain[1],n])},Ht.prototype.zoom.min=function(n){var o=this.internal,h=o.config;if(0!==n&&!n)return h.zoom_x_min;h.zoom_x_min=o.d3.min([o.orgXDomain[0],n])},Ht.prototype.zoom.range=function(n){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};qe(n.max)&&this.domain.max(n.max),qe(n.min)&&this.domain.min(n.min)},r.prototype.initPie=function(){var n=this;n.pie=n.d3.pie().padAngle(this.getPadAngle.bind(this)).value(function(w){return w.values.reduce(function(C,L){return C+L.value},0)});var h,f=n.getOrderFunction();f&&(n.isOrderAsc()||n.isOrderDesc())&&(h=f,f=function(w,C){return-1*h(w,C)}),n.pie.sort(f||null)},r.prototype.updateRadius=function(){var n=this,o=n.config,h=o.gauge_width||o.donut_width,f=n.filterTargetsToShow(n.data.targets).length*n.config.gauge_arcs_minWidth;n.radiusExpanded=Math.min(n.arcWidth,n.arcHeight)/2*(n.hasType("gauge")?.85:1),n.radius=.95*n.radiusExpanded,n.innerRadiusRatio=h?(n.radius-h)/n.radius:.6,n.innerRadius=n.hasType("donut")||n.hasType("gauge")?n.radius*n.innerRadiusRatio:0,n.gaugeArcWidth=h||(f<=n.radius-n.innerRadius?n.radius-n.innerRadius:f<=n.radius?f:n.radius)},r.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},r.prototype.updateArc=function(){var n=this;n.svgArc=n.getSvgArc(),n.svgArcExpanded=n.getSvgArcExpanded(),n.svgArcExpandedSub=n.getSvgArcExpanded(.98)},r.prototype.updateAngle=function(n){var o,h,f,w,C=this,L=C.config,M=!1,G=0;return L?(C.pie(C.filterTargetsToShow(C.data.targets)).forEach(function(F){M||F.data.id!==n.data.id||(M=!0,(n=F).index=G),G++}),isNaN(n.startAngle)&&(n.startAngle=0),isNaN(n.endAngle)&&(n.endAngle=n.startAngle),C.isGaugeType(n.data)&&(o=L.gauge_min,h=L.gauge_max,f=Math.PI*(L.gauge_fullCircle?2:1)/(h-o),w=n.value<o?0:n.value<h?n.value-o:h-o,n.startAngle=L.gauge_startingAngle,n.endAngle=n.startAngle+f*w),M?n:null):null},r.prototype.getSvgArc=function(){function n(C,L){var M;return L?w(C):(M=o.updateAngle(C))?w(M):"M 0 0"}var o=this,h=o.hasType("gauge"),f=o.gaugeArcWidth/o.filterTargetsToShow(o.data.targets).length,w=o.d3.arc().outerRadius(function(C){return h?o.radius-f*C.index:o.radius}).innerRadius(function(C){return h?o.radius-f*(C.index+1):o.innerRadius});return n.centroid=w.centroid,n},r.prototype.getSvgArcExpanded=function(n){n=n||1;var o=this,h=o.hasType("gauge"),f=o.gaugeArcWidth/o.filterTargetsToShow(o.data.targets).length,w=Math.min(o.radiusExpanded*n-o.radius,.8*f-100*(1-n)),C=o.d3.arc().outerRadius(function(L){return h?o.radius-f*L.index+w:o.radiusExpanded*n}).innerRadius(function(L){return h?o.radius-f*(L.index+1):o.innerRadius});return function(L){var M=o.updateAngle(L);return M?C(M):"M 0 0"}},r.prototype.getArc=function(n,o,h){return h||this.isArcType(n.data)?this.svgArc(n,o):"M 0 0"},r.prototype.transformForArcLabel=function(n){var o,h,f,w,C,L,M=this,G=M.config,F=M.updateAngle(n),V="",tt=M.hasType("gauge");return F&&!tt?(o=this.svgArc.centroid(F),C=isNaN(o[0])?0:o[0],L=isNaN(o[1])?0:o[1],h=Math.sqrt(C*C+L*L),V="translate("+C*(f=M.hasType("donut")&&G.donut_label_ratio?on(G.donut_label_ratio)?G.donut_label_ratio(n,M.radius,h):G.donut_label_ratio:M.hasType("pie")&&G.pie_label_ratio?on(G.pie_label_ratio)?G.pie_label_ratio(n,M.radius,h):G.pie_label_ratio:M.radius&&h?(.375<36/M.radius?1.175-36/M.radius:.8)*M.radius/h:0)+","+L*f+")"):F&&tt&&1<M.filterTargetsToShow(M.data.targets).length&&(w=Math.sin(F.endAngle-Math.PI/2),V="translate("+(C=Math.cos(F.endAngle-Math.PI/2)*(M.radiusExpanded+25))+","+(L=w*(M.radiusExpanded+15-Math.abs(10*w))+3)+")"),V},r.prototype.getArcRatio=function(n){return this.getRatio("arc",n)},r.prototype.convertToArcData=function(n){return this.addName({id:n.data.id,value:n.value,ratio:this.getRatio("arc",n),index:n.index})},r.prototype.textForArcLabel=function(n){var o,h,f,w,C,L=this;return L.shouldShowArcLabel()?(h=(o=L.updateAngle(n))?o.value:null,f=L.getRatio("arc",o),w=n.data.id,L.hasType("gauge")||L.meetsArcLabelThreshold(f)?(C=L.getArcLabelFormat())?C(h,f,w):L.defaultArcValueFormat(h,f):""):""},r.prototype.textForGaugeMinMax=function(n,o){var h=this.getGaugeLabelExtents();return h?h(n,o):n},r.prototype.expandArc=function(n){var o,h=this;h.transiting?o=window.setInterval(function(){h.transiting||(window.clearInterval(o),0<h.legend.selectAll(".c3-legend-item-focused").size()&&h.expandArc(n))},10):(n=h.mapToTargetIds(n),h.svg.selectAll(h.selectorTargets(n,"."+Q.chartArc)).each(function(f){h.shouldExpand(f.data.id)&&h.d3.select(this).selectAll("path").transition().duration(h.expandDuration(f.data.id)).attr("d",h.svgArcExpanded).transition().duration(2*h.expandDuration(f.data.id)).attr("d",h.svgArcExpandedSub).each(function(w){h.isDonutType(w.data)})}))},r.prototype.unexpandArc=function(n){var o=this;o.transiting||(n=o.mapToTargetIds(n),o.svg.selectAll(o.selectorTargets(n,"."+Q.chartArc)).selectAll("path").transition().duration(function(h){return o.expandDuration(h.data.id)}).attr("d",o.svgArc),o.svg.selectAll("."+Q.arc))},r.prototype.expandDuration=function(n){var o=this.config;return this.isDonutType(n)?o.donut_expand_duration:this.isGaugeType(n)?o.gauge_expand_duration:this.isPieType(n)?o.pie_expand_duration:50},r.prototype.shouldExpand=function(n){var o=this.config;return this.isDonutType(n)&&o.donut_expand||this.isGaugeType(n)&&o.gauge_expand||this.isPieType(n)&&o.pie_expand},r.prototype.shouldShowArcLabel=function(){var n=this.config,o=!0;return this.hasType("donut")?o=n.donut_label_show:this.hasType("pie")&&(o=n.pie_label_show),o},r.prototype.meetsArcLabelThreshold=function(n){var o=this.config;return(this.hasType("donut")?o.donut_label_threshold:o.pie_label_threshold)<=n},r.prototype.getArcLabelFormat=function(){var n=this.config,o=n.pie_label_format;return this.hasType("gauge")?o=n.gauge_label_format:this.hasType("donut")&&(o=n.donut_label_format),o},r.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},r.prototype.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},r.prototype.updateTargetsForArc=function(n){var o=this,h=o.main,f=o.classChartArc.bind(o),w=o.classArcs.bind(o),C=o.classFocus.bind(o),L=h.select("."+Q.chartArcs).selectAll("."+Q.chartArc).data(o.pie(n)).attr("class",function(M){return f(M)+C(M.data)}).enter().append("g").attr("class",f);L.append("g").attr("class",w),L.append("text").attr("dy",o.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},r.prototype.initArc=function(){var n=this;n.arcs=n.main.select("."+Q.chart).append("g").attr("class",Q.chartArcs).attr("transform",n.getTranslate("arc")),n.arcs.append("text").attr("class",Q.chartArcsTitle).style("text-anchor","middle").text(n.getArcTitle())},r.prototype.redrawArc=function(n,o,h){var f,w,C,L,M=this,G=M.d3,F=M.config,V=M.main,tt=M.hasType("gauge"),dt=V.selectAll("."+Q.arcs).selectAll("."+Q.arc).data(M.arcData.bind(M)),J=dt.enter().append("path").attr("class",M.classArc.bind(M)).style("fill",function(mt){return M.color(mt.data)}).style("cursor",function(mt){return F.interaction_enabled&&F.data_selection_isselectable(mt)?"pointer":null}).each(function(mt){M.isGaugeType(mt.data)&&(mt.startAngle=mt.endAngle=F.gauge_startingAngle),this._current=mt}).merge(dt);tt&&(w=(f=V.selectAll("."+Q.arcs).selectAll("."+Q.arcLabelLine).data(M.arcData.bind(M))).enter().append("rect").attr("class",function(mt){return Q.arcLabelLine+" "+Q.target+" "+Q.target+"-"+mt.data.id}).merge(f),1===M.filterTargetsToShow(M.data.targets).length?w.style("display","none"):w.style("fill",function(mt){return M.levelColor?M.levelColor(mt.data.values.reduce(function(Ct,Mt){return Ct+Mt.value},0)):M.color(mt.data)}).style("display",F.gauge_labelLine_show?"":"none").each(function(mt){var Ct,Mt,at,re,Dt,At=0,Ut=0,he=0,Zt="";M.hiddenTargetIds.indexOf(mt.data.id)<0&&(Ct=M.updateAngle(mt),Mt=M.gaugeArcWidth/M.filterTargetsToShow(M.data.targets).length*(Ct.index+1),Dt=(at=Ct.endAngle-Math.PI/2)-(0==(re=M.radius-Mt)?0:1/re),At=M.radiusExpanded-M.radius+Mt,Ut=Math.cos(Dt)*re,he=Math.sin(Dt)*re,Zt="rotate("+180*at/Math.PI+", "+Ut+", "+he+")"),G.select(this).attr("x",Ut).attr("y",he).attr("width",At).attr("height",2).attr("transform",Zt).style("stroke-dasharray","0, "+(At+2)+", 0")})),J.attr("transform",function(mt){return!M.isGaugeType(mt.data)&&h?"scale(0)":""}).on("mouseover",F.interaction_enabled?function(mt){var Ct,Mt;M.transiting||(Ct=M.updateAngle(mt))&&(Mt=M.convertToArcData(Ct),M.expandArc(Ct.data.id),M.api.focus(Ct.data.id),M.toggleFocusLegend(Ct.data.id,!0),M.config.data_onmouseover(Mt,this))}:null).on("mousemove",F.interaction_enabled?function(mt){var Ct,Mt=M.updateAngle(mt);Mt&&(Ct=[M.convertToArcData(Mt)],M.showTooltip(Ct,this))}:null).on("mouseout",F.interaction_enabled?function(mt){var Ct,Mt;M.transiting||(Ct=M.updateAngle(mt))&&(Mt=M.convertToArcData(Ct),M.unexpandArc(Ct.data.id),M.api.revert(),M.revertLegend(),M.hideTooltip(),M.config.data_onmouseout(Mt,this))}:null).on("click",F.interaction_enabled?function(mt,Ct){var Mt,at=M.updateAngle(mt);at&&(Mt=M.convertToArcData(at),M.toggleShape&&M.toggleShape(this,Mt,Ct),M.config.data_onclick.call(M.api,Mt,this))}:null).each(function(){M.transiting=!0}).transition().duration(n).attrTween("d",function(mt){var Ct,Mt=M.updateAngle(mt);return Mt?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),Ct=G.interpolate(this._current,Mt),this._current=Ct(0),function(at){if(null===M.config)return"M 0 0";var re=Ct(at);return re.data=mt.data,M.getArc(re,!0)}):function(){return"M 0 0"}}).attr("transform",h?"scale(1)":"").style("fill",function(mt){return M.levelColor?M.levelColor(mt.data.values.reduce(function(Ct,Mt){return Ct+Mt.value},0)):M.color(mt.data.id)}).call(M.endall,function(){M.transiting=!1}),dt.exit().transition().duration(o).style("opacity",0).remove(),V.selectAll("."+Q.chartArc).select("text").style("opacity",0).attr("class",function(mt){return M.isGaugeType(mt.data)?Q.gaugeValue:""}).text(M.textForArcLabel.bind(M)).attr("transform",M.transformForArcLabel.bind(M)).style("font-size",function(mt){return M.isGaugeType(mt.data)&&1===M.filterTargetsToShow(M.data.targets).length?Math.round(M.radius/5)+"px":""}).transition().duration(n).style("opacity",function(mt){return M.isTargetToShow(mt.data.id)&&M.isArcType(mt.data)?1:0}),V.select("."+Q.chartArcsTitle).style("opacity",M.hasType("donut")||tt?1:0),tt&&(C=0,(L=M.arcs.select("g."+Q.chartArcsBackground).selectAll("path."+Q.chartArcsBackground).data(M.data.targets)).enter().append("path").attr("class",function(mt,Ct){return Q.chartArcsBackground+" "+Q.chartArcsBackground+"-"+Ct}).merge(L).attr("d",function(mt){if(0<=M.hiddenTargetIds.indexOf(mt.id))return"M 0 0";var Ct={data:[{value:F.gauge_max}],startAngle:F.gauge_startingAngle,endAngle:-1*F.gauge_startingAngle*(F.gauge_fullCircle?Math.PI:1),index:C++};return M.getArc(Ct,!0,!0)}),L.exit().remove(),M.arcs.select("."+Q.chartArcsGaugeUnit).attr("dy",".75em").text(F.gauge_label_show?F.gauge_units:""),M.arcs.select("."+Q.chartArcsGaugeMin).attr("dx",-1*(M.innerRadius+(M.radius-M.innerRadius)/(F.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(F.gauge_label_show?M.textForGaugeMinMax(F.gauge_min,!1):""),M.arcs.select("."+Q.chartArcsGaugeMax).attr("dx",M.innerRadius+(M.radius-M.innerRadius)/(F.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(F.gauge_label_show?M.textForGaugeMinMax(F.gauge_max,!0):""))},r.prototype.initGauge=function(){var n=this.arcs;this.hasType("gauge")&&(n.append("g").attr("class",Q.chartArcsBackground),n.append("text").attr("class",Q.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),n.append("text").attr("class",Q.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),n.append("text").attr("class",Q.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},r.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},r.prototype.addToCache=function(n,o){this.cache["$"+n]=o},r.prototype.getFromCache=function(n){return this.cache["$"+n]},r.prototype.resetCache=function(){var n=this;Object.keys(this.cache).filter(function(o){return/^\$/.test(o)}).forEach(function(o){delete n.cache[o]})},r.prototype.hasCaches=function(n){for(var o=0;o<n.length;o++)if(!(n[o]in this.cache))return!1;return!0},r.prototype.addCache=function(n,o){this.cache[n]=this.cloneTarget(o)},r.prototype.getCaches=function(n){for(var o=[],h=0;h<n.length;h++)n[h]in this.cache&&o.push(this.cloneTarget(this.cache[n[h]]));return o},r.prototype.categoryName=function(n){var o=this.config;return n<o.axis_x_categories.length?o.axis_x_categories[n]:n},r.prototype.generateTargetClass=function(n){return n||0===n?("-"+n).replace(/\s/g,"-"):""},r.prototype.generateClass=function(n,o){return" "+n+" "+n+this.generateTargetClass(o)},r.prototype.classText=function(n){return this.generateClass(Q.text,n.index)},r.prototype.classTexts=function(n){return this.generateClass(Q.texts,n.id)},r.prototype.classShape=function(n){return this.generateClass(Q.shape,n.index)},r.prototype.classShapes=function(n){return this.generateClass(Q.shapes,n.id)},r.prototype.classLine=function(n){return this.classShape(n)+this.generateClass(Q.line,n.id)},r.prototype.classLines=function(n){return this.classShapes(n)+this.generateClass(Q.lines,n.id)},r.prototype.classCircle=function(n){return this.classShape(n)+this.generateClass(Q.circle,n.index)},r.prototype.classCircles=function(n){return this.classShapes(n)+this.generateClass(Q.circles,n.id)},r.prototype.classBar=function(n){return this.classShape(n)+this.generateClass(Q.bar,n.index)},r.prototype.classBars=function(n){return this.classShapes(n)+this.generateClass(Q.bars,n.id)},r.prototype.classArc=function(n){return this.classShape(n.data)+this.generateClass(Q.arc,n.data.id)},r.prototype.classArcs=function(n){return this.classShapes(n.data)+this.generateClass(Q.arcs,n.data.id)},r.prototype.classArea=function(n){return this.classShape(n)+this.generateClass(Q.area,n.id)},r.prototype.classAreas=function(n){return this.classShapes(n)+this.generateClass(Q.areas,n.id)},r.prototype.classRegion=function(n,o){return this.generateClass(Q.region,o)+" "+("class"in n?n.class:"")},r.prototype.classEvent=function(n){return this.generateClass(Q.eventRect,n.index)},r.prototype.classTarget=function(n){var o=this.config.data_classes[n],h=o?" "+Q.target+"-"+o:"";return this.generateClass(Q.target,n)+h},r.prototype.classFocus=function(n){return this.classFocused(n)+this.classDefocused(n)},r.prototype.classFocused=function(n){return" "+(0<=this.focusedTargetIds.indexOf(n.id)?Q.focused:"")},r.prototype.classDefocused=function(n){return" "+(0<=this.defocusedTargetIds.indexOf(n.id)?Q.defocused:"")},r.prototype.classChartText=function(n){return Q.chartText+this.classTarget(n.id)},r.prototype.classChartLine=function(n){return Q.chartLine+this.classTarget(n.id)},r.prototype.classChartBar=function(n){return Q.chartBar+this.classTarget(n.id)},r.prototype.classChartArc=function(n){return Q.chartArc+this.classTarget(n.data.id)},r.prototype.getTargetSelectorSuffix=function(n){var o=this.generateTargetClass(n);return window.CSS&&window.CSS.escape?window.CSS.escape(o):o.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},r.prototype.selectorTarget=function(n,o){return(o||"")+"."+Q.target+this.getTargetSelectorSuffix(n)},r.prototype.selectorTargets=function(n,o){var h=this;return(n=n||[]).length?n.map(function(f){return h.selectorTarget(f,o)}):null},r.prototype.selectorLegend=function(n){return"."+Q.legendItem+this.getTargetSelectorSuffix(n)},r.prototype.selectorLegends=function(n){var o=this;return n&&n.length?n.map(function(h){return o.selectorLegend(h)}):null},r.prototype.getClipPath=function(n){return"url("+(hn(9)?"":document.URL.split("#")[0])+"#"+n+")"},r.prototype.appendClip=function(n,o){return n.append("clipPath").attr("id",o).append("rect")},r.prototype.getAxisClipX=function(n){var o=Math.max(30,this.margin.left);return n?-(1+o):-(o-1)},r.prototype.getAxisClipY=function(n){return n?-20:-this.margin.top},r.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},r.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},r.prototype.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},r.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},r.prototype.getAxisClipWidth=function(n){var o=Math.max(30,this.margin.left),h=Math.max(30,this.margin.right);return n?this.width+2+o+h:this.margin.left+20},r.prototype.getAxisClipHeight=function(n){return(n?this.margin.bottom:this.margin.top+this.height)+20},r.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},r.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},r.prototype.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},r.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},r.prototype.generateColor=function(){var n=this.config,o=this.d3,h=n.data_colors,f=le(n.color_pattern)?n.color_pattern:o.schemeCategory10,w=n.data_color,C=[];return function(L){var M,G=L.id||L.data&&L.data.id||L;return h[G]instanceof Function?M=h[G](L):h[G]?M=h[G]:(C.indexOf(G)<0&&C.push(G),M=f[C.indexOf(G)%f.length],h[G]=M),w instanceof Function?w(M,L):M}},r.prototype.generateLevelColor=function(){var n=this.config,o=n.color_pattern,h=n.color_threshold,f="value"===h.unit,w=h.values&&h.values.length?h.values:[],C=h.max||100;return le(h)&&le(o)?function(L){for(var M=o[o.length-1],G=0;G<w.length;G++)if((f?L:100*L/C)<w[G]){M=o[G];break}return M}:null},r.prototype.getDefaultConfig=function(){var n={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(o){return o},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(o,h,f,w){return this.getTooltipContent?this.getTooltipContent(o,h,f,w):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(o){n[o]=this.additionalConfig[o]},this),n},r.prototype.additionalConfig={},r.prototype.loadConfig=function(n){var o,h,f,w=this.config;Object.keys(w).forEach(function(C){o=n,h=C.split("_"),f=function L(){var M=h.shift();return M&&o&&"object"==typeof o&&M in o?(o=o[M],L()):M?void 0:o}(),qe(f)&&(w[C]=f)})},r.prototype.convertUrlToData=function(n,o,h,f,w){var C,L=this,M=o||"csv",G="json"===M?(C=L.d3.json,L.convertJsonToData):(C="tsv"===M?L.d3.tsv:L.d3.csv,L.convertXsvToData);C(n,h).then(function(F){w.call(L,G.call(L,F,f))}).catch(function(F){throw F})},r.prototype.convertXsvToData=function(n){var o=n.columns;return 0===n.length?{keys:o,rows:[o.reduce(function(h,f){var w;return Object.assign(h,((w={})[f]=null,w))},{})]}:{keys:o,rows:[].concat(n)}},r.prototype.convertJsonToData=function(n,o){var h,f=this,w=[];return o?(o.x?(h=o.value.concat(o.x),f.config.data_x=o.x):h=o.value,w.push(h),n.forEach(function(L){var M=[];h.forEach(function(G){var F=f.findValueInJson(L,G);mn(F)&&(F=null),M.push(F)}),w.push(M)}),f.convertRowsToData(w)):(Object.keys(n).forEach(function(L){w.push([L].concat(n[L]))}),f.convertColumnsToData(w))},r.prototype.findValueInJson=function(n,o){if(o in n)return n[o];for(var h=(o=(o=o.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),f=0;f<h.length;++f){var w=h[f];if(!(w in n))return;n=n[w]}return n},r.prototype.convertRowsToData=function(n){for(var o=[],h=n[0],f=1;f<n.length;f++){for(var w={},C=0;C<n[f].length;C++){if(mn(n[f][C]))throw new Error("Source data is missing a component at ("+f+","+C+")!");w[h[C]]=n[f][C]}o.push(w)}return{keys:h,rows:o}},r.prototype.convertColumnsToData=function(n){for(var o=[],h=[],f=0;f<n.length;f++){for(var w=n[f][0],C=1;C<n[f].length;C++){if(mn(o[C-1])&&(o[C-1]={}),mn(n[f][C]))throw new Error("Source data is missing a component at ("+f+","+C+")!");o[C-1][w]=n[f][C]}h.push(w)}return{keys:h,rows:o}},r.prototype.convertDataToTargets=function(n,o){var h,f,w,C,L,M=this,G=M.config;if(Ye(n)?C=Object.keys(n[0]):(C=n.keys,n=n.rows),w=C.filter(M.isX,M),M.isStanfordGraphType()){if(L=C.filter(M.isEpochs,M),f=C.filter(M.isNotXAndNotEpochs,M),1!==w.length||1!==L.length||1!==f.length)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams")}else f=C.filter(M.isNotX,M);return f.forEach(function(F){var V=M.getXKey(F);M.isCustomX()||M.isTimeSeries()?0<=w.indexOf(V)?M.data.xs[F]=(o&&M.data.xs[F]?M.data.xs[F]:[]).concat(n.map(function(tt){return tt[V]}).filter(ke).map(function(tt,dt){return M.generateTargetX(tt,F,dt)})):G.data_x?M.data.xs[F]=M.getOtherTargetXs():le(G.data_xs)&&(M.data.xs[F]=M.getXValuesOfXKey(V,M.data.targets)):M.data.xs[F]=n.map(function(tt,dt){return dt})}),f.forEach(function(F){if(!M.data.xs[F])throw new Error('x is not defined for id = "'+F+'".')}),(h=f.map(function(F,V){var tt=G.data_idConverter(F);return{id:tt,id_org:F,values:n.map(function(dt,J){var mt,Ct,Mt=dt[M.getXKey(F)],at=null===dt[F]||isNaN(dt[F])?null:+dt[F];return M.isCustomX()&&M.isCategorized()&&!mn(Mt)?(0===V&&0===J&&(G.axis_x_categories=[]),-1===(mt=G.axis_x_categories.indexOf(Mt))&&(mt=G.axis_x_categories.length,G.axis_x_categories.push(Mt))):mt=M.generateTargetX(Mt,F,J),(mn(dt[F])||M.data.xs[F].length<=J)&&(mt=void 0),Ct={x:mt,value:at,id:tt},M.isStanfordGraphType()&&(Ct.epochs=dt[L]),Ct}).filter(function(dt){return qe(dt.x)})}})).forEach(function(F){var V;G.data_xSort&&(F.values=F.values.sort(function(tt,dt){return(tt.x||0===tt.x?tt.x:1/0)-(dt.x||0===dt.x?dt.x:1/0)})),V=0,F.values.forEach(function(tt){tt.index=V++}),M.data.xs[F.id].sort(function(tt,dt){return tt-dt})}),M.hasNegativeValue=M.hasNegativeValueInTargets(h),M.hasPositiveValue=M.hasPositiveValueInTargets(h),G.data_type&&M.setTargetType(M.mapToIds(h).filter(function(F){return!(F in G.data_types)}),G.data_type),h.forEach(function(F){M.addCache(F.id_org,F)}),h},r.prototype.isEpochs=function(n){var o=this.config;return o.data_epochs&&n===o.data_epochs},r.prototype.isX=function(n){var o,h,f,w=this.config;return w.data_x&&n===w.data_x||le(w.data_xs)&&(o=w.data_xs,h=n,f=!1,Object.keys(o).forEach(function(C){o[C]===h&&(f=!0)}),f)},r.prototype.isNotX=function(n){return!this.isX(n)},r.prototype.isNotXAndNotEpochs=function(n){return!this.isX(n)&&!this.isEpochs(n)},r.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&0<this.config.data_groups.length},r.prototype.isAxisNormalized=function(n){var o=this;return!!o.isStackNormalized()&&o.data.targets.filter(function(h){return o.axis.getId(h.id)===n}).some(function(h){return o.isTargetNormalized(h.id)})},r.prototype.isTargetNormalized=function(n){return this.isStackNormalized()&&this.config.data_groups.some(function(o){return o.includes(n)})},r.prototype.getXKey=function(n){var o=this.config;return o.data_x?o.data_x:le(o.data_xs)?o.data_xs[n]:null},r.prototype.getTotalPerIndex=function(n){var o=this;if(!o.isStackNormalized())return null;var h=o.getFromCache("getTotalPerIndex");if(void 0!==h)return h[n];var f={y:[],y2:[]};return o.data.targets.filter(function(w){return o.isTargetNormalized(w.id)}).filter(function(w){return o.isTargetToShow(w.id)}).forEach(function(w){var C=f[o.axis.getId(w.id)];w.values.forEach(function(L,M){C[M]||(C[M]=0),C[M]+=Rn(L.value)?L.value:0})}),o.addToCache("getTotalPerIndex",f),f[n]},r.prototype.getTotalDataSum=function(){var n=this,o=n.getFromCache("getTotalDataSum");if(void 0!==o)return o;var h,f=(h=n.data.targets.filter(function(w){return n.isTargetToShow(w.id)}).map(function(w){return w.values}),(Array.isArray(h)?[].concat.apply([],h):[]).map(function(w){return w.value}).reduce(function(w,C){return w+C},0));return n.addToCache("getTotalDataSum",f),f},r.prototype.getXValuesOfXKey=function(n,o){var h,f=this;return(o&&le(o)?f.mapToIds(o):[]).forEach(function(w){f.getXKey(w)===n&&(h=f.data.xs[w])}),h},r.prototype.getXValue=function(n,o){return n in this.data.xs&&this.data.xs[n]&&ke(this.data.xs[n][o])?this.data.xs[n][o]:o},r.prototype.getOtherTargetXs=function(){var n=Object.keys(this.data.xs);return n.length?this.data.xs[n[0]]:null},r.prototype.getOtherTargetX=function(n){var o=this.getOtherTargetXs();return o&&n<o.length?o[n]:null},r.prototype.addXs=function(n){var o=this;Object.keys(n).forEach(function(h){o.config.data_xs[h]=n[h]})},r.prototype.addName=function(n){var o;return n&&(n.name=void 0!==(o=this.config.data_names[n.id])?o:n.id),n},r.prototype.getValueOnIndex=function(n,o){var h=n.filter(function(f){return f.index===o});return h.length?h[0]:null},r.prototype.updateTargetX=function(n,o){var h=this;n.forEach(function(f){f.values.forEach(function(w,C){w.x=h.generateTargetX(o[C],f.id,C)}),h.data.xs[f.id]=o})},r.prototype.updateTargetXs=function(n,o){var h=this;n.forEach(function(f){o[f.id]&&h.updateTargetX([f],o[f.id])})},r.prototype.generateTargetX=function(n,o,h){var f=this;return f.isTimeSeries()?f.parseDate(n||f.getXValue(o,h)):f.isCustomX()&&!f.isCategorized()?ke(n)?+n:f.getXValue(o,h):h},r.prototype.cloneTarget=function(n){return{id:n.id,id_org:n.id_org,values:n.values.map(function(o){return{x:o.x,value:o.value,id:o.id}})}},r.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(n){return n.values.length})},r.prototype.mapToIds=function(n){return n.map(function(o){return o.id})},r.prototype.mapToTargetIds=function(n){return n?[].concat(n):this.mapToIds(this.data.targets)},r.prototype.hasTarget=function(n,o){for(var h=this.mapToIds(n),f=0;f<h.length;f++)if(h[f]===o)return!0;return!1},r.prototype.isTargetToShow=function(n){return this.hiddenTargetIds.indexOf(n)<0},r.prototype.isLegendToShow=function(n){return this.hiddenLegendIds.indexOf(n)<0},r.prototype.getTargetsToShow=function(){return this.filterTargetsToShow(this.data.targets)},r.prototype.filterTargetsToShow=function(n){var o=this;return n.filter(function(h){return o.isTargetToShow(h.id)})},r.prototype.getTargets=function(){return this.data.targets},r.prototype.mapTargetsToUniqueXs=function(n){var o=this.d3.set(this.d3.merge(n.map(function(h){return h.values.map(function(f){return+f.x})}))).values();return(o=this.isTimeSeries()?o.map(function(h){return new Date(+h)}):o.map(function(h){return+h})).sort(function(h,f){return h<f?-1:f<h?1:f<=h?0:NaN})},r.prototype.addHiddenTargetIds=function(n){n=n instanceof Array?n:new Array(n);for(var o=0;o<n.length;o++)this.hiddenTargetIds.indexOf(n[o])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(n[o]));this.resetCache()},r.prototype.removeHiddenTargetIds=function(n){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(o){return n.indexOf(o)<0}),this.resetCache()},r.prototype.addHiddenLegendIds=function(n){n=n instanceof Array?n:new Array(n);for(var o=0;o<n.length;o++)this.hiddenLegendIds.indexOf(n[o])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(n[o]))},r.prototype.removeHiddenLegendIds=function(n){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(o){return n.indexOf(o)<0})},r.prototype.getValuesAsIdKeyed=function(n){var o={};return n.forEach(function(h){o[h.id]=[],h.values.forEach(function(f){o[h.id].push(f.value)})}),o},r.prototype.checkValueInTargets=function(n,o){for(var h,f,w=Object.keys(n),C=0;C<w.length;C++)for(f=n[w[C]].values,h=0;h<f.length;h++)if(o(f[h].value))return!0;return!1},r.prototype.hasNegativeValueInTargets=function(n){return this.checkValueInTargets(n,function(o){return o<0})},r.prototype.hasPositiveValueInTargets=function(n){return this.checkValueInTargets(n,function(o){return 0<o})},r.prototype.isOrderDesc=function(){var n=this.config;return"string"==typeof n.data_order&&"desc"===n.data_order.toLowerCase()},r.prototype.isOrderAsc=function(){var n=this.config;return"string"==typeof n.data_order&&"asc"===n.data_order.toLowerCase()},r.prototype.getOrderFunction=function(){var n=this.config,o=this.isOrderAsc(),h=this.isOrderDesc();if(o||h){var f=function(C,L){return C+Math.abs(L.value)};return function(C,L){var M=C.values.reduce(f,0),G=L.values.reduce(f,0);return o?G-M:M-G}}if(on(n.data_order))return n.data_order;if(Ye(n.data_order)){var w=n.data_order;return function(C,L){return w.indexOf(C.id)-w.indexOf(L.id)}}},r.prototype.orderTargets=function(n){var o=this.getOrderFunction();return o&&n.sort(o),n},r.prototype.filterByIndex=function(n,o){return this.d3.merge(n.map(function(h){return h.values.filter(function(f){return f.index===o})}))},r.prototype.filterByX=function(n,o){return this.d3.merge(n.map(function(h){return h.values})).filter(function(h){return h.x-o==0})},r.prototype.filterRemoveNull=function(n){return n.filter(function(o){return ke(o.value)})},r.prototype.filterByXDomain=function(n,o){return n.map(function(h){return{id:h.id,id_org:h.id_org,values:h.values.filter(function(f){return o[0]<=f.x&&f.x<=o[1]})}})},r.prototype.hasDataLabel=function(){var n=this.config;return!("boolean"!=typeof n.data_labels||!n.data_labels)||!("object"!=typeof n.data_labels||!le(n.data_labels))},r.prototype.getDataLabelLength=function(n,o,h){var f=this,w=[0,0];return f.selectChart.select("svg").selectAll(".dummy").data([n,o]).enter().append("text").text(function(C){return f.dataLabelFormat(C.id)(C)}).each(function(C,L){w[L]=1.3*ee(this)[h]}).remove(),w},r.prototype.isNoneArc=function(n){return this.hasTarget(this.data.targets,n.id)},r.prototype.isArc=function(n){return"data"in n&&this.hasTarget(this.data.targets,n.data.id)},r.prototype.findClosestFromTargets=function(n,o){var h=this,f=n.map(function(w){return h.findClosest(w.values,o,h.config.tooltip_horizontal?h.horizontalDistance.bind(h):h.dist.bind(h),h.config.point_sensitivity)}).filter(function(w){return w});return 0===f.length?void 0:1===f.length?f[0]:h.findClosest(f,o,h.dist.bind(h))},r.prototype.findClosestFromTargetsByX=function(n,o){var h,f;return n.forEach(function(w){w.values.forEach(function(C){var L=Math.abs(o-C.x);(void 0===f||L<f)&&(h=C,f=L)})}),h},r.prototype.findClosest=function(n,o,h,f){void 0===f&&(f=1/0);var w,C=this;return n.filter(function(L){return L&&C.isBarType(L.id)}).forEach(function(L){var M;w||(M=C.main.select("."+Q.bars+C.getTargetSelectorSuffix(L.id)+" ."+Q.bar+"-"+L.index).node(),C.isWithinBar(o,M)&&(w=L))}),n.filter(function(L){return L&&!C.isBarType(L.id)}).forEach(function(L){var M=h(L,o);M<f&&(f=M,w=L)}),w},r.prototype.dist=function(n,o){var h=this.config,f=h.axis_rotated?1:0,w=h.axis_rotated?0:1,C=this.circleY(n,n.index),L=this.x(n.x);return Math.sqrt(Math.pow(L-o[f],2)+Math.pow(C-o[w],2))},r.prototype.horizontalDistance=function(n,o){var h=this.config.axis_rotated?1:0,f=this.x(n.x);return Math.abs(f-o[h])},r.prototype.convertValuesToStep=function(n){var o,h=[].concat(n);if(!this.isCategorized())return n;for(o=n.length+1;0<o;o--)h[o]=h[o-1];return h[0]={x:h[0].x-1,value:h[0].value,id:h[0].id},h[n.length+1]={x:h[n.length].x+1,value:h[n.length].value,id:h[n.length].id},h},r.prototype.getRatio=function(n,o,h){void 0===h&&(h=!1);var f,w=this,C=w.api,L=0;return o&&C.data.shown.call(C).length&&(L=o.ratio||o.value,"arc"===n?L=w.hasType("gauge")?(o.endAngle-o.startAngle)/(Math.PI*(w.config.gauge_fullCircle?2:1)):(f=w.getTotalDataSum(),o.value/f):"index"===n&&(f=w.getTotalPerIndex(w.axis.getId(o.id)),o.ratio=Rn(o.value)&&f&&0<f[o.index]?o.value/f[o.index]:0,L=o.ratio)),h&&L?100*L:L},r.prototype.updateDataAttributes=function(n,o){var h=this.config["data_"+n];return void 0===o||(Object.keys(o).forEach(function(f){h[f]=o[f]}),this.redraw({withLegend:!0})),h},r.prototype.load=function(n,o){var h=this;n&&(o.filter&&(n=n.filter(o.filter)),(o.type||o.types)&&n.forEach(function(f){h.setTargetType(f.id,o.types&&o.types[f.id]?o.types[f.id]:o.type)}),h.data.targets.forEach(function(f){for(var w=0;w<n.length;w++)if(f.id===n[w].id){f.values=n[w].values,n.splice(w,1);break}}),h.data.targets=h.data.targets.concat(n)),h.updateTargets(h.data.targets),h.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),o.done&&o.done()},r.prototype.loadFromArgs=function(n){var o=this;o.resetCache(),n.data?o.load(o.convertDataToTargets(n.data),n):n.url?o.convertUrlToData(n.url,n.mimeType,n.headers,n.keys,function(h){o.load(o.convertDataToTargets(h),n)}):o.load(n.json?o.convertDataToTargets(o.convertJsonToData(n.json,n.keys)):n.rows?o.convertDataToTargets(o.convertRowsToData(n.rows)):n.columns?o.convertDataToTargets(o.convertColumnsToData(n.columns)):null,n)},r.prototype.unload=function(n,o){var h=this;h.resetCache(),o=o||function(){},(n=n.filter(function(f){return h.hasTarget(h.data.targets,f)}))&&0!==n.length?(h.svg.selectAll(n.map(function(f){return h.selectorTarget(f)})).transition().style("opacity",0).remove().call(h.endall,o),n.forEach(function(f){h.withoutFadeIn[f]=!1,h.legend&&h.legend.selectAll("."+Q.legendItem+h.getTargetSelectorSuffix(f)).remove(),h.data.targets=h.data.targets.filter(function(w){return w.id!==f})})):o()},r.prototype.getYDomainMin=function(n){var o,h,f,w,C,L,M=this,G=M.config,F=M.mapToIds(n),V=M.getValuesAsIdKeyed(n);if(0<G.data_groups.length)for(L=M.hasNegativeValueInTargets(n),o=0;o<G.data_groups.length;o++)if(0!==(w=G.data_groups[o].filter(function(tt){return 0<=F.indexOf(tt)})).length)for(f=w[0],L&&V[f]&&V[f].forEach(function(tt,dt){V[f][dt]=tt<0?tt:0}),h=1;h<w.length;h++)V[C=w[h]]&&V[C].forEach(function(tt,dt){M.axis.getId(C)!==M.axis.getId(f)||!V[f]||L&&0<+tt||(V[f][dt]+=+tt)});return M.d3.min(Object.keys(V).map(function(tt){return M.d3.min(V[tt])}))},r.prototype.getYDomainMax=function(n){var o,h,f,w,C,L,M=this,G=M.config,F=M.mapToIds(n),V=M.getValuesAsIdKeyed(n);if(0<G.data_groups.length)for(L=M.hasPositiveValueInTargets(n),o=0;o<G.data_groups.length;o++)if(0!==(w=G.data_groups[o].filter(function(tt){return 0<=F.indexOf(tt)})).length)for(f=w[0],L&&V[f]&&V[f].forEach(function(tt,dt){V[f][dt]=0<tt?tt:0}),h=1;h<w.length;h++)V[C=w[h]]&&V[C].forEach(function(tt,dt){M.axis.getId(C)!==M.axis.getId(f)||!V[f]||L&&+tt<0||(V[f][dt]+=+tt)});return M.d3.max(Object.keys(V).map(function(tt){return M.d3.max(V[tt])}))},r.prototype.getYDomain=function(n,o,h){var f=this,w=f.config;if(f.isAxisNormalized(o))return[0,100];var C,L,M,G,F,V,tt,dt,J,mt,Ct,Mt=n.filter(function(Bt){return f.axis.getId(Bt.id)===o}),at=h?f.filterByXDomain(Mt,h):Mt,re="y2"===o?w.axis_y2_min:w.axis_y_min,Dt="y2"===o?w.axis_y2_max:w.axis_y_max,$t=f.getYDomainMin(at),Yt=f.getYDomainMax(at),At="y2"===o?w.axis_y2_center:w.axis_y_center,Ut=f.hasType("bar",at)&&w.bar_zerobased||f.hasType("area",at)&&w.area_zerobased,he="y2"===o?w.axis_y2_inverted:w.axis_y_inverted,Zt=f.hasDataLabel()&&w.axis_rotated,Ft=f.hasDataLabel()&&!w.axis_rotated;return $t=ke(re)?re:!ke(Dt)||$t<Dt?$t:Dt-10,Yt=ke(Dt)?Dt:!ke(re)||re<Yt?Yt:re+10,0===at.length?"y2"===o?f.y2.domain():f.y.domain():(isNaN($t)&&($t=0),isNaN(Yt)&&(Yt=$t),$t===Yt&&($t<0?Yt=0:$t=0),J=0<=$t&&0<=Yt,mt=$t<=0&&Yt<=0,(ke(re)&&J||ke(Dt)&&mt)&&(Ut=!1),Ut&&(J&&($t=0),mt&&(Yt=0)),M=G=.1*(L=Math.abs(Yt-$t)),void 0!==At&&(Yt=At+(F=Math.max(Math.abs($t),Math.abs(Yt))),$t=At-F),Zt?(V=f.getDataLabelLength($t,Yt,"width"),tt=pe(f.y.range()),M+=L*((dt=[V[0]/tt,V[1]/tt])[1]/(1-dt[0]-dt[1])),G+=L*(dt[0]/(1-dt[0]-dt[1]))):Ft&&(V=f.getDataLabelLength($t,Yt,"height"),M+=(Ct=f.getY(w["axis_"+o+"_type"],[0,w.axis_rotated?f.width:f.height],[0,L]))(V[1]),G+=Ct(V[0])),"y"===o&&le(w.axis_y_padding)&&(M=f.axis.getPadding(w.axis_y_padding,"top",M,L),G=f.axis.getPadding(w.axis_y_padding,"bottom",G,L)),"y2"===o&&le(w.axis_y2_padding)&&(M=f.axis.getPadding(w.axis_y2_padding,"top",M,L),G=f.axis.getPadding(w.axis_y2_padding,"bottom",G,L)),Ut&&(J&&(G=$t),mt&&(M=-Yt)),C=[$t-G,Yt+M],he?C.reverse():C)},r.prototype.getXDomainMin=function(n){var o=this,h=o.config;return qe(h.axis_x_min)?o.isTimeSeries()?this.parseDate(h.axis_x_min):h.axis_x_min:o.d3.min(n,function(f){return o.d3.min(f.values,function(w){return w.x})})},r.prototype.getXDomainMax=function(n){var o=this,h=o.config;return qe(h.axis_x_max)?o.isTimeSeries()?this.parseDate(h.axis_x_max):h.axis_x_max:o.d3.max(n,function(f){return o.d3.max(f.values,function(w){return w.x})})},r.prototype.getXDomainPadding=function(n){var o,h,f,w=this.config,C=n[1]-n[0],L=this.isCategorized()?0:this.hasType("bar")?1<(o=this.getMaxDataCount())?C/(o-1)/2:.5:.01*C;return"object"==typeof w.axis_x_padding&&le(w.axis_x_padding)?(h=ke(w.axis_x_padding.left)?w.axis_x_padding.left:L,f=ke(w.axis_x_padding.right)?w.axis_x_padding.right:L):h=f="number"==typeof w.axis_x_padding?w.axis_x_padding:L,{left:h,right:f}},r.prototype.getXDomain=function(n){var o=this,h=[o.getXDomainMin(n),o.getXDomainMax(n)],f=h[0],w=h[1],C=o.getXDomainPadding(h),L=0,M=0;return f-w!=0||o.isCategorized()||(w=o.isTimeSeries()?(f=new Date(.5*f.getTime()),new Date(1.5*w.getTime())):(f=0===f?1:.5*f,0===w?-1:1.5*w)),!f&&0!==f||(L=o.isTimeSeries()?new Date(f.getTime()-C.left):f-C.left),!w&&0!==w||(M=o.isTimeSeries()?new Date(w.getTime()+C.right):w+C.right),[L,M]},r.prototype.updateXDomain=function(n,o,h,f,w){var C=this,L=C.config;return h&&(C.x.domain(w||C.d3.extent(C.getXDomain(n))),C.orgXDomain=C.x.domain(),L.zoom_enabled&&C.zoom.update(),C.subX.domain(C.x.domain()),C.brush&&C.brush.updateScale(C.subX)),o&&C.x.domain(w||(!C.brush||C.brush.empty()?C.orgXDomain:C.brush.selectionAsValue())),f&&C.x.domain(C.trimXDomain(C.x.orgDomain())),C.x.domain()},r.prototype.trimXDomain=function(n){var o=this.getZoomDomain(),h=o[0],f=o[1];return n[0]<=h&&(n[1]=h-n[0]+ +n[1],n[0]=h),f<=n[1]&&(n[0]=n[0]-(n[1]-f),n[1]=f),n},r.prototype.drag=function(n){var o,h,f,w,C,L,M,G,F=this,V=F.config,tt=F.main,dt=F.d3;F.hasArcType()||V.data_selection_enabled&&V.data_selection_multiple&&(o=F.dragStart[0],h=F.dragStart[1],f=n[0],w=n[1],C=Math.min(o,f),L=Math.max(o,f),M=V.data_selection_grouped?F.margin.top:Math.min(h,w),G=V.data_selection_grouped?F.height:Math.max(h,w),tt.select("."+Q.dragarea).attr("x",C).attr("y",M).attr("width",L-C).attr("height",G-M),tt.selectAll("."+Q.shapes).selectAll("."+Q.shape).each(function(J,mt){if(V.data_selection_isselectable(J)){var Ct,Mt,Dt,At,Ut=dt.select(this),he=Ut.classed(Q.SELECTED),Zt=Ut.classed(Q.INCLUDED),Ft=!1;if(Ut.classed(Q.circle))Ct=+Ut.attr("cx"),Mt=+Ut.attr("cy"),Dt=F.togglePoint,Ft=C<Ct&&Ct<L&&M<Mt&&Mt<G;else{if(!Ut.classed(Q.bar))return;Ct=(At=We(this)).x,Mt=At.y,Dt=F.togglePath,Ft=!(L<Ct||Ct+At.width<C||G<Mt||Mt+At.height<M)}Ft^Zt&&(Ut.classed(Q.INCLUDED,!Zt),Ut.classed(Q.SELECTED,!he),Dt.call(F,!he,Ut,J,mt))}}))},r.prototype.dragstart=function(n){var o=this,h=o.config;o.hasArcType()||h.data_selection_enabled&&(o.dragStart=n,o.main.select("."+Q.chart).append("rect").attr("class",Q.dragarea).style("opacity",.1),o.dragging=!0)},r.prototype.dragend=function(){var n=this,o=n.config;n.hasArcType()||o.data_selection_enabled&&(n.main.select("."+Q.dragarea).transition().duration(100).style("opacity",0).remove(),n.main.selectAll("."+Q.shape).classed(Q.INCLUDED,!1),n.dragging=!1)},r.prototype.getYFormat=function(n){var o=this,h=n&&!o.hasType("gauge")?o.defaultArcValueFormat:o.yFormat,f=n&&!o.hasType("gauge")?o.defaultArcValueFormat:o.y2Format;return function(w,C,L){return("y2"===o.axis.getId(L)?f:h).call(o,w,C)}},r.prototype.yFormat=function(n){var o=this.config;return(o.axis_y_tick_format?o.axis_y_tick_format:this.defaultValueFormat)(n)},r.prototype.y2Format=function(n){var o=this.config;return(o.axis_y2_tick_format?o.axis_y2_tick_format:this.defaultValueFormat)(n)},r.prototype.defaultValueFormat=function(n){return ke(n)?+n:""},r.prototype.defaultArcValueFormat=function(n,o){return(100*o).toFixed(1)+"%"},r.prototype.dataLabelFormat=function(n){function o(w){return ke(w)?+w:""}var h=this.config.data_labels;return"function"==typeof h.format?h.format:"object"==typeof h.format?h.format[n]?!0===h.format[n]?o:h.format[n]:function(){return""}:o},r.prototype.initGrid=function(){var n=this,o=n.config,h=n.d3;n.grid=n.main.append("g").attr("clip-path",n.clipPathForGrid).attr("class",Q.grid),o.grid_x_show&&n.grid.append("g").attr("class",Q.xgrids),o.grid_y_show&&n.grid.append("g").attr("class",Q.ygrids),o.grid_focus_show&&n.grid.append("g").attr("class",Q.xgridFocus).append("line").attr("class",Q.xgridFocus),n.xgrid=h.selectAll([]),o.grid_lines_front||n.initGridLines()},r.prototype.initGridLines=function(){var n=this,o=n.d3;n.gridLines=n.main.append("g").attr("clip-path",n.clipPathForGrid).attr("class",Q.grid+" "+Q.gridLines),n.gridLines.append("g").attr("class",Q.xgridLines),n.gridLines.append("g").attr("class",Q.ygridLines),n.xgridLines=o.selectAll([])},r.prototype.updateXGrid=function(n){var o=this,h=o.config,f=o.d3,w=o.generateGridData(h.grid_x_type,o.x),C=o.isCategorized()?o.xAxis.tickOffset():0;o.xgridAttr=h.axis_rotated?{x1:0,x2:o.width,y1:function(G){return o.x(G)-C},y2:function(G){return o.x(G)-C}}:{x1:function(G){return o.x(G)+C},x2:function(G){return o.x(G)+C},y1:0,y2:o.height},o.xgridAttr.opacity=function(){return+f.select(this).attr(h.axis_rotated?"y1":"x1")===(h.axis_rotated?o.height:0)?0:1};var L=o.main.select("."+Q.xgrids).selectAll("."+Q.xgrid).data(w),M=L.enter().append("line").attr("class",Q.xgrid).attr("x1",o.xgridAttr.x1).attr("x2",o.xgridAttr.x2).attr("y1",o.xgridAttr.y1).attr("y2",o.xgridAttr.y2).style("opacity",0);o.xgrid=M.merge(L),n||o.xgrid.attr("x1",o.xgridAttr.x1).attr("x2",o.xgridAttr.x2).attr("y1",o.xgridAttr.y1).attr("y2",o.xgridAttr.y2).style("opacity",o.xgridAttr.opacity),L.exit().remove()},r.prototype.updateYGrid=function(){var n=this,o=n.config,h=n.yAxis.tickValues()||n.y.ticks(o.grid_y_ticks),f=n.main.select("."+Q.ygrids).selectAll("."+Q.ygrid).data(h),w=f.enter().append("line").attr("class",Q.ygrid);n.ygrid=w.merge(f),n.ygrid.attr("x1",o.axis_rotated?n.y:0).attr("x2",o.axis_rotated?n.y:n.width).attr("y1",o.axis_rotated?0:n.y).attr("y2",o.axis_rotated?n.height:n.y),f.exit().remove(),n.smoothLines(n.ygrid,"grid")},r.prototype.gridTextAnchor=function(n){return n.position?n.position:"end"},r.prototype.gridTextDx=function(n){return"start"===n.position?4:"middle"===n.position?0:-4},r.prototype.xGridTextX=function(n){return"start"===n.position?-this.height:"middle"===n.position?-this.height/2:0},r.prototype.yGridTextX=function(n){return"start"===n.position?0:"middle"===n.position?this.width/2:this.width},r.prototype.updateGrid=function(n){var o,h,f,w,C=this,L=C.main,M=C.config,G=C.xv.bind(C),F=C.yv.bind(C),V=C.xGridTextX.bind(C),tt=C.yGridTextX.bind(C);C.grid.style("visibility",C.hasArcType()?"hidden":"visible"),L.select("line."+Q.xgridFocus).style("visibility","hidden"),M.grid_x_show&&C.updateXGrid(),(h=(o=L.select("."+Q.xgridLines).selectAll("."+Q.xgridLine).data(M.grid_x_lines)).enter().append("g").attr("class",function(dt){return Q.xgridLine+(dt.class?" "+dt.class:"")})).append("line").attr("x1",M.axis_rotated?0:G).attr("x2",M.axis_rotated?C.width:G).attr("y1",M.axis_rotated?G:0).attr("y2",M.axis_rotated?G:C.height).style("opacity",0),h.append("text").attr("text-anchor",C.gridTextAnchor).attr("transform",M.axis_rotated?"":"rotate(-90)").attr("x",M.axis_rotated?tt:V).attr("y",G).attr("dx",C.gridTextDx).attr("dy",-5).style("opacity",0),C.xgridLines=h.merge(o),o.exit().transition().duration(n).style("opacity",0).remove(),M.grid_y_show&&C.updateYGrid(),(w=(f=L.select("."+Q.ygridLines).selectAll("."+Q.ygridLine).data(M.grid_y_lines)).enter().append("g").attr("class",function(dt){return Q.ygridLine+(dt.class?" "+dt.class:"")})).append("line").attr("x1",M.axis_rotated?F:0).attr("x2",M.axis_rotated?F:C.width).attr("y1",M.axis_rotated?0:F).attr("y2",M.axis_rotated?C.height:F).style("opacity",0),w.append("text").attr("text-anchor",C.gridTextAnchor).attr("transform",M.axis_rotated?"rotate(-90)":"").attr("x",M.axis_rotated?V:tt).attr("y",F).attr("dx",C.gridTextDx).attr("dy",-5).style("opacity",0),C.ygridLines=w.merge(f),C.ygridLines.select("line").transition().duration(n).attr("x1",M.axis_rotated?F:0).attr("x2",M.axis_rotated?F:C.width).attr("y1",M.axis_rotated?0:F).attr("y2",M.axis_rotated?C.height:F).style("opacity",1),C.ygridLines.select("text").transition().duration(n).attr("x",M.axis_rotated?C.xGridTextX.bind(C):C.yGridTextX.bind(C)).attr("y",F).text(function(dt){return dt.text}).style("opacity",1),f.exit().transition().duration(n).style("opacity",0).remove()},r.prototype.redrawGrid=function(n,o){var h=this,f=h.config,w=h.xv.bind(h),C=h.xgridLines.select("line"),L=h.xgridLines.select("text");return[(n?C.transition(o):C).attr("x1",f.axis_rotated?0:w).attr("x2",f.axis_rotated?h.width:w).attr("y1",f.axis_rotated?w:0).attr("y2",f.axis_rotated?w:h.height).style("opacity",1),(n?L.transition(o):L).attr("x",f.axis_rotated?h.yGridTextX.bind(h):h.xGridTextX.bind(h)).attr("y",w).text(function(M){return M.text}).style("opacity",1)]},r.prototype.showXGridFocus=function(n){var o=this,h=o.config,f=n.filter(function(L){return L&&ke(L.value)}),w=o.main.selectAll("line."+Q.xgridFocus),C=o.xx.bind(o);h.tooltip_show&&(o.hasType("stanford")||o.hasArcType()||(w.style("visibility","visible").data([f[0]]).attr(h.axis_rotated?"y1":"x1",C).attr(h.axis_rotated?"y2":"x2",C),o.smoothLines(w,"grid")))},r.prototype.hideXGridFocus=function(){this.main.select("line."+Q.xgridFocus).style("visibility","hidden")},r.prototype.updateXgridFocus=function(){var n=this.config;this.main.select("line."+Q.xgridFocus).attr("x1",n.axis_rotated?0:-10).attr("x2",n.axis_rotated?this.width:-10).attr("y1",n.axis_rotated?-10:0).attr("y2",n.axis_rotated?-10:this.height)},r.prototype.generateGridData=function(n,o){var h,f,w,C,L=[],M=this.main.select("."+Q.axisX).selectAll(".tick").size();if("year"===n)for(f=(h=this.getXDomain())[0].getFullYear(),w=h[1].getFullYear(),C=f;C<=w;C++)L.push(new Date(C+"-01-01 00:00:00"));else(L=o.ticks(10)).length>M&&(L=L.filter(function(G){return(""+G).indexOf(".")<0}));return L},r.prototype.getGridFilterToRemove=function(n){return n?function(o){var h=!1;return[].concat(n).forEach(function(f){("value"in f&&o.value===f.value||"class"in f&&o.class===f.class)&&(h=!0)}),h}:function(){return!0}},r.prototype.removeGridLines=function(n,o){function h(M){return!w(M)}var f=this.config,w=this.getGridFilterToRemove(n),L=o?Q.xgridLine:Q.ygridLine;this.main.select("."+(o?Q.xgridLines:Q.ygridLines)).selectAll("."+L).filter(w).transition().duration(f.transition_duration).style("opacity",0).remove(),o?f.grid_x_lines=f.grid_x_lines.filter(h):f.grid_y_lines=f.grid_y_lines.filter(h)},r.prototype.initEventRect=function(){var n=this,o=n.config;n.main.select("."+Q.chart).append("g").attr("class",Q.eventRects).style("fill-opacity",0),n.eventRect=n.main.select("."+Q.eventRects).append("rect").attr("class",Q.eventRect),o.zoom_enabled&&n.zoom&&(n.eventRect.call(n.zoom).on("dblclick.zoom",null),o.zoom_initialRange&&n.eventRect.transition().duration(0).call(n.zoom.transform,n.zoomTransform(o.zoom_initialRange)))},r.prototype.redrawEventRect=function(){var n=this,o=n.d3,h=n.config;function f(){n.svg.select("."+Q.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}function w(L,M){return M&&(n.isBarType(M.id)||n.dist(M,L)<h.point_sensitivity)}function C(L){return L?n.addName(Object.assign({},L)):null}n.main.select("."+Q.eventRects).style("cursor",h.zoom_enabled?h.axis_rotated?"ns-resize":"ew-resize":null),n.eventRect.attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).on("mouseout",h.interaction_enabled?function(){h&&(n.hasArcType()||(n.mouseover&&(h.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),f()))}:null).on("mousemove",h.interaction_enabled?function(){if(!n.dragging){var L=n.getTargetsToShow();if(!n.hasArcType(L)){var M,F,V=o.mouse(this),tt=C(n.findClosestFromTargets(L,V)),dt=w(V,tt);if(!n.mouseover||tt&&tt.id===n.mouseover.id&&tt.index===n.mouseover.index||(h.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),tt&&!n.mouseover&&(h.data_onmouseover.call(n.api,tt),n.mouseover=tt),n.svg.select("."+Q.eventRect).style("cursor",dt?"pointer":null),!h.tooltip_grouped||n.hasType("stanford",L)?tt&&(M=[tt]):(F=tt||n.findClosestFromTargetsByX(L,n.x.invert(h.axis_rotated?V[1]:V[0])))&&(M=n.filterByX(L,F.x)),!M||0===M.length)return f();M=M.map(C),n.showTooltip(M,this),h.point_focus_expand_enabled&&(n.unexpandCircles(),M.forEach(function(J){n.expandCircles(J.index,J.id,!1)})),n.unexpandBars(),M.forEach(function(J){n.expandBars(J.index,J.id,!1)}),n.showXGridFocus(M)}}}:null).on("click",h.interaction_enabled?function(){var L,M,G,F=n.getTargetsToShow();n.hasArcType(F)||w(L=o.mouse(this),M=C(n.findClosestFromTargets(F,L)))&&((!h.data_selection_grouped||n.isStanfordType(M)?[M]:n.filterByX(F,M.x)).forEach(function(V){n.main.selectAll("."+Q.shapes+n.getTargetSelectorSuffix(V.id)).selectAll("."+Q.shape+"-"+V.index).each(function(){(h.data_selection_grouped||n.isWithinShape(this,V))&&n.toggleShape(this,V,V.index)})}),M&&(G=n.main.selectAll("."+Q.shapes+n.getTargetSelectorSuffix(M.id)).select("."+Q.shape+"-"+M.index),h.data_onclick.call(n.api,M,G.node())))}:null).call(h.interaction_enabled&&h.data_selection_draggable&&n.drag?o.drag().on("drag",function(){n.drag(o.mouse(this))}).on("start",function(){n.dragstart(o.mouse(this))}).on("end",function(){n.dragend()}):function(){})},r.prototype.getMousePosition=function(n){return[this.x(n.x),this.getYScale(n.id)(n.value)]},r.prototype.dispatchEvent=function(n,o){var f=this.main.select("."+Q.eventRect).node(),w=f.getBoundingClientRect(),C=w.left+(o?o[0]:0),L=w.top+(o?o[1]:0),M=document.createEvent("MouseEvents");M.initMouseEvent(n,!0,!0,window,0,C,L,C,L,!1,!1,!1,!1,0,null),f.dispatchEvent(M)},r.prototype.initLegend=function(){var n=this;if(n.legendItemTextBox={},n.legendHasRendered=!1,n.legend=n.svg.append("g").attr("transform",n.getTranslate("legend")),!n.config.legend_show)return n.legend.style("visibility","hidden"),void(n.hiddenLegendIds=n.mapToIds(n.data.targets));n.updateLegendWithDefaults()},r.prototype.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},r.prototype.updateSizeForLegend=function(n,o){var h=this,f=h.config,w={top:h.isLegendTop?h.getCurrentPaddingTop()+f.legend_inset_y+5.5:h.currentHeight-n-h.getCurrentPaddingBottom()-f.legend_inset_y,left:h.isLegendLeft?h.getCurrentPaddingLeft()+f.legend_inset_x+.5:h.currentWidth-o-h.getCurrentPaddingRight()-f.legend_inset_x+.5};h.margin3={top:h.isLegendRight?0:h.isLegendInset?w.top:h.currentHeight-n,right:NaN,bottom:0,left:h.isLegendRight?h.currentWidth-o:h.isLegendInset?w.left:0}},r.prototype.transformLegend=function(n){(n?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},r.prototype.updateLegendStep=function(n){this.legendStep=n},r.prototype.updateLegendItemWidth=function(n){this.legendItemWidth=n},r.prototype.updateLegendItemHeight=function(n){this.legendItemHeight=n},r.prototype.getLegendWidth=function(){var n=this;return n.config.legend_show?n.isLegendRight||n.isLegendInset?n.legendItemWidth*(n.legendStep+1):n.currentWidth:0},r.prototype.getLegendHeight=function(){var n=this,o=0;return n.config.legend_show&&(o=n.isLegendRight?n.currentHeight:Math.max(20,n.legendItemHeight)*(n.legendStep+1)),o},r.prototype.opacityForLegend=function(n){return n.classed(Q.legendItemHidden)?null:1},r.prototype.opacityForUnfocusedLegend=function(n){return n.classed(Q.legendItemHidden)?null:.3},r.prototype.toggleFocusLegend=function(n,o){var h=this;n=h.mapToTargetIds(n),h.legend.selectAll("."+Q.legendItem).filter(function(f){return 0<=n.indexOf(f)}).classed(Q.legendItemFocused,o).transition().duration(100).style("opacity",function(){return(o?h.opacityForLegend:h.opacityForUnfocusedLegend).call(h,h.d3.select(this))})},r.prototype.revertLegend=function(){var n=this,o=n.d3;n.legend.selectAll("."+Q.legendItem).classed(Q.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return n.opacityForLegend(o.select(this))})},r.prototype.showLegend=function(n){var o=this,h=o.config;h.legend_show||(h.legend_show=!0,o.legend.style("visibility","visible"),o.legendHasRendered||o.updateLegendWithDefaults()),o.removeHiddenLegendIds(n),o.legend.selectAll(o.selectorLegends(n)).style("visibility","visible").transition().style("opacity",function(){return o.opacityForLegend(o.d3.select(this))})},r.prototype.hideLegend=function(n){var o=this,h=o.config;h.legend_show&&Oe(n)&&(h.legend_show=!1,o.legend.style("visibility","hidden")),o.addHiddenLegendIds(n),o.legend.selectAll(o.selectorLegends(n)).style("opacity",0).style("visibility","hidden")},r.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},r.prototype.updateLegend=function(n,o,h){var f,w,C,L,M,G,F,V,tt,dt,J,mt,Ct,Mt,at,re,Dt=this,At=Dt.config,Zt=0,Ft=0,Yt=At.legend_item_tile_width+5,Bt=0,Le={},be={},gn={},nn=[0],Pe={},Me=0;function De(Xt,e,s){var l,g,y,A,N=0===s,j=s===n.length-1,X=(y=Xt,Dt.legendItemTextBox[A=e]||(Dt.legendItemTextBox[A]=Dt.getTextRect(y.textContent,Q.legendItem,y)),Dt.legendItemTextBox[A]),ht=X.width+Yt+(!j||Dt.isLegendRight||Dt.isLegendInset?10:0)+At.legend_padding,ut=X.height+4,ot=Dt.isLegendRight||Dt.isLegendInset?ut:ht,yt=Dt.isLegendRight||Dt.isLegendInset?Dt.getLegendHeight():Dt.getLegendWidth();function It(qt,jt){jt||(l=(yt-Bt-ot)/2)<10&&(l=(yt-ot)/2,Bt=0,Me++),Pe[qt]=Me,nn[Me]=Dt.isLegendInset?10:l,Le[qt]=Bt,Bt+=ot}N&&(Ft=Zt=Me=Bt=0),!At.legend_show||Dt.isLegendToShow(e)?(be[e]=ht,gn[e]=ut,(!Zt||Zt<=ht)&&(Zt=ht),(!Ft||Ft<=ut)&&(Ft=ut),g=Dt.isLegendRight||Dt.isLegendInset?Ft:Zt,At.legend_equally?(Object.keys(be).forEach(function(qt){be[qt]=Zt}),Object.keys(gn).forEach(function(qt){gn[qt]=Ft}),(l=(yt-g*n.length)/2)<10?(Me=Bt=0,n.forEach(function(qt){It(qt)})):It(e,!0)):It(e)):be[e]=gn[e]=Pe[e]=Le[e]=0}n=n.filter(function(Xt){return!qe(At.data_names[Xt])||null!==At.data_names[Xt]}),J=Tt(o=o||{},"withTransition",!0),mt=Tt(o,"withTransitionForTransform",!0),Dt.isLegendInset&&Dt.updateLegendStep(Me=At.legend_inset_step?At.legend_inset_step:n.length),L=Dt.isLegendRight?(f=function(Xt){return Zt*Pe[Xt]},function(Xt){return nn[Pe[Xt]]+Le[Xt]}):Dt.isLegendInset?(f=function(Xt){return Zt*Pe[Xt]+10},function(Xt){return nn[Pe[Xt]]+Le[Xt]}):(f=function(Xt){return nn[Pe[Xt]]+Le[Xt]},function(Xt){return Ft*Pe[Xt]}),w=function(Xt,e){return f(Xt,e)+4+At.legend_item_tile_width},M=function(Xt,e){return L(Xt,e)+9},C=function(Xt,e){return f(Xt,e)},G=function(Xt,e){return L(Xt,e)-5},F=function(Xt,e){return f(Xt,e)-2},V=function(Xt,e){return f(Xt,e)-2+At.legend_item_tile_width},tt=function(Xt,e){return L(Xt,e)+4},(dt=Dt.legend.selectAll("."+Q.legendItem).data(n).enter().append("g").attr("class",function(Xt){return Dt.generateClass(Q.legendItem,Xt)}).style("visibility",function(Xt){return Dt.isLegendToShow(Xt)?"visible":"hidden"}).style("cursor",function(){return At.interaction_enabled?"pointer":"auto"}).on("click",At.interaction_enabled?function(Xt){At.legend_item_onclick?At.legend_item_onclick.call(Dt,Xt):Dt.d3.event.altKey?(Dt.api.hide(),Dt.api.show(Xt)):(Dt.api.toggle(Xt),Dt.isTargetToShow(Xt)?Dt.api.focus(Xt):Dt.api.revert())}:null).on("mouseover",At.interaction_enabled?function(Xt){At.legend_item_onmouseover?At.legend_item_onmouseover.call(Dt,Xt):(Dt.d3.select(this).classed(Q.legendItemFocused,!0),!Dt.transiting&&Dt.isTargetToShow(Xt)&&Dt.api.focus(Xt))}:null).on("mouseout",At.interaction_enabled?function(Xt){At.legend_item_onmouseout?At.legend_item_onmouseout.call(Dt,Xt):(Dt.d3.select(this).classed(Q.legendItemFocused,!1),Dt.api.revert())}:null)).append("text").text(function(Xt){return qe(At.data_names[Xt])?At.data_names[Xt]:Xt}).each(function(Xt,e){De(this,Xt,e)}).style("pointer-events","none").attr("x",Dt.isLegendRight||Dt.isLegendInset?w:-200).attr("y",Dt.isLegendRight||Dt.isLegendInset?-200:M),dt.append("rect").attr("class",Q.legendItemEvent).style("fill-opacity",0).attr("x",Dt.isLegendRight||Dt.isLegendInset?C:-200).attr("y",Dt.isLegendRight||Dt.isLegendInset?-200:G),dt.append("line").attr("class",Q.legendItemTile).style("stroke",Dt.color).style("pointer-events","none").attr("x1",Dt.isLegendRight||Dt.isLegendInset?F:-200).attr("y1",Dt.isLegendRight||Dt.isLegendInset?-200:tt).attr("x2",Dt.isLegendRight||Dt.isLegendInset?V:-200).attr("y2",Dt.isLegendRight||Dt.isLegendInset?-200:tt).attr("stroke-width",At.legend_item_tile_height),re=Dt.legend.select("."+Q.legendBackground+" rect"),Dt.isLegendInset&&0<Zt&&0===re.size()&&(re=Dt.legend.insert("g","."+Q.legendItem).attr("class",Q.legendBackground).append("rect")),Ct=Dt.legend.selectAll("text").data(n).text(function(Xt){return qe(At.data_names[Xt])?At.data_names[Xt]:Xt}).each(function(Xt,e){De(this,Xt,e)}),(J?Ct.transition():Ct).attr("x",w).attr("y",M),Mt=Dt.legend.selectAll("rect."+Q.legendItemEvent).data(n),(J?Mt.transition():Mt).attr("width",function(Xt){return be[Xt]}).attr("height",function(Xt){return gn[Xt]}).attr("x",C).attr("y",G),at=Dt.legend.selectAll("line."+Q.legendItemTile).data(n),(J?at.transition():at).style("stroke",Dt.levelColor?function(Xt){return Dt.levelColor(Dt.cache[Xt].values.reduce(function(e,s){return e+s.value},0))}:Dt.color).attr("x1",F).attr("y1",tt).attr("x2",V).attr("y2",tt),re&&(J?re.transition():re).attr("height",Dt.getLegendHeight()-12).attr("width",Zt*(Me+1)+10),Dt.legend.selectAll("."+Q.legendItem).classed(Q.legendItemHidden,function(Xt){return!Dt.isTargetToShow(Xt)}),Dt.updateLegendItemWidth(Zt),Dt.updateLegendItemHeight(Ft),Dt.updateLegendStep(Me),Dt.updateSizes(),Dt.updateScales(),Dt.updateSvgSize(),Dt.transformAll(mt,h),Dt.legendHasRendered=!0},r.prototype.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",Q.regions)},r.prototype.updateRegion=function(n){var o=this,h=o.config;o.region.style("visibility",o.hasArcType()?"hidden":"visible");var f=o.main.select("."+Q.regions).selectAll("."+Q.region).data(h.regions),w=f.enter().append("g");w.append("rect").attr("x",o.regionX.bind(o)).attr("y",o.regionY.bind(o)).attr("width",o.regionWidth.bind(o)).attr("height",o.regionHeight.bind(o)).style("fill-opacity",function(C){return ke(C.opacity)?C.opacity:.1}),w.append("text").text(o.labelRegion.bind(o)),o.mainRegion=w.merge(f).attr("class",o.classRegion.bind(o)),f.exit().transition().duration(n).style("opacity",0).remove()},r.prototype.redrawRegion=function(n,o){var h=this,f=h.mainRegion,w=h.mainRegion.selectAll("text");return[(n?f.transition(o):f).attr("x",h.regionX.bind(h)).attr("y",h.regionY.bind(h)).attr("width",h.regionWidth.bind(h)).attr("height",h.regionHeight.bind(h)).style("fill-opacity",function(C){return ke(C.opacity)?C.opacity:.1}),(n?w.transition(o):w).attr("x",h.labelOffsetX.bind(h)).attr("y",h.labelOffsetY.bind(h)).attr("transform",h.labelTransform.bind(h)).attr("style","text-anchor: left;")]},r.prototype.regionX=function(n){var o=this,h=o.config;return"y"===n.axis||"y2"===n.axis?h.axis_rotated&&"start"in n?("y"===n.axis?o.y:o.y2)(n.start):0:!h.axis_rotated&&"start"in n?o.x(o.isTimeSeries()?o.parseDate(n.start):n.start):0},r.prototype.regionY=function(n){var o=this,h=o.config;return"y"===n.axis||"y2"===n.axis?!h.axis_rotated&&"end"in n?("y"===n.axis?o.y:o.y2)(n.end):0:h.axis_rotated&&"start"in n?o.x(o.isTimeSeries()?o.parseDate(n.start):n.start):0},r.prototype.regionWidth=function(n){var o=this,h=o.config,f=o.regionX(n),C="y"===n.axis||"y2"===n.axis?h.axis_rotated&&"end"in n?("y"===n.axis?o.y:o.y2)(n.end):o.width:!h.axis_rotated&&"end"in n?o.x(o.isTimeSeries()?o.parseDate(n.end):n.end):o.width;return C<f?0:C-f},r.prototype.regionHeight=function(n){var o=this,h=o.config,f=this.regionY(n),C="y"===n.axis||"y2"===n.axis?!h.axis_rotated&&"start"in n?("y"===n.axis?o.y:o.y2)(n.start):o.height:h.axis_rotated&&"end"in n?o.x(o.isTimeSeries()?o.parseDate(n.end):n.end):o.height;return C<f?0:C-f},r.prototype.isRegionOnX=function(n){return!n.axis||"x"===n.axis},r.prototype.labelRegion=function(n){return"label"in n?n.label:""},r.prototype.labelTransform=function(n){return"vertical"in n&&n.vertical?"rotate(90)":""},r.prototype.labelOffsetX=function(n){var o="paddingX"in n?n.paddingX:3,h="paddingY"in n?n.paddingY:3;return"vertical"in n&&n.vertical?this.regionY(n)+h:this.regionX(n)+o},r.prototype.labelOffsetY=function(n){var o="paddingX"in n?n.paddingX:3,h="paddingY"in n?n.paddingY:3;return"vertical"in n&&n.vertical?-(this.regionX(n)+o):this.regionY(n)+10+h},r.prototype.getScale=function(n,o,h){return(h?this.d3.scaleTime():this.d3.scaleLinear()).range([n,o])},r.prototype.getX=function(n,o,h,f){var w,L=this.getScale(n,o,this.isTimeSeries()),C=h?L.domain(h):L;for(w in L=this.isCategorized()?(f=f||function(){return 0},function(M,G){var F=C(M)+f(M);return G?F:Math.ceil(F)}):function(M,G){var F=C(M);return G?F:Math.ceil(F)},C)L[w]=C[w];return L.orgDomain=function(){return C.domain()},this.isCategorized()&&(L.domain=function(M){return arguments.length?(C.domain(M),L):[(M=this.orgDomain())[0],M[1]+1]}),L},r.prototype.getY=function(n,o,h){var f;if("timeseries"===n||"time"===n)f=this.d3.scaleTime();else if("log"===n)f=Ue(this.d3);else{if("linear"!==n&&void 0!==n)throw new Error('Invalid Y axis type: "'+n+'"');f=this.d3.scaleLinear()}return o&&f.domain(o),h&&f.range(h),f},r.prototype.getYScale=function(n){return"y2"===this.axis.getId(n)?this.y2:this.y},r.prototype.getSubYScale=function(n){return"y2"===this.axis.getId(n)?this.subY2:this.subY},r.prototype.updateScales=function(){var n=this,o=n.config,h=!n.x;n.xMin=o.axis_rotated?1:0,n.xMax=o.axis_rotated?n.height:n.width,n.yMin=o.axis_rotated?0:n.height,n.yMax=o.axis_rotated?n.width:1,n.subXMin=n.xMin,n.subXMax=n.xMax,n.subYMin=o.axis_rotated?0:n.height2,n.subYMax=o.axis_rotated?n.width2:1,n.x=n.getX(n.xMin,n.xMax,h?void 0:n.x.orgDomain(),function(){return n.xAxis.tickOffset()}),n.y=n.getY(o.axis_y_type,h?o.axis_y_default:n.y.domain(),[n.yMin,n.yMax]),n.y2=n.getY(o.axis_y2_type,h?o.axis_y2_default:n.y2.domain(),[n.yMin,n.yMax]),n.subX=n.getX(n.xMin,n.xMax,n.orgXDomain,function(f){return f%1?0:n.subXAxis.tickOffset()}),n.subY=n.getY(o.axis_y_type,h?o.axis_y_default:n.subY.domain(),[n.subYMin,n.subYMax]),n.subY2=n.getY(o.axis_y2_type,h?o.axis_y2_default:n.subY2.domain(),[n.subYMin,n.subYMax]),n.xAxisTickFormat=n.axis.getXAxisTickFormat(),n.xAxisTickValues=n.axis.getXAxisTickValues(),n.yAxisTickValues=n.axis.getYAxisTickValues(),n.y2AxisTickValues=n.axis.getY2AxisTickValues(),n.xAxis=n.axis.getXAxis(n.x,n.xOrient,n.xAxisTickFormat,n.xAxisTickValues,o.axis_x_tick_outer),n.subXAxis=n.axis.getXAxis(n.subX,n.subXOrient,n.xAxisTickFormat,n.xAxisTickValues,o.axis_x_tick_outer),n.yAxis=n.axis.getYAxis("y",n.y,n.yOrient,n.yAxisTickValues,o.axis_y_tick_outer),n.y2Axis=n.axis.getYAxis("y2",n.y2,n.y2Orient,n.y2AxisTickValues,o.axis_y2_tick_outer),h||n.brush&&n.brush.updateScale(n.subX),n.updateArc&&n.updateArc()},r.prototype.selectPoint=function(n,o,h){var f=this,w=f.config,C=(w.axis_rotated?f.circleY:f.circleX).bind(f),L=(w.axis_rotated?f.circleX:f.circleY).bind(f),M=f.pointSelectR.bind(f);w.data_onselected.call(f.api,o,n.node()),f.main.select("."+Q.selectedCircles+f.getTargetSelectorSuffix(o.id)).selectAll("."+Q.selectedCircle+"-"+h).data([o]).enter().append("circle").attr("class",function(){return f.generateClass(Q.selectedCircle,h)}).attr("cx",C).attr("cy",L).attr("stroke",function(){return f.color(o)}).attr("r",function(G){return 1.4*f.pointSelectR(G)}).transition().duration(100).attr("r",M)},r.prototype.unselectPoint=function(n,o,h){this.config.data_onunselected.call(this.api,o,n.node()),this.main.select("."+Q.selectedCircles+this.getTargetSelectorSuffix(o.id)).selectAll("."+Q.selectedCircle+"-"+h).transition().duration(100).attr("r",0).remove()},r.prototype.togglePoint=function(n,o,h,f){n?this.selectPoint(o,h,f):this.unselectPoint(o,h,f)},r.prototype.selectPath=function(n,o){var h=this;h.config.data_onselected.call(h,o,n.node()),h.config.interaction_brighten&&n.transition().duration(100).style("fill",function(){return h.d3.rgb(h.color(o)).brighter(.75)})},r.prototype.unselectPath=function(n,o){var h=this;h.config.data_onunselected.call(h,o,n.node()),h.config.interaction_brighten&&n.transition().duration(100).style("fill",function(){return h.color(o)})},r.prototype.togglePath=function(n,o,h,f){n?this.selectPath(o,h,f):this.unselectPath(o,h,f)},r.prototype.getToggle=function(n,o){var h;return"circle"===n.nodeName?h=this.isStepType(o)?function(){}:this.togglePoint:"path"===n.nodeName&&(h=this.togglePath),h},r.prototype.toggleShape=function(n,o,h){var f=this,w=f.d3,C=f.config,L=w.select(n),M=L.classed(Q.SELECTED),G=f.getToggle(n,o).bind(f);C.data_selection_enabled&&C.data_selection_isselectable(o)&&(C.data_selection_multiple||f.main.selectAll("."+Q.shapes+(C.data_selection_grouped?f.getTargetSelectorSuffix(o.id):"")).selectAll("."+Q.shape).each(function(F,V){var tt=w.select(this);tt.classed(Q.SELECTED)&&G(!1,tt.classed(Q.SELECTED,!1),F,V)}),L.classed(Q.SELECTED,!M),G(!M,L,o,h))},r.prototype.initBar=function(){this.main.select("."+Q.chart).append("g").attr("class",Q.chartBars)},r.prototype.updateTargetsForBar=function(n){var o=this,h=o.config,f=o.classChartBar.bind(o),w=o.classBars.bind(o),C=o.classFocus.bind(o);o.main.select("."+Q.chartBars).selectAll("."+Q.chartBar).data(n).attr("class",function(L){return f(L)+C(L)}).enter().append("g").attr("class",f).style("pointer-events","none").append("g").attr("class",w).style("cursor",function(L){return h.data_selection_isselectable(L)?"pointer":null})},r.prototype.updateBar=function(n){function o(G){return h.color(G.id)}var h=this,f=h.barData.bind(h),w=h.classBar.bind(h),C=h.initialOpacity.bind(h),L=h.main.selectAll("."+Q.bars).selectAll("."+Q.bar).data(f),M=L.enter().append("path").attr("class",w).style("stroke",o).style("fill",o);h.mainBar=M.merge(L).style("opacity",C),L.exit().transition().duration(n).style("opacity",0)},r.prototype.redrawBar=function(n,o,h){var f=this;return[(o?this.mainBar.transition(h):this.mainBar).attr("d",n).style("stroke",this.color).style("fill",this.color).style("opacity",function(w){return f.isTargetToShow(w.id)?1:0})]},r.prototype.getBarW=function(n,o){var h=this.config,f="number"==typeof h.bar_width?h.bar_width:o?n.tickInterval()*h.bar_width_ratio/o:0;return h.bar_width_max&&f>h.bar_width_max?h.bar_width_max:f},r.prototype.getBars=function(n,o){return(o?this.main.selectAll("."+Q.bars+this.getTargetSelectorSuffix(o)):this.main).selectAll("."+Q.bar+(ke(n)?"-"+n:""))},r.prototype.expandBars=function(n,o,h){h&&this.unexpandBars(),this.getBars(n,o).classed(Q.EXPANDED,!0)},r.prototype.unexpandBars=function(n){this.getBars(n).classed(Q.EXPANDED,!1)},r.prototype.generateDrawBar=function(n,o){var h=this.config,f=this.generateGetBarPoints(n,o);return function(w,C){var L=f(w,C),M=h.axis_rotated?1:0,G=h.axis_rotated?0:1;return"M "+L[0][M]+","+L[0][G]+" L"+L[1][M]+","+L[1][G]+" L"+L[2][M]+","+L[2][G]+" L"+L[3][M]+","+L[3][G]+" z"}},r.prototype.generateGetBarPoints=function(n,o){var h=this,w=n.__max__+1,C=h.getBarW(o?h.subXAxis:h.xAxis,w),L=h.getShapeX(C,w,n,!!o),M=h.getShapeY(!!o),G=h.getShapeOffset(h.isBarType,n,!!o),F=C*(h.config.bar_space/2),V=o?h.getSubYScale:h.getYScale;return function(tt,dt){var J=V.call(h,tt.id)(0),mt=G(tt,dt)||J,Ct=L(tt),Mt=M(tt);return h.config.axis_rotated&&(0<tt.value&&Mt<J||tt.value<0&&J<Mt)&&(Mt=J),[[Ct+F,mt],[Ct+F,Mt-=J-mt],[Ct+C-F,Mt],[Ct+C-F,mt]]}},r.prototype.isWithinBar=function(n,o){return h=n,void 0===(w=2)&&(w=0),(f=ee(o)).x-w<h[0]&&h[0]<f.x+f.width+w&&f.y-w<h[1]&&h[1]<f.y+f.height+w;var h,f,w},r.prototype.getShapeIndices=function(n){var o,h,f=this.config,w={},C=0;return this.filterTargetsToShow(this.data.targets.filter(n,this)).forEach(function(L){for(o=0;o<f.data_groups.length;o++)if(!(f.data_groups[o].indexOf(L.id)<0))for(h=0;h<f.data_groups[o].length;h++)if(f.data_groups[o][h]in w){w[L.id]=w[f.data_groups[o][h]];break}mn(w[L.id])&&(w[L.id]=C++)}),w.__max__=C-1,w},r.prototype.getShapeX=function(n,o,h,f){var w=f?this.subX:this.x;return function(C){var L=C.id in h?h[C.id]:0;return C.x||0===C.x?w(C.x)-n*(o/2-L):0}},r.prototype.getShapeY=function(n){var o=this;return function(h){return(n?o.getSubYScale(h.id):o.getYScale(h.id))(o.isTargetNormalized(h.id)?o.getRatio("index",h,!0):h.value)}},r.prototype.getShapeOffset=function(n,o,h){var f=this,w=f.orderTargets(f.filterTargetsToShow(f.data.targets.filter(n,f))),C=w.map(function(L){return L.id});return function(L,M){var G=h?f.getSubYScale(L.id):f.getYScale(L.id),F=G(0),V=F;return w.forEach(function(tt){var dt=f.isStepType(L)?f.convertValuesToStep(tt.values):tt.values,J=f.isTargetNormalized(L.id),mt=dt.map(function(Ct){return J?f.getRatio("index",Ct,!0):Ct.value});tt.id!==L.id&&o[tt.id]===o[L.id]&&C.indexOf(tt.id)<C.indexOf(L.id)&&(!mn(dt[M])&&+dt[M].x==+L.x||(M=-1,dt.forEach(function(Ct,Mt){(Ct.x.constructor===Date?+Ct.x:Ct.x)===(L.x.constructor===Date?+L.x:L.x)&&(M=Mt)})),M in dt&&0<=dt[M].value*L.value&&(V+=G(mt[M])-F))}),V}},r.prototype.isWithinShape=function(n,o){var h,f=this,w=f.d3.select(n);return f.isTargetToShow(o.id)?"circle"===n.nodeName?h=f.isStepType(o)?f.isWithinStep(n,f.getYScale(o.id)(o.value)):f.isWithinCircle(n,1.5*f.pointSelectR(o)):"path"===n.nodeName&&(h=!w.classed(Q.bar)||f.isWithinBar(f.d3.mouse(n),n)):h=!1,h},r.prototype.getInterpolate=function(n){var o=this,h=o.d3,f={linear:h.curveLinear,"linear-closed":h.curveLinearClosed,basis:h.curveBasis,"basis-open":h.curveBasisOpen,"basis-closed":h.curveBasisClosed,bundle:h.curveBundle,cardinal:h.curveCardinal,"cardinal-open":h.curveCardinalOpen,"cardinal-closed":h.curveCardinalClosed,monotone:h.curveMonotoneX,step:h.curveStep,"step-before":h.curveStepBefore,"step-after":h.curveStepAfter};return o.isSplineType(n)?f[o.config.spline_interpolation_type]||f.cardinal:o.isStepType(n)?f[o.config.line_step_type]:f.linear},r.prototype.initLine=function(){this.main.select("."+Q.chart).append("g").attr("class",Q.chartLines)},r.prototype.updateTargetsForLine=function(n){var o=this,h=o.config,f=o.classChartLine.bind(o),w=o.classLines.bind(o),C=o.classAreas.bind(o),L=o.classCircles.bind(o),M=o.classFocus.bind(o),G=o.main.select("."+Q.chartLines).selectAll("."+Q.chartLine).data(n).attr("class",function(F){return f(F)+M(F)}).enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none");G.append("g").attr("class",w),G.append("g").attr("class",C),G.append("g").attr("class",function(F){return o.generateClass(Q.selectedCircles,F.id)}),G.append("g").attr("class",L).style("cursor",function(F){return h.data_selection_isselectable(F)?"pointer":null}),n.forEach(function(F){o.main.selectAll("."+Q.selectedCircles+o.getTargetSelectorSuffix(F.id)).selectAll("."+Q.selectedCircle).each(function(V){V.value=F.values[V.index].value})})},r.prototype.updateLine=function(n){var o=this,h=o.main.selectAll("."+Q.lines).selectAll("."+Q.line).data(o.lineData.bind(o)),f=h.enter().append("path").attr("class",o.classLine.bind(o)).style("stroke",o.color);o.mainLine=f.merge(h).style("opacity",o.initialOpacity.bind(o)).style("shape-rendering",function(w){return o.isStepType(w)?"crispEdges":""}).attr("transform",null),h.exit().transition().duration(n).style("opacity",0)},r.prototype.redrawLine=function(n,o,h){return[(o?this.mainLine.transition(h):this.mainLine).attr("d",n).style("stroke",this.color).style("opacity",1)]},r.prototype.generateDrawLine=function(n,o){function h(F){return(o?w.subxx:w.xx).call(w,F)}function f(F,V){return 0<C.data_groups.length?L(F,V)[0][1]:M.call(w,F.id)(F.value)}var w=this,C=w.config,G=w.d3.line(),L=w.generateGetLinePoints(n,o),M=o?w.getSubYScale:w.getYScale;return G=C.axis_rotated?G.x(f).y(h):G.x(h).y(f),C.line_connectNull||(G=G.defined(function(F){return null!=F.value})),function(F){var V=C.line_connectNull?w.filterRemoveNull(F.values):F.values,tt=o?w.subX:w.x,dt=M.call(w,F.id),J=0,mt=0;return(w.isLineType(F)?C.data_regions[F.id]?w.lineWithRegions(V,tt,dt,C.data_regions[F.id]):(w.isStepType(F)&&(V=w.convertValuesToStep(V)),G.curve(w.getInterpolate(F))(V)):(V[0]&&(J=tt(V[0].x),mt=dt(V[0].value)),C.axis_rotated?"M "+mt+" "+J:"M "+J+" "+mt))||"M 0 0"}},r.prototype.generateGetLinePoints=function(n,o){var h=this,f=h.config,C=h.getShapeX(0,n.__max__+1,n,!!o),L=h.getShapeY(!!o),M=h.getShapeOffset(h.isLineType,n,!!o),G=o?h.getSubYScale:h.getYScale;return function(F,V){var tt=G.call(h,F.id)(0),dt=M(F,V)||tt,J=C(F),mt=L(F);return f.axis_rotated&&(0<F.value&&mt<tt||F.value<0&&tt<mt)&&(mt=tt),[[J,mt-(tt-dt)],[J,mt-(tt-dt)],[J,mt-(tt-dt)],[J,mt-(tt-dt)]]}},r.prototype.lineWithRegions=function(n,o,h,f){var w,C,L,M,G,F,V,tt,dt,J,mt,Ct=this,Mt=Ct.config,at="M",re=Ct.isCategorized()?.5:0,Dt=[];if(qe(f))for(w=0;w<f.length;w++)Dt[w]={},Dt[w].start=mn(f[w].start)?n[0].x:Ct.isTimeSeries()?Ct.parseDate(f[w].start):f[w].start,Dt[w].end=mn(f[w].end)?n[n.length-1].x:Ct.isTimeSeries()?Ct.parseDate(f[w].end):f[w].end;function At(Ut){return"M"+Ut[0][0]+" "+Ut[0][1]+" "+Ut[1][0]+" "+Ut[1][1]}for(J=Mt.axis_rotated?function(Ut){return h(Ut.value)}:function(Ut){return o(Ut.x)},mt=Mt.axis_rotated?function(Ut){return o(Ut.x)}:function(Ut){return h(Ut.value)},L=Ct.isTimeSeries()?function(Ut,he,Zt,Ft){var $t=Ut.x.getTime(),Yt=he.x-Ut.x,Bt=new Date($t+Yt*Zt),Le=new Date($t+Yt*(Zt+Ft));return At(Mt.axis_rotated?[[h(G(Zt)),o(Bt)],[h(G(Zt+Ft)),o(Le)]]:[[o(Bt),h(G(Zt))],[o(Le),h(G(Zt+Ft))]])}:function(Ut,he,Zt,Ft){return At(Mt.axis_rotated?[[h(G(Zt),!0),o(M(Zt))],[h(G(Zt+Ft),!0),o(M(Zt+Ft))]]:[[o(M(Zt),!0),h(G(Zt))],[o(M(Zt+Ft),!0),h(G(Zt+Ft))]])},w=0;w<n.length;w++)if(mn(Dt)||!function(Ut,he){for(var Zt=0;Zt<he.length;Zt++)if(he[Zt].start<Ut&&Ut<=he[Zt].end)return 1}(n[w].x,Dt))at+=" "+J(n[w])+" "+mt(n[w]);else for(M=Ct.getScale(n[w-1].x+re,n[w].x+re,Ct.isTimeSeries()),G=Ct.getScale(n[w-1].value,n[w].value),F=o(n[w].x)-o(n[w-1].x),V=h(n[w].value)-h(n[w-1].value),dt=2*(tt=2/Math.sqrt(Math.pow(F,2)+Math.pow(V,2))),C=tt;C<=1;C+=dt)at+=L(n[w-1],n[w],C,tt);return at},r.prototype.updateArea=function(n){var o=this,h=o.d3,f=o.main.selectAll("."+Q.areas).selectAll("."+Q.area).data(o.lineData.bind(o)),w=f.enter().append("path").attr("class",o.classArea.bind(o)).style("fill",o.color).style("opacity",function(){return o.orgAreaOpacity=+h.select(this).style("opacity"),0});o.mainArea=w.merge(f).style("opacity",o.orgAreaOpacity),f.exit().transition().duration(n).style("opacity",0)},r.prototype.redrawArea=function(n,o,h){return[(o?this.mainArea.transition(h):this.mainArea).attr("d",n).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},r.prototype.generateDrawArea=function(n,o){function h(V){return(o?C.subxx:C.xx).call(C,V)}function f(V,tt){return 0<L.data_groups.length?M(V,tt)[0][1]:G.call(C,V.id)(C.getAreaBaseValue(V.id))}function w(V,tt){return 0<L.data_groups.length?M(V,tt)[1][1]:G.call(C,V.id)(V.value)}var C=this,L=C.config,F=C.d3.area(),M=C.generateGetAreaPoints(n,o),G=o?C.getSubYScale:C.getYScale;return F=L.axis_rotated?F.x0(f).x1(w).y(h):F.x(h).y0(L.area_above?0:f).y1(w),L.line_connectNull||(F=F.defined(function(V){return null!==V.value})),function(V){var tt=L.line_connectNull?C.filterRemoveNull(V.values):V.values,dt=0,J=0;return(C.isAreaType(V)?(C.isStepType(V)&&(tt=C.convertValuesToStep(tt)),F.curve(C.getInterpolate(V))(tt)):(tt[0]&&(dt=C.x(tt[0].x),J=C.getYScale(V.id)(tt[0].value)),L.axis_rotated?"M "+J+" "+dt:"M "+dt+" "+J))||"M 0 0"}},r.prototype.getAreaBaseValue=function(){return 0},r.prototype.generateGetAreaPoints=function(n,o){var h=this,f=h.config,C=h.getShapeX(0,n.__max__+1,n,!!o),L=h.getShapeY(!!o),M=h.getShapeOffset(h.isAreaType,n,!!o),G=o?h.getSubYScale:h.getYScale;return function(F,V){var tt=G.call(h,F.id)(0),dt=M(F,V)||tt,J=C(F),mt=L(F);return f.axis_rotated&&(0<F.value&&mt<tt||F.value<0&&tt<mt)&&(mt=tt),[[J,dt],[J,mt-(tt-dt)],[J,mt-(tt-dt)],[J,dt]]}},r.prototype.updateCircle=function(n,o){var h=this,f=h.main.selectAll("."+Q.circles).selectAll("."+Q.circle).data(h.lineOrScatterOrStanfordData.bind(h)),w=f.enter().append("circle").attr("shape-rendering",h.isStanfordGraphType()?"crispEdges":"").attr("class",h.classCircle.bind(h)).attr("cx",n).attr("cy",o).attr("r",h.pointR.bind(h)).style("color",h.isStanfordGraphType()?h.getStanfordPointColor.bind(h):h.color);h.mainCircle=w.merge(f).style("opacity",h.isStanfordGraphType()?1:h.initialOpacityForCircle.bind(h)),f.exit().style("opacity",0)},r.prototype.redrawCircle=function(n,o,h,f){var w=this,C=w.main.selectAll("."+Q.selectedCircle);return[(h?w.mainCircle.transition(f):w.mainCircle).style("opacity",this.opacityForCircle.bind(w)).style("color",w.isStanfordGraphType()?w.getStanfordPointColor.bind(w):w.color).attr("cx",n).attr("cy",o),(h?C.transition(f):C).attr("cx",n).attr("cy",o)]},r.prototype.circleX=function(n){return n.x||0===n.x?this.x(n.x):null},r.prototype.updateCircleY=function(){var n,o,h=this;0<h.config.data_groups.length?(n=h.getShapeIndices(h.isLineType),o=h.generateGetLinePoints(n),h.circleY=function(f,w){return o(f,w)[0][1]}):h.circleY=function(f){return h.getYScale(f.id)(f.value)}},r.prototype.getCircles=function(n,o){return(o?this.main.selectAll("."+Q.circles+this.getTargetSelectorSuffix(o)):this.main).selectAll("."+Q.circle+(ke(n)?"-"+n:""))},r.prototype.expandCircles=function(n,o,h){var f=this.pointExpandedR.bind(this);h&&this.unexpandCircles(),this.getCircles(n,o).classed(Q.EXPANDED,!0).attr("r",f)},r.prototype.unexpandCircles=function(n){var o=this,h=o.pointR.bind(o);o.getCircles(n).filter(function(){return o.d3.select(this).classed(Q.EXPANDED)}).classed(Q.EXPANDED,!1).attr("r",h)},r.prototype.pointR=function(n){var o=this.config;return this.isStepType(n)?0:on(o.point_r)?o.point_r(n):o.point_r},r.prototype.pointExpandedR=function(n){var o=this.config;return o.point_focus_expand_enabled?on(o.point_focus_expand_r)?o.point_focus_expand_r(n):o.point_focus_expand_r?o.point_focus_expand_r:1.75*this.pointR(n):this.pointR(n)},r.prototype.pointSelectR=function(n){var o=this.config;return on(o.point_select_r)?o.point_select_r(n):o.point_select_r?o.point_select_r:4*this.pointR(n)},r.prototype.isWithinCircle=function(n,o){var h=this.d3,f=h.mouse(n),w=h.select(n),C=+w.attr("cx"),L=+w.attr("cy");return Math.sqrt(Math.pow(C-f[0],2)+Math.pow(L-f[1],2))<o},r.prototype.isWithinStep=function(n,o){return Math.abs(o-this.d3.mouse(n)[1])<30},r.prototype.getCurrentWidth=function(){var n=this.config;return n.size_width?n.size_width:this.getParentWidth()},r.prototype.getCurrentHeight=function(){var n=this.config,o=n.size_height?n.size_height:this.getParentHeight();return 0<o?o:320/(this.hasType("gauge")&&!n.gauge_fullCircle?2:1)},r.prototype.getCurrentPaddingTop=function(){var n=this.config,o=ke(n.padding_top)?n.padding_top:0;return this.title&&this.title.node()&&(o+=this.getTitlePadding()),o},r.prototype.getCurrentPaddingBottom=function(){var n=this.config;return ke(n.padding_bottom)?n.padding_bottom:0},r.prototype.getCurrentPaddingLeft=function(n){var o=this.config;return ke(o.padding_left)?o.padding_left:o.axis_rotated?!o.axis_x_show||o.axis_x_inner?1:Math.max(xn(this.getAxisWidthByAxisId("x",n)),40):!o.axis_y_show||o.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:xn(this.getAxisWidthByAxisId("y",n))},r.prototype.getCurrentPaddingRight=function(){var n=this,o=n.config,f=0,h=n.isLegendRight?n.getLegendWidth()+20:0;return f=ke(o.padding_right)?o.padding_right+1:o.axis_rotated?10+h:!o.axis_y2_show||o.axis_y2_inner?2+h+(n.axis.getY2AxisLabelPosition().isOuter?20:0):xn(n.getAxisWidthByAxisId("y2"))+h,n.colorScale&&n.colorScale.node()&&(f+=n.getColorScalePadding()),f},r.prototype.getParentRectValue=function(n){for(var o,h=this.selectChart.node();h&&"BODY"!==h.tagName;){try{o=h.getBoundingClientRect()[n]}catch{"width"===n&&(o=h.offsetWidth)}if(o)break;h=h.parentNode}return o},r.prototype.getParentWidth=function(){return this.getParentRectValue("width")},r.prototype.getParentHeight=function(){var n=this.selectChart.style("height");return 0<n.indexOf("px")?+n.replace("px",""):0},r.prototype.getSvgLeft=function(n){var o=this,h=o.config,f=h.axis_rotated||!h.axis_rotated&&!h.axis_y_inner,C=o.main.select("."+(h.axis_rotated?Q.axisX:Q.axisY)).node(),L=C&&f?C.getBoundingClientRect():{right:0},M=o.selectChart.node().getBoundingClientRect(),G=o.hasArcType(),F=L.right-M.left-(G?0:o.getCurrentPaddingLeft(n));return 0<F?F:0},r.prototype.getAxisWidthByAxisId=function(n,o){var h=this.axis.getLabelPositionById(n);return this.axis.getMaxTickWidth(n,o)+(h.isInner?20:40)},r.prototype.getHorizontalAxisHeight=function(n,o){var h=this,f=h.config,w=30;return"x"!==n||(qe(o)&&o?f.subchart_axis_x_show:f.axis_x_show)?"x"===n&&f.axis_x_height?f.axis_x_height:"y"!==n||f.axis_y_show?"y2"!==n||f.axis_y2_show?("x"===n&&!f.axis_rotated&&f.axis_x_tick_rotate&&(w=30+h.axis.getMaxTickWidth(n)*Math.cos(Math.PI*(90-Math.abs(f.axis_x_tick_rotate))/180)),"y"===n&&f.axis_rotated&&f.axis_y_tick_rotate&&(w=30+h.axis.getMaxTickWidth(n)*Math.cos(Math.PI*(90-Math.abs(f.axis_y_tick_rotate))/180)),w+(h.axis.getLabelPositionById(n).isInner?0:10)+("y2"===n?-10:0)):h.rotated_padding_top:!f.legend_show||h.isLegendRight||h.isLegendInset?1:10:8},r.prototype.initBrush=function(n){var o=this,h=o.d3;return o.brush=(o.config.axis_rotated?h.brushY():h.brushX()).on("brush",function(){var f=h.event.sourceEvent;f&&"zoom"===f.type||o.redrawForBrush()}).on("end",function(){var f=h.event.sourceEvent;f&&"zoom"===f.type||o.brush.empty()&&f&&"end"!==f.type&&o.brush.clear()}),o.brush.updateExtent=function(){var f=this.scale.range();return this.extent(o.config.axis_rotated?[[0,f[0]],[o.width2,f[1]]]:[[f[0],0],[f[1],o.height2]]),this},o.brush.updateScale=function(f){return this.scale=f,this},o.brush.update=function(f){this.updateScale(f||o.subX).updateExtent(),o.context.select("."+Q.brush).call(this)},o.brush.clear=function(){o.context.select("."+Q.brush).call(o.brush.move,null)},o.brush.selection=function(){return h.brushSelection(o.context.select("."+Q.brush).node())},o.brush.selectionAsValue=function(f,w){var C,L;return f?(o.context&&(C=[this.scale(f[0]),this.scale(f[1])],L=o.context.select("."+Q.brush),w&&(L=L.transition()),o.brush.move(L,C)),[]):(C=o.brush.selection()||[0,0],[this.scale.invert(C[0]),this.scale.invert(C[1])])},o.brush.empty=function(){var f=o.brush.selection();return!f||f[0]===f[1]},o.brush.updateScale(n)},r.prototype.initSubchart=function(){var n=this,o=n.config,h=n.context=n.svg.append("g").attr("transform",n.getTranslate("context"));h.style("visibility","visible"),h.append("g").attr("clip-path",n.clipPathForSubchart).attr("class",Q.chart),h.select("."+Q.chart).append("g").attr("class",Q.chartBars),h.select("."+Q.chart).append("g").attr("class",Q.chartLines),h.append("g").attr("clip-path",n.clipPath).attr("class",Q.brush),n.axes.subx=h.append("g").attr("class",Q.axisX).attr("transform",n.getTranslate("subx")).attr("clip-path",o.axis_rotated?"":n.clipPathForXAxis).style("visibility",o.subchart_axis_x_show?"visible":"hidden")},r.prototype.initSubchartBrush=function(){this.initBrush(this.subX).updateExtent(),this.context.select("."+Q.brush).call(this.brush)},r.prototype.updateTargetsForSubchart=function(n){var o,h,f=this,w=f.context,C=f.config,L=f.classChartBar.bind(f),M=f.classBars.bind(f),G=f.classChartLine.bind(f),F=f.classLines.bind(f),V=f.classAreas.bind(f),tt=w.select("."+Q.chartBars).selectAll("."+Q.chartBar).data(n),dt=tt.enter().append("g").style("opacity",0);dt.merge(tt).attr("class",L),dt.append("g").attr("class",M),(o=(h=w.select("."+Q.chartLines).selectAll("."+Q.chartLine).data(n)).enter().append("g").style("opacity",0)).merge(h).attr("class",G),o.append("g").attr("class",F),o.append("g").attr("class",V),w.selectAll("."+Q.brush+" rect").attr(C.axis_rotated?"width":"height",C.axis_rotated?f.width2:f.height2)},r.prototype.updateBarForSubchart=function(n){var o=this,h=o.context.selectAll("."+Q.bars).selectAll("."+Q.bar).data(o.barData.bind(o)),f=h.enter().append("path").attr("class",o.classBar.bind(o)).style("stroke","none").style("fill",o.color);h.exit().transition().duration(n).style("opacity",0).remove(),o.contextBar=f.merge(h).style("opacity",o.initialOpacity.bind(o))},r.prototype.redrawBarForSubchart=function(n,o,h){(o?this.contextBar.transition(Math.random().toString()).duration(h):this.contextBar).attr("d",n).style("opacity",1)},r.prototype.updateLineForSubchart=function(n){var o=this,h=o.context.selectAll("."+Q.lines).selectAll("."+Q.line).data(o.lineData.bind(o)),f=h.enter().append("path").attr("class",o.classLine.bind(o)).style("stroke",o.color);h.exit().transition().duration(n).style("opacity",0).remove(),o.contextLine=f.merge(h).style("opacity",o.initialOpacity.bind(o))},r.prototype.redrawLineForSubchart=function(n,o,h){(o?this.contextLine.transition(Math.random().toString()).duration(h):this.contextLine).attr("d",n).style("opacity",1)},r.prototype.updateAreaForSubchart=function(n){var o=this,h=o.d3,f=o.context.selectAll("."+Q.areas).selectAll("."+Q.area).data(o.lineData.bind(o)),w=f.enter().append("path").attr("class",o.classArea.bind(o)).style("fill",o.color).style("opacity",function(){return o.orgAreaOpacity=+h.select(this).style("opacity"),0});f.exit().transition().duration(n).style("opacity",0).remove(),o.contextArea=w.merge(f).style("opacity",0)},r.prototype.redrawAreaForSubchart=function(n,o,h){(o?this.contextArea.transition(Math.random().toString()).duration(h):this.contextArea).attr("d",n).style("fill",this.color).style("opacity",this.orgAreaOpacity)},r.prototype.redrawSubchart=function(n,o,h,f,w,C,L){var M,G,F,V=this,tt=V.d3;tt.event&&"zoom"===tt.event.type&&V.brush.selectionAsValue(V.x.orgDomain()),n&&(V.brush.empty()||V.brush.selectionAsValue(V.x.orgDomain()),M=V.generateDrawArea(w,!0),G=V.generateDrawBar(C,!0),F=V.generateDrawLine(L,!0),V.updateBarForSubchart(h),V.updateLineForSubchart(h),V.updateAreaForSubchart(h),V.redrawBarForSubchart(G,h,h),V.redrawLineForSubchart(F,h,h),V.redrawAreaForSubchart(M,h,h))},r.prototype.redrawForBrush=function(){var n,o=this,h=o.x,f=o.d3;o.redraw({withTransition:!1,withY:o.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),n=f.event.selection||o.brush.scale.range(),o.main.select("."+Q.eventRect).call(o.zoom.transform,f.zoomIdentity.scale(o.width/(n[1]-n[0])).translate(-n[0],0)),o.config.subchart_onbrush.call(o.api,h.orgDomain())},r.prototype.transformContext=function(n,o){var h;o&&o.axisSubX?h=o.axisSubX:(h=this.context.select("."+Q.axisX),n&&(h=h.transition())),this.context.attr("transform",this.getTranslate("context")),h.attr("transform",this.getTranslate("subx"))},r.prototype.getDefaultSelection=function(){var n=this,o=n.config,h=on(o.axis_x_selection)?o.axis_x_selection(n.getXDomain(n.data.targets)):o.axis_x_selection;return n.isTimeSeries()&&(h=[n.parseDate(h[0]),n.parseDate(h[1])]),h},r.prototype.removeSubchart=function(){this.brush=null,this.context.remove(),this.context=null},r.prototype.initText=function(){this.main.select("."+Q.chart).append("g").attr("class",Q.chartTexts),this.mainText=this.d3.selectAll([])},r.prototype.updateTargetsForText=function(n){var o=this,h=o.classChartText.bind(o),f=o.classTexts.bind(o),w=o.classFocus.bind(o),C=o.main.select("."+Q.chartTexts).selectAll("."+Q.chartText).data(n),L=C.enter().append("g").attr("class",h).style("opacity",0).style("pointer-events","none");L.append("g").attr("class",f),L.merge(C).attr("class",function(M){return h(M)+w(M)})},r.prototype.updateText=function(n,o,h){var f=this,w=f.config,C=f.barOrLineData.bind(f),L=f.classText.bind(f),M=f.main.selectAll("."+Q.texts).selectAll("."+Q.text).data(C),G=M.enter().append("text").attr("class",L).attr("text-anchor",function(F){return w.axis_rotated?F.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",n).attr("y",o).style("fill",function(F){return f.color(F)}).style("fill-opacity",0);f.mainText=G.merge(M).text(function(F,V,tt){return f.dataLabelFormat(F.id)(F.value,F.id,V,tt)}),M.exit().transition().duration(h).style("fill-opacity",0).remove()},r.prototype.redrawText=function(n,o,h,f,w){return[(f?this.mainText.transition(w):this.mainText).attr("x",n).attr("y",o).style("fill",this.color).style("fill-opacity",h?0:this.opacityForText.bind(this))]},r.prototype.getTextRect=function(n,o,h){var f,w=this.d3.select("body").append("div").classed("c3",!0),C=w.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),L=this.d3.select(h).style("font");return C.selectAll(".dummy").data([n]).enter().append("text").classed(o||"",!0).style("font",L).text(n).each(function(){f=ee(this)}),w.remove(),f},r.prototype.generateXYForText=function(n,o,h,f){var w=this,C=w.generateGetAreaPoints(n,!1),L=w.generateGetBarPoints(o,!1),M=w.generateGetLinePoints(h,!1),G=f?w.getXForText:w.getYForText;return function(F,V){var tt=w.isAreaType(F)?C:w.isBarType(F)?L:M;return G.call(w,tt(F,V),F,this)}},r.prototype.getXForText=function(n,o,h){var f,w=this,C=ee(h),L=w.config.axis_rotated?(f=w.isBarType(o)?4:6,n[2][1]+f*(o.value<0?-1:1)):w.hasType("bar")?(n[2][0]+n[0][0])/2:n[0][0];return null===o.value&&(L>w.width?L=w.width-C.width:L<0&&(L=4)),L},r.prototype.getYForText=function(n,o,h){var f,w=this,C=ee(h);return w.config.axis_rotated?f=(n[0][0]+n[2][0]+.6*C.height)/2:(f=n[2][1],o.value<0||0===o.value&&!w.hasPositiveValue?(f+=C.height,w.isBarType(o)&&w.isSafari()?f-=3:!w.isBarType(o)&&w.isChrome()&&(f+=3)):f+=w.isBarType(o)?-3:-6),null!==o.value||w.config.axis_rotated||(f<C.height?f=C.height:f>this.height&&(f=this.height-4)),f},r.prototype.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},r.prototype.redrawTitle=function(){var n=this;n.title.attr("x",n.xForTitle.bind(n)).attr("y",n.yForTitle.bind(n))},r.prototype.xForTitle=function(){var n=this,o=n.config,h=o.title_position||"left";return 0<=h.indexOf("right")?n.currentWidth-n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).width-o.title_padding.right:0<=h.indexOf("center")?Math.max((n.currentWidth-n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).width)/2,0):o.title_padding.left},r.prototype.yForTitle=function(){var n=this;return n.config.title_padding.top+n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).height},r.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},r.prototype.drawColorScale=function(){var n,o,h,f,w,C,L=this,M=L.d3,G=L.config,F=L.data.targets[0],V=isNaN(G.stanford_scaleWidth)?20:G.stanford_scaleWidth;if(V<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");o=M.range(G.stanford_padding.bottom,C=L.height-G.stanford_padding.bottom-G.stanford_padding.top,5),w=M.scaleSequential(F.colors).domain([o[o.length-1],o[0]]),L.colorScale&&L.colorScale.remove(),L.colorScale=L.svg.append("g").attr("width",50).attr("height",C).attr("class",Q.colorScale),L.colorScale.append("g").attr("transform","translate(0, "+G.stanford_padding.top+")").selectAll("bars").data(o).enter().append("rect").attr("y",function(tt,dt){return 5*dt}).attr("x",0).attr("width",V).attr("height",5).attr("fill",function(tt){return w(tt)}),f=M.scaleLog().domain([F.minEpochs,F.maxEpochs]).range([o[0]+G.stanford_padding.top+o[o.length-1]+5-1,o[0]+G.stanford_padding.top]),h=M.axisRight(f),"pow10"===G.stanford_scaleFormat?h.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):on(G.stanford_scaleFormat)?h.tickFormat(G.stanford_scaleFormat):h.tickFormat(M.format("d")),on(G.stanford_scaleValues)&&h.tickValues(G.stanford_scaleValues(F.minEpochs,F.maxEpochs)),n=L.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+V+",0)").call(h),"pow10"===G.stanford_scaleFormat&&n.selectAll(".tick text").text(null).filter(pn).text(10).append("tspan").attr("dy","-.7em").text(function(tt){return Math.round(Math.log(tt)/Math.LN10)}),L.colorScale.attr("transform","translate("+(L.currentWidth-L.xForColorScale())+", 0)")},r.prototype.xForColorScale=function(){return this.config.stanford_padding.right+ee(this.colorScale.node()).width},r.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+20},r.prototype.isStanfordGraphType=function(){return"stanford"===this.config.data_type},r.prototype.initStanfordData=function(){var n,o,h,f=this.d3,w=this.config,C=this.data.targets[0];if(C.values.sort(nt),n=C.values.map(function(L){return L.epochs}),h=isNaN(w.stanford_scaleMin)?f.min(n):w.stanford_scaleMin,(o=isNaN(w.stanford_scaleMax)?f.max(n):w.stanford_scaleMax)<h)throw Error("Number of minEpochs has to be smaller than maxEpochs");C.colors=on(w.stanford_colors)?w.stanford_colors:f.interpolateHslLong(f.hsl(250,1,.5),f.hsl(0,1,.5)),C.colorscale=f.scaleSequentialLog(C.colors).domain([h,o]),C.minEpochs=h,C.maxEpochs=o},r.prototype.getStanfordPointColor=function(n){return this.data.targets[0].colorscale(n.epochs)},r.prototype.getCentroid=function(n){for(var o,h,f,w=se(n),C=0,L=0,M=0,G=n.length-1;M<n.length;G=M,M+=1)C+=((h=n[M]).x+(f=n[G]).x)*(o=h.x*f.y-f.x*h.y),L+=(h.y+f.y)*o;return{x:C/(o=6*w),y:L/o}},r.prototype.getStanfordTooltipTitle=function(n){var o=this.axis.getLabelText("x"),h=this.axis.getLabelText("y");return"\n      <tr><th>"+(o?ce(o):"x")+"</th><th class='value'>"+n.x+"</th></tr>\n      <tr><th>"+(h?ce(h):"y")+"</th><th class='value'>"+n.value+"</th></tr>\n    "},r.prototype.countEpochsInRegion=function(n){var o=this.data.targets[0],h=o.values.reduce(function(w,C){return w+Number(C.epochs)},0),f=o.values.reduce(function(w,C){return et(C,n)?w+Number(C.epochs):w},0);return{value:f,percentage:0!==f?(f/h*100).toFixed(1):0}};var se=function(n){for(var o,h,f=0,w=0,C=n.length-1;w<n.length;C=w,w+=1)f+=(o=n[w]).x*(h=n[C]).y,f-=o.y*h.x;return f/2},et=function(n,o){for(var h,f,w,L=n.x,M=n.value,G=!1,F=0,V=o.length-1;F<o.length;V=F++)h=o[F].x,M<(f=o[F].y)!=M<(w=o[V].y)&&L<(o[V].x-h)*(M-f)/(w-f)+h&&(G=!G);return G},nt=function(n,o){return n.epochs<o.epochs?-1:n.epochs>o.epochs?1:0};return r.prototype.initStanfordElements=function(){var n=this;n.stanfordElements=n.main.select("."+Q.chart).append("g").attr("class",Q.stanfordElements),n.stanfordElements.append("g").attr("class",Q.stanfordLines),n.stanfordElements.append("g").attr("class",Q.stanfordTexts),n.stanfordElements.append("g").attr("class",Q.stanfordRegions)},r.prototype.updateStanfordElements=function(n){var o,h,f,w,C=this,L=C.main,M=C.config,G=C.xvCustom.bind(C),F=C.yvCustom.bind(C),V=C.countEpochsInRegion.bind(C),tt=L.select("."+Q.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+Q.stanfordLine).data(M.stanford_lines),dt=tt.enter().append("g").attr("class",function(J){return Q.stanfordLine+(J.class?" "+J.class:"")});dt.append("line").attr("x1",function(J){return M.axis_rotated?F(J,"value_y1"):G(J,"value_x1")}).attr("x2",function(J){return M.axis_rotated?F(J,"value_y2"):G(J,"value_x2")}).attr("y1",function(J){return M.axis_rotated?G(J,"value_x1"):F(J,"value_y1")}).attr("y2",function(J){return M.axis_rotated?G(J,"value_x2"):F(J,"value_y2")}).style("opacity",0),C.stanfordLines=dt.merge(tt),C.stanfordLines.select("line").transition().duration(n).attr("x1",function(J){return M.axis_rotated?F(J,"value_y1"):G(J,"value_x1")}).attr("x2",function(J){return M.axis_rotated?F(J,"value_y2"):G(J,"value_x2")}).attr("y1",function(J){return M.axis_rotated?G(J,"value_x1"):F(J,"value_y1")}).attr("y2",function(J){return M.axis_rotated?G(J,"value_x2"):F(J,"value_y2")}).style("opacity",1),tt.exit().transition().duration(n).style("opacity",0).remove(),(w=(f=L.select("."+Q.stanfordTexts).selectAll("."+Q.stanfordText).data(M.stanford_texts)).enter().append("g").attr("class",function(J){return Q.stanfordText+(J.class?" "+J.class:"")})).append("text").attr("x",function(J){return M.axis_rotated?F(J,"y"):G(J,"x")}).attr("y",function(J){return M.axis_rotated?G(J,"x"):F(J,"y")}).style("opacity",0),C.stanfordTexts=w.merge(f),C.stanfordTexts.select("text").transition().duration(n).attr("x",function(J){return M.axis_rotated?F(J,"y"):G(J,"x")}).attr("y",function(J){return M.axis_rotated?G(J,"x"):F(J,"y")}).text(function(J){return J.content}).style("opacity",1),f.exit().transition().duration(n).style("opacity",0).remove(),(h=(o=L.select("."+Q.stanfordRegions).selectAll("."+Q.stanfordRegion).data(M.stanford_regions)).enter().append("g").attr("class",function(J){return Q.stanfordRegion+(J.class?" "+J.class:"")})).append("polygon").attr("points",function(J){return J.points.map(function(mt){return[M.axis_rotated?F(mt,"y"):G(mt,"x"),M.axis_rotated?G(mt,"x"):F(mt,"y")].join(",")}).join(" ")}).style("opacity",0),h.append("text").attr("x",function(J){return C.getCentroid(J.points).x}).attr("y",function(J){return C.getCentroid(J.points).y}).style("opacity",0),C.stanfordRegions=h.merge(o),C.stanfordRegions.select("polygon").transition().duration(n).attr("points",function(J){return J.points.map(function(mt){return[M.axis_rotated?F(mt,"y"):G(mt,"x"),M.axis_rotated?G(mt,"x"):F(mt,"y")].join(",")}).join(" ")}).style("opacity",function(J){return J.opacity?J.opacity:.2}),C.stanfordRegions.select("text").transition().duration(n).attr("x",function(J){return M.axis_rotated?F(C.getCentroid(J.points),"y"):G(C.getCentroid(J.points),"x")}).attr("y",function(J){return M.axis_rotated?G(C.getCentroid(J.points),"x"):F(C.getCentroid(J.points),"y")}).text(function(J){var mt,Ct,Mt;return J.text?(C.isStanfordGraphType()&&(mt=(Mt=V(J.points)).value,Ct=Mt.percentage),J.text(mt,Ct)):""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),o.exit().transition().duration(n).style("opacity",0).remove()},r.prototype.initTooltip=function(){var n,o=this,h=o.config;if(o.tooltip=o.selectChart.style("position","relative").append("div").attr("class",Q.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),h.tooltip_init_show){if(o.isTimeSeries()&&ye(h.tooltip_init_x)){for(h.tooltip_init_x=o.parseDate(h.tooltip_init_x),n=0;n<o.data.targets[0].values.length&&o.data.targets[0].values[n].x-h.tooltip_init_x!=0;n++);h.tooltip_init_x=n}o.tooltip.html(h.tooltip_contents.call(o,o.data.targets.map(function(f){return o.addName(f.values[h.tooltip_init_x])}),o.axis.getXAxisTickFormat(),o.getYFormat(o.hasArcType()),o.color)),o.tooltip.style("top",h.tooltip_init_position.top).style("left",h.tooltip_init_position.left).style("display","block")}},r.prototype.getTooltipSortFunction=function(){var n=this,o=n.config;if(0!==o.data_groups.length&&void 0===o.tooltip_order){var h=n.orderTargets(n.data.targets).map(function(L){return L.id});return(n.isOrderAsc()||n.isOrderDesc())&&(h=h.reverse()),function(L,M){return h.indexOf(L.id)-h.indexOf(M.id)}}var f=o.tooltip_order;function w(L){return L?L.value:null}if(void 0===f&&(f=o.data_order),ye(f)&&"asc"===f.toLowerCase())return function(L,M){return w(L)-w(M)};if(ye(f)&&"desc"===f.toLowerCase())return function(L,M){return w(M)-w(L)};if(on(f)){var C=f;return void 0===o.tooltip_order&&(C=function(L,M){return f(L?{id:L.id,values:[L]}:null,M?{id:M.id,values:[M]}:null)}),C}return Ye(f)?function(L,M){return f.indexOf(L.id)-f.indexOf(M.id)}:void 0},r.prototype.getTooltipContent=function(n,o,h,f){var w,C,L,M,G,F,V=this,tt=V.config,dt=tt.tooltip_format_title||o,J=tt.tooltip_format_name||function(Mt){return Mt},mt=(mt=tt.tooltip_format_value)||(V.isTargetNormalized(n.id)?function(Mt,at){return(100*at).toFixed(2)+"%"}:h),Ct=this.getTooltipSortFunction();for(Ct&&n.sort(Ct),C=0;C<n.length;C++)if(n[C]&&(n[C].value||0===n[C].value)){if(V.isStanfordGraphType())w||(L=V.getStanfordTooltipTitle(n[C]),w="<table class='"+V.CLASS.tooltip+"'>"+L),F=V.getStanfordPointColor(n[C]),G=ce(tt.data_epochs),M=n[C].epochs;else if(w||(L=ce(dt?dt(n[C].x,n[C].index):n[C].x),w="<table class='"+V.CLASS.tooltip+"'>"+(L||0===L?"<tr><th colspan='2'>"+L+"</th></tr>":"")),void 0!==(M=ce(mt(n[C].value,n[C].ratio,n[C].id,n[C].index,n)))){if(null===n[C].name)continue;G=ce(J(n[C].name,n[C].ratio,n[C].id,n[C].index)),F=V.levelColor?V.levelColor(n[C].value):f(n[C].id)}void 0!==M&&(w+="<tr class='"+V.CLASS.tooltipName+"-"+V.getTargetSelectorSuffix(n[C].id)+"'>",w+="<td class='name'><span style='background-color:"+F+"'></span>"+G+"</td>",w+="<td class='value'>"+M+"</td>",w+="</tr>")}return w+"</table>"},r.prototype.tooltipPosition=function(n,o,h,f){var w,C,L,M,G,F=this,V=F.config,tt=F.d3,dt=F.hasArcType(),J=tt.mouse(f);return dt?(C=(F.width-(F.isLegendRight?F.getLegendWidth():0))/2+J[0],M=(F.hasType("gauge")?F.height:F.height/2)+J[1]+20):(w=F.getSvgLeft(!0),M=V.axis_rotated?(L=(C=w+J[0]+100)+o,G=F.currentWidth-F.getCurrentPaddingRight(),F.x(n[0].x)+20):(L=(C=w+F.getCurrentPaddingLeft(!0)+F.x(n[0].x)+20)+o,G=w+F.currentWidth-F.getCurrentPaddingRight(),J[1]+15),G<L&&(C-=L-G+20),M+h>F.currentHeight&&(M-=h+30)),M<0&&(M=0),{top:M,left:C}},r.prototype.showTooltip=function(n,o){var h,f,w,C=this,L=C.config,M=C.hasArcType(),G=n.filter(function(V){return V&&ke(V.value)}),F=L.tooltip_position||r.prototype.tooltipPosition;0!==G.length&&L.tooltip_show?(C.tooltip.html(L.tooltip_contents.call(C,n,C.axis.getXAxisTickFormat(),C.getYFormat(M),C.color)).style("display","block"),h=C.tooltip.property("offsetWidth"),f=C.tooltip.property("offsetHeight"),w=F.call(this,G,h,f,o),C.tooltip.style("top",w.top+"px").style("left",w.left+"px")):C.hideTooltip()},r.prototype.hideTooltip=function(){this.tooltip.style("display","none")},r.prototype.setTargetType=function(n,o){var h=this,f=h.config;h.mapToTargetIds(n).forEach(function(w){h.withoutFadeIn[w]=o===f.data_types[w],f.data_types[w]=o}),n||(f.data_type=o)},r.prototype.hasType=function(n,o){var h=this.config.data_types,f=!1;return(o=o||this.data.targets)&&o.length?o.forEach(function(w){var C=h[w.id];(C&&0<=C.indexOf(n)||!C&&"line"===n)&&(f=!0)}):Object.keys(h).length?Object.keys(h).forEach(function(w){h[w]===n&&(f=!0)}):f=this.config.data_type===n,f},r.prototype.hasArcType=function(n){return this.hasType("pie",n)||this.hasType("donut",n)||this.hasType("gauge",n)},r.prototype.isLineType=function(n){var o=this.config,h=ye(n)?n:n.id;return!o.data_types[h]||0<=["line","spline","area","area-spline","step","area-step"].indexOf(o.data_types[h])},r.prototype.isStepType=function(n){var o=ye(n)?n:n.id;return 0<=["step","area-step"].indexOf(this.config.data_types[o])},r.prototype.isSplineType=function(n){var o=ye(n)?n:n.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[o])},r.prototype.isAreaType=function(n){var o=ye(n)?n:n.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[o])},r.prototype.isBarType=function(n){var o=ye(n)?n:n.id;return"bar"===this.config.data_types[o]},r.prototype.isScatterType=function(n){var o=ye(n)?n:n.id;return"scatter"===this.config.data_types[o]},r.prototype.isStanfordType=function(n){var o=ye(n)?n:n.id;return"stanford"===this.config.data_types[o]},r.prototype.isPieType=function(n){var o=ye(n)?n:n.id;return"pie"===this.config.data_types[o]},r.prototype.isGaugeType=function(n){var o=ye(n)?n:n.id;return"gauge"===this.config.data_types[o]},r.prototype.isDonutType=function(n){var o=ye(n)?n:n.id;return"donut"===this.config.data_types[o]},r.prototype.isArcType=function(n){return this.isPieType(n)||this.isDonutType(n)||this.isGaugeType(n)},r.prototype.lineData=function(n){return this.isLineType(n)?[n]:[]},r.prototype.arcData=function(n){return this.isArcType(n.data)?[n]:[]},r.prototype.barData=function(n){return this.isBarType(n)?n.values:[]},r.prototype.lineOrScatterOrStanfordData=function(n){return this.isLineType(n)||this.isScatterType(n)||this.isStanfordType(n)?n.values:[]},r.prototype.barOrLineData=function(n){return this.isBarType(n)||this.isLineType(n)?n.values:[]},r.prototype.isSafari=function(){var n=window.navigator.userAgent;return 0<=n.indexOf("Safari")&&n.indexOf("Chrome")<0},r.prototype.isChrome=function(){return 0<=window.navigator.userAgent.indexOf("Chrome")},r.prototype.initZoom=function(){var n,o=this,h=o.d3,f=o.config;return o.zoom=h.zoom().on("start",function(){var w;"scroll"===f.zoom_type&&((w=h.event.sourceEvent)&&"brush"===w.type||(n=w,f.zoom_onzoomstart.call(o.api,w)))}).on("zoom",function(){var w;"scroll"===f.zoom_type&&((w=h.event.sourceEvent)&&"brush"===w.type||(o.redrawForZoom(),f.zoom_onzoom.call(o.api,o.x.orgDomain())))}).on("end",function(){var w;"scroll"===f.zoom_type&&((w=h.event.sourceEvent)&&"brush"===w.type||w&&n.clientX===w.clientX&&n.clientY===w.clientY||f.zoom_onzoomend.call(o.api,o.x.orgDomain()))}),o.zoom.updateDomain=function(){return h.event&&h.event.transform&&o.x.domain(f.axis_rotated&&"scroll"===f.zoom_type&&"mousemove"===h.event.sourceEvent.type?h.event.transform.rescaleY(o.subX).domain():h.event.transform.rescaleX(o.subX).domain()),this},o.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[o.width,o.height]]).extent([[0,0],[o.width,o.height]]),this},o.zoom.update=function(){return this.updateExtent().updateDomain()},o.zoom.updateExtent()},r.prototype.zoomTransform=function(n){var o=[this.x(n[0]),this.x(n[1])];return this.d3.zoomIdentity.scale(this.width/(o[1]-o[0])).translate(-o[0],0)},r.prototype.initDragZoom=function(){var n,o,h=this,f=h.d3,w=h.config,C=h.context=h.svg,L=h.margin.left+20.5,M=h.margin.top+.5;"drag"===w.zoom_type&&w.zoom_enabled&&(n=function(G){return G&&G.map(function(F){return h.x.invert(F)})},o=h.dragZoomBrush=f.brushX().on("start",function(){h.api.unzoom(),h.svg.select("."+Q.dragZoom).classed("disabled",!1),w.zoom_onzoomstart.call(h.api,f.event.sourceEvent)}).on("brush",function(){w.zoom_onzoom.call(h.api,n(f.event.selection))}).on("end",function(){var G;null!=f.event.selection&&(G=n(f.event.selection),w.zoom_disableDefaultBehavior||h.api.zoom(G),h.svg.select("."+Q.dragZoom).classed("disabled",!0),w.zoom_onzoomend.call(h.api,G))}),C.append("g").classed(Q.dragZoom,!0).attr("clip-path",h.clipPath).attr("transform","translate("+L+","+M+")").call(o))},r.prototype.getZoomDomain=function(){var n=this.config,o=this.d3;return[o.min([this.orgXDomain[0],n.zoom_x_min]),o.max([this.orgXDomain[1],n.zoom_x_max])]},r.prototype.redrawForZoom=function(){var n=this,o=n.d3,h=n.config,f=n.zoom,w=n.x;h.zoom_enabled&&0!==n.filterTargetsToShow(n.data.targets).length&&(f.update(),h.zoom_disableDefaultBehavior||(n.isCategorized()&&w.orgDomain()[0]===n.orgXDomain[0]&&w.domain([n.orgXDomain[0]-1e-10,w.orgDomain()[1]]),n.redraw({withTransition:!1,withY:h.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),o.event.sourceEvent&&"mousemove"===o.event.sourceEvent.type&&(n.cancelClick=!0)))},_e}),function(r,Ht){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=r.document?Ht(r,!0):function(bn){if(!bn.document)throw new Error("jQuery requires a window with a document");return Ht(bn)}:Ht(r)}(typeof window<"u"?window:this,function(r,Ht){"use strict";var bn=[],xn=Object.getPrototypeOf,pe=bn.slice,Tt=bn.flat?function(p){return bn.flat.call(p)}:function(p){return bn.concat.apply([],p)},We=bn.push,Ye=bn.indexOf,Oe={},on=Oe.toString,Rn=Oe.hasOwnProperty,mn=Rn.toString,ke=mn.call(Object),le={},ce=function(p){return"function"==typeof p&&"number"!=typeof p.nodeType&&"function"!=typeof p.item},hn=function(p){return null!=p&&p===p.window},ee=r.document,qe={type:!0,src:!0,nonce:!0,noModule:!0};function ye(p,x,k){var D,R,W=(k=k||ee).createElement("script");if(W.text=p,x)for(D in qe)(R=x[D]||x.getAttribute&&x.getAttribute(D))&&W.setAttribute(D,R);k.head.appendChild(W).parentNode.removeChild(W)}function Re(p){return null==p?p+"":"object"==typeof p||"function"==typeof p?Oe[on.call(p)]||"object":typeof p}var Q="3.6.0",E=function(p,x){return new E.fn.init(p,x)};function oe(p){var x=!!p&&"length"in p&&p.length,k=Re(p);return!ce(p)&&!hn(p)&&("array"===k||0===x||"number"==typeof x&&0<x&&x-1 in p)}E.fn=E.prototype={jquery:Q,constructor:E,length:0,toArray:function(){return pe.call(this)},get:function(p){return null==p?pe.call(this):p<0?this[p+this.length]:this[p]},pushStack:function(p){var x=E.merge(this.constructor(),p);return x.prevObject=this,x},each:function(p){return E.each(this,p)},map:function(p){return this.pushStack(E.map(this,function(x,k){return p.call(x,k,x)}))},slice:function(){return this.pushStack(pe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(p,x){return(x+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(p,x){return x%2}))},eq:function(p){var x=this.length,k=+p+(p<0?x:0);return this.pushStack(0<=k&&k<x?[this[k]]:[])},end:function(){return this.prevObject||this.constructor()},push:We,sort:bn.sort,splice:bn.splice},E.extend=E.fn.extend=function(){var p,x,k,D,R,W,Y=arguments[0]||{},it=1,lt=arguments.length,_t=!1;for("boolean"==typeof Y&&(_t=Y,Y=arguments[it]||{},it++),"object"==typeof Y||ce(Y)||(Y={}),it===lt&&(Y=this,it--);it<lt;it++)if(null!=(p=arguments[it]))for(x in p)D=p[x],"__proto__"!==x&&Y!==D&&(_t&&D&&(E.isPlainObject(D)||(R=Array.isArray(D)))?(k=Y[x],W=R&&!Array.isArray(k)?[]:R||E.isPlainObject(k)?k:{},R=!1,Y[x]=E.extend(_t,W,D)):void 0!==D&&(Y[x]=D));return Y},E.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(p){throw new Error(p)},noop:function(){},isPlainObject:function(p){var x,k;return!(!p||"[object Object]"!==on.call(p)||(x=xn(p))&&("function"!=typeof(k=Rn.call(x,"constructor")&&x.constructor)||mn.call(k)!==ke))},isEmptyObject:function(p){var x;for(x in p)return!1;return!0},globalEval:function(p,x,k){ye(p,{nonce:x&&x.nonce},k)},each:function(p,x){var k,D=0;if(oe(p))for(k=p.length;D<k&&!1!==x.call(p[D],D,p[D]);D++);else for(D in p)if(!1===x.call(p[D],D,p[D]))break;return p},makeArray:function(p,x){var k=x||[];return null!=p&&(oe(Object(p))?E.merge(k,"string"==typeof p?[p]:p):We.call(k,p)),k},inArray:function(p,x,k){return null==x?-1:Ye.call(x,p,k)},merge:function(p,x){for(var k=+x.length,D=0,R=p.length;D<k;D++)p[R++]=x[D];return p.length=R,p},grep:function(p,x,k){for(var D=[],R=0,W=p.length,Y=!k;R<W;R++)!x(p[R],R)!==Y&&D.push(p[R]);return D},map:function(p,x,k){var D,R,W=0,Y=[];if(oe(p))for(D=p.length;W<D;W++)null!=(R=x(p[W],W,k))&&Y.push(R);else for(W in p)null!=(R=x(p[W],W,k))&&Y.push(R);return Tt(Y)},guid:1,support:le}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=bn[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(p,x){Oe["[object "+x+"]"]=x.toLowerCase()});var _e=function(p){var x,k,D,R,W,Y,it,lt,_t,Lt,zt,Pt,Et,ie,te,ae,Dn,jn,Ai,fn="sizzle"+1*new Date,Fe=p.document,hi=0,rn=0,an=_r(),Fr=_r(),Hr=_r(),di=_r(),nr=function($,rt){return $===rt&&(zt=!0),0},$i={}.hasOwnProperty,fi=[],Qi=fi.pop,_i=fi.push,En=fi.push,ui=fi.slice,yi=function($,rt){for(var gt=0,Rt=$.length;gt<Rt;gt++)if($[gt]===rt)return gt;return-1},zi="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ge="[\\x20\\t\\r\\n\\f]",cn="(?:\\\\[\\da-fA-F]{1,6}"+Ge+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Wn="\\["+Ge+"*("+cn+")(?:"+Ge+"*([*^$|!~]?=)"+Ge+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+cn+"))|)"+Ge+"*\\]",bi=":("+cn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Wn+")*)|.*)\\)|)",Ln=new RegExp(Ge+"+","g"),pi=new RegExp("^"+Ge+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ge+"+$","g"),mr=new RegExp("^"+Ge+"*,"+Ge+"*"),Pa=new RegExp("^"+Ge+"*([>+~]|"+Ge+")"+Ge+"*"),ks=new RegExp(Ge+"|>"),Ps=new RegExp(bi),Ms=new RegExp("^"+cn+"$"),Ma={ID:new RegExp("^#("+cn+")"),CLASS:new RegExp("^\\.("+cn+")"),TAG:new RegExp("^("+cn+"|[*])"),ATTR:new RegExp("^"+Wn),PSEUDO:new RegExp("^"+bi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ge+"*(even|odd|(([+-]|)(\\d*)n|)"+Ge+"*(?:([+-]|)"+Ge+"*(\\d+)|))"+Ge+"*\\)|)","i"),bool:new RegExp("^(?:"+zi+")$","i"),needsContext:new RegExp("^"+Ge+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ge+"*((?:-\\d)?\\d*)"+Ge+"*\\)|)(?=[^-]|$)","i")},il=/HTML$/i,Ds=/^(?:input|select|textarea|button)$/i,rl=/^h\d$/i,oa=/^[^{]+\{\s*\[native \w/,Es=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fo=/[+~]/,Fi=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ge+"?|\\\\([^\\r\\n\\f])","g"),Hi=function($,rt){var gt="0x"+$.slice(1)-65536;return rt||(gt<0?String.fromCharCode(gt+65536):String.fromCharCode(gt>>10|55296,1023&gt|56320))},Gr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,vr=function($,rt){return rt?"\0"===$?"\ufffd":$.slice(0,-1)+"\\"+$.charCodeAt($.length-1).toString(16)+" ":"\\"+$},Br=function(){Pt()},sa=Yr(function($){return!0===$.disabled&&"fieldset"===$.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{En.apply(fi=ui.call(Fe.childNodes),Fe.childNodes)}catch{En={apply:fi.length?function(rt,gt){_i.apply(rt,ui.call(gt))}:function(rt,gt){for(var Rt=rt.length,wt=0;rt[Rt++]=gt[wt++];);rt.length=Rt-1}}}function _n($,rt,gt,Rt){var wt,Gt,Wt,Kt,Jt,xe,we,Ee=rt&&rt.ownerDocument,Ze=rt?rt.nodeType:9;if(gt=gt||[],"string"!=typeof $||!$||1!==Ze&&9!==Ze&&11!==Ze)return gt;if(!Rt&&(Pt(rt),rt=rt||Et,te)){if(11!==Ze&&(Jt=Es.exec($)))if(wt=Jt[1]){if(9===Ze){if(!(Wt=rt.getElementById(wt)))return gt;if(Wt.id===wt)return gt.push(Wt),gt}else if(Ee&&(Wt=Ee.getElementById(wt))&&Ai(rt,Wt)&&Wt.id===wt)return gt.push(Wt),gt}else{if(Jt[2])return En.apply(gt,rt.getElementsByTagName($)),gt;if((wt=Jt[3])&&k.getElementsByClassName&&rt.getElementsByClassName)return En.apply(gt,rt.getElementsByClassName(wt)),gt}if(k.qsa&&!di[$+" "]&&(!ae||!ae.test($))&&(1!==Ze||"object"!==rt.nodeName.toLowerCase())){if(we=$,Ee=rt,1===Ze&&(ks.test($)||Pa.test($))){for((Ee=fo.test($)&&Da(rt.parentNode)||rt)===rt&&k.scope||((Kt=rt.getAttribute("id"))?Kt=Kt.replace(Gr,vr):rt.setAttribute("id",Kt=fn)),Gt=(xe=Y($)).length;Gt--;)xe[Gt]=(Kt?"#"+Kt:":scope")+" "+Ea(xe[Gt]);we=xe.join(",")}try{return En.apply(gt,Ee.querySelectorAll(we)),gt}catch{di($,!0)}finally{Kt===fn&&rt.removeAttribute("id")}}}return lt($.replace(pi,"$1"),rt,gt,Rt)}function _r(){var $=[];return function rt(gt,Rt){return $.push(gt+" ")>D.cacheLength&&delete rt[$.shift()],rt[gt+" "]=Rt}}function ni($){return $[fn]=!0,$}function xi($){var rt=Et.createElement("fieldset");try{return!!$(rt)}catch{return!1}finally{rt.parentNode&&rt.parentNode.removeChild(rt),rt=null}}function yr($,rt){for(var gt=$.split("|"),Rt=gt.length;Rt--;)D.attrHandle[gt[Rt]]=rt}function po($,rt){var gt=rt&&$,Rt=gt&&1===$.nodeType&&1===rt.nodeType&&$.sourceIndex-rt.sourceIndex;if(Rt)return Rt;if(gt)for(;gt=gt.nextSibling;)if(gt===rt)return-1;return $?1:-1}function jr($){return function(rt){return"input"===rt.nodeName.toLowerCase()&&rt.type===$}}function al($){return function(rt){var gt=rt.nodeName.toLowerCase();return("input"===gt||"button"===gt)&&rt.type===$}}function Wr($){return function(rt){return"form"in rt?rt.parentNode&&!1===rt.disabled?"label"in rt?"label"in rt.parentNode?rt.parentNode.disabled===$:rt.disabled===$:rt.isDisabled===$||rt.isDisabled!==!$&&sa(rt)===$:rt.disabled===$:"label"in rt&&rt.disabled===$}}function Zi($){return ni(function(rt){return rt=+rt,ni(function(gt,Rt){for(var wt,Gt=$([],gt.length,rt),Wt=Gt.length;Wt--;)gt[wt=Gt[Wt]]&&(gt[wt]=!(Rt[wt]=gt[wt]))})})}function Da($){return $&&typeof $.getElementsByTagName<"u"&&$}for(x in k=_n.support={},W=_n.isXML=function($){var gt=$&&($.ownerDocument||$).documentElement;return!il.test($&&$.namespaceURI||gt&&gt.nodeName||"HTML")},Pt=_n.setDocument=function($){var rt,gt,Rt=$?$.ownerDocument||$:Fe;return Rt!=Et&&9===Rt.nodeType&&Rt.documentElement&&(ie=(Et=Rt).documentElement,te=!W(Et),Fe!=Et&&(gt=Et.defaultView)&&gt.top!==gt&&(gt.addEventListener?gt.addEventListener("unload",Br,!1):gt.attachEvent&&gt.attachEvent("onunload",Br)),k.scope=xi(function(wt){return ie.appendChild(wt).appendChild(Et.createElement("div")),typeof wt.querySelectorAll<"u"&&!wt.querySelectorAll(":scope fieldset div").length}),k.attributes=xi(function(wt){return wt.className="i",!wt.getAttribute("className")}),k.getElementsByTagName=xi(function(wt){return wt.appendChild(Et.createComment("")),!wt.getElementsByTagName("*").length}),k.getElementsByClassName=oa.test(Et.getElementsByClassName),k.getById=xi(function(wt){return ie.appendChild(wt).id=fn,!Et.getElementsByName||!Et.getElementsByName(fn).length}),k.getById?(D.filter.ID=function(wt){var Gt=wt.replace(Fi,Hi);return function(Wt){return Wt.getAttribute("id")===Gt}},D.find.ID=function(wt,Gt){if(typeof Gt.getElementById<"u"&&te){var Wt=Gt.getElementById(wt);return Wt?[Wt]:[]}}):(D.filter.ID=function(wt){var Gt=wt.replace(Fi,Hi);return function(Wt){var Kt=typeof Wt.getAttributeNode<"u"&&Wt.getAttributeNode("id");return Kt&&Kt.value===Gt}},D.find.ID=function(wt,Gt){if(typeof Gt.getElementById<"u"&&te){var Wt,Kt,Jt,xe=Gt.getElementById(wt);if(xe){if((Wt=xe.getAttributeNode("id"))&&Wt.value===wt)return[xe];for(Jt=Gt.getElementsByName(wt),Kt=0;xe=Jt[Kt++];)if((Wt=xe.getAttributeNode("id"))&&Wt.value===wt)return[xe]}return[]}}),D.find.TAG=k.getElementsByTagName?function(wt,Gt){return typeof Gt.getElementsByTagName<"u"?Gt.getElementsByTagName(wt):k.qsa?Gt.querySelectorAll(wt):void 0}:function(wt,Gt){var Wt,Kt=[],Jt=0,xe=Gt.getElementsByTagName(wt);if("*"===wt){for(;Wt=xe[Jt++];)1===Wt.nodeType&&Kt.push(Wt);return Kt}return xe},D.find.CLASS=k.getElementsByClassName&&function(wt,Gt){if(typeof Gt.getElementsByClassName<"u"&&te)return Gt.getElementsByClassName(wt)},Dn=[],ae=[],(k.qsa=oa.test(Et.querySelectorAll))&&(xi(function(wt){var Gt;ie.appendChild(wt).innerHTML="<a id='"+fn+"'></a><select id='"+fn+"-\r\\' msallowcapture=''><option selected=''></option></select>",wt.querySelectorAll("[msallowcapture^='']").length&&ae.push("[*^$]="+Ge+"*(?:''|\"\")"),wt.querySelectorAll("[selected]").length||ae.push("\\["+Ge+"*(?:value|"+zi+")"),wt.querySelectorAll("[id~="+fn+"-]").length||ae.push("~="),(Gt=Et.createElement("input")).setAttribute("name",""),wt.appendChild(Gt),wt.querySelectorAll("[name='']").length||ae.push("\\["+Ge+"*name"+Ge+"*="+Ge+"*(?:''|\"\")"),wt.querySelectorAll(":checked").length||ae.push(":checked"),wt.querySelectorAll("a#"+fn+"+*").length||ae.push(".#.+[+~]"),wt.querySelectorAll("\\\f"),ae.push("[\\r\\n\\f]")}),xi(function(wt){wt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Gt=Et.createElement("input");Gt.setAttribute("type","hidden"),wt.appendChild(Gt).setAttribute("name","D"),wt.querySelectorAll("[name=d]").length&&ae.push("name"+Ge+"*[*^$|!~]?="),2!==wt.querySelectorAll(":enabled").length&&ae.push(":enabled",":disabled"),ie.appendChild(wt).disabled=!0,2!==wt.querySelectorAll(":disabled").length&&ae.push(":enabled",":disabled"),wt.querySelectorAll("*,:x"),ae.push(",.*:")})),(k.matchesSelector=oa.test(jn=ie.matches||ie.webkitMatchesSelector||ie.mozMatchesSelector||ie.oMatchesSelector||ie.msMatchesSelector))&&xi(function(wt){k.disconnectedMatch=jn.call(wt,"*"),jn.call(wt,"[s!='']:x"),Dn.push("!=",bi)}),ae=ae.length&&new RegExp(ae.join("|")),Dn=Dn.length&&new RegExp(Dn.join("|")),rt=oa.test(ie.compareDocumentPosition),Ai=rt||oa.test(ie.contains)?function(wt,Gt){var Wt=9===wt.nodeType?wt.documentElement:wt,Kt=Gt&&Gt.parentNode;return wt===Kt||!(!Kt||1!==Kt.nodeType||!(Wt.contains?Wt.contains(Kt):wt.compareDocumentPosition&&16&wt.compareDocumentPosition(Kt)))}:function(wt,Gt){if(Gt)for(;Gt=Gt.parentNode;)if(Gt===wt)return!0;return!1},nr=rt?function(wt,Gt){if(wt===Gt)return zt=!0,0;var Wt=!wt.compareDocumentPosition-!Gt.compareDocumentPosition;return Wt||(1&(Wt=(wt.ownerDocument||wt)==(Gt.ownerDocument||Gt)?wt.compareDocumentPosition(Gt):1)||!k.sortDetached&&Gt.compareDocumentPosition(wt)===Wt?wt==Et||wt.ownerDocument==Fe&&Ai(Fe,wt)?-1:Gt==Et||Gt.ownerDocument==Fe&&Ai(Fe,Gt)?1:Lt?yi(Lt,wt)-yi(Lt,Gt):0:4&Wt?-1:1)}:function(wt,Gt){if(wt===Gt)return zt=!0,0;var Wt,Kt=0,Jt=wt.parentNode,xe=Gt.parentNode,we=[wt],Ee=[Gt];if(!Jt||!xe)return wt==Et?-1:Gt==Et?1:Jt?-1:xe?1:Lt?yi(Lt,wt)-yi(Lt,Gt):0;if(Jt===xe)return po(wt,Gt);for(Wt=wt;Wt=Wt.parentNode;)we.unshift(Wt);for(Wt=Gt;Wt=Wt.parentNode;)Ee.unshift(Wt);for(;we[Kt]===Ee[Kt];)Kt++;return Kt?po(we[Kt],Ee[Kt]):we[Kt]==Fe?-1:Ee[Kt]==Fe?1:0}),Et},_n.matches=function($,rt){return _n($,null,null,rt)},_n.matchesSelector=function($,rt){if(Pt($),k.matchesSelector&&te&&!di[rt+" "]&&(!Dn||!Dn.test(rt))&&(!ae||!ae.test(rt)))try{var gt=jn.call($,rt);if(gt||k.disconnectedMatch||$.document&&11!==$.document.nodeType)return gt}catch{di(rt,!0)}return 0<_n(rt,Et,null,[$]).length},_n.contains=function($,rt){return($.ownerDocument||$)!=Et&&Pt($),Ai($,rt)},_n.attr=function($,rt){($.ownerDocument||$)!=Et&&Pt($);var gt=D.attrHandle[rt.toLowerCase()],Rt=gt&&$i.call(D.attrHandle,rt.toLowerCase())?gt($,rt,!te):void 0;return void 0!==Rt?Rt:k.attributes||!te?$.getAttribute(rt):(Rt=$.getAttributeNode(rt))&&Rt.specified?Rt.value:null},_n.escape=function($){return($+"").replace(Gr,vr)},_n.error=function($){throw new Error("Syntax error, unrecognized expression: "+$)},_n.uniqueSort=function($){var rt,gt=[],Rt=0,wt=0;if(zt=!k.detectDuplicates,Lt=!k.sortStable&&$.slice(0),$.sort(nr),zt){for(;rt=$[wt++];)rt===$[wt]&&(Rt=gt.push(wt));for(;Rt--;)$.splice(gt[Rt],1)}return Lt=null,$},R=_n.getText=function($){var rt,gt="",Rt=0,wt=$.nodeType;if(wt){if(1===wt||9===wt||11===wt){if("string"==typeof $.textContent)return $.textContent;for($=$.firstChild;$;$=$.nextSibling)gt+=R($)}else if(3===wt||4===wt)return $.nodeValue}else for(;rt=$[Rt++];)gt+=R(rt);return gt},(D=_n.selectors={cacheLength:50,createPseudo:ni,match:Ma,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function($){return $[1]=$[1].replace(Fi,Hi),$[3]=($[3]||$[4]||$[5]||"").replace(Fi,Hi),"~="===$[2]&&($[3]=" "+$[3]+" "),$.slice(0,4)},CHILD:function($){return $[1]=$[1].toLowerCase(),"nth"===$[1].slice(0,3)?($[3]||_n.error($[0]),$[4]=+($[4]?$[5]+($[6]||1):2*("even"===$[3]||"odd"===$[3])),$[5]=+($[7]+$[8]||"odd"===$[3])):$[3]&&_n.error($[0]),$},PSEUDO:function($){var rt,gt=!$[6]&&$[2];return Ma.CHILD.test($[0])?null:($[3]?$[2]=$[4]||$[5]||"":gt&&Ps.test(gt)&&(rt=Y(gt,!0))&&(rt=gt.indexOf(")",gt.length-rt)-gt.length)&&($[0]=$[0].slice(0,rt),$[2]=gt.slice(0,rt)),$.slice(0,3))}},filter:{TAG:function($){var rt=$.replace(Fi,Hi).toLowerCase();return"*"===$?function(){return!0}:function(gt){return gt.nodeName&&gt.nodeName.toLowerCase()===rt}},CLASS:function($){var rt=an[$+" "];return rt||(rt=new RegExp("(^|"+Ge+")"+$+"("+Ge+"|$)"))&&an($,function(gt){return rt.test("string"==typeof gt.className&&gt.className||typeof gt.getAttribute<"u"&&gt.getAttribute("class")||"")})},ATTR:function($,rt,gt){return function(Rt){var wt=_n.attr(Rt,$);return null==wt?"!="===rt:!rt||(wt+="","="===rt?wt===gt:"!="===rt?wt!==gt:"^="===rt?gt&&0===wt.indexOf(gt):"*="===rt?gt&&-1<wt.indexOf(gt):"$="===rt?gt&&wt.slice(-gt.length)===gt:"~="===rt?-1<(" "+wt.replace(Ln," ")+" ").indexOf(gt):"|="===rt&&(wt===gt||wt.slice(0,gt.length+1)===gt+"-"))}},CHILD:function($,rt,gt,Rt,wt){var Gt="nth"!==$.slice(0,3),Wt="last"!==$.slice(-4),Kt="of-type"===rt;return 1===Rt&&0===wt?function(Jt){return!!Jt.parentNode}:function(Jt,xe,we){var Ee,Ze,zn,Be,$n,wn,li=Gt!==Wt?"nextSibling":"previousSibling",yn=Jt.parentNode,gi=Kt&&Jt.nodeName.toLowerCase(),ii=!we&&!Kt,On=!1;if(yn){if(Gt){for(;li;){for(Be=Jt;Be=Be[li];)if(Kt?Be.nodeName.toLowerCase()===gi:1===Be.nodeType)return!1;wn=li="only"===$&&!wn&&"nextSibling"}return!0}if(wn=[Wt?yn.firstChild:yn.lastChild],Wt&&ii){for(On=($n=(Ee=(Ze=(zn=(Be=yn)[fn]||(Be[fn]={}))[Be.uniqueID]||(zn[Be.uniqueID]={}))[$]||[])[0]===hi&&Ee[1])&&Ee[2],Be=$n&&yn.childNodes[$n];Be=++$n&&Be&&Be[li]||(On=$n=0)||wn.pop();)if(1===Be.nodeType&&++On&&Be===Jt){Ze[$]=[hi,$n,On];break}}else if(ii&&(On=$n=(Ee=(Ze=(zn=(Be=Jt)[fn]||(Be[fn]={}))[Be.uniqueID]||(zn[Be.uniqueID]={}))[$]||[])[0]===hi&&Ee[1]),!1===On)for(;(Be=++$n&&Be&&Be[li]||(On=$n=0)||wn.pop())&&((Kt?Be.nodeName.toLowerCase()!==gi:1!==Be.nodeType)||!++On||(ii&&((Ze=(zn=Be[fn]||(Be[fn]={}))[Be.uniqueID]||(zn[Be.uniqueID]={}))[$]=[hi,On]),Be!==Jt)););return(On-=wt)===Rt||On%Rt==0&&0<=On/Rt}}},PSEUDO:function($,rt){var gt,Rt=D.pseudos[$]||D.setFilters[$.toLowerCase()]||_n.error("unsupported pseudo: "+$);return Rt[fn]?Rt(rt):1<Rt.length?(gt=[$,$,"",rt],D.setFilters.hasOwnProperty($.toLowerCase())?ni(function(wt,Gt){for(var Wt,Kt=Rt(wt,rt),Jt=Kt.length;Jt--;)wt[Wt=yi(wt,Kt[Jt])]=!(Gt[Wt]=Kt[Jt])}):function(wt){return Rt(wt,0,gt)}):Rt}},pseudos:{not:ni(function($){var rt=[],gt=[],Rt=it($.replace(pi,"$1"));return Rt[fn]?ni(function(wt,Gt,Wt,Kt){for(var Jt,xe=Rt(wt,null,Kt,[]),we=wt.length;we--;)(Jt=xe[we])&&(wt[we]=!(Gt[we]=Jt))}):function(wt,Gt,Wt){return rt[0]=wt,Rt(rt,null,Wt,gt),rt[0]=null,!gt.pop()}}),has:ni(function($){return function(rt){return 0<_n($,rt).length}}),contains:ni(function($){return $=$.replace(Fi,Hi),function(rt){return-1<(rt.textContent||R(rt)).indexOf($)}}),lang:ni(function($){return Ms.test($||"")||_n.error("unsupported lang: "+$),$=$.replace(Fi,Hi).toLowerCase(),function(rt){var gt;do{if(gt=te?rt.lang:rt.getAttribute("xml:lang")||rt.getAttribute("lang"))return(gt=gt.toLowerCase())===$||0===gt.indexOf($+"-")}while((rt=rt.parentNode)&&1===rt.nodeType);return!1}}),target:function($){var rt=p.location&&p.location.hash;return rt&&rt.slice(1)===$.id},root:function($){return $===ie},focus:function($){return $===Et.activeElement&&(!Et.hasFocus||Et.hasFocus())&&!!($.type||$.href||~$.tabIndex)},enabled:Wr(!1),disabled:Wr(!0),checked:function($){var rt=$.nodeName.toLowerCase();return"input"===rt&&!!$.checked||"option"===rt&&!!$.selected},selected:function($){return!0===$.selected},empty:function($){for($=$.firstChild;$;$=$.nextSibling)if($.nodeType<6)return!1;return!0},parent:function($){return!D.pseudos.empty($)},header:function($){return rl.test($.nodeName)},input:function($){return Ds.test($.nodeName)},button:function($){var rt=$.nodeName.toLowerCase();return"input"===rt&&"button"===$.type||"button"===rt},text:function($){var rt;return"input"===$.nodeName.toLowerCase()&&"text"===$.type&&(null==(rt=$.getAttribute("type"))||"text"===rt.toLowerCase())},first:Zi(function(){return[0]}),last:Zi(function($,rt){return[rt-1]}),eq:Zi(function($,rt,gt){return[gt<0?gt+rt:gt]}),even:Zi(function($,rt){for(var gt=0;gt<rt;gt+=2)$.push(gt);return $}),odd:Zi(function($,rt){for(var gt=1;gt<rt;gt+=2)$.push(gt);return $}),lt:Zi(function($,rt,gt){for(var Rt=gt<0?gt+rt:rt<gt?rt:gt;0<=--Rt;)$.push(Rt);return $}),gt:Zi(function($,rt,gt){for(var Rt=gt<0?gt+rt:gt;++Rt<rt;)$.push(Rt);return $})}}).pseudos.nth=D.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[x]=jr(x);for(x in{submit:!0,reset:!0})D.pseudos[x]=al(x);function go(){}function Ea($){for(var rt=0,gt=$.length,Rt="";rt<gt;rt++)Rt+=$[rt].value;return Rt}function Yr($,rt,gt){var Rt=rt.dir,wt=rt.next,Gt=wt||Rt,Wt=gt&&"parentNode"===Gt,Kt=rn++;return rt.first?function(Jt,xe,we){for(;Jt=Jt[Rt];)if(1===Jt.nodeType||Wt)return $(Jt,xe,we);return!1}:function(Jt,xe,we){var Ee,Ze,zn,Be=[hi,Kt];if(we){for(;Jt=Jt[Rt];)if((1===Jt.nodeType||Wt)&&$(Jt,xe,we))return!0}else for(;Jt=Jt[Rt];)if(1===Jt.nodeType||Wt)if(Ze=(zn=Jt[fn]||(Jt[fn]={}))[Jt.uniqueID]||(zn[Jt.uniqueID]={}),wt&&wt===Jt.nodeName.toLowerCase())Jt=Jt[Rt]||Jt;else{if((Ee=Ze[Gt])&&Ee[0]===hi&&Ee[1]===Kt)return Be[2]=Ee[2];if((Ze[Gt]=Be)[2]=$(Jt,xe,we))return!0}return!1}}function ua($){return 1<$.length?function(rt,gt,Rt){for(var wt=$.length;wt--;)if(!$[wt](rt,gt,Rt))return!1;return!0}:$[0]}function La($,rt,gt,Rt,wt){for(var Gt,Wt=[],Kt=0,Jt=$.length,xe=null!=rt;Kt<Jt;Kt++)(Gt=$[Kt])&&(gt&&!gt(Gt,Rt,wt)||(Wt.push(Gt),xe&&rt.push(Kt)));return Wt}function mo($,rt,gt,Rt,wt,Gt){return Rt&&!Rt[fn]&&(Rt=mo(Rt)),wt&&!wt[fn]&&(wt=mo(wt,Gt)),ni(function(Wt,Kt,Jt,xe){var we,Ee,Ze,zn=[],Be=[],$n=Kt.length,wn=Wt||function(gi,ii,On){for(var Wi=0,Na=ii.length;Wi<Na;Wi++)_n(gi,ii[Wi],On);return On}(rt||"*",Jt.nodeType?[Jt]:Jt,[]),li=!$||!Wt&&rt?wn:La(wn,zn,$,Jt,xe),yn=gt?wt||(Wt?$:$n||Rt)?[]:Kt:li;if(gt&&gt(li,yn,Jt,xe),Rt)for(we=La(yn,Be),Rt(we,[],Jt,xe),Ee=we.length;Ee--;)(Ze=we[Ee])&&(yn[Be[Ee]]=!(li[Be[Ee]]=Ze));if(Wt){if(wt||$){if(wt){for(we=[],Ee=yn.length;Ee--;)(Ze=yn[Ee])&&we.push(li[Ee]=Ze);wt(null,yn=[],we,xe)}for(Ee=yn.length;Ee--;)(Ze=yn[Ee])&&-1<(we=wt?yi(Wt,Ze):zn[Ee])&&(Wt[we]=!(Kt[we]=Ze))}}else yn=La(yn===Kt?yn.splice($n,yn.length):yn),wt?wt(null,Kt,yn,xe):En.apply(Kt,yn)})}function Ia($){for(var rt,gt,Rt,wt=$.length,Gt=D.relative[$[0].type],Wt=Gt||D.relative[" "],Kt=Gt?1:0,Jt=Yr(function(Ee){return Ee===rt},Wt,!0),xe=Yr(function(Ee){return-1<yi(rt,Ee)},Wt,!0),we=[function(Ee,Ze,zn){var Be=!Gt&&(zn||Ze!==_t)||((rt=Ze).nodeType?Jt(Ee,Ze,zn):xe(Ee,Ze,zn));return rt=null,Be}];Kt<wt;Kt++)if(gt=D.relative[$[Kt].type])we=[Yr(ua(we),gt)];else{if((gt=D.filter[$[Kt].type].apply(null,$[Kt].matches))[fn]){for(Rt=++Kt;Rt<wt&&!D.relative[$[Rt].type];Rt++);return mo(1<Kt&&ua(we),1<Kt&&Ea($.slice(0,Kt-1).concat({value:" "===$[Kt-2].type?"*":""})).replace(pi,"$1"),gt,Kt<Rt&&Ia($.slice(Kt,Rt)),Rt<wt&&Ia($=$.slice(Rt)),Rt<wt&&Ea($))}we.push(gt)}return ua(we)}return go.prototype=D.filters=D.pseudos,D.setFilters=new go,Y=_n.tokenize=function($,rt){var gt,Rt,wt,Gt,Wt,Kt,Jt,xe=Fr[$+" "];if(xe)return rt?0:xe.slice(0);for(Wt=$,Kt=[],Jt=D.preFilter;Wt;){for(Gt in gt&&!(Rt=mr.exec(Wt))||(Rt&&(Wt=Wt.slice(Rt[0].length)||Wt),Kt.push(wt=[])),gt=!1,(Rt=Pa.exec(Wt))&&(gt=Rt.shift(),wt.push({value:gt,type:Rt[0].replace(pi," ")}),Wt=Wt.slice(gt.length)),D.filter)!(Rt=Ma[Gt].exec(Wt))||Jt[Gt]&&!(Rt=Jt[Gt](Rt))||(gt=Rt.shift(),wt.push({value:gt,type:Gt,matches:Rt}),Wt=Wt.slice(gt.length));if(!gt)break}return rt?Wt.length:Wt?_n.error($):Fr($,Kt).slice(0)},it=_n.compile=function($,rt){var gt,Rt,wt,Gt,Wt,Kt,Jt=[],xe=[],we=Hr[$+" "];if(!we){for(rt||(rt=Y($)),gt=rt.length;gt--;)(we=Ia(rt[gt]))[fn]?Jt.push(we):xe.push(we);(we=Hr($,(Rt=xe,Gt=0<(wt=Jt).length,Wt=0<Rt.length,Kt=function(Ee,Ze,zn,Be,$n){var wn,li,yn,gi=0,ii="0",On=Ee&&[],Wi=[],Na=_t,vo=Ee||Wt&&D.find.TAG("*",$n),_o=hi+=null==Na?1:Math.random()||.1,Ls=vo.length;for($n&&(_t=Ze==Et||Ze||$n);ii!==Ls&&null!=(wn=vo[ii]);ii++){if(Wt&&wn){for(li=0,Ze||wn.ownerDocument==Et||(Pt(wn),zn=!te);yn=Rt[li++];)if(yn(wn,Ze||Et,zn)){Be.push(wn);break}$n&&(hi=_o)}Gt&&((wn=!yn&&wn)&&gi--,Ee&&On.push(wn))}if(gi+=ii,Gt&&ii!==gi){for(li=0;yn=wt[li++];)yn(On,Wi,Ze,zn);if(Ee){if(0<gi)for(;ii--;)On[ii]||Wi[ii]||(Wi[ii]=Qi.call(Be));Wi=La(Wi)}En.apply(Be,Wi),$n&&!Ee&&0<Wi.length&&1<gi+wt.length&&_n.uniqueSort(Be)}return $n&&(hi=_o,_t=Na),On},Gt?ni(Kt):Kt))).selector=$}return we},lt=_n.select=function($,rt,gt,Rt){var wt,Gt,Wt,Kt,Jt,xe="function"==typeof $&&$,we=!Rt&&Y($=xe.selector||$);if(gt=gt||[],1===we.length){if(2<(Gt=we[0]=we[0].slice(0)).length&&"ID"===(Wt=Gt[0]).type&&9===rt.nodeType&&te&&D.relative[Gt[1].type]){if(!(rt=(D.find.ID(Wt.matches[0].replace(Fi,Hi),rt)||[])[0]))return gt;xe&&(rt=rt.parentNode),$=$.slice(Gt.shift().value.length)}for(wt=Ma.needsContext.test($)?0:Gt.length;wt--&&!D.relative[Kt=(Wt=Gt[wt]).type];)if((Jt=D.find[Kt])&&(Rt=Jt(Wt.matches[0].replace(Fi,Hi),fo.test(Gt[0].type)&&Da(rt.parentNode)||rt))){if(Gt.splice(wt,1),!($=Rt.length&&Ea(Gt)))return En.apply(gt,Rt),gt;break}}return(xe||it($,we))(Rt,rt,!te,gt,!rt||fo.test($)&&Da(rt.parentNode)||rt),gt},k.sortStable=fn.split("").sort(nr).join("")===fn,k.detectDuplicates=!!zt,Pt(),k.sortDetached=xi(function($){return 1&$.compareDocumentPosition(Et.createElement("fieldset"))}),xi(function($){return $.innerHTML="<a href='#'></a>","#"===$.firstChild.getAttribute("href")})||yr("type|href|height|width",function($,rt,gt){if(!gt)return $.getAttribute(rt,"type"===rt.toLowerCase()?1:2)}),k.attributes&&xi(function($){return $.innerHTML="<input/>",$.firstChild.setAttribute("value",""),""===$.firstChild.getAttribute("value")})||yr("value",function($,rt,gt){if(!gt&&"input"===$.nodeName.toLowerCase())return $.defaultValue}),xi(function($){return null==$.getAttribute("disabled")})||yr(zi,function($,rt,gt){var Rt;if(!gt)return!0===$[rt]?rt.toLowerCase():(Rt=$.getAttributeNode(rt))&&Rt.specified?Rt.value:null}),_n}(r);E.find=_e,E.expr=_e.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=_e.uniqueSort,E.text=_e.getText,E.isXMLDoc=_e.isXML,E.contains=_e.contains,E.escapeSelector=_e.escape;var Ue=function(p,x,k){for(var D=[],R=void 0!==k;(p=p[x])&&9!==p.nodeType;)if(1===p.nodeType){if(R&&E(p).is(k))break;D.push(p)}return D},pn=function(p,x){for(var k=[];p;p=p.nextSibling)1===p.nodeType&&p!==x&&k.push(p);return k},se=E.expr.match.needsContext;function et(p,x){return p.nodeName&&p.nodeName.toLowerCase()===x.toLowerCase()}var nt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function n(p,x,k){return ce(x)?E.grep(p,function(D,R){return!!x.call(D,R,D)!==k}):x.nodeType?E.grep(p,function(D){return D===x!==k}):"string"!=typeof x?E.grep(p,function(D){return-1<Ye.call(x,D)!==k}):E.filter(x,p,k)}E.filter=function(p,x,k){var D=x[0];return k&&(p=":not("+p+")"),1===x.length&&1===D.nodeType?E.find.matchesSelector(D,p)?[D]:[]:E.find.matches(p,E.grep(x,function(R){return 1===R.nodeType}))},E.fn.extend({find:function(p){var x,k,D=this.length,R=this;if("string"!=typeof p)return this.pushStack(E(p).filter(function(){for(x=0;x<D;x++)if(E.contains(R[x],this))return!0}));for(k=this.pushStack([]),x=0;x<D;x++)E.find(p,R[x],k);return 1<D?E.uniqueSort(k):k},filter:function(p){return this.pushStack(n(this,p||[],!1))},not:function(p){return this.pushStack(n(this,p||[],!0))},is:function(p){return!!n(this,"string"==typeof p&&se.test(p)?E(p):p||[],!1).length}});var o,h=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(p,x,k){var D,R;if(!p)return this;if(k=k||o,"string"==typeof p){if(!(D="<"===p[0]&&">"===p[p.length-1]&&3<=p.length?[null,p,null]:h.exec(p))||!D[1]&&x)return!x||x.jquery?(x||k).find(p):this.constructor(x).find(p);if(D[1]){if(E.merge(this,E.parseHTML(D[1],(x=x instanceof E?x[0]:x)&&x.nodeType?x.ownerDocument||x:ee,!0)),nt.test(D[1])&&E.isPlainObject(x))for(D in x)ce(this[D])?this[D](x[D]):this.attr(D,x[D]);return this}return(R=ee.getElementById(D[2]))&&(this[0]=R,this.length=1),this}return p.nodeType?(this[0]=p,this.length=1,this):ce(p)?void 0!==k.ready?k.ready(p):p(E):E.makeArray(p,this)}).prototype=E.fn,o=E(ee);var f=/^(?:parents|prev(?:Until|All))/,w={children:!0,contents:!0,next:!0,prev:!0};function C(p,x){for(;(p=p[x])&&1!==p.nodeType;);return p}E.fn.extend({has:function(p){var x=E(p,this),k=x.length;return this.filter(function(){for(var D=0;D<k;D++)if(E.contains(this,x[D]))return!0})},closest:function(p,x){var k,D=0,R=this.length,W=[],Y="string"!=typeof p&&E(p);if(!se.test(p))for(;D<R;D++)for(k=this[D];k&&k!==x;k=k.parentNode)if(k.nodeType<11&&(Y?-1<Y.index(k):1===k.nodeType&&E.find.matchesSelector(k,p))){W.push(k);break}return this.pushStack(1<W.length?E.uniqueSort(W):W)},index:function(p){return p?"string"==typeof p?Ye.call(E(p),this[0]):Ye.call(this,p.jquery?p[0]:p):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(p,x){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(p,x))))},addBack:function(p){return this.add(null==p?this.prevObject:this.prevObject.filter(p))}}),E.each({parent:function(p){var x=p.parentNode;return x&&11!==x.nodeType?x:null},parents:function(p){return Ue(p,"parentNode")},parentsUntil:function(p,x,k){return Ue(p,"parentNode",k)},next:function(p){return C(p,"nextSibling")},prev:function(p){return C(p,"previousSibling")},nextAll:function(p){return Ue(p,"nextSibling")},prevAll:function(p){return Ue(p,"previousSibling")},nextUntil:function(p,x,k){return Ue(p,"nextSibling",k)},prevUntil:function(p,x,k){return Ue(p,"previousSibling",k)},siblings:function(p){return pn((p.parentNode||{}).firstChild,p)},children:function(p){return pn(p.firstChild)},contents:function(p){return null!=p.contentDocument&&xn(p.contentDocument)?p.contentDocument:(et(p,"template")&&(p=p.content||p),E.merge([],p.childNodes))}},function(p,x){E.fn[p]=function(k,D){var R=E.map(this,x,k);return"Until"!==p.slice(-5)&&(D=k),D&&"string"==typeof D&&(R=E.filter(D,R)),1<this.length&&(w[p]||E.uniqueSort(R),f.test(p)&&R.reverse()),this.pushStack(R)}});var L=/[^\x20\t\r\n\f]+/g;function M(p){return p}function G(p){throw p}function F(p,x,k,D){var R;try{p&&ce(R=p.promise)?R.call(p).done(x).fail(k):p&&ce(R=p.then)?R.call(p,x,k):x.apply(void 0,[p].slice(D))}catch(W){k.apply(void 0,[W])}}E.Callbacks=function(p){var k;p="string"==typeof p?(k={},E.each(p.match(L)||[],function(Pt,Et){k[Et]=!0}),k):E.extend({},p);var D,R,W,Y,it=[],lt=[],_t=-1,Lt=function(){for(Y=Y||p.once,W=D=!0;lt.length;_t=-1)for(R=lt.shift();++_t<it.length;)!1===it[_t].apply(R[0],R[1])&&p.stopOnFalse&&(_t=it.length,R=!1);p.memory||(R=!1),D=!1,Y&&(it=R?[]:"")},zt={add:function(){return it&&(R&&!D&&(_t=it.length-1,lt.push(R)),function Pt(Et){E.each(Et,function(ie,te){ce(te)?p.unique&&zt.has(te)||it.push(te):te&&te.length&&"string"!==Re(te)&&Pt(te)})}(arguments),R&&!D&&Lt()),this},remove:function(){return E.each(arguments,function(Pt,Et){for(var ie;-1<(ie=E.inArray(Et,it,ie));)it.splice(ie,1),ie<=_t&&_t--}),this},has:function(Pt){return Pt?-1<E.inArray(Pt,it):0<it.length},empty:function(){return it&&(it=[]),this},disable:function(){return Y=lt=[],it=R="",this},disabled:function(){return!it},lock:function(){return Y=lt=[],R||D||(it=R=""),this},locked:function(){return!!Y},fireWith:function(Pt,Et){return Y||(Et=[Pt,(Et=Et||[]).slice?Et.slice():Et],lt.push(Et),D||Lt()),this},fire:function(){return zt.fireWith(this,arguments),this},fired:function(){return!!W}};return zt},E.extend({Deferred:function(p){var x=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],k="pending",D={state:function(){return k},always:function(){return R.done(arguments).fail(arguments),this},catch:function(W){return D.then(null,W)},pipe:function(){var W=arguments;return E.Deferred(function(Y){E.each(x,function(it,lt){var _t=ce(W[lt[4]])&&W[lt[4]];R[lt[1]](function(){var Lt=_t&&_t.apply(this,arguments);Lt&&ce(Lt.promise)?Lt.promise().progress(Y.notify).done(Y.resolve).fail(Y.reject):Y[lt[0]+"With"](this,_t?[Lt]:arguments)})}),W=null}).promise()},then:function(W,Y,it){var lt=0;function _t(Lt,zt,Pt,Et){return function(){var ie=this,te=arguments,ae=function(){var jn,Ai;if(!(Lt<lt)){if((jn=Pt.apply(ie,te))===zt.promise())throw new TypeError("Thenable self-resolution");ce(Ai=jn&&("object"==typeof jn||"function"==typeof jn)&&jn.then)?Et?Ai.call(jn,_t(lt,zt,M,Et),_t(lt,zt,G,Et)):(lt++,Ai.call(jn,_t(lt,zt,M,Et),_t(lt,zt,G,Et),_t(lt,zt,M,zt.notifyWith))):(Pt!==M&&(ie=void 0,te=[jn]),(Et||zt.resolveWith)(ie,te))}},Dn=Et?ae:function(){try{ae()}catch(jn){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(jn,Dn.stackTrace),lt<=Lt+1&&(Pt!==G&&(ie=void 0,te=[jn]),zt.rejectWith(ie,te))}};Lt?Dn():(E.Deferred.getStackHook&&(Dn.stackTrace=E.Deferred.getStackHook()),r.setTimeout(Dn))}}return E.Deferred(function(Lt){x[0][3].add(_t(0,Lt,ce(it)?it:M,Lt.notifyWith)),x[1][3].add(_t(0,Lt,ce(W)?W:M)),x[2][3].add(_t(0,Lt,ce(Y)?Y:G))}).promise()},promise:function(W){return null!=W?E.extend(W,D):D}},R={};return E.each(x,function(W,Y){var it=Y[2],lt=Y[5];D[Y[1]]=it.add,lt&&it.add(function(){k=lt},x[3-W][2].disable,x[3-W][3].disable,x[0][2].lock,x[0][3].lock),it.add(Y[3].fire),R[Y[0]]=function(){return R[Y[0]+"With"](this===R?void 0:this,arguments),this},R[Y[0]+"With"]=it.fireWith}),D.promise(R),p&&p.call(R,R),R},when:function(p){var x=arguments.length,k=x,D=Array(k),R=pe.call(arguments),W=E.Deferred(),Y=function(it){return function(lt){D[it]=this,R[it]=1<arguments.length?pe.call(arguments):lt,--x||W.resolveWith(D,R)}};if(x<=1&&(F(p,W.done(Y(k)).resolve,W.reject,!x),"pending"===W.state()||ce(R[k]&&R[k].then)))return W.then();for(;k--;)F(R[k],Y(k),W.reject);return W.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(p,x){r.console&&r.console.warn&&p&&V.test(p.name)&&r.console.warn("jQuery.Deferred exception: "+p.message,p.stack,x)},E.readyException=function(p){r.setTimeout(function(){throw p})};var tt=E.Deferred();function dt(){ee.removeEventListener("DOMContentLoaded",dt),r.removeEventListener("load",dt),E.ready()}E.fn.ready=function(p){return tt.then(p).catch(function(x){E.readyException(x)}),this},E.extend({isReady:!1,readyWait:1,ready:function(p){(!0===p?--E.readyWait:E.isReady)||(E.isReady=!0)!==p&&0<--E.readyWait||tt.resolveWith(ee,[E])}}),E.ready.then=tt.then,"complete"===ee.readyState||"loading"!==ee.readyState&&!ee.documentElement.doScroll?r.setTimeout(E.ready):(ee.addEventListener("DOMContentLoaded",dt),r.addEventListener("load",dt));var J=function(p,x,k,D,R,W,Y){var it=0,lt=p.length,_t=null==k;if("object"===Re(k))for(it in R=!0,k)J(p,x,it,k[it],!0,W,Y);else if(void 0!==D&&(R=!0,ce(D)||(Y=!0),_t&&(Y?(x.call(p,D),x=null):(_t=x,x=function(Lt,zt,Pt){return _t.call(E(Lt),Pt)})),x))for(;it<lt;it++)x(p[it],k,Y?D:D.call(p[it],it,x(p[it],k)));return R?p:_t?x.call(p):lt?x(p[0],k):W},mt=/^-ms-/,Ct=/-([a-z])/g;function Mt(p,x){return x.toUpperCase()}function at(p){return p.replace(mt,"ms-").replace(Ct,Mt)}var re=function(p){return 1===p.nodeType||9===p.nodeType||!+p.nodeType};function Dt(){this.expando=E.expando+Dt.uid++}Dt.uid=1,Dt.prototype={cache:function(p){var x=p[this.expando];return x||(x={},re(p)&&(p.nodeType?p[this.expando]=x:Object.defineProperty(p,this.expando,{value:x,configurable:!0}))),x},set:function(p,x,k){var D,R=this.cache(p);if("string"==typeof x)R[at(x)]=k;else for(D in x)R[at(D)]=x[D];return R},get:function(p,x){return void 0===x?this.cache(p):p[this.expando]&&p[this.expando][at(x)]},access:function(p,x,k){return void 0===x||x&&"string"==typeof x&&void 0===k?this.get(p,x):(this.set(p,x,k),void 0!==k?k:x)},remove:function(p,x){var k,D=p[this.expando];if(void 0!==D){if(void 0!==x)for((k=(x=Array.isArray(x)?x.map(at):(x=at(x))in D?[x]:x.match(L)||[]).length);k--;)delete D[x[k]];(void 0===x||E.isEmptyObject(D))&&(p.nodeType?p[this.expando]=void 0:delete p[this.expando])}},hasData:function(p){var x=p[this.expando];return void 0!==x&&!E.isEmptyObject(x)}};var At=new Dt,Ut=new Dt,he=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Zt=/[A-Z]/g;function Ft(p,x,k){var D,R;if(void 0===k&&1===p.nodeType)if(D="data-"+x.replace(Zt,"-$&").toLowerCase(),"string"==typeof(k=p.getAttribute(D))){try{k="true"===(R=k)||"false"!==R&&("null"===R?null:R===+R+""?+R:he.test(R)?JSON.parse(R):R)}catch{}Ut.set(p,x,k)}else k=void 0;return k}E.extend({hasData:function(p){return Ut.hasData(p)||At.hasData(p)},data:function(p,x,k){return Ut.access(p,x,k)},removeData:function(p,x){Ut.remove(p,x)},_data:function(p,x,k){return At.access(p,x,k)},_removeData:function(p,x){At.remove(p,x)}}),E.fn.extend({data:function(p,x){var k,D,R,W=this[0],Y=W&&W.attributes;if(void 0===p){if(this.length&&(R=Ut.get(W),1===W.nodeType&&!At.get(W,"hasDataAttrs"))){for(k=Y.length;k--;)Y[k]&&0===(D=Y[k].name).indexOf("data-")&&(D=at(D.slice(5)),Ft(W,D,R[D]));At.set(W,"hasDataAttrs",!0)}return R}return"object"==typeof p?this.each(function(){Ut.set(this,p)}):J(this,function(it){var lt;if(W&&void 0===it)return void 0!==(lt=Ut.get(W,p))||void 0!==(lt=Ft(W,p))?lt:void 0;this.each(function(){Ut.set(this,p,it)})},null,x,1<arguments.length,null,!0)},removeData:function(p){return this.each(function(){Ut.remove(this,p)})}}),E.extend({queue:function(p,x,k){var D;if(p)return D=At.get(p,x=(x||"fx")+"queue"),k&&(!D||Array.isArray(k)?D=At.access(p,x,E.makeArray(k)):D.push(k)),D||[]},dequeue:function(p,x){var k=E.queue(p,x=x||"fx"),D=k.length,R=k.shift(),W=E._queueHooks(p,x);"inprogress"===R&&(R=k.shift(),D--),R&&("fx"===x&&k.unshift("inprogress"),delete W.stop,R.call(p,function(){E.dequeue(p,x)},W)),!D&&W&&W.empty.fire()},_queueHooks:function(p,x){var k=x+"queueHooks";return At.get(p,k)||At.access(p,k,{empty:E.Callbacks("once memory").add(function(){At.remove(p,[x+"queue",k])})})}}),E.fn.extend({queue:function(p,x){var k=2;return"string"!=typeof p&&(x=p,p="fx",k--),arguments.length<k?E.queue(this[0],p):void 0===x?this:this.each(function(){var D=E.queue(this,p,x);E._queueHooks(this,p),"fx"===p&&"inprogress"!==D[0]&&E.dequeue(this,p)})},dequeue:function(p){return this.each(function(){E.dequeue(this,p)})},clearQueue:function(p){return this.queue(p||"fx",[])},promise:function(p,x){var k,D=1,R=E.Deferred(),W=this,Y=this.length,it=function(){--D||R.resolveWith(W,[W])};for("string"!=typeof p&&(x=p,p=void 0),p=p||"fx";Y--;)(k=At.get(W[Y],p+"queueHooks"))&&k.empty&&(D++,k.empty.add(it));return it(),R.promise(x)}});var $t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Yt=new RegExp("^(?:([+-])=|)("+$t+")([a-z%]*)$","i"),Bt=["Top","Right","Bottom","Left"],Le=ee.documentElement,be=function(p){return E.contains(p.ownerDocument,p)},gn={composed:!0};Le.getRootNode&&(be=function(p){return E.contains(p.ownerDocument,p)||p.getRootNode(gn)===p.ownerDocument});var nn=function(p,x){return"none"===(p=x||p).style.display||""===p.style.display&&be(p)&&"none"===E.css(p,"display")};function Pe(p,x,k,D){var R,W,Y=20,it=D?function(){return D.cur()}:function(){return E.css(p,x,"")},lt=it(),_t=k&&k[3]||(E.cssNumber[x]?"":"px"),Lt=p.nodeType&&(E.cssNumber[x]||"px"!==_t&&+lt)&&Yt.exec(E.css(p,x));if(Lt&&Lt[3]!==_t){for(_t=_t||Lt[3],Lt=+(lt/=2)||1;Y--;)E.style(p,x,Lt+_t),(1-W)*(1-(W=it()/lt||.5))<=0&&(Y=0),Lt/=W;E.style(p,x,(Lt*=2)+_t),k=k||[]}return k&&(Lt=+Lt||+lt||0,R=k[1]?Lt+(k[1]+1)*k[2]:+k[2],D&&(D.unit=_t,D.start=Lt,D.end=R)),R}var Me={};function De(p,x){for(var k,D,R,W,Y,it,lt,_t=[],Lt=0,zt=p.length;Lt<zt;Lt++)(D=p[Lt]).style&&(k=D.style.display,x?("none"===k&&(_t[Lt]=At.get(D,"display")||null,_t[Lt]||(D.style.display="")),""===D.style.display&&nn(D)&&(_t[Lt]=(lt=Y=W=void 0,Y=(R=D).ownerDocument,(lt=Me[it=R.nodeName])||(W=Y.body.appendChild(Y.createElement(it)),lt=E.css(W,"display"),W.parentNode.removeChild(W),"none"===lt&&(lt="block"),Me[it]=lt)))):"none"!==k&&(_t[Lt]="none",At.set(D,"display",k)));for(Lt=0;Lt<zt;Lt++)null!=_t[Lt]&&(p[Lt].style.display=_t[Lt]);return p}E.fn.extend({show:function(){return De(this,!0)},hide:function(){return De(this)},toggle:function(p){return"boolean"==typeof p?p?this.show():this.hide():this.each(function(){nn(this)?E(this).show():E(this).hide()})}});var Xt,e,s=/^(?:checkbox|radio)$/i,l=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,g=/^$|^module$|\/(?:java|ecma)script/i;Xt=ee.createDocumentFragment().appendChild(ee.createElement("div")),(e=ee.createElement("input")).setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),Xt.appendChild(e),le.checkClone=Xt.cloneNode(!0).cloneNode(!0).lastChild.checked,Xt.innerHTML="<textarea>x</textarea>",le.noCloneChecked=!!Xt.cloneNode(!0).lastChild.defaultValue,Xt.innerHTML="<option></option>",le.option=!!Xt.lastChild;var y={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function A(p,x){var k;return k=typeof p.getElementsByTagName<"u"?p.getElementsByTagName(x||"*"):typeof p.querySelectorAll<"u"?p.querySelectorAll(x||"*"):[],void 0===x||x&&et(p,x)?E.merge([p],k):k}function N(p,x){for(var k=0,D=p.length;k<D;k++)At.set(p[k],"globalEval",!x||At.get(x[k],"globalEval"))}y.tbody=y.tfoot=y.colgroup=y.caption=y.thead,y.th=y.td,le.option||(y.optgroup=y.option=[1,"<select multiple='multiple'>","</select>"]);var j=/<|&#?\w+;/;function X(p,x,k,D,R){for(var W,Y,it,lt,_t,Lt,zt=x.createDocumentFragment(),Pt=[],Et=0,ie=p.length;Et<ie;Et++)if((W=p[Et])||0===W)if("object"===Re(W))E.merge(Pt,W.nodeType?[W]:W);else if(j.test(W)){for(Y=Y||zt.appendChild(x.createElement("div")),it=(l.exec(W)||["",""])[1].toLowerCase(),Y.innerHTML=(lt=y[it]||y._default)[1]+E.htmlPrefilter(W)+lt[2],Lt=lt[0];Lt--;)Y=Y.lastChild;E.merge(Pt,Y.childNodes),(Y=zt.firstChild).textContent=""}else Pt.push(x.createTextNode(W));for(zt.textContent="",Et=0;W=Pt[Et++];)if(D&&-1<E.inArray(W,D))R&&R.push(W);else if(_t=be(W),Y=A(zt.appendChild(W),"script"),_t&&N(Y),k)for(Lt=0;W=Y[Lt++];)g.test(W.type||"")&&k.push(W);return zt}var ht=/^([^.]*)(?:\.(.+)|)/;function ut(){return!0}function ot(){return!1}function yt(p,x){return p===function(){try{return ee.activeElement}catch{}}()==("focus"===x)}function It(p,x,k,D,R,W){var Y,it;if("object"==typeof x){for(it in"string"!=typeof k&&(D=D||k,k=void 0),x)It(p,it,k,D,x[it],W);return p}if(null==D&&null==R?(R=k,D=k=void 0):null==R&&("string"==typeof k?(R=D,D=void 0):(R=D,D=k,k=void 0)),!1===R)R=ot;else if(!R)return p;return 1===W&&(Y=R,(R=function(lt){return E().off(lt),Y.apply(this,arguments)}).guid=Y.guid||(Y.guid=E.guid++)),p.each(function(){E.event.add(this,x,R,D,k)})}function qt(p,x,k){k?(At.set(p,x,!1),E.event.add(p,x,{namespace:!1,handler:function(D){var R,W,Y=At.get(this,x);if(1&D.isTrigger&&this[x]){if(Y.length)(E.event.special[x]||{}).delegateType&&D.stopPropagation();else if(Y=pe.call(arguments),At.set(this,x,Y),R=k(this,x),this[x](),Y!==(W=At.get(this,x))||R?At.set(this,x,!1):W={},Y!==W)return D.stopImmediatePropagation(),D.preventDefault(),W&&W.value}else Y.length&&(At.set(this,x,{value:E.event.trigger(E.extend(Y[0],E.Event.prototype),Y.slice(1),this)}),D.stopImmediatePropagation())}})):void 0===At.get(p,x)&&E.event.add(p,x,ut)}E.event={global:{},add:function(p,x,k,D,R){var W,Y,it,lt,_t,Lt,zt,Pt,Et,ie,te,ae=At.get(p);if(re(p))for(k.handler&&(k=(W=k).handler,R=W.selector),R&&E.find.matchesSelector(Le,R),k.guid||(k.guid=E.guid++),(lt=ae.events)||(lt=ae.events=Object.create(null)),(Y=ae.handle)||(Y=ae.handle=function(Dn){return typeof E<"u"&&E.event.triggered!==Dn.type?E.event.dispatch.apply(p,arguments):void 0}),_t=(x=(x||"").match(L)||[""]).length;_t--;)Et=te=(it=ht.exec(x[_t])||[])[1],ie=(it[2]||"").split(".").sort(),Et&&(zt=E.event.special[Et]||{},zt=E.event.special[Et=(R?zt.delegateType:zt.bindType)||Et]||{},Lt=E.extend({type:Et,origType:te,data:D,handler:k,guid:k.guid,selector:R,needsContext:R&&E.expr.match.needsContext.test(R),namespace:ie.join(".")},W),(Pt=lt[Et])||((Pt=lt[Et]=[]).delegateCount=0,zt.setup&&!1!==zt.setup.call(p,D,ie,Y)||p.addEventListener&&p.addEventListener(Et,Y)),zt.add&&(zt.add.call(p,Lt),Lt.handler.guid||(Lt.handler.guid=k.guid)),R?Pt.splice(Pt.delegateCount++,0,Lt):Pt.push(Lt),E.event.global[Et]=!0)},remove:function(p,x,k,D,R){var W,Y,it,lt,_t,Lt,zt,Pt,Et,ie,te,ae=At.hasData(p)&&At.get(p);if(ae&&(lt=ae.events)){for(_t=(x=(x||"").match(L)||[""]).length;_t--;)if(Et=te=(it=ht.exec(x[_t])||[])[1],ie=(it[2]||"").split(".").sort(),Et){for(zt=E.event.special[Et]||{},Pt=lt[Et=(D?zt.delegateType:zt.bindType)||Et]||[],it=it[2]&&new RegExp("(^|\\.)"+ie.join("\\.(?:.*\\.|)")+"(\\.|$)"),Y=W=Pt.length;W--;)Lt=Pt[W],!R&&te!==Lt.origType||k&&k.guid!==Lt.guid||it&&!it.test(Lt.namespace)||D&&D!==Lt.selector&&("**"!==D||!Lt.selector)||(Pt.splice(W,1),Lt.selector&&Pt.delegateCount--,zt.remove&&zt.remove.call(p,Lt));Y&&!Pt.length&&(zt.teardown&&!1!==zt.teardown.call(p,ie,ae.handle)||E.removeEvent(p,Et,ae.handle),delete lt[Et])}else for(Et in lt)E.event.remove(p,Et+x[_t],k,D,!0);E.isEmptyObject(lt)&&At.remove(p,"handle events")}},dispatch:function(p){var x,k,D,R,W,Y,it=new Array(arguments.length),lt=E.event.fix(p),_t=(At.get(this,"events")||Object.create(null))[lt.type]||[],Lt=E.event.special[lt.type]||{};for(it[0]=lt,x=1;x<arguments.length;x++)it[x]=arguments[x];if(lt.delegateTarget=this,!Lt.preDispatch||!1!==Lt.preDispatch.call(this,lt)){for(Y=E.event.handlers.call(this,lt,_t),x=0;(R=Y[x++])&&!lt.isPropagationStopped();)for(lt.currentTarget=R.elem,k=0;(W=R.handlers[k++])&&!lt.isImmediatePropagationStopped();)lt.rnamespace&&!1!==W.namespace&&!lt.rnamespace.test(W.namespace)||(lt.handleObj=W,lt.data=W.data,void 0!==(D=((E.event.special[W.origType]||{}).handle||W.handler).apply(R.elem,it))&&!1===(lt.result=D)&&(lt.preventDefault(),lt.stopPropagation()));return Lt.postDispatch&&Lt.postDispatch.call(this,lt),lt.result}},handlers:function(p,x){var k,D,R,W,Y,it=[],lt=x.delegateCount,_t=p.target;if(lt&&_t.nodeType&&!("click"===p.type&&1<=p.button))for(;_t!==this;_t=_t.parentNode||this)if(1===_t.nodeType&&("click"!==p.type||!0!==_t.disabled)){for(W=[],Y={},k=0;k<lt;k++)void 0===Y[R=(D=x[k]).selector+" "]&&(Y[R]=D.needsContext?-1<E(R,this).index(_t):E.find(R,this,null,[_t]).length),Y[R]&&W.push(D);W.length&&it.push({elem:_t,handlers:W})}return _t=this,lt<x.length&&it.push({elem:_t,handlers:x.slice(lt)}),it},addProp:function(p,x){Object.defineProperty(E.Event.prototype,p,{enumerable:!0,configurable:!0,get:ce(x)?function(){if(this.originalEvent)return x(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[p]},set:function(k){Object.defineProperty(this,p,{enumerable:!0,configurable:!0,writable:!0,value:k})}})},fix:function(p){return p[E.expando]?p:new E.Event(p)},special:{load:{noBubble:!0},click:{setup:function(p){var x=this||p;return s.test(x.type)&&x.click&&et(x,"input")&&qt(x,"click",ut),!1},trigger:function(p){var x=this||p;return s.test(x.type)&&x.click&&et(x,"input")&&qt(x,"click"),!0},_default:function(p){var x=p.target;return s.test(x.type)&&x.click&&et(x,"input")&&At.get(x,"click")||et(x,"a")}},beforeunload:{postDispatch:function(p){void 0!==p.result&&p.originalEvent&&(p.originalEvent.returnValue=p.result)}}}},E.removeEvent=function(p,x,k){p.removeEventListener&&p.removeEventListener(x,k)},E.Event=function(p,x){if(!(this instanceof E.Event))return new E.Event(p,x);p&&p.type?(this.originalEvent=p,this.type=p.type,this.isDefaultPrevented=p.defaultPrevented||void 0===p.defaultPrevented&&!1===p.returnValue?ut:ot,this.target=p.target&&3===p.target.nodeType?p.target.parentNode:p.target,this.currentTarget=p.currentTarget,this.relatedTarget=p.relatedTarget):this.type=p,x&&E.extend(this,x),this.timeStamp=p&&p.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,isSimulated:!1,preventDefault:function(){var p=this.originalEvent;this.isDefaultPrevented=ut,p&&!this.isSimulated&&p.preventDefault()},stopPropagation:function(){var p=this.originalEvent;this.isPropagationStopped=ut,p&&!this.isSimulated&&p.stopPropagation()},stopImmediatePropagation:function(){var p=this.originalEvent;this.isImmediatePropagationStopped=ut,p&&!this.isSimulated&&p.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(p,x){E.event.special[p]={setup:function(){return qt(this,p,yt),!1},trigger:function(){return qt(this,p),!0},_default:function(){return!0},delegateType:x}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(p,x){E.event.special[p]={delegateType:x,bindType:x,handle:function(k){var D,R=k.relatedTarget,W=k.handleObj;return R&&(R===this||E.contains(this,R))||(k.type=W.origType,D=W.handler.apply(this,arguments),k.type=x),D}}}),E.fn.extend({on:function(p,x,k,D){return It(this,p,x,k,D)},one:function(p,x,k,D){return It(this,p,x,k,D,1)},off:function(p,x,k){var D,R;if(p&&p.preventDefault&&p.handleObj)return D=p.handleObj,E(p.delegateTarget).off(D.namespace?D.origType+"."+D.namespace:D.origType,D.selector,D.handler),this;if("object"==typeof p){for(R in p)this.off(R,x,p[R]);return this}return!1!==x&&"function"!=typeof x||(k=x,x=void 0),!1===k&&(k=ot),this.each(function(){E.event.remove(this,p,k,x)})}});var jt=/<script|<style|<link/i,Vt=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ge(p,x){return et(p,"table")&&et(11!==x.nodeType?x:x.firstChild,"tr")&&E(p).children("tbody")[0]||p}function vn(p){return p.type=(null!==p.getAttribute("type"))+"/"+p.type,p}function He(p){return"true/"===(p.type||"").slice(0,5)?p.type=p.type.slice(5):p.removeAttribute("type"),p}function de(p,x){var k,D,R,W,Y,it;if(1===x.nodeType){if(At.hasData(p)&&(it=At.get(p).events))for(R in At.remove(x,"handle events"),it)for(k=0,D=it[R].length;k<D;k++)E.event.add(x,R,it[R][k]);Ut.hasData(p)&&(W=Ut.access(p),Y=E.extend({},W),Ut.set(x,Y))}}function me(p,x,k,D){x=Tt(x);var R,W,Y,it,lt,_t,Lt=0,zt=p.length,Pt=zt-1,Et=x[0],ie=ce(Et);if(ie||1<zt&&"string"==typeof Et&&!le.checkClone&&Vt.test(Et))return p.each(function(te){var ae=p.eq(te);ie&&(x[0]=Et.call(this,te,ae.html())),me(ae,x,k,D)});if(zt&&(W=(R=X(x,p[0].ownerDocument,!1,p,D)).firstChild,1===R.childNodes.length&&(R=W),W||D)){for(it=(Y=E.map(A(R,"script"),vn)).length;Lt<zt;Lt++)lt=R,Lt!==Pt&&(lt=E.clone(lt,!0,!0),it&&E.merge(Y,A(lt,"script"))),k.call(p[Lt],lt,Lt);if(it)for(_t=Y[Y.length-1].ownerDocument,E.map(Y,He),Lt=0;Lt<it;Lt++)g.test((lt=Y[Lt]).type||"")&&!At.access(lt,"globalEval")&&E.contains(_t,lt)&&(lt.src&&"module"!==(lt.type||"").toLowerCase()?E._evalUrl&&!lt.noModule&&E._evalUrl(lt.src,{nonce:lt.nonce||lt.getAttribute("nonce")},_t):ye(lt.textContent.replace(ze,""),lt,_t))}return p}function dn(p,x,k){for(var D,R=x?E.filter(x,p):p,W=0;null!=(D=R[W]);W++)k||1!==D.nodeType||E.cleanData(A(D)),D.parentNode&&(k&&be(D)&&N(A(D,"script")),D.parentNode.removeChild(D));return p}E.extend({htmlPrefilter:function(p){return p},clone:function(p,x,k){var D,R,W,Y,it,lt,_t,Lt=p.cloneNode(!0),zt=be(p);if(!(le.noCloneChecked||1!==p.nodeType&&11!==p.nodeType||E.isXMLDoc(p)))for(Y=A(Lt),D=0,R=(W=A(p)).length;D<R;D++)it=W[D],"input"===(_t=(lt=Y[D]).nodeName.toLowerCase())&&s.test(it.type)?lt.checked=it.checked:"input"!==_t&&"textarea"!==_t||(lt.defaultValue=it.defaultValue);if(x)if(k)for(W=W||A(p),Y=Y||A(Lt),D=0,R=W.length;D<R;D++)de(W[D],Y[D]);else de(p,Lt);return 0<(Y=A(Lt,"script")).length&&N(Y,!zt&&A(p,"script")),Lt},cleanData:function(p){for(var x,k,D,R=E.event.special,W=0;void 0!==(k=p[W]);W++)if(re(k)){if(x=k[At.expando]){if(x.events)for(D in x.events)R[D]?E.event.remove(k,D):E.removeEvent(k,D,x.handle);k[At.expando]=void 0}k[Ut.expando]&&(k[Ut.expando]=void 0)}}}),E.fn.extend({detach:function(p){return dn(this,p,!0)},remove:function(p){return dn(this,p)},text:function(p){return J(this,function(x){return void 0===x?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=x)})},null,p,arguments.length)},append:function(){return me(this,arguments,function(p){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ge(this,p).appendChild(p)})},prepend:function(){return me(this,arguments,function(p){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var x=ge(this,p);x.insertBefore(p,x.firstChild)}})},before:function(){return me(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this)})},after:function(){return me(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this.nextSibling)})},empty:function(){for(var p,x=0;null!=(p=this[x]);x++)1===p.nodeType&&(E.cleanData(A(p,!1)),p.textContent="");return this},clone:function(p,x){return p=null!=p&&p,x=x??p,this.map(function(){return E.clone(this,p,x)})},html:function(p){return J(this,function(x){var k=this[0]||{},D=0,R=this.length;if(void 0===x&&1===k.nodeType)return k.innerHTML;if("string"==typeof x&&!jt.test(x)&&!y[(l.exec(x)||["",""])[1].toLowerCase()]){x=E.htmlPrefilter(x);try{for(;D<R;D++)1===(k=this[D]||{}).nodeType&&(E.cleanData(A(k,!1)),k.innerHTML=x);k=0}catch{}}k&&this.empty().append(x)},null,p,arguments.length)},replaceWith:function(){var p=[];return me(this,arguments,function(x){var k=this.parentNode;E.inArray(this,p)<0&&(E.cleanData(A(this)),k&&k.replaceChild(x,this))},p)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(p,x){E.fn[p]=function(k){for(var D,R=[],W=E(k),Y=W.length-1,it=0;it<=Y;it++)D=it===Y?this:this.clone(!0),E(W[it])[x](D),We.apply(R,D.get());return this.pushStack(R)}});var Nn=new RegExp("^("+$t+")(?!px)[a-z%]+$","i"),tn=function(p){var x=p.ownerDocument.defaultView;return x&&x.opener||(x=r),x.getComputedStyle(p)},Ke=function(p,x,k){var D,R,W={};for(R in x)W[R]=p.style[R],p.style[R]=x[R];for(R in D=k.call(p),x)p.style[R]=W[R];return D},Ie=new RegExp(Bt.join("|"),"i");function sn(p,x,k){var D,R,W,Y,it=p.style;return(k=k||tn(p))&&(""!==(Y=k.getPropertyValue(x)||k[x])||be(p)||(Y=E.style(p,x)),!le.pixelBoxStyles()&&Nn.test(Y)&&Ie.test(x)&&(D=it.width,R=it.minWidth,W=it.maxWidth,it.minWidth=it.maxWidth=it.width=Y,Y=k.width,it.width=D,it.minWidth=R,it.maxWidth=W)),void 0!==Y?Y+"":Y}function je(p,x){return{get:function(){if(!p())return(this.get=x).apply(this,arguments);delete this.get}}}!function(){function p(){if(_t){lt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",_t.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Le.appendChild(lt).appendChild(_t);var Lt=r.getComputedStyle(_t);k="1%"!==Lt.top,it=12===x(Lt.marginLeft),_t.style.right="60%",W=36===x(Lt.right),D=36===x(Lt.width),_t.style.position="absolute",R=12===x(_t.offsetWidth/3),Le.removeChild(lt),_t=null}}function x(Lt){return Math.round(parseFloat(Lt))}var k,D,R,W,Y,it,lt=ee.createElement("div"),_t=ee.createElement("div");_t.style&&(_t.style.backgroundClip="content-box",_t.cloneNode(!0).style.backgroundClip="",le.clearCloneStyle="content-box"===_t.style.backgroundClip,E.extend(le,{boxSizingReliable:function(){return p(),D},pixelBoxStyles:function(){return p(),W},pixelPosition:function(){return p(),k},reliableMarginLeft:function(){return p(),it},scrollboxSize:function(){return p(),R},reliableTrDimensions:function(){var Lt,zt,Pt,Et;return null==Y&&(Lt=ee.createElement("table"),zt=ee.createElement("tr"),Pt=ee.createElement("div"),Lt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",zt.style.cssText="border:1px solid",zt.style.height="1px",Pt.style.height="9px",Pt.style.display="block",Le.appendChild(Lt).appendChild(zt).appendChild(Pt),Et=r.getComputedStyle(zt),Y=parseInt(Et.height,10)+parseInt(Et.borderTopWidth,10)+parseInt(Et.borderBottomWidth,10)===zt.offsetHeight,Le.removeChild(Lt)),Y}}))}();var Bn=["Webkit","Moz","ms"],In=ee.createElement("div").style,qn={};function Cn(p){return E.cssProps[p]||qn[p]||(p in In?p:qn[p]=function(k){for(var D=k[0].toUpperCase()+k.slice(1),R=Bn.length;R--;)if((k=Bn[R]+D)in In)return k}(p)||p)}var Mn=/^(none|table(?!-c[ea]).+)/,or=/^--/,er={position:"absolute",visibility:"hidden",display:"block"},Ci={letterSpacing:"0",fontWeight:"400"};function oi(p,x,k){var D=Yt.exec(x);return D?Math.max(0,D[2]-(k||0))+(D[3]||"px"):x}function An(p,x,k,D,R,W){var Y="width"===x?1:0,it=0,lt=0;if(k===(D?"border":"content"))return 0;for(;Y<4;Y+=2)"margin"===k&&(lt+=E.css(p,k+Bt[Y],!0,R)),D?("content"===k&&(lt-=E.css(p,"padding"+Bt[Y],!0,R)),"margin"!==k&&(lt-=E.css(p,"border"+Bt[Y]+"Width",!0,R))):(lt+=E.css(p,"padding"+Bt[Y],!0,R),"padding"!==k?lt+=E.css(p,"border"+Bt[Y]+"Width",!0,R):it+=E.css(p,"border"+Bt[Y]+"Width",!0,R));return!D&&0<=W&&(lt+=Math.max(0,Math.ceil(p["offset"+x[0].toUpperCase()+x.slice(1)]-W-lt-it-.5))||0),lt}function Un(p,x,k){var D=tn(p),R=(!le.boxSizingReliable()||k)&&"border-box"===E.css(p,"boxSizing",!1,D),W=R,Y=sn(p,x,D),it="offset"+x[0].toUpperCase()+x.slice(1);if(Nn.test(Y)){if(!k)return Y;Y="auto"}return(!le.boxSizingReliable()&&R||!le.reliableTrDimensions()&&et(p,"tr")||"auto"===Y||!parseFloat(Y)&&"inline"===E.css(p,"display",!1,D))&&p.getClientRects().length&&(R="border-box"===E.css(p,"boxSizing",!1,D),(W=it in p)&&(Y=p[it])),(Y=parseFloat(Y)||0)+An(p,x,k||(R?"border":"content"),W,D,Y)+"px"}function Kn(p,x,k,D,R){return new Kn.prototype.init(p,x,k,D,R)}E.extend({cssHooks:{opacity:{get:function(p,x){if(x){var k=sn(p,"opacity");return""===k?"1":k}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(p,x,k,D){if(p&&3!==p.nodeType&&8!==p.nodeType&&p.style){var R,W,Y,it=at(x),lt=or.test(x),_t=p.style;if(lt||(x=Cn(it)),Y=E.cssHooks[x]||E.cssHooks[it],void 0===k)return Y&&"get"in Y&&void 0!==(R=Y.get(p,!1,D))?R:_t[x];"string"==(W=typeof k)&&(R=Yt.exec(k))&&R[1]&&(k=Pe(p,x,R),W="number"),null!=k&&k==k&&("number"!==W||lt||(k+=R&&R[3]||(E.cssNumber[it]?"":"px")),le.clearCloneStyle||""!==k||0!==x.indexOf("background")||(_t[x]="inherit"),Y&&"set"in Y&&void 0===(k=Y.set(p,k,D))||(lt?_t.setProperty(x,k):_t[x]=k))}},css:function(p,x,k,D){var R,W,Y,it=at(x);return or.test(x)||(x=Cn(it)),(Y=E.cssHooks[x]||E.cssHooks[it])&&"get"in Y&&(R=Y.get(p,!0,k)),void 0===R&&(R=sn(p,x,D)),"normal"===R&&x in Ci&&(R=Ci[x]),""===k||k?(W=parseFloat(R),!0===k||isFinite(W)?W||0:R):R}}),E.each(["height","width"],function(p,x){E.cssHooks[x]={get:function(k,D,R){if(D)return!Mn.test(E.css(k,"display"))||k.getClientRects().length&&k.getBoundingClientRect().width?Un(k,x,R):Ke(k,er,function(){return Un(k,x,R)})},set:function(k,D,R){var W,Y=tn(k),it=!le.scrollboxSize()&&"absolute"===Y.position,lt=(it||R)&&"border-box"===E.css(k,"boxSizing",!1,Y),_t=R?An(k,x,R,lt,Y):0;return lt&&it&&(_t-=Math.ceil(k["offset"+x[0].toUpperCase()+x.slice(1)]-parseFloat(Y[x])-An(k,x,"border",!1,Y)-.5)),_t&&(W=Yt.exec(D))&&"px"!==(W[3]||"px")&&(k.style[x]=D,D=E.css(k,x)),oi(0,D,_t)}}}),E.cssHooks.marginLeft=je(le.reliableMarginLeft,function(p,x){if(x)return(parseFloat(sn(p,"marginLeft"))||p.getBoundingClientRect().left-Ke(p,{marginLeft:0},function(){return p.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(p,x){E.cssHooks[p+x]={expand:function(k){for(var D=0,R={},W="string"==typeof k?k.split(" "):[k];D<4;D++)R[p+Bt[D]+x]=W[D]||W[D-2]||W[0];return R}},"margin"!==p&&(E.cssHooks[p+x].set=oi)}),E.fn.extend({css:function(p,x){return J(this,function(k,D,R){var W,Y,it={},lt=0;if(Array.isArray(D)){for(W=tn(k),Y=D.length;lt<Y;lt++)it[D[lt]]=E.css(k,D[lt],!1,W);return it}return void 0!==R?E.style(k,D,R):E.css(k,D)},p,x,1<arguments.length)}}),((E.Tween=Kn).prototype={constructor:Kn,init:function(p,x,k,D,R,W){this.elem=p,this.prop=k,this.easing=R||E.easing._default,this.options=x,this.start=this.now=this.cur(),this.end=D,this.unit=W||(E.cssNumber[k]?"":"px")},cur:function(){var p=Kn.propHooks[this.prop];return p&&p.get?p.get(this):Kn.propHooks._default.get(this)},run:function(p){var x,k=Kn.propHooks[this.prop];return this.pos=x=this.options.duration?E.easing[this.easing](p,this.options.duration*p,0,1,this.options.duration):p,this.now=(this.end-this.start)*x+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),k&&k.set?k.set(this):Kn.propHooks._default.set(this),this}}).init.prototype=Kn.prototype,(Kn.propHooks={_default:{get:function(p){var x;return 1!==p.elem.nodeType||null!=p.elem[p.prop]&&null==p.elem.style[p.prop]?p.elem[p.prop]:(x=E.css(p.elem,p.prop,""))&&"auto"!==x?x:0},set:function(p){E.fx.step[p.prop]?E.fx.step[p.prop](p):1!==p.elem.nodeType||!E.cssHooks[p.prop]&&null==p.elem.style[Cn(p.prop)]?p.elem[p.prop]=p.now:E.style(p.elem,p.prop,p.now+p.unit)}}}).scrollTop=Kn.propHooks.scrollLeft={set:function(p){p.elem.nodeType&&p.elem.parentNode&&(p.elem[p.prop]=p.now)}},E.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},E.fx=Kn.prototype.init,E.fx.step={};var Zn,si,Jn,ln,ei=/^(?:toggle|show|hide)$/,nl=/queueHooks$/;function no(){si&&(!1===ee.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(no):r.setTimeout(no,E.fx.interval),E.fx.tick())}function ms(){return r.setTimeout(function(){Zn=void 0}),Zn=Date.now()}function Sa(p,x){var k,D=0,R={height:p};for(x=x?1:0;D<4;D+=2-x)R["margin"+(k=Bt[D])]=R["padding"+k]=p;return x&&(R.opacity=R.width=p),R}function vs(p,x,k){for(var D,R=(ji.tweeners[x]||[]).concat(ji.tweeners["*"]),W=0,Y=R.length;W<Y;W++)if(D=R[W].call(k,x,p))return D}function ji(p,x,k){var D,R,W=0,Y=ji.prefilters.length,it=E.Deferred().always(function(){delete lt.elem}),lt=function(){if(R)return!1;for(var zt=Zn||ms(),Pt=Math.max(0,_t.startTime+_t.duration-zt),Et=1-(Pt/_t.duration||0),ie=0,te=_t.tweens.length;ie<te;ie++)_t.tweens[ie].run(Et);return it.notifyWith(p,[_t,Et,Pt]),Et<1&&te?Pt:(te||it.notifyWith(p,[_t,1,0]),it.resolveWith(p,[_t]),!1)},_t=it.promise({elem:p,props:E.extend({},x),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},k),originalProperties:x,originalOptions:k,startTime:Zn||ms(),duration:k.duration,tweens:[],createTween:function(zt,Pt){var Et=E.Tween(p,_t.opts,zt,Pt,_t.opts.specialEasing[zt]||_t.opts.easing);return _t.tweens.push(Et),Et},stop:function(zt){var Pt=0,Et=zt?_t.tweens.length:0;if(R)return this;for(R=!0;Pt<Et;Pt++)_t.tweens[Pt].run(1);return zt?(it.notifyWith(p,[_t,1,0]),it.resolveWith(p,[_t,zt])):it.rejectWith(p,[_t,zt]),this}}),Lt=_t.props;for(function(zt,Pt){var Et,ie,te,ae,Dn;for(Et in zt)if(te=Pt[ie=at(Et)],ae=zt[Et],Array.isArray(ae)&&(te=ae[1],ae=zt[Et]=ae[0]),Et!==ie&&(zt[ie]=ae,delete zt[Et]),(Dn=E.cssHooks[ie])&&"expand"in Dn)for(Et in ae=Dn.expand(ae),delete zt[ie],ae)Et in zt||(zt[Et]=ae[Et],Pt[Et]=te);else Pt[ie]=te}(Lt,_t.opts.specialEasing);W<Y;W++)if(D=ji.prefilters[W].call(_t,p,Lt,_t.opts))return ce(D.stop)&&(E._queueHooks(_t.elem,_t.opts.queue).stop=D.stop.bind(D)),D;return E.map(Lt,vs,_t),ce(_t.opts.start)&&_t.opts.start.call(p,_t),_t.progress(_t.opts.progress).done(_t.opts.done,_t.opts.complete).fail(_t.opts.fail).always(_t.opts.always),E.fx.timer(E.extend(lt,{elem:p,anim:_t,queue:_t.opts.queue})),_t}E.Animation=E.extend(ji,{tweeners:{"*":[function(p,x){var k=this.createTween(p,x);return Pe(k.elem,p,Yt.exec(x),k),k}]},tweener:function(p,x){ce(p)?(x=p,p=["*"]):p=p.match(L);for(var k,D=0,R=p.length;D<R;D++)(ji.tweeners[k=p[D]]=ji.tweeners[k]||[]).unshift(x)},prefilters:[function(p,x,k){var D,R,W,Y,it,lt,_t,Lt,zt="width"in x||"height"in x,Pt=this,Et={},ie=p.style,te=p.nodeType&&nn(p),ae=At.get(p,"fxshow");for(D in k.queue||(null==(Y=E._queueHooks(p,"fx")).unqueued&&(Y.unqueued=0,it=Y.empty.fire,Y.empty.fire=function(){Y.unqueued||it()}),Y.unqueued++,Pt.always(function(){Pt.always(function(){Y.unqueued--,E.queue(p,"fx").length||Y.empty.fire()})})),x)if(ei.test(R=x[D])){if(delete x[D],W=W||"toggle"===R,R===(te?"hide":"show")){if("show"!==R||!ae||void 0===ae[D])continue;te=!0}Et[D]=ae&&ae[D]||E.style(p,D)}if((lt=!E.isEmptyObject(x))||!E.isEmptyObject(Et))for(D in zt&&1===p.nodeType&&(k.overflow=[ie.overflow,ie.overflowX,ie.overflowY],null==(_t=ae&&ae.display)&&(_t=At.get(p,"display")),"none"===(Lt=E.css(p,"display"))&&(_t?Lt=_t:(De([p],!0),_t=p.style.display||_t,Lt=E.css(p,"display"),De([p]))),("inline"===Lt||"inline-block"===Lt&&null!=_t)&&"none"===E.css(p,"float")&&(lt||(Pt.done(function(){ie.display=_t}),null==_t&&(_t="none"===(Lt=ie.display)?"":Lt)),ie.display="inline-block")),k.overflow&&(ie.overflow="hidden",Pt.always(function(){ie.overflow=k.overflow[0],ie.overflowX=k.overflow[1],ie.overflowY=k.overflow[2]})),lt=!1,Et)lt||(ae?"hidden"in ae&&(te=ae.hidden):ae=At.access(p,"fxshow",{display:_t}),W&&(ae.hidden=!te),te&&De([p],!0),Pt.done(function(){for(D in te||De([p]),At.remove(p,"fxshow"),Et)E.style(p,D,Et[D])})),lt=vs(te?ae[D]:0,D,Pt),D in ae||(ae[D]=lt.start,te&&(lt.end=lt.start,lt.start=0))}],prefilter:function(p,x){x?ji.prefilters.unshift(p):ji.prefilters.push(p)}}),E.speed=function(p,x,k){var D=p&&"object"==typeof p?E.extend({},p):{complete:k||!k&&x||ce(p)&&p,duration:p,easing:k&&x||x&&!ce(x)&&x};return E.fx.off?D.duration=0:"number"!=typeof D.duration&&(D.duration=D.duration in E.fx.speeds?E.fx.speeds[D.duration]:E.fx.speeds._default),null!=D.queue&&!0!==D.queue||(D.queue="fx"),D.old=D.complete,D.complete=function(){ce(D.old)&&D.old.call(this),D.queue&&E.dequeue(this,D.queue)},D},E.fn.extend({fadeTo:function(p,x,k,D){return this.filter(nn).css("opacity",0).show().end().animate({opacity:x},p,k,D)},animate:function(p,x,k,D){var R=E.isEmptyObject(p),W=E.speed(x,k,D),Y=function(){var it=ji(this,E.extend({},p),W);(R||At.get(this,"finish"))&&it.stop(!0)};return Y.finish=Y,R||!1===W.queue?this.each(Y):this.queue(W.queue,Y)},stop:function(p,x,k){var D=function(R){var W=R.stop;delete R.stop,W(k)};return"string"!=typeof p&&(k=x,x=p,p=void 0),x&&this.queue(p||"fx",[]),this.each(function(){var R=!0,W=null!=p&&p+"queueHooks",Y=E.timers,it=At.get(this);if(W)it[W]&&it[W].stop&&D(it[W]);else for(W in it)it[W]&&it[W].stop&&nl.test(W)&&D(it[W]);for(W=Y.length;W--;)Y[W].elem!==this||null!=p&&Y[W].queue!==p||(Y[W].anim.stop(k),R=!1,Y.splice(W,1));!R&&k||E.dequeue(this,p)})},finish:function(p){return!1!==p&&(p=p||"fx"),this.each(function(){var x,k=At.get(this),D=k[p+"queue"],R=k[p+"queueHooks"],W=E.timers,Y=D?D.length:0;for(k.finish=!0,E.queue(this,p,[]),R&&R.stop&&R.stop.call(this,!0),x=W.length;x--;)W[x].elem===this&&W[x].queue===p&&(W[x].anim.stop(!0),W.splice(x,1));for(x=0;x<Y;x++)D[x]&&D[x].finish&&D[x].finish.call(this);delete k.finish})}}),E.each(["toggle","show","hide"],function(p,x){var k=E.fn[x];E.fn[x]=function(D,R,W){return null==D||"boolean"==typeof D?k.apply(this,arguments):this.animate(Sa(x,!0),D,R,W)}}),E.each({slideDown:Sa("show"),slideUp:Sa("hide"),slideToggle:Sa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(p,x){E.fn[p]=function(k,D,R){return this.animate(x,k,D,R)}}),E.timers=[],E.fx.tick=function(){var p,x=0,k=E.timers;for(Zn=Date.now();x<k.length;x++)(p=k[x])()||k[x]!==p||k.splice(x--,1);k.length||E.fx.stop(),Zn=void 0},E.fx.timer=function(p){E.timers.push(p),E.fx.start()},E.fx.interval=13,E.fx.start=function(){si||(si=!0,no())},E.fx.stop=function(){si=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(p,x){return p=E.fx&&E.fx.speeds[p]||p,this.queue(x=x||"fx",function(k,D){var R=r.setTimeout(k,p);D.stop=function(){r.clearTimeout(R)}})},Jn=ee.createElement("input"),ln=ee.createElement("select").appendChild(ee.createElement("option")),Jn.type="checkbox",le.checkOn=""!==Jn.value,le.optSelected=ln.selected,(Jn=ee.createElement("input")).value="t",Jn.type="radio",le.radioValue="t"===Jn.value;var io,Ir=E.expr.attrHandle;E.fn.extend({attr:function(p,x){return J(this,E.attr,p,x,1<arguments.length)},removeAttr:function(p){return this.each(function(){E.removeAttr(this,p)})}}),E.extend({attr:function(p,x,k){var D,R,W=p.nodeType;if(3!==W&&8!==W&&2!==W)return typeof p.getAttribute>"u"?E.prop(p,x,k):(1===W&&E.isXMLDoc(p)||(R=E.attrHooks[x.toLowerCase()]||(E.expr.match.bool.test(x)?io:void 0)),void 0!==k?null===k?void E.removeAttr(p,x):R&&"set"in R&&void 0!==(D=R.set(p,k,x))?D:(p.setAttribute(x,k+""),k):R&&"get"in R&&null!==(D=R.get(p,x))?D:null==(D=E.find.attr(p,x))?void 0:D)},attrHooks:{type:{set:function(p,x){if(!le.radioValue&&"radio"===x&&et(p,"input")){var k=p.value;return p.setAttribute("type",x),k&&(p.value=k),x}}}},removeAttr:function(p,x){var k,D=0,R=x&&x.match(L);if(R&&1===p.nodeType)for(;k=R[D++];)p.removeAttribute(k)}}),io={set:function(p,x,k){return!1===x?E.removeAttr(p,k):p.setAttribute(k,k),k}},E.each(E.expr.match.bool.source.match(/\w+/g),function(p,x){var k=Ir[x]||E.find.attr;Ir[x]=function(D,R,W){var Y,it,lt=R.toLowerCase();return W||(it=Ir[lt],Ir[lt]=Y,Y=null!=k(D,R,W)?lt:null,Ir[lt]=it),Y}});var _s=/^(?:input|select|textarea|button)$/i,sr=/^(?:a|area)$/i;function ur(p){return(p.match(L)||[]).join(" ")}function Ui(p){return p.getAttribute&&p.getAttribute("class")||""}function na(p){return Array.isArray(p)?p:"string"==typeof p&&p.match(L)||[]}E.fn.extend({prop:function(p,x){return J(this,E.prop,p,x,1<arguments.length)},removeProp:function(p){return this.each(function(){delete this[E.propFix[p]||p]})}}),E.extend({prop:function(p,x,k){var D,R,W=p.nodeType;if(3!==W&&8!==W&&2!==W)return 1===W&&E.isXMLDoc(p)||(R=E.propHooks[x=E.propFix[x]||x]),void 0!==k?R&&"set"in R&&void 0!==(D=R.set(p,k,x))?D:p[x]=k:R&&"get"in R&&null!==(D=R.get(p,x))?D:p[x]},propHooks:{tabIndex:{get:function(p){var x=E.find.attr(p,"tabindex");return x?parseInt(x,10):_s.test(p.nodeName)||sr.test(p.nodeName)&&p.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),le.optSelected||(E.propHooks.selected={get:function(p){return null},set:function(p){}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(p){var x,k,D,R,W,Y,it,lt=0;if(ce(p))return this.each(function(_t){E(this).addClass(p.call(this,_t,Ui(this)))});if((x=na(p)).length)for(;k=this[lt++];)if(R=Ui(k),D=1===k.nodeType&&" "+ur(R)+" "){for(Y=0;W=x[Y++];)D.indexOf(" "+W+" ")<0&&(D+=W+" ");R!==(it=ur(D))&&k.setAttribute("class",it)}return this},removeClass:function(p){var x,k,D,R,W,Y,it,lt=0;if(ce(p))return this.each(function(_t){E(this).removeClass(p.call(this,_t,Ui(this)))});if(!arguments.length)return this.attr("class","");if((x=na(p)).length)for(;k=this[lt++];)if(R=Ui(k),D=1===k.nodeType&&" "+ur(R)+" "){for(Y=0;W=x[Y++];)for(;-1<D.indexOf(" "+W+" ");)D=D.replace(" "+W+" "," ");R!==(it=ur(D))&&k.setAttribute("class",it)}return this},toggleClass:function(p,x){var k=typeof p,D="string"===k||Array.isArray(p);return"boolean"==typeof x&&D?x?this.addClass(p):this.removeClass(p):ce(p)?this.each(function(R){E(this).toggleClass(p.call(this,R,Ui(this),x),x)}):this.each(function(){var R,W,Y,it;if(D)for(W=0,Y=E(this),it=na(p);R=it[W++];)Y.hasClass(R)?Y.removeClass(R):Y.addClass(R);else void 0!==p&&"boolean"!==k||((R=Ui(this))&&At.set(this,"__className__",R),this.setAttribute&&this.setAttribute("class",R||!1===p?"":At.get(this,"__className__")||""))})},hasClass:function(p){var x,k,D=0;for(x=" "+p+" ";k=this[D++];)if(1===k.nodeType&&-1<(" "+ur(Ui(k))+" ").indexOf(x))return!0;return!1}});var Nr=/\r/g;E.fn.extend({val:function(p){var x,k,D,R=this[0];return arguments.length?(D=ce(p),this.each(function(W){var Y;1===this.nodeType&&(null==(Y=D?p.call(this,W,E(this).val()):p)?Y="":"number"==typeof Y?Y+="":Array.isArray(Y)&&(Y=E.map(Y,function(it){return null==it?"":it+""})),(x=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in x&&void 0!==x.set(this,Y,"value")||(this.value=Y))})):R?(x=E.valHooks[R.type]||E.valHooks[R.nodeName.toLowerCase()])&&"get"in x&&void 0!==(k=x.get(R,"value"))?k:"string"==typeof(k=R.value)?k.replace(Nr,""):k??"":void 0}}),E.extend({valHooks:{option:{get:function(p){return E.find.attr(p,"value")??ur(E.text(p))}},select:{get:function(p){var x,k,D,R=p.options,W=p.selectedIndex,Y="select-one"===p.type,it=Y?null:[],lt=Y?W+1:R.length;for(D=W<0?lt:Y?W:0;D<lt;D++)if(((k=R[D]).selected||D===W)&&!k.disabled&&(!k.parentNode.disabled||!et(k.parentNode,"optgroup"))){if(x=E(k).val(),Y)return x;it.push(x)}return it},set:function(p,x){for(var k,D,R=p.options,W=E.makeArray(x),Y=R.length;Y--;)((D=R[Y]).selected=-1<E.inArray(E.valHooks.option.get(D),W))&&(k=!0);return k||(p.selectedIndex=-1),W}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(p,x){if(Array.isArray(x))return p.checked=-1<E.inArray(E(p).val(),x)}},le.checkOn||(E.valHooks[this].get=function(p){return null===p.getAttribute("value")?"on":p.value})}),le.focusin="onfocusin"in r;var Vn=/^(?:focusinfocus|focusoutblur)$/,ro=function(p){p.stopPropagation()};E.extend(E.event,{trigger:function(p,x,k,D){var R,W,Y,it,lt,_t,Lt,zt,Pt=[k||ee],Et=Rn.call(p,"type")?p.type:p,ie=Rn.call(p,"namespace")?p.namespace.split("."):[];if(W=zt=Y=k=k||ee,3!==k.nodeType&&8!==k.nodeType&&!Vn.test(Et+E.event.triggered)&&(-1<Et.indexOf(".")&&(Et=(ie=Et.split(".")).shift(),ie.sort()),lt=Et.indexOf(":")<0&&"on"+Et,(p=p[E.expando]?p:new E.Event(Et,"object"==typeof p&&p)).isTrigger=D?2:3,p.namespace=ie.join("."),p.rnamespace=p.namespace?new RegExp("(^|\\.)"+ie.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p.result=void 0,p.target||(p.target=k),x=null==x?[p]:E.makeArray(x,[p]),Lt=E.event.special[Et]||{},D||!Lt.trigger||!1!==Lt.trigger.apply(k,x))){if(!D&&!Lt.noBubble&&!hn(k)){for(Vn.test((it=Lt.delegateType||Et)+Et)||(W=W.parentNode);W;W=W.parentNode)Pt.push(W),Y=W;Y===(k.ownerDocument||ee)&&Pt.push(Y.defaultView||Y.parentWindow||r)}for(R=0;(W=Pt[R++])&&!p.isPropagationStopped();)zt=W,p.type=1<R?it:Lt.bindType||Et,(_t=(At.get(W,"events")||Object.create(null))[p.type]&&At.get(W,"handle"))&&_t.apply(W,x),(_t=lt&&W[lt])&&_t.apply&&re(W)&&(p.result=_t.apply(W,x),!1===p.result&&p.preventDefault());return p.type=Et,D||p.isDefaultPrevented()||Lt._default&&!1!==Lt._default.apply(Pt.pop(),x)||!re(k)||lt&&ce(k[Et])&&!hn(k)&&((Y=k[lt])&&(k[lt]=null),E.event.triggered=Et,p.isPropagationStopped()&&zt.addEventListener(Et,ro),k[Et](),p.isPropagationStopped()&&zt.removeEventListener(Et,ro),E.event.triggered=void 0,Y&&(k[lt]=Y)),p.result}},simulate:function(p,x,k){var D=E.extend(new E.Event,k,{type:p,isSimulated:!0});E.event.trigger(D,null,x)}}),E.fn.extend({trigger:function(p,x){return this.each(function(){E.event.trigger(p,x,this)})},triggerHandler:function(p,x){var k=this[0];if(k)return E.event.trigger(p,x,k,!0)}}),le.focusin||E.each({focus:"focusin",blur:"focusout"},function(p,x){var k=function(D){E.event.simulate(x,D.target,E.event.fix(D))};E.event.special[x]={setup:function(){var D=this.ownerDocument||this.document||this,R=At.access(D,x);R||D.addEventListener(p,k,!0),At.access(D,x,(R||0)+1)},teardown:function(){var D=this.ownerDocument||this.document||this,R=At.access(D,x)-1;R?At.access(D,x,R):(D.removeEventListener(p,k,!0),At.remove(D,x))}}});var Or=r.location,Ta={guid:Date.now()},Ca=/\?/;E.parseXML=function(p){var x,k;if(!p||"string"!=typeof p)return null;try{x=(new r.DOMParser).parseFromString(p,"text/xml")}catch{}return k=x&&x.getElementsByTagName("parsererror")[0],x&&!k||E.error("Invalid XML: "+(k?E.map(k.childNodes,function(D){return D.textContent}).join("\n"):p)),x};var ys=/\[\]$/,ia=/\r?\n/g,Ki=/^(?:submit|button|image|reset|file)$/i,ao=/^(?:input|select|textarea|keygen)/i;function Aa(p,x,k,D){var R;if(Array.isArray(x))E.each(x,function(W,Y){k||ys.test(p)?D(p,Y):Aa(p+"["+("object"==typeof Y&&null!=Y?W:"")+"]",Y,k,D)});else if(k||"object"!==Re(x))D(p,x);else for(R in x)Aa(p+"["+R+"]",x[R],k,D)}E.param=function(p,x){var k,D=[],R=function(W,Y){var it=ce(Y)?Y():Y;D[D.length]=encodeURIComponent(W)+"="+encodeURIComponent(it??"")};if(null==p)return"";if(Array.isArray(p)||p.jquery&&!E.isPlainObject(p))E.each(p,function(){R(this.name,this.value)});else for(k in p)Aa(k,p[k],x,R);return D.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var p=E.prop(this,"elements");return p?E.makeArray(p):this}).filter(function(){var p=this.type;return this.name&&!E(this).is(":disabled")&&ao.test(this.nodeName)&&!Ki.test(p)&&(this.checked||!s.test(p))}).map(function(p,x){var k=E(this).val();return null==k?null:Array.isArray(k)?E.map(k,function(D){return{name:x.name,value:D.replace(ia,"\r\n")}}):{name:x.name,value:k.replace(ia,"\r\n")}}).get()}});var bs=/%20/g,xs=/#.*$/,ws=/([?&])_=[^&]*/,Ss=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ts=/^(?:GET|HEAD)$/,Rr=/^\/\//,oo={},so={},uo="*/".concat("*"),zr=ee.createElement("a");function Oi(p){return function(x,k){"string"!=typeof x&&(k=x,x="*");var D,R=0,W=x.toLowerCase().match(L)||[];if(ce(k))for(;D=W[R++];)"+"===D[0]?(D=D.slice(1)||"*",(p[D]=p[D]||[]).unshift(k)):(p[D]=p[D]||[]).push(k)}}function ka(p,x,k,D){var R={},W=p===so;function Y(it){var lt;return R[it]=!0,E.each(p[it]||[],function(_t,Lt){var zt=Lt(x,k,D);return"string"!=typeof zt||W||R[zt]?W?!(lt=zt):void 0:(x.dataTypes.unshift(zt),Y(zt),!1)}),lt}return Y(x.dataTypes[0])||!R["*"]&&Y("*")}function ra(p,x){var k,D,R=E.ajaxSettings.flatOptions||{};for(k in x)void 0!==x[k]&&((R[k]?p:D||(D={}))[k]=x[k]);return D&&E.extend(!0,p,D),p}zr.href=Or.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Or.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Or.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":uo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(p,x){return x?ra(ra(p,E.ajaxSettings),x):ra(E.ajaxSettings,p)},ajaxPrefilter:Oi(oo),ajaxTransport:Oi(so),ajax:function(p,x){"object"==typeof p&&(x=p,p=void 0);var k,D,R,W,Y,it,lt,_t,Lt,zt,Pt=E.ajaxSetup({},x=x||{}),Et=Pt.context||Pt,ie=Pt.context&&(Et.nodeType||Et.jquery)?E(Et):E.event,te=E.Deferred(),ae=E.Callbacks("once memory"),Dn=Pt.statusCode||{},jn={},Ai={},fn="canceled",Fe={readyState:0,getResponseHeader:function(rn){var an;if(lt){if(!W)for(W={};an=Ss.exec(R);)W[an[1].toLowerCase()+" "]=(W[an[1].toLowerCase()+" "]||[]).concat(an[2]);an=W[rn.toLowerCase()+" "]}return null==an?null:an.join(", ")},getAllResponseHeaders:function(){return lt?R:null},setRequestHeader:function(rn,an){return null==lt&&(rn=Ai[rn.toLowerCase()]=Ai[rn.toLowerCase()]||rn,jn[rn]=an),this},overrideMimeType:function(rn){return null==lt&&(Pt.mimeType=rn),this},statusCode:function(rn){var an;if(rn)if(lt)Fe.always(rn[Fe.status]);else for(an in rn)Dn[an]=[Dn[an],rn[an]];return this},abort:function(rn){var an=rn||fn;return k&&k.abort(an),hi(0,an),this}};if(te.promise(Fe),Pt.url=((p||Pt.url||Or.href)+"").replace(Rr,Or.protocol+"//"),Pt.type=x.method||x.type||Pt.method||Pt.type,Pt.dataTypes=(Pt.dataType||"*").toLowerCase().match(L)||[""],null==Pt.crossDomain){it=ee.createElement("a");try{it.href=Pt.url,it.href=it.href,Pt.crossDomain=zr.protocol+"//"+zr.host!=it.protocol+"//"+it.host}catch{Pt.crossDomain=!0}}if(Pt.data&&Pt.processData&&"string"!=typeof Pt.data&&(Pt.data=E.param(Pt.data,Pt.traditional)),ka(oo,Pt,x,Fe),lt)return Fe;for(Lt in(_t=E.event&&Pt.global)&&0==E.active++&&E.event.trigger("ajaxStart"),Pt.type=Pt.type.toUpperCase(),Pt.hasContent=!Ts.test(Pt.type),D=Pt.url.replace(xs,""),Pt.hasContent?Pt.data&&Pt.processData&&0===(Pt.contentType||"").indexOf("application/x-www-form-urlencoded")&&(Pt.data=Pt.data.replace(bs,"+")):(zt=Pt.url.slice(D.length),Pt.data&&(Pt.processData||"string"==typeof Pt.data)&&(D+=(Ca.test(D)?"&":"?")+Pt.data,delete Pt.data),!1===Pt.cache&&(D=D.replace(ws,"$1"),zt=(Ca.test(D)?"&":"?")+"_="+Ta.guid+++zt),Pt.url=D+zt),Pt.ifModified&&(E.lastModified[D]&&Fe.setRequestHeader("If-Modified-Since",E.lastModified[D]),E.etag[D]&&Fe.setRequestHeader("If-None-Match",E.etag[D])),(Pt.data&&Pt.hasContent&&!1!==Pt.contentType||x.contentType)&&Fe.setRequestHeader("Content-Type",Pt.contentType),Fe.setRequestHeader("Accept",Pt.dataTypes[0]&&Pt.accepts[Pt.dataTypes[0]]?Pt.accepts[Pt.dataTypes[0]]+("*"!==Pt.dataTypes[0]?", "+uo+"; q=0.01":""):Pt.accepts["*"]),Pt.headers)Fe.setRequestHeader(Lt,Pt.headers[Lt]);if(Pt.beforeSend&&(!1===Pt.beforeSend.call(Et,Fe,Pt)||lt))return Fe.abort();if(fn="abort",ae.add(Pt.complete),Fe.done(Pt.success),Fe.fail(Pt.error),k=ka(so,Pt,x,Fe)){if(Fe.readyState=1,_t&&ie.trigger("ajaxSend",[Fe,Pt]),lt)return Fe;Pt.async&&0<Pt.timeout&&(Y=r.setTimeout(function(){Fe.abort("timeout")},Pt.timeout));try{lt=!1,k.send(jn,hi)}catch(rn){if(lt)throw rn;hi(-1,rn)}}else hi(-1,"No Transport");function hi(rn,an,Fr,Hr){var di,nr,$i,fi,Qi,_i=an;lt||(lt=!0,Y&&r.clearTimeout(Y),k=void 0,R=Hr||"",Fe.readyState=0<rn?4:0,di=200<=rn&&rn<300||304===rn,Fr&&(fi=function(En,ui,yi){for(var zi,Ge,cn,Wn,bi=En.contents,Ln=En.dataTypes;"*"===Ln[0];)Ln.shift(),void 0===zi&&(zi=En.mimeType||ui.getResponseHeader("Content-Type"));if(zi)for(Ge in bi)if(bi[Ge]&&bi[Ge].test(zi)){Ln.unshift(Ge);break}if(Ln[0]in yi)cn=Ln[0];else{for(Ge in yi){if(!Ln[0]||En.converters[Ge+" "+Ln[0]]){cn=Ge;break}Wn||(Wn=Ge)}cn=cn||Wn}if(cn)return cn!==Ln[0]&&Ln.unshift(cn),yi[cn]}(Pt,Fe,Fr)),!di&&-1<E.inArray("script",Pt.dataTypes)&&E.inArray("json",Pt.dataTypes)<0&&(Pt.converters["text script"]=function(){}),fi=function(En,ui,yi,zi){var Ge,cn,Wn,bi,Ln,pi={},mr=En.dataTypes.slice();if(mr[1])for(Wn in En.converters)pi[Wn.toLowerCase()]=En.converters[Wn];for(cn=mr.shift();cn;)if(En.responseFields[cn]&&(yi[En.responseFields[cn]]=ui),!Ln&&zi&&En.dataFilter&&(ui=En.dataFilter(ui,En.dataType)),Ln=cn,cn=mr.shift())if("*"===cn)cn=Ln;else if("*"!==Ln&&Ln!==cn){if(!(Wn=pi[Ln+" "+cn]||pi["* "+cn]))for(Ge in pi)if((bi=Ge.split(" "))[1]===cn&&(Wn=pi[Ln+" "+bi[0]]||pi["* "+bi[0]])){!0===Wn?Wn=pi[Ge]:!0!==pi[Ge]&&(cn=bi[0],mr.unshift(bi[1]));break}if(!0!==Wn)if(Wn&&En.throws)ui=Wn(ui);else try{ui=Wn(ui)}catch(Pa){return{state:"parsererror",error:Wn?Pa:"No conversion from "+Ln+" to "+cn}}}return{state:"success",data:ui}}(Pt,fi,Fe,di),di?(Pt.ifModified&&((Qi=Fe.getResponseHeader("Last-Modified"))&&(E.lastModified[D]=Qi),(Qi=Fe.getResponseHeader("etag"))&&(E.etag[D]=Qi)),204===rn||"HEAD"===Pt.type?_i="nocontent":304===rn?_i="notmodified":(_i=fi.state,nr=fi.data,di=!($i=fi.error))):($i=_i,!rn&&_i||(_i="error",rn<0&&(rn=0))),Fe.status=rn,Fe.statusText=(an||_i)+"",di?te.resolveWith(Et,[nr,_i,Fe]):te.rejectWith(Et,[Fe,_i,$i]),Fe.statusCode(Dn),Dn=void 0,_t&&ie.trigger(di?"ajaxSuccess":"ajaxError",[Fe,Pt,di?nr:$i]),ae.fireWith(Et,[Fe,_i]),_t&&(ie.trigger("ajaxComplete",[Fe,Pt]),--E.active||E.event.trigger("ajaxStop")))}return Fe},getJSON:function(p,x,k){return E.get(p,x,k,"json")},getScript:function(p,x){return E.get(p,void 0,x,"script")}}),E.each(["get","post"],function(p,x){E[x]=function(k,D,R,W){return ce(D)&&(W=W||R,R=D,D=void 0),E.ajax(E.extend({url:k,type:x,dataType:W,data:D,success:R},E.isPlainObject(k)&&k))}}),E.ajaxPrefilter(function(p){var x;for(x in p.headers)"content-type"===x.toLowerCase()&&(p.contentType=p.headers[x]||"")}),E._evalUrl=function(p,x,k){return E.ajax({url:p,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(D){E.globalEval(D,x,k)}})},E.fn.extend({wrapAll:function(p){var x;return this[0]&&(ce(p)&&(p=p.call(this[0])),x=E(p,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&x.insertBefore(this[0]),x.map(function(){for(var k=this;k.firstElementChild;)k=k.firstElementChild;return k}).append(this)),this},wrapInner:function(p){return ce(p)?this.each(function(x){E(this).wrapInner(p.call(this,x))}):this.each(function(){var x=E(this),k=x.contents();k.length?k.wrapAll(p):x.append(p)})},wrap:function(p){var x=ce(p);return this.each(function(k){E(this).wrapAll(x?p.call(this,k):p)})},unwrap:function(p){return this.parent(p).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(p){return!E.expr.pseudos.visible(p)},E.expr.pseudos.visible=function(p){return!!(p.offsetWidth||p.offsetHeight||p.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch{}};var lo={0:200,1223:204},gr=E.ajaxSettings.xhr();le.cors=!!gr&&"withCredentials"in gr,le.ajax=gr=!!gr,E.ajaxTransport(function(p){var x,k;if(le.cors||gr&&!p.crossDomain)return{send:function(D,R){var W,Y=p.xhr();if(Y.open(p.type,p.url,p.async,p.username,p.password),p.xhrFields)for(W in p.xhrFields)Y[W]=p.xhrFields[W];for(W in p.mimeType&&Y.overrideMimeType&&Y.overrideMimeType(p.mimeType),p.crossDomain||D["X-Requested-With"]||(D["X-Requested-With"]="XMLHttpRequest"),D)Y.setRequestHeader(W,D[W]);x=function(it){return function(){x&&(x=k=Y.onload=Y.onerror=Y.onabort=Y.ontimeout=Y.onreadystatechange=null,"abort"===it?Y.abort():"error"===it?"number"!=typeof Y.status?R(0,"error"):R(Y.status,Y.statusText):R(lo[Y.status]||Y.status,Y.statusText,"text"!==(Y.responseType||"text")||"string"!=typeof Y.responseText?{binary:Y.response}:{text:Y.responseText},Y.getAllResponseHeaders()))}},Y.onload=x(),k=Y.onerror=Y.ontimeout=x("error"),void 0!==Y.onabort?Y.onabort=k:Y.onreadystatechange=function(){4===Y.readyState&&r.setTimeout(function(){x&&k()})},x=x("abort");try{Y.send(p.hasContent&&p.data||null)}catch(it){if(x)throw it}},abort:function(){x&&x()}}}),E.ajaxPrefilter(function(p){p.crossDomain&&(p.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(p){return E.globalEval(p),p}}}),E.ajaxPrefilter("script",function(p){void 0===p.cache&&(p.cache=!1),p.crossDomain&&(p.type="GET")}),E.ajaxTransport("script",function(p){var x,k;if(p.crossDomain||p.scriptAttrs)return{send:function(D,R){x=E("<script>").attr(p.scriptAttrs||{}).prop({charset:p.scriptCharset,src:p.url}).on("load error",k=function(W){x.remove(),k=null,W&&R("error"===W.type?404:200,W.type)}),ee.head.appendChild(x[0])},abort:function(){k&&k()}}});var co,aa=[],Ri=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var p=aa.pop()||E.expando+"_"+Ta.guid++;return this[p]=!0,p}}),E.ajaxPrefilter("json jsonp",function(p,x,k){var D,R,W,Y=!1!==p.jsonp&&(Ri.test(p.url)?"url":"string"==typeof p.data&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ri.test(p.data)&&"data");if(Y||"jsonp"===p.dataTypes[0])return D=p.jsonpCallback=ce(p.jsonpCallback)?p.jsonpCallback():p.jsonpCallback,Y?p[Y]=p[Y].replace(Ri,"$1"+D):!1!==p.jsonp&&(p.url+=(Ca.test(p.url)?"&":"?")+p.jsonp+"="+D),p.converters["script json"]=function(){return W||E.error(D+" was not called"),W[0]},p.dataTypes[0]="json",R=r[D],r[D]=function(){W=arguments},k.always(function(){void 0===R?E(r).removeProp(D):r[D]=R,p[D]&&(p.jsonpCallback=x.jsonpCallback,aa.push(D)),W&&ce(R)&&R(W[0]),W=R=void 0}),"script"}),le.createHTMLDocument=((co=ee.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===co.childNodes.length),E.parseHTML=function(p,x,k){return"string"!=typeof p?[]:("boolean"==typeof x&&(k=x,x=!1),x||(le.createHTMLDocument?((D=(x=ee.implementation.createHTMLDocument("")).createElement("base")).href=ee.location.href,x.head.appendChild(D)):x=ee),W=!k&&[],(R=nt.exec(p))?[x.createElement(R[1])]:(R=X([p],x,W),W&&W.length&&E(W).remove(),E.merge([],R.childNodes)));var D,R,W},E.fn.load=function(p,x,k){var D,R,W,Y=this,it=p.indexOf(" ");return-1<it&&(D=ur(p.slice(it)),p=p.slice(0,it)),ce(x)?(k=x,x=void 0):x&&"object"==typeof x&&(R="POST"),0<Y.length&&E.ajax({url:p,type:R||"GET",dataType:"html",data:x}).done(function(lt){W=arguments,Y.html(D?E("<div>").append(E.parseHTML(lt)).find(D):lt)}).always(k&&function(lt,_t){Y.each(function(){k.apply(this,W||[lt.responseText,_t,lt])})}),this},E.expr.pseudos.animated=function(p){return E.grep(E.timers,function(x){return p===x.elem}).length},E.offset={setOffset:function(p,x,k){var D,R,W,Y,it,lt,_t=E.css(p,"position"),Lt=E(p),zt={};"static"===_t&&(p.style.position="relative"),it=Lt.offset(),W=E.css(p,"top"),lt=E.css(p,"left"),("absolute"===_t||"fixed"===_t)&&-1<(W+lt).indexOf("auto")?(Y=(D=Lt.position()).top,R=D.left):(Y=parseFloat(W)||0,R=parseFloat(lt)||0),ce(x)&&(x=x.call(p,k,E.extend({},it))),null!=x.top&&(zt.top=x.top-it.top+Y),null!=x.left&&(zt.left=x.left-it.left+R),"using"in x?x.using.call(p,zt):Lt.css(zt)}},E.fn.extend({offset:function(p){if(arguments.length)return void 0===p?this:this.each(function(R){E.offset.setOffset(this,p,R)});var x,k,D=this[0];return D?D.getClientRects().length?{top:(x=D.getBoundingClientRect()).top+(k=D.ownerDocument.defaultView).pageYOffset,left:x.left+k.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var p,x,k,D=this[0],R={top:0,left:0};if("fixed"===E.css(D,"position"))x=D.getBoundingClientRect();else{for(x=this.offset(),k=D.ownerDocument,p=D.offsetParent||k.documentElement;p&&(p===k.body||p===k.documentElement)&&"static"===E.css(p,"position");)p=p.parentNode;p&&p!==D&&1===p.nodeType&&((R=E(p).offset()).top+=E.css(p,"borderTopWidth",!0),R.left+=E.css(p,"borderLeftWidth",!0))}return{top:x.top-R.top-E.css(D,"marginTop",!0),left:x.left-R.left-E.css(D,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var p=this.offsetParent;p&&"static"===E.css(p,"position");)p=p.offsetParent;return p||Le})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(p,x){var k="pageYOffset"===x;E.fn[p]=function(D){return J(this,function(R,W,Y){var it;if(hn(R)?it=R:9===R.nodeType&&(it=R.defaultView),void 0===Y)return it?it[x]:R[W];it?it.scrollTo(k?it.pageXOffset:Y,k?Y:it.pageYOffset):R[W]=Y},p,D,arguments.length)}}),E.each(["top","left"],function(p,x){E.cssHooks[x]=je(le.pixelPosition,function(k,D){if(D)return D=sn(k,x),Nn.test(D)?E(k).position()[x]+"px":D})}),E.each({Height:"height",Width:"width"},function(p,x){E.each({padding:"inner"+p,content:x,"":"outer"+p},function(k,D){E.fn[D]=function(R,W){var Y=arguments.length&&(k||"boolean"!=typeof R),it=k||(!0===R||!0===W?"margin":"border");return J(this,function(lt,_t,Lt){var zt;return hn(lt)?0===D.indexOf("outer")?lt["inner"+p]:lt.document.documentElement["client"+p]:9===lt.nodeType?(zt=lt.documentElement,Math.max(lt.body["scroll"+p],zt["scroll"+p],lt.body["offset"+p],zt["offset"+p],zt["client"+p])):void 0===Lt?E.css(lt,_t,it):E.style(lt,_t,Lt,it)},x,Y?R:void 0,Y)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(p,x){E.fn[x]=function(k){return this.on(x,k)}}),E.fn.extend({bind:function(p,x,k){return this.on(p,null,x,k)},unbind:function(p,x){return this.off(p,null,x)},delegate:function(p,x,k,D){return this.on(x,p,k,D)},undelegate:function(p,x,k){return 1===arguments.length?this.off(p,"**"):this.off(x,p||"**",k)},hover:function(p,x){return this.mouseenter(p).mouseleave(x||p)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(p,x){E.fn[x]=function(k,D){return 0<arguments.length?this.on(x,null,k,D):this.trigger(x)}});var Cs=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;E.proxy=function(p,x){var k,D,R;if("string"==typeof x&&(k=p[x],x=p,p=k),ce(p))return D=pe.call(arguments,2),(R=function(){return p.apply(x||this,D.concat(pe.call(arguments)))}).guid=p.guid=p.guid||E.guid++,R},E.holdReady=function(p){p?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=et,E.isFunction=ce,E.isWindow=hn,E.camelCase=at,E.type=Re,E.now=Date.now,E.isNumeric=function(p){var x=E.type(p);return("number"===x||"string"===x)&&!isNaN(p-parseFloat(p))},E.trim=function(p){return null==p?"":(p+"").replace(Cs,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return E});var As=r.jQuery,ho=r.$;return E.noConflict=function(p){return r.$===E&&(r.$=ho),p&&r.jQuery===E&&(r.jQuery=As),E},typeof Ht>"u"&&(r.jQuery=r.$=E),E}),function(r){"use strict";"function"==typeof define&&define.amd?define(["jquery"],r):r(jQuery)}(function(r){"use strict";r.ui=r.ui||{},r.ui.version="1.13.1";var Ht,Tt,We,Ye,Oe,on,Rn,mn,ke,le,bn=0,xn=Array.prototype.hasOwnProperty,pe=Array.prototype.slice;function ce(e,s,l){return[parseFloat(e[0])*(ke.test(e[0])?s/100:1),parseFloat(e[1])*(ke.test(e[1])?l/100:1)]}function hn(e,s){return parseInt(r.css(e,s),10)||0}function ee(e){return null!=e&&e===e.window}r.cleanData=(Ht=r.cleanData,function(e){for(var s,l,g=0;null!=(l=e[g]);g++)(s=r._data(l,"events"))&&s.remove&&r(l).triggerHandler("remove");Ht(e)}),r.widget=function(e,s,l){var g,y,A,N={},j=e.split(".")[0],X=j+"-"+(e=e.split(".")[1]);return l||(l=s,s=r.Widget),Array.isArray(l)&&(l=r.extend.apply(null,[{}].concat(l))),r.expr.pseudos[X.toLowerCase()]=function(ht){return!!r.data(ht,X)},r[j]=r[j]||{},g=r[j][e],y=r[j][e]=function(ht,ut){if(!this||!this._createWidget)return new y(ht,ut);arguments.length&&this._createWidget(ht,ut)},r.extend(y,g,{version:l.version,_proto:r.extend({},l),_childConstructors:[]}),(A=new s).options=r.widget.extend({},A.options),r.each(l,function(ht,ut){function ot(){return s.prototype[ht].apply(this,arguments)}function yt(It){return s.prototype[ht].apply(this,It)}N[ht]="function"==typeof ut?function(){var It,qt=this._super,jt=this._superApply;return this._super=ot,this._superApply=yt,It=ut.apply(this,arguments),this._super=qt,this._superApply=jt,It}:ut}),y.prototype=r.widget.extend(A,{widgetEventPrefix:g&&A.widgetEventPrefix||e},N,{constructor:y,namespace:j,widgetName:e,widgetFullName:X}),g?(r.each(g._childConstructors,function(ht,ut){var ot=ut.prototype;r.widget(ot.namespace+"."+ot.widgetName,y,ut._proto)}),delete g._childConstructors):s._childConstructors.push(y),r.widget.bridge(e,y),y},r.widget.extend=function(e){for(var s,l,g=pe.call(arguments,1),y=0,A=g.length;y<A;y++)for(s in g[y])l=g[y][s],xn.call(g[y],s)&&void 0!==l&&(e[s]=r.isPlainObject(l)?r.isPlainObject(e[s])?r.widget.extend({},e[s],l):r.widget.extend({},l):l);return e},r.widget.bridge=function(e,s){var l=s.prototype.widgetFullName||e;r.fn[e]=function(g){var y="string"==typeof g,A=pe.call(arguments,1),N=this;return y?this.length||"instance"!==g?this.each(function(){var j,X=r.data(this,l);return"instance"===g?(N=X,!1):X?"function"!=typeof X[g]||"_"===g.charAt(0)?r.error("no such method '"+g+"' for "+e+" widget instance"):(j=X[g].apply(X,A))!==X&&void 0!==j?(N=j&&j.jquery?N.pushStack(j.get()):j,!1):void 0:r.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+g+"'")}):N=void 0:(A.length&&(g=r.widget.extend.apply(null,[g].concat(A))),this.each(function(){var j=r.data(this,l);j?(j.option(g||{}),j._init&&j._init()):r.data(this,l,new s(g,this))})),N}},r.Widget=function(){},r.Widget._childConstructors=[],r.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,s){s=r(s||this.defaultElement||this)[0],this.element=r(s),this.uuid=bn++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=r(),this.hoverable=r(),this.focusable=r(),this.classesElementLookup={},s!==this&&(r.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(l){l.target===s&&this.destroy()}}),this.document=r(s.style?s.ownerDocument:s.document||s),this.window=r(this.document[0].defaultView||this.document[0].parentWindow)),this.options=r.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:r.noop,_create:r.noop,_init:r.noop,destroy:function(){var e=this;this._destroy(),r.each(this.classesElementLookup,function(s,l){e._removeClass(l,s)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:r.noop,widget:function(){return this.element},option:function(e,s){var l,g,y,A=e;if(0===arguments.length)return r.widget.extend({},this.options);if("string"==typeof e)if(A={},e=(l=e.split(".")).shift(),l.length){for(g=A[e]=r.widget.extend({},this.options[e]),y=0;y<l.length-1;y++)g[l[y]]=g[l[y]]||{},g=g[l[y]];if(e=l.pop(),1===arguments.length)return void 0===g[e]?null:g[e];g[e]=s}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];A[e]=s}return this._setOptions(A),this},_setOptions:function(e){for(var s in e)this._setOption(s,e[s]);return this},_setOption:function(e,s){return"classes"===e&&this._setOptionClasses(s),this.options[e]=s,"disabled"===e&&this._setOptionDisabled(s),this},_setOptionClasses:function(e){var s,l,g;for(s in e)g=this.classesElementLookup[s],e[s]!==this.options.classes[s]&&g&&g.length&&(l=r(g.get()),this._removeClass(g,s),l.addClass(this._classes({element:l,keys:s,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var s=[],l=this;function g(y,A){for(var N,j=0;j<y.length;j++)N=l.classesElementLookup[y[j]]||r(),N=e.add?(function(){var X=[];e.element.each(function(ht,ut){r.map(l.classesElementLookup,function(ot){return ot}).some(function(ot){return ot.is(ut)})||X.push(ut)}),l._on(r(X),{remove:"_untrackClassesElement"})}(),r(r.uniqueSort(N.get().concat(e.element.get())))):r(N.not(e.element).get()),l.classesElementLookup[y[j]]=N,s.push(y[j]),A&&e.classes[y[j]]&&s.push(e.classes[y[j]])}return(e=r.extend({element:this.element,classes:this.options.classes||{}},e)).keys&&g(e.keys.match(/\S+/g)||[],!0),e.extra&&g(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var s=this;r.each(s.classesElementLookup,function(l,g){-1!==r.inArray(e.target,g)&&(s.classesElementLookup[l]=r(g.not(e.target).get()))}),this._off(r(e.target))},_removeClass:function(e,s,l){return this._toggleClass(e,s,l,!1)},_addClass:function(e,s,l){return this._toggleClass(e,s,l,!0)},_toggleClass:function(e,s,A,g){var y="string"==typeof e||null===e;return(A={extra:y?s:A,keys:y?e:s,element:y?this.element:e,add:g="boolean"==typeof g?g:A}).element.toggleClass(this._classes(A),g),this},_on:function(e,s,l){var g,y=this;"boolean"!=typeof e&&(l=s,s=e,e=!1),l?(s=g=r(s),this.bindings=this.bindings.add(s)):(l=s,s=this.element,g=this.widget()),r.each(l,function(X,N){function j(){if(e||!0!==y.options.disabled&&!r(this).hasClass("ui-state-disabled"))return("string"==typeof N?y[N]:N).apply(y,arguments)}var ht;"string"!=typeof N&&(j.guid=N.guid=N.guid||j.guid||r.guid++),X=(ht=X.match(/^([\w:-]*)\s*(.*)$/))[1]+y.eventNamespace,(ht=ht[2])?g.on(X,ht,j):s.on(X,j)})},_off:function(e,s){s=(s||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(s),this.bindings=r(this.bindings.not(e).get()),this.focusable=r(this.focusable.not(e).get()),this.hoverable=r(this.hoverable.not(e).get())},_delay:function(e,s){var l=this;return setTimeout(function(){return("string"==typeof e?l[e]:e).apply(l,arguments)},s||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(s){this._addClass(r(s.currentTarget),null,"ui-state-hover")},mouseleave:function(s){this._removeClass(r(s.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(s){this._addClass(r(s.currentTarget),null,"ui-state-focus")},focusout:function(s){this._removeClass(r(s.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,s,l){var g,y,A=this.options[e];if(l=l||{},(s=r.Event(s)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),s.target=this.element[0],y=s.originalEvent)for(g in y)g in s||(s[g]=y[g]);return this.element.trigger(s,l),!("function"==typeof A&&!1===A.apply(this.element[0],[s].concat(l))||s.isDefaultPrevented())}},r.each({show:"fadeIn",hide:"fadeOut"},function(e,s){r.Widget.prototype["_"+e]=function(l,g,y){var A,N=(g="string"==typeof g?{effect:g}:g)?!0!==g&&"number"!=typeof g&&g.effect||s:e;"number"==typeof(g=g||{})?g={duration:g}:!0===g&&(g={}),A=!r.isEmptyObject(g),g.complete=y,g.delay&&l.delay(g.delay),A&&r.effects&&r.effects.effect[N]?l[e](g):N!==e&&l[N]?l[N](g.duration,g.easing,y):l.queue(function(j){r(this)[e](),y&&y.call(l[0]),j()})}}),We=Math.max,Ye=Math.abs,Oe=/left|center|right/,on=/top|center|bottom/,Rn=/[\+\-]\d+(\.[\d]+)?%?/,mn=/^\w+/,ke=/%$/,le=r.fn.position,r.position={scrollbarWidth:function(){if(void 0!==Tt)return Tt;var e,s=r("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),l=s.children()[0];return r("body").append(s),e=l.offsetWidth,s.css("overflow","scroll"),e===(l=l.offsetWidth)&&(l=s[0].clientWidth),s.remove(),Tt=e-l},getScrollInfo:function(e){var l=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y");return l="scroll"===l||"auto"===l&&e.width<e.element[0].scrollWidth,{width:"scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight?r.position.scrollbarWidth():0,height:l?r.position.scrollbarWidth():0}},getWithinInfo:function(e){var s=r(e||window),l=ee(s[0]),g=!!s[0]&&9===s[0].nodeType;return{element:s,isWindow:l,isDocument:g,offset:l||g?{left:0,top:0}:r(e).offset(),scrollLeft:s.scrollLeft(),scrollTop:s.scrollTop(),width:s.outerWidth(),height:s.outerHeight()}}},r.fn.position=function(e){if(!e||!e.of)return le.apply(this,arguments);var s,l,g,y,A,N,j="string"==typeof(e=r.extend({},e)).of?r(document).find(e.of):r(e.of),X=r.position.getWithinInfo(e.within),ht=r.position.getScrollInfo(X),ut=(e.collision||"flip").split(" "),ot={},yt=9===(N=(yt=j)[0]).nodeType?{width:yt.width(),height:yt.height(),offset:{top:0,left:0}}:ee(N)?{width:yt.width(),height:yt.height(),offset:{top:yt.scrollTop(),left:yt.scrollLeft()}}:N.preventDefault?{width:0,height:0,offset:{top:N.pageY,left:N.pageX}}:{width:yt.outerWidth(),height:yt.outerHeight(),offset:yt.offset()};return j[0].preventDefault&&(e.at="left top"),l=yt.width,g=yt.height,A=r.extend({},y=yt.offset),r.each(["my","at"],function(){var It,qt,jt=(e[this]||"").split(" ");(jt=1===jt.length?Oe.test(jt[0])?jt.concat(["center"]):on.test(jt[0])?["center"].concat(jt):["center","center"]:jt)[0]=Oe.test(jt[0])?jt[0]:"center",jt[1]=on.test(jt[1])?jt[1]:"center",It=Rn.exec(jt[0]),qt=Rn.exec(jt[1]),ot[this]=[It?It[0]:0,qt?qt[0]:0],e[this]=[mn.exec(jt[0])[0],mn.exec(jt[1])[0]]}),1===ut.length&&(ut[1]=ut[0]),"right"===e.at[0]?A.left+=l:"center"===e.at[0]&&(A.left+=l/2),"bottom"===e.at[1]?A.top+=g:"center"===e.at[1]&&(A.top+=g/2),s=ce(ot.at,l,g),A.left+=s[0],A.top+=s[1],this.each(function(){var It,qt,jt=r(this),Vt=jt.outerWidth(),ze=jt.outerHeight(),ge=hn(this,"marginLeft"),vn=hn(this,"marginTop"),He=Vt+ge+hn(this,"marginRight")+ht.width,de=ze+vn+hn(this,"marginBottom")+ht.height,me=r.extend({},A),dn=ce(ot.my,jt.outerWidth(),jt.outerHeight());"right"===e.my[0]?me.left-=Vt:"center"===e.my[0]&&(me.left-=Vt/2),"bottom"===e.my[1]?me.top-=ze:"center"===e.my[1]&&(me.top-=ze/2),me.left+=dn[0],me.top+=dn[1],It={marginLeft:ge,marginTop:vn},r.each(["left","top"],function(Nn,tn){r.ui.position[ut[Nn]]&&r.ui.position[ut[Nn]][tn](me,{targetWidth:l,targetHeight:g,elemWidth:Vt,elemHeight:ze,collisionPosition:It,collisionWidth:He,collisionHeight:de,offset:[s[0]+dn[0],s[1]+dn[1]],my:e.my,at:e.at,within:X,elem:jt})}),e.using&&(qt=function(Nn){var tn=y.left-me.left,Ke=tn+l-Vt,Ie=y.top-me.top,sn=Ie+g-ze,je={target:{element:j,left:y.left,top:y.top,width:l,height:g},element:{element:jt,left:me.left,top:me.top,width:Vt,height:ze},horizontal:Ke<0?"left":0<tn?"right":"center",vertical:sn<0?"top":0<Ie?"bottom":"middle"};l<Vt&&Ye(tn+Ke)<l&&(je.horizontal="center"),g<ze&&Ye(Ie+sn)<g&&(je.vertical="middle"),je.important=We(Ye(tn),Ye(Ke))>We(Ye(Ie),Ye(sn))?"horizontal":"vertical",e.using.call(this,Nn,je)}),jt.offset(r.extend(me,{using:qt}))})},r.ui.position={fit:{left:function(e,s){var l=s.within,g=l.isWindow?l.scrollLeft:l.offset.left,y=l.width,A=e.left-s.collisionPosition.marginLeft,N=g-A,j=A+s.collisionWidth-y-g;s.collisionWidth>y?0<N&&j<=0?e.left+=N-(l=e.left+N+s.collisionWidth-y-g):e.left=!(0<j&&N<=0)&&j<N?g+y-s.collisionWidth:g:0<N?e.left+=N:0<j?e.left-=j:e.left=We(e.left-A,e.left)},top:function(e,s){var l=s.within,g=l.isWindow?l.scrollTop:l.offset.top,y=s.within.height,A=e.top-s.collisionPosition.marginTop,N=g-A,j=A+s.collisionHeight-y-g;s.collisionHeight>y?0<N&&j<=0?e.top+=N-(l=e.top+N+s.collisionHeight-y-g):e.top=!(0<j&&N<=0)&&j<N?g+y-s.collisionHeight:g:0<N?e.top+=N:0<j?e.top-=j:e.top=We(e.top-A,e.top)}},flip:{left:function(e,s){var l=(X=s.within).offset.left+X.scrollLeft,g=X.width,y=X.isWindow?X.scrollLeft:X.offset.left,A=(ht=e.left-s.collisionPosition.marginLeft)-y,N=ht+s.collisionWidth-g-y,j="left"===s.my[0]?-s.elemWidth:"right"===s.my[0]?s.elemWidth:0,X="left"===s.at[0]?s.targetWidth:"right"===s.at[0]?-s.targetWidth:0,ht=-2*s.offset[0];A<0?((l=e.left+j+X+ht+s.collisionWidth-g-l)<0||l<Ye(A))&&(e.left+=j+X+ht):0<N&&(0<(y=e.left-s.collisionPosition.marginLeft+j+X+ht-y)||Ye(y)<N)&&(e.left+=j+X+ht)},top:function(e,s){var l=(X=s.within).offset.top+X.scrollTop,g=X.height,y=X.isWindow?X.scrollTop:X.offset.top,A=(ht=e.top-s.collisionPosition.marginTop)-y,N=ht+s.collisionHeight-g-y,j="top"===s.my[1]?-s.elemHeight:"bottom"===s.my[1]?s.elemHeight:0,X="top"===s.at[1]?s.targetHeight:"bottom"===s.at[1]?-s.targetHeight:0,ht=-2*s.offset[1];A<0?((l=e.top+j+X+ht+s.collisionHeight-g-l)<0||l<Ye(A))&&(e.top+=j+X+ht):0<N&&(0<(y=e.top-s.collisionPosition.marginTop+j+X+ht-y)||Ye(y)<N)&&(e.top+=j+X+ht)}},flipfit:{left:function(){r.ui.position.flip.left.apply(this,arguments),r.ui.position.fit.left.apply(this,arguments)},top:function(){r.ui.position.flip.top.apply(this,arguments),r.ui.position.fit.top.apply(this,arguments)}}},r.extend(r.expr.pseudos,{data:r.expr.createPseudo?r.expr.createPseudo(function(e){return function(s){return!!r.data(s,e)}}):function(e,s,l){return!!r.data(e,l[3])}}),r.fn.extend({disableSelection:(qe="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(qe+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var qe,ye=r,Re={},Q=Re.toString,E=/^([\-+])=\s*(\d+\.?\d*)/,oe=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),e[4]?(parseInt(e[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),e[4]?(parseInt(e[4]+e[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],_e=ye.Color=function(e,s,l,g){return new ye.Color.fn.parse(e,s,l,g)},Ue={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},pn={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},se=_e.support={},et=ye("<p>")[0],nt=ye.each;function n(e){return null==e?e+"":"object"==typeof e?Re[Q.call(e)]||"object":typeof e}function o(e,s,l){var g=pn[s.type]||{};return null==e?l||!s.def?null:s.def:(e=g.floor?~~e:parseFloat(e),isNaN(e)?s.def:g.mod?(e+g.mod)%g.mod:Math.min(g.max,Math.max(0,e)))}function h(e){var s=_e(),l=s._rgba=[];return e=e.toLowerCase(),nt(oe,function(g,N){var A=(A=N.re.exec(e))&&N.parse(A);if(N=N.space||"rgba",A)return A=s[N](A),s[Ue[N].cache]=A[Ue[N].cache],l=s._rgba=A._rgba,!1}),l.length?("0,0,0,0"===l.join()&&ye.extend(l,mt.transparent),s):mt[e]}function f(e,s,l){return 6*(l=(l+1)%1)<1?e+(s-e)*l*6:2*l<1?s:3*l<2?e+(s-e)*(2/3-l)*6:e}et.style.cssText="background-color:rgba(1,1,1,.5)",se.rgba=-1<et.style.backgroundColor.indexOf("rgba"),nt(Ue,function(e,s){s.cache="_"+e,s.props.alpha={idx:3,type:"percent",def:1}}),ye.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,s){Re["[object "+s+"]"]=s.toLowerCase()}),(_e.fn=ye.extend(_e.prototype,{parse:function(e,s,l,g){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=ye(e).css(s),s=void 0);var y=this,A=n(e),N=this._rgba=[];return void 0!==s&&(e=[e,s,l,g],A="array"),"string"===A?this.parse(h(e)||mt._default):"array"===A?(nt(Ue.rgba.props,function(j,X){N[X.idx]=o(e[X.idx],X)}),this):"object"===A?(nt(Ue,e instanceof _e?function(j,X){e[X.cache]&&(y[X.cache]=e[X.cache].slice())}:function(j,X){var ht=X.cache;nt(X.props,function(ut,ot){if(!y[ht]&&X.to){if("alpha"===ut||null==e[ut])return;y[ht]=X.to(y._rgba)}y[ht][ot.idx]=o(e[ut],ot,!0)}),y[ht]&&ye.inArray(null,y[ht].slice(0,3))<0&&(null==y[ht][3]&&(y[ht][3]=1),X.from&&(y._rgba=X.from(y[ht])))}),this):void 0},is:function(e){var s=_e(e),l=!0,g=this;return nt(Ue,function(y,A){var N,j=s[A.cache];return j&&(N=g[A.cache]||A.to&&A.to(g._rgba)||[],nt(A.props,function(X,ht){if(null!=j[ht.idx])return l=j[ht.idx]===N[ht.idx]})),l}),l},_space:function(){var e=[],s=this;return nt(Ue,function(l,g){s[g.cache]&&e.push(l)}),e.pop()},transition:function(y,s){var l=(j=_e(y))._space(),g=Ue[l],A=(y=0===this.alpha()?_e("transparent"):this)[g.cache]||g.to(y._rgba),N=A.slice(),j=j[g.cache];return nt(g.props,function(X,ht){var ut=ht.idx,ot=A[ut],yt=j[ut],It=pn[ht.type]||{};null!==yt&&(null===ot?N[ut]=yt:(It.mod&&(yt-ot>It.mod/2?ot+=It.mod:ot-yt>It.mod/2&&(ot-=It.mod)),N[ut]=o((yt-ot)*s+ot,ht)))}),this[l](N)},blend:function(e){if(1===this._rgba[3])return this;var s=this._rgba.slice(),l=s.pop(),g=_e(e)._rgba;return _e(ye.map(s,function(y,A){return(1-l)*g[A]+l*y}))},toRgbaString:function(){var e="rgba(",s=ye.map(this._rgba,function(l,g){return l??(2<g?1:0)});return 1===s[3]&&(s.pop(),e="rgb("),e+s.join()+")"},toHslaString:function(){var e="hsla(",s=ye.map(this.hsla(),function(l,g){return null==l&&(l=2<g?1:0),g&&g<3?Math.round(100*l)+"%":l});return 1===s[3]&&(s.pop(),e="hsl("),e+s.join()+")"},toHexString:function(e){var s=this._rgba.slice(),l=s.pop();return e&&s.push(~~(255*l)),"#"+ye.map(s,function(g){return 1===(g=(g||0).toString(16)).length?"0"+g:g}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=_e.fn,Ue.hsla.to=function(j){if(null==j[0]||null==j[1]||null==j[2])return[null,null,null,j[3]];var s=j[0]/255,X=j[1]/255,l=j[2]/255,g=j[3],y=Math.max(s,X,l),A=Math.min(s,X,l),N=y-A,ht=(j=.5*(ht=y+A),X=A===y?0:s===y?60*(X-l)/N+360:X===y?60*(l-s)/N+120:60*(s-X)/N+240,0==N?0:j<=.5?N/ht:N/(2-ht));return[Math.round(X)%360,ht,j,g??1]},Ue.hsla.from=function(l){if(null==l[0]||null==l[1]||null==l[2])return[null,null,null,l[3]];var s=l[0]/360,g=l[1],y=l[2];return l=l[3],y=2*y-(g=y<=.5?y*(1+g):y+g-y*g),[Math.round(255*f(y,g,s+1/3)),Math.round(255*f(y,g,s)),Math.round(255*f(y,g,s-1/3)),l]},nt(Ue,function(e,s){var l=s.props,g=s.cache,y=s.to,A=s.from;_e.fn[e]=function(N){if(y&&!this[g]&&(this[g]=y(this._rgba)),void 0===N)return this[g].slice();var j=n(N),X="array"===j||"object"===j?N:arguments,ht=this[g].slice();return nt(l,function(ut,ot){null==(ut=X["object"===j?ut:ot.idx])&&(ut=ht[ot.idx]),ht[ot.idx]=o(ut,ot)}),A?((N=_e(A(ht)))[g]=ht,N):_e(ht)},nt(l,function(N,j){_e.fn[N]||(_e.fn[N]=function(X){var ht,ut=n(X),ot="alpha"===N?this._hsla?"hsla":"rgba":e,yt=this[ot](),It=yt[j.idx];return"undefined"===ut?It:("function"===ut&&(ut=n(X=X.call(this,It))),null==X&&j.empty?this:("string"===ut&&(ht=E.exec(X))&&(X=It+parseFloat(ht[2])*("+"===ht[1]?1:-1)),yt[j.idx]=X,this[ot](yt)))})})}),(_e.hook=function(e){e=e.split(" "),nt(e,function(s,l){ye.cssHooks[l]={set:function(g,y){var A,N,j="";if("transparent"!==y&&("string"!==n(y)||(A=h(y)))){if(y=_e(A||y),!se.rgba&&1!==y._rgba[3]){for(N="backgroundColor"===l?g.parentNode:g;(""===j||"transparent"===j)&&N&&N.style;)try{j=ye.css(N,"backgroundColor"),N=N.parentNode}catch{}y=y.blend(j&&"transparent"!==j?j:"_default")}y=y.toRgbaString()}try{g.style[l]=y}catch{}}},ye.fx.step[l]=function(g){g.colorInit||(g.start=_e(g.elem,l),g.end=_e(g.end),g.colorInit=!0),ye.cssHooks[l].set(g.elem,g.start.transition(g.end,g.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),ye.cssHooks.borderColor={expand:function(e){var s={};return nt(["Top","Right","Bottom","Left"],function(l,g){s["border"+g+"Color"]=e}),s}};var w,C,L,M,G,F,V,tt,dt,J,he,Zt,Ft,mt=ye.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},Ct="ui-effects-",Mt="ui-effects-style",at="ui-effects-animated";function re(e){var s,l,g=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,y={};if(g&&g.length&&g[0]&&g[g[0]])for(l=g.length;l--;)"string"==typeof g[s=g[l]]&&(y[s.replace(/-([\da-z])/gi,function(A,N){return N.toUpperCase()})]=g[s]);else for(s in g)"string"==typeof g[s]&&(y[s]=g[s]);return y}function Dt(e,s,l,g){return e={effect:e=r.isPlainObject(e)?(s=e).effect:e},"function"==typeof(s=s??{})&&(g=s,l=null,s={}),"number"!=typeof s&&!r.fx.speeds[s]||(g=l,l=s,s={}),"function"==typeof l&&(g=l,l=null),s&&r.extend(e,s),l=l||s.duration,e.duration=r.fx.off?0:"number"==typeof l?l:l in r.fx.speeds?r.fx.speeds[l]:r.fx.speeds._default,e.complete=g||s.complete,e}function At(e){return!e||"number"==typeof e||r.fx.speeds[e]||"string"==typeof e&&!r.effects.effect[e]||"function"==typeof e||"object"==typeof e&&!e.effect}function Ut(y,g){var l=g.outerWidth();return g=g.outerHeight(),y=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(y)||["",0,l,g,0],{top:parseFloat(y[1])||0,right:"auto"===y[2]?l:parseFloat(y[2]),bottom:"auto"===y[3]?g:parseFloat(y[3]),left:parseFloat(y[4])||0}}r.effects={effect:{}},M=["add","remove","toggle"],G={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},r.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,s){r.fx.step[s]=function(l){("none"!==l.end&&!l.setAttr||1===l.pos&&!l.setAttr)&&(ye.style(l.elem,s,l.end),l.setAttr=!0)}}),r.fn.addBack||(r.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),r.effects.animateClass=function(e,s,l,g){var y=r.speed(s,l,g);return this.queue(function(){var A=r(this),N=A.attr("class")||"",j=(j=y.children?A.find("*").addBack():A).map(function(){return{el:r(this),start:re(this)}}),X=function(){r.each(M,function(ht,ut){e[ut]&&A[ut+"Class"](e[ut])})};X(),j=j.map(function(){return this.end=re(this.el[0]),this.diff=function(ht,ut){var ot,yt,It={};for(ot in ut)ht[ot]!==(yt=ut[ot])&&(G[ot]||!r.fx.step[ot]&&isNaN(parseFloat(yt))||(It[ot]=yt));return It}(this.start,this.end),this}),A.attr("class",N),j=j.map(function(){var ht=this,ut=r.Deferred(),ot=r.extend({},y,{queue:!1,complete:function(){ut.resolve(ht)}});return this.el.animate(this.diff,ot),ut.promise()}),r.when.apply(r,j.get()).done(function(){X(),r.each(arguments,function(){var ht=this.el;r.each(this.diff,function(ut){ht.css(ut,"")})}),y.complete.call(A[0])})})},r.fn.extend({addClass:(L=r.fn.addClass,function(e,s,l,g){return s?r.effects.animateClass.call(this,{add:e},s,l,g):L.apply(this,arguments)}),removeClass:(C=r.fn.removeClass,function(e,s,l,g){return 1<arguments.length?r.effects.animateClass.call(this,{remove:e},s,l,g):C.apply(this,arguments)}),toggleClass:(w=r.fn.toggleClass,function(e,s,l,g,y){return"boolean"==typeof s||void 0===s?l?r.effects.animateClass.call(this,s?{add:e}:{remove:e},l,g,y):w.apply(this,arguments):r.effects.animateClass.call(this,{toggle:e},s,l,g)}),switchClass:function(e,s,l,g,y){return r.effects.animateClass.call(this,{add:s,remove:e},l,g,y)}}),r.expr&&r.expr.pseudos&&r.expr.pseudos.animated&&(r.expr.pseudos.animated=(F=r.expr.pseudos.animated,function(e){return!!r(e).data(at)||F(e)})),!1!==r.uiBackCompat&&r.extend(r.effects,{save:function(e,s){for(var l=0,g=s.length;l<g;l++)null!==s[l]&&e.data(Ct+s[l],e[0].style[s[l]])},restore:function(e,s){for(var l,g=0,y=s.length;g<y;g++)null!==s[g]&&(l=e.data(Ct+s[g]),e.css(s[g],l))},setMode:function(e,s){return"toggle"===s?e.is(":hidden")?"show":"hide":s},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var s={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},l=r("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),g={width:e.width(),height:e.height()},y=document.activeElement;return e.wrap(l),e[0]!==y&&!r.contains(e[0],y)||r(y).trigger("focus"),l=e.parent(),"static"===e.css("position")?(l.css({position:"relative"}),e.css({position:"relative"})):(r.extend(s,{position:e.css("position"),zIndex:e.css("z-index")}),r.each(["top","left","bottom","right"],function(A,N){s[N]=e.css(N),isNaN(parseInt(s[N],10))&&(s[N]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(g),l.css(s).show()},removeWrapper:function(e){var s=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),e[0]!==s&&!r.contains(e[0],s)||r(s).trigger("focus")),e}}),r.extend(r.effects,{version:"1.13.1",define:function(e,s,l){return l||(l=s,s="effect"),r.effects.effect[e]=l,r.effects.effect[e].mode=s,l},scaledDimensions:function(e,y,l){if(0===y)return{height:0,width:0,outerHeight:0,outerWidth:0};var g="horizontal"!==l?(y||100)/100:1;return y="vertical"!==l?(y||100)/100:1,{height:e.height()*y,width:e.width()*g,outerHeight:e.outerHeight()*y,outerWidth:e.outerWidth()*g}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,s,l){var g=e.queue();1<s&&g.splice.apply(g,[1,0].concat(g.splice(s,l))),e.dequeue()},saveStyle:function(e){e.data(Mt,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(Mt)||"",e.removeData(Mt)},mode:function(e,s){return e=e.is(":hidden"),"toggle"===s&&(s=e?"show":"hide"),(e?"hide"===s:"show"===s)?"none":s},getBaseline:function(e,s){var l,g;switch(e[0]){case"top":l=0;break;case"middle":l=.5;break;case"bottom":l=1;break;default:l=e[0]/s.height}switch(e[1]){case"left":g=0;break;case"center":g=.5;break;case"right":g=1;break;default:g=e[1]/s.width}return{x:g,y:l}},createPlaceholder:function(e){var s,l=e.css("position"),g=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(l)&&(l="absolute",s=r("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(Ct+"placeholder",s)),e.css({position:l,left:g.left,top:g.top}),s},removePlaceholder:function(e){var s=Ct+"placeholder",l=e.data(s);l&&(l.remove(),e.removeData(s))},cleanUp:function(e){r.effects.restoreStyle(e),r.effects.removePlaceholder(e)},setTransition:function(e,s,l,g){return g=g||{},r.each(s,function(y,A){var N=e.cssUnit(A);0<N[0]&&(g[A]=N[0]*l+N[1])}),g}}),r.fn.extend({effect:function(){function e(ut){var ot=r(this),yt=r.effects.mode(ot,j)||g;ot.data(at,!0),X.push(yt),g&&("show"===yt||yt===g&&"hide"===yt)&&ot.show(),g&&"none"===yt||r.effects.saveStyle(ot),"function"==typeof ut&&ut()}var s=Dt.apply(this,arguments),l=r.effects.effect[s.effect],g=l.mode,y=s.queue,A=y||"fx",N=s.complete,j=s.mode,X=[];return r.fx.off||!l?j?this[j](s.duration,N):this.each(function(){N&&N.call(this)}):!1===y?this.each(e).each(ht):this.queue(A,e).queue(A,ht);function ht(ut){var ot=r(this);function yt(){"function"==typeof N&&N.call(ot[0]),"function"==typeof ut&&ut()}s.mode=X.shift(),!1===r.uiBackCompat||g?"none"===s.mode?(ot[j](),yt()):l.call(ot[0],s,function(){ot.removeData(at),r.effects.cleanUp(ot),"hide"===s.mode&&ot.hide(),yt()}):(ot.is(":hidden")?"hide"===j:"show"===j)?(ot[j](),yt()):l.call(ot[0],s,yt)}},show:(dt=r.fn.show,function(e){return At(e)?dt.apply(this,arguments):((e=Dt.apply(this,arguments)).mode="show",this.effect.call(this,e))}),hide:(tt=r.fn.hide,function(e){return At(e)?tt.apply(this,arguments):((e=Dt.apply(this,arguments)).mode="hide",this.effect.call(this,e))}),toggle:(V=r.fn.toggle,function(e){return At(e)||"boolean"==typeof e?V.apply(this,arguments):((e=Dt.apply(this,arguments)).mode="toggle",this.effect.call(this,e))}),cssUnit:function(e){var s=this.css(e),l=[];return r.each(["em","px","%","pt"],function(g,y){0<s.indexOf(y)&&(l=[parseFloat(s),y])}),l},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):Ut(this.css("clip"),this)},transfer:function(e,s){var l=r(this),g="fixed"===(j=r(e.to)).css("position"),N=r("body"),y=g?N.scrollTop():0,A=g?N.scrollLeft():0,j=(N={top:(N=j.offset()).top-y,left:N.left-A,height:j.innerHeight(),width:j.innerWidth()},l.offset()),X=r("<div class='ui-effects-transfer'></div>");X.appendTo("body").addClass(e.className).css({top:j.top-y,left:j.left-A,height:l.innerHeight(),width:l.innerWidth(),position:g?"fixed":"absolute"}).animate(N,e.duration,e.easing,function(){X.remove(),"function"==typeof s&&s()})}}),r.fx.step.clip=function(e){e.clipInit||(e.start=r(e.elem).cssClip(),"string"==typeof e.end&&(e.end=Ut(e.end,e.elem)),e.clipInit=!0),r(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})},J={},r.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,s){J[s]=function(l){return Math.pow(l,e+2)}}),r.extend(J,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var s,l=4;e<((s=Math.pow(2,--l))-1)/11;);return 1/Math.pow(4,3-l)-7.5625*Math.pow((3*s-2)/22-e,2)}}),r.each(J,function(e,s){r.easing["easeIn"+e]=s,r.easing["easeOut"+e]=function(l){return 1-s(1-l)},r.easing["easeInOut"+e]=function(l){return l<.5?s(2*l)/2:1-s(-2*l+2)/2}}),et=r.effects,r.effects.define("blind","hide",function(e,s){var l={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},g=r(this),y=e.direction||"up",A=g.cssClip(),N={clip:r.extend({},A)},j=r.effects.createPlaceholder(g);N.clip[l[y][0]]=N.clip[l[y][1]],"show"===e.mode&&(g.cssClip(N.clip),j&&j.css(r.effects.clipToBox(N)),N.clip=A),j&&j.animate(r.effects.clipToBox(N),e.duration,e.easing),g.animate(N,{queue:!1,duration:e.duration,easing:e.easing,complete:s})}),r.effects.define("bounce",function(Vt,s){var l,g,ut,y=r(this),A="hide"===(ut=Vt.mode),N="show"===ut,j=Vt.direction||"up",X=Vt.distance,ht=Vt.times||5,ot=Vt.duration/(ut=2*ht+(N||A?1:0)),yt=Vt.easing,It="up"===j||"down"===j?"top":"left",qt="up"===j||"left"===j,jt=0;for(Vt=y.queue().length,r.effects.createPlaceholder(y),j=y.css(It),X=X||y["top"==It?"outerHeight":"outerWidth"]()/3,N&&((g={opacity:1})[It]=j,y.css("opacity",0).css(It,qt?2*-X:2*X).animate(g,ot,yt)),A&&(X/=Math.pow(2,ht-1)),(g={})[It]=j;jt<ht;jt++)(l={})[It]=(qt?"-=":"+=")+X,y.animate(l,ot,yt).animate(g,ot,yt),X=A?2*X:X/2;A&&((l={opacity:0})[It]=(qt?"-=":"+=")+X,y.animate(l,ot,yt)),y.queue(s),r.effects.unshift(y,Vt,1+ut)}),r.effects.define("clip","hide",function(e,s){var l={},g=r(this),y=(A="both"===(N=e.direction||"vertical"))||"horizontal"===N,A=A||"vertical"===N,N=g.cssClip();l.clip={top:A?(N.bottom-N.top)/2:N.top,right:y?(N.right-N.left)/2:N.right,bottom:A?(N.bottom-N.top)/2:N.bottom,left:y?(N.right-N.left)/2:N.left},r.effects.createPlaceholder(g),"show"===e.mode&&(g.cssClip(l.clip),l.clip=N),g.animate(l,{queue:!1,duration:e.duration,easing:e.easing,complete:s})}),r.effects.define("drop","hide",function(e,s){var l=r(this),g="show"===e.mode,y=e.direction||"left",A="up"===y||"down"===y?"top":"left",N="up"===y||"left"===y?"-=":"+=",j="+="==N?"-=":"+=",X={opacity:0};r.effects.createPlaceholder(l),y=e.distance||l["top"==A?"outerHeight":"outerWidth"](!0)/2,X[A]=N+y,g&&(l.css(X),X[A]=j+y,X.opacity=1),l.animate(X,{queue:!1,duration:e.duration,easing:e.easing,complete:s})}),r.effects.define("explode","hide",function(e,s){var l,g,y,A,N,j,X=e.pieces?Math.round(Math.sqrt(e.pieces)):3,ht=X,ut=r(this),ot="show"===e.mode,yt=ut.show().css("visibility","hidden").offset(),It=Math.ceil(ut.outerWidth()/ht),qt=Math.ceil(ut.outerHeight()/X),jt=[];function Vt(){jt.push(this),jt.length===X*ht&&(ut.css({visibility:"visible"}),r(jt).remove(),s())}for(l=0;l<X;l++)for(A=yt.top+l*qt,j=l-(X-1)/2,g=0;g<ht;g++)y=yt.left+g*It,N=g-(ht-1)/2,ut.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*It,top:-l*qt}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:It,height:qt,left:y+(ot?N*It:0),top:A+(ot?j*qt:0),opacity:ot?0:1}).animate({left:y+(ot?0:N*It),top:A+(ot?0:j*qt),opacity:ot?1:0},e.duration||500,e.easing,Vt)}),r.effects.define("fade","toggle",function(e,s){var l="show"===e.mode;r(this).css("opacity",l?0:1).animate({opacity:l?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:s})}),r.effects.define("fold","hide",function(e,s){var l=r(this),g="show"===(qt=e.mode),y="hide"===qt,A=e.size||15,N=/([0-9]+)%/.exec(A),j=e.horizFirst?["right","bottom"]:["bottom","right"],X=e.duration/2,ht=r.effects.createPlaceholder(l),ut=l.cssClip(),ot={clip:r.extend({},ut)},yt={clip:r.extend({},ut)},It=[ut[j[0]],ut[j[1]]],qt=l.queue().length;N&&(A=parseInt(N[1],10)/100*It[y?0:1]),ot.clip[j[0]]=A,yt.clip[j[0]]=A,yt.clip[j[1]]=0,g&&(l.cssClip(yt.clip),ht&&ht.css(r.effects.clipToBox(yt)),yt.clip=ut),l.queue(function(jt){ht&&ht.animate(r.effects.clipToBox(ot),X,e.easing).animate(r.effects.clipToBox(yt),X,e.easing),jt()}).animate(ot,X,e.easing).animate(yt,X,e.easing).queue(s),r.effects.unshift(l,qt,4)}),r.effects.define("highlight","show",function(e,s){var l=r(this),g={backgroundColor:l.css("backgroundColor")};"hide"===e.mode&&(g.opacity=0),r.effects.saveStyle(l),l.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(g,{queue:!1,duration:e.duration,easing:e.easing,complete:s})}),r.effects.define("size",function(e,s){var l,g=r(this),y=["fontSize"],A=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],N=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],j=e.mode,X="effect"!==j,ht=e.scale||"both",ut=e.origin||["middle","center"],ot=g.css("position"),yt=g.position(),It=r.effects.scaledDimensions(g),qt=e.from||It,jt=e.to||r.effects.scaledDimensions(g,0);r.effects.createPlaceholder(g),"show"===j&&(j=qt,qt=jt,jt=j),l={from:{y:qt.height/It.height,x:qt.width/It.width},to:{y:jt.height/It.height,x:jt.width/It.width}},"box"!==ht&&"both"!==ht||(l.from.y!==l.to.y&&(qt=r.effects.setTransition(g,A,l.from.y,qt),jt=r.effects.setTransition(g,A,l.to.y,jt)),l.from.x!==l.to.x&&(qt=r.effects.setTransition(g,N,l.from.x,qt),jt=r.effects.setTransition(g,N,l.to.x,jt))),"content"!==ht&&"both"!==ht||l.from.y!==l.to.y&&(qt=r.effects.setTransition(g,y,l.from.y,qt),jt=r.effects.setTransition(g,y,l.to.y,jt)),ut&&(ut=r.effects.getBaseline(ut,It),qt.top=(It.outerHeight-qt.outerHeight)*ut.y+yt.top,qt.left=(It.outerWidth-qt.outerWidth)*ut.x+yt.left,jt.top=(It.outerHeight-jt.outerHeight)*ut.y+yt.top,jt.left=(It.outerWidth-jt.outerWidth)*ut.x+yt.left),delete qt.outerHeight,delete qt.outerWidth,g.css(qt),"content"!==ht&&"both"!==ht||(A=A.concat(["marginTop","marginBottom"]).concat(y),N=N.concat(["marginLeft","marginRight"]),g.find("*[width]").each(function(){var Vt=r(this),ze={height:(ge=r.effects.scaledDimensions(Vt)).height*l.from.y,width:ge.width*l.from.x,outerHeight:ge.outerHeight*l.from.y,outerWidth:ge.outerWidth*l.from.x},ge={height:ge.height*l.to.y,width:ge.width*l.to.x,outerHeight:ge.height*l.to.y,outerWidth:ge.width*l.to.x};l.from.y!==l.to.y&&(ze=r.effects.setTransition(Vt,A,l.from.y,ze),ge=r.effects.setTransition(Vt,A,l.to.y,ge)),l.from.x!==l.to.x&&(ze=r.effects.setTransition(Vt,N,l.from.x,ze),ge=r.effects.setTransition(Vt,N,l.to.x,ge)),X&&r.effects.saveStyle(Vt),Vt.css(ze),Vt.animate(ge,e.duration,e.easing,function(){X&&r.effects.restoreStyle(Vt)})})),g.animate(jt,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var Vt=g.offset();0===jt.opacity&&g.css("opacity",qt.opacity),X||(g.css("position","static"===ot?"relative":ot).offset(Vt),r.effects.saveStyle(g)),s()}})}),r.effects.define("scale",function(e,s){var l=r(this),g=e.mode;g=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"effect"!==g?0:100),g=r.extend(!0,{from:r.effects.scaledDimensions(l),to:r.effects.scaledDimensions(l,g,e.direction||"both"),origin:e.origin||["middle","center"]},e),e.fade&&(g.from.opacity=1,g.to.opacity=0),r.effects.effect.size.call(this,g,s)}),r.effects.define("puff","hide",function(e,s){e=r.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150}),r.effects.effect.scale.call(this,e,s)}),r.effects.define("pulsate","show",function(e,s){var l=r(this),g="show"===(X=e.mode),y=2*(e.times||5)+(g||"hide"===X?1:0),A=e.duration/y,N=0,j=1,X=l.queue().length;for(!g&&l.is(":visible")||(l.css("opacity",0).show(),N=1);j<y;j++)l.animate({opacity:N},A,e.easing),N=1-N;l.animate({opacity:N},A,e.easing),l.queue(s),r.effects.unshift(l,X,1+y)}),r.effects.define("shake",function(e,s){var l=1,g=r(this),It=e.direction||"left",y=e.distance||20,A=e.times||3,N=2*A+1,j=Math.round(e.duration/N),X="up"===It||"down"===It?"top":"left",ht="up"===It||"left"===It,ut={},ot={},yt={};for(It=g.queue().length,r.effects.createPlaceholder(g),ut[X]=(ht?"-=":"+=")+y,ot[X]=(ht?"+=":"-=")+2*y,yt[X]=(ht?"-=":"+=")+2*y,g.animate(ut,j,e.easing);l<A;l++)g.animate(ot,j,e.easing).animate(yt,j,e.easing);g.animate(ot,j,e.easing).animate(ut,j/2,e.easing).queue(s),r.effects.unshift(g,It,1+N)}),r.effects.define("slide","show",function(e,s){var l,g,y=r(this),A={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},N=e.mode,j=e.direction||"left",X="up"===j||"down"===j?"top":"left",ht="up"===j||"left"===j,ut=e.distance||y["top"==X?"outerHeight":"outerWidth"](!0),ot={};r.effects.createPlaceholder(y),l=y.cssClip(),g=y.position()[X],ot[X]=(ht?-1:1)*ut+g,ot.clip=y.cssClip(),ot.clip[A[j][1]]=ot.clip[A[j][0]],"show"===N&&(y.cssClip(ot.clip),y.css(X,ot[X]),ot.clip=l,ot[X]=g),y.animate(ot,{queue:!1,duration:e.duration,easing:e.easing,complete:s})}),et=!1!==r.uiBackCompat?r.effects.define("transfer",function(e,s){r(this).transfer(e,s)}):et,r.ui.focusable=function(e,s){var l,g,y,A,N=e.nodeName.toLowerCase();return"area"===N?(g=(l=e.parentNode).name,!(!e.href||!g||"map"!==l.nodeName.toLowerCase())&&0<(g=r("img[usemap='#"+g+"']")).length&&g.is(":visible")):(/^(input|select|textarea|button|object)$/.test(N)?(y=!e.disabled)&&(A=r(e).closest("fieldset")[0])&&(y=!A.disabled):y="a"===N&&e.href||s,y&&r(e).is(":visible")&&function(j){for(var X=j.css("visibility");"inherit"===X;)X=(j=j.parent()).css("visibility");return"visible"===X}(r(e)))},r.extend(r.expr.pseudos,{focusable:function(e){return r.ui.focusable(e,null!=r.attr(e,"tabindex"))}}),r.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):r(this[0].form)},r.ui.formResetMixin={_formResetHandler:function(){var e=r(this);setTimeout(function(){var s=e.data("ui-form-reset-instances");r.each(s,function(){this.refresh()})})},_bindFormResetHandler:function(){var e;this.form=this.element._form(),this.form.length&&((e=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e))},_unbindFormResetHandler:function(){var e;this.form.length&&((e=this.form.data("ui-form-reset-instances")).splice(r.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}},r.expr.pseudos||(r.expr.pseudos=r.expr[":"]),r.uniqueSort||(r.uniqueSort=r.unique),r.escapeSelector||(he=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,Zt=function(e,s){return s?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},r.escapeSelector=function(e){return(e+"").replace(he,Zt)}),r.fn.even&&r.fn.odd||r.fn.extend({even:function(){return this.filter(function(e){return e%2==0})},odd:function(){return this.filter(function(e){return e%2==1})}}),r.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},r.fn.labels=function(){var e,s,l;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(s=this.eq(0).parents("label"),(e=this.attr("id"))&&(l=(l=this.eq(0).parents().last()).add((l.length?l:this).siblings()),e="label[for='"+r.escapeSelector(e)+"']",s=s.add(l.find(e).addBack(e))),this.pushStack(s)):this.pushStack([])},r.fn.scrollParent=function(y){var s=this.css("position"),l="absolute"===s,g=y?/(auto|scroll|hidden)/:/(auto|scroll)/;return y=this.parents().filter(function(){var A=r(this);return(!l||"static"!==A.css("position"))&&g.test(A.css("overflow")+A.css("overflow-y")+A.css("overflow-x"))}).eq(0),"fixed"!==s&&y.length?y:r(this[0].ownerDocument||document)},r.extend(r.expr.pseudos,{tabbable:function(e){var s=r.attr(e,"tabindex"),l=null!=s;return(!l||0<=s)&&r.ui.focusable(e,l)}}),r.fn.extend({uniqueId:(Ft=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++Ft)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&r(this).removeAttr("id")})}}),r.widget("ui.accordion",{version:"1.13.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(e){return e.find("> li > :first-child").add(e.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=r(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():r()}},_createIcons:function(){var e,s=this.options.icons;s&&(e=r("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),e=this.active.children(".ui-accordion-header-icon"),this._removeClass(e,s.header)._addClass(e,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,s){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(s)),this._super(e,s),"collapsible"!==e||s||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),s&&this._createIcons())):this._activate(s)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var s=r.ui.keyCode,l=this.headers.length,g=this.headers.index(e.target),y=!1;switch(e.keyCode){case s.RIGHT:case s.DOWN:y=this.headers[(g+1)%l];break;case s.LEFT:case s.UP:y=this.headers[(g-1+l)%l];break;case s.SPACE:case s.ENTER:this._eventHandler(e);break;case s.HOME:y=this.headers[0];break;case s.END:y=this.headers[l-1]}y&&(r(e.target).attr("tabIndex",-1),r(y).attr("tabIndex",0),r(y).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===r.ui.keyCode.UP&&e.ctrlKey&&r(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=r()):!1===e.active?this._activate(0):this.active.length&&!r.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=r()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,s=this.panels;this.headers="function"==typeof this.options.header?this.options.header(this.element):this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),s&&(this._off(e.not(this.headers)),this._off(s.not(this.panels)))},_refresh:function(){var e,s=this.options,l=s.heightStyle,g=this.element.parent();this.active=this._findActive(s.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var y=r(this),A=y.uniqueId().attr("id"),N=y.next(),j=N.uniqueId().attr("id");y.attr("aria-controls",j),N.attr("aria-labelledby",A)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(s.event),"fill"===l?(e=g.height(),this.element.siblings(":visible").each(function(){var y=r(this),A=y.css("position");"absolute"!==A&&"fixed"!==A&&(e-=y.outerHeight(!0))}),this.headers.each(function(){e-=r(this).outerHeight(!0)}),this.headers.next().each(function(){r(this).height(Math.max(0,e-r(this).innerHeight()+r(this).height()))}).css("overflow","auto")):"auto"===l&&(e=0,this.headers.next().each(function(){var y=r(this).is(":visible");y||r(this).show(),e=Math.max(e,r(this).css("height","").height()),y||r(this).hide()}).height(e))},_activate:function(e){(e=this._findActive(e)[0])!==this.active[0]&&this._eventHandler({target:e=e||this.active[0],currentTarget:e,preventDefault:r.noop})},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):r()},_setupEvents:function(e){var s={keydown:"_keydown"};e&&r.each(e.split(" "),function(l,g){s[g]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,s),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var s=this.options,l=this.active,g=r(e.currentTarget),y=g[0]===l[0],A=y&&s.collapsible,j=A?r():g.next(),N=l.next();j={oldHeader:l,oldPanel:N,newHeader:A?r():g,newPanel:j},e.preventDefault(),y&&!s.collapsible||!1===this._trigger("beforeActivate",e,j)||(s.active=!A&&this.headers.index(g),this.active=y?r():g,this._toggle(j),this._removeClass(l,"ui-accordion-header-active","ui-state-active"),s.icons&&(l=l.children(".ui-accordion-header-icon"),this._removeClass(l,null,s.icons.activeHeader)._addClass(l,null,s.icons.header)),y||(this._removeClass(g,"ui-accordion-header-collapsed")._addClass(g,"ui-accordion-header-active","ui-state-active"),s.icons&&(y=g.children(".ui-accordion-header-icon"),this._removeClass(y,null,s.icons.header)._addClass(y,null,s.icons.activeHeader)),this._addClass(g.next(),"ui-accordion-content-active")))},_toggle:function(e){var s=e.newPanel,l=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=s,this.prevHide=l,this.options.animate?this._animate(s,l,e):(l.hide(),s.show(),this._toggleComplete(e)),l.attr({"aria-hidden":"true"}),l.prev().attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&l.length?l.prev().attr({tabIndex:-1,"aria-expanded":"false"}):s.length&&this.headers.filter(function(){return 0===parseInt(r(this).attr("tabIndex"),10)}).attr("tabIndex",-1),s.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,s,l){var g,y,A,N=this,j=0,X=e.css("box-sizing"),ot=e.length&&(!s.length||e.index()<s.index()),ht=this.options.animate||{},ut=ot&&ht.down||ht;return ot=function(){N._toggleComplete(l)},y=(y="string"==typeof ut?ut:y)||ut.easing||ht.easing,A=(A="number"==typeof ut?ut:A)||ut.duration||ht.duration,s.length?e.length?(g=e.show().outerHeight(),s.animate(this.hideProps,{duration:A,easing:y,step:function(yt,It){It.now=Math.round(yt)}}),void e.hide().animate(this.showProps,{duration:A,easing:y,complete:ot,step:function(yt,It){It.now=Math.round(yt),"height"!==It.prop?"content-box"===X&&(j+=It.now):"content"!==N.options.heightStyle&&(It.now=Math.round(g-s.outerHeight()-j),j=0)}})):s.animate(this.hideProps,A,y,ot):e.animate(this.showProps,A,y,ot)},_toggleComplete:function(e){var s=e.oldPanel,l=s.prev();this._removeClass(s,"ui-accordion-content-active"),this._removeClass(l,"ui-accordion-header-active")._addClass(l,"ui-accordion-header-collapsed"),s.length&&(s.parent()[0].className=s.parent()[0].className),this._trigger("activate",null,e)}}),r.ui.safeActiveElement=function(e){var s;try{s=e.activeElement}catch{s=e.body}return(s=s||e.body).nodeName?s:e.body},r.widget("ui.menu",{version:"1.13.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault(),this._activateItem(e)},"click .ui-menu-item":function(e){var s=r(e.target),l=r(r.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&s.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),s.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&l.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,s){var l=this.active||this._menuItems().first();s||this.focus(e,l)},blur:function(e){this._delay(function(){r.contains(this.element[0],r.ui.safeActiveElement(this.document[0]))||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e,!0),this.mouseHandled=!1}})},_activateItem:function(e){var s,l;this.previousFilter||e.clientX===this.lastMousePosition.x&&e.clientY===this.lastMousePosition.y||(this.lastMousePosition={x:e.clientX,y:e.clientY},s=r(e.target).closest(".ui-menu-item"),l=r(e.currentTarget),s[0]===l[0]&&(l.is(".ui-state-active")||(this._removeClass(l.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,l))))},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var s=r(this);s.data("ui-menu-submenu-caret")&&s.remove()})},_keydown:function(e){var s,l,g,y=!0;switch(e.keyCode){case r.ui.keyCode.PAGE_UP:this.previousPage(e);break;case r.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case r.ui.keyCode.HOME:this._move("first","first",e);break;case r.ui.keyCode.END:this._move("last","last",e);break;case r.ui.keyCode.UP:this.previous(e);break;case r.ui.keyCode.DOWN:this.next(e);break;case r.ui.keyCode.LEFT:this.collapse(e);break;case r.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case r.ui.keyCode.ENTER:case r.ui.keyCode.SPACE:this._activate(e);break;case r.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=this.previousFilter||"",g=y=!1,l=96<=e.keyCode&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),l===s?g=!0:l=s+l,s=this._filterMenuItems(l),(s=g&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s).length||(l=String.fromCharCode(e.keyCode),s=this._filterMenuItems(l)),s.length?(this.focus(e,s),this.previousFilter=l,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}y&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,s,l=this,g=this.options.icons.submenu,y=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=y.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var A=r(this),N=A.prev(),j=r("<span>").data("ui-menu-submenu-caret",!0);l._addClass(j,"ui-menu-icon","ui-icon "+g),N.attr("aria-haspopup","true").prepend(j),A.attr("aria-labelledby",N.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),(e=y.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var A=r(this);l._isDivider(A)&&l._addClass(A,"ui-menu-divider","ui-widget-content")}),y=(s=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(s,"ui-menu-item")._addClass(y,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!r.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,s){var l;"icons"===e&&(l=this.element.find(".ui-menu-icon"),this._removeClass(l,null,this.options.icons.submenu)._addClass(l,null,s.submenu)),this._super(e,s)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,s){var l;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(s),this.active=s.first(),l=this.active.children(".ui-menu-item-wrapper"),this._addClass(l,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",l.attr("id")),l=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(l,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(l=s.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(l),this.activeMenu=s.parent(),this._trigger("focus",e,{item:s})},_scrollIntoView:function(e){var s,l,g;this._hasScroll()&&(l=parseFloat(r.css(this.activeMenu[0],"borderTopWidth"))||0,g=parseFloat(r.css(this.activeMenu[0],"paddingTop"))||0,s=e.offset().top-this.activeMenu.offset().top-l-g,l=this.activeMenu.scrollTop(),g=this.activeMenu.height(),e=e.outerHeight(),s<0?this.activeMenu.scrollTop(l+s):g<s+e&&this.activeMenu.scrollTop(l+s-g+e))},blur:function(e,s){s||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var s=r.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(s)},collapseAll:function(e,s){clearTimeout(this.timer),this.timer=this._delay(function(){var l=s?this.element:r(e&&e.target).closest(this.element.find(".ui-menu"));l.length||(l=this.element),this._close(l),this.blur(e),this._removeClass(l.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=l},s?0:this.delay)},_close:function(e){(e=e||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!r(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var s=this.active&&this.active.parent().closest(".ui-menu-item",this.element);s&&s.length&&(this._close(),this.focus(e,s))},expand:function(e){var s=this.active&&this._menuItems(this.active.children(".ui-menu")).first();s&&s.length&&(this._open(s.parent()),this._delay(function(){this.focus(e,s)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(e){return(e||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(e,s,l){var g;(g=this.active?"first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").last():this.active[e+"All"](".ui-menu-item").first():g)&&g.length&&this.active||(g=this._menuItems(this.activeMenu)[s]()),this.focus(l,g)},nextPage:function(e){var s,l,g;this.active?this.isLastItem()||(this._hasScroll()?(l=this.active.offset().top,g=this.element.innerHeight(),0===r.fn.jquery.indexOf("3.2.")&&(g+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(s=r(this)).offset().top-l-g<0}),this.focus(e,s)):this.focus(e,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var s,l,g;this.active?this.isFirstItem()||(this._hasScroll()?(l=this.active.offset().top,g=this.element.innerHeight(),0===r.fn.jquery.indexOf("3.2.")&&(g+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return 0<(s=r(this)).offset().top-l+g}),this.focus(e,s)):this.focus(e,this._menuItems(this.activeMenu).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||r(e.target).closest(".ui-menu-item");var s={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,s)},_filterMenuItems:function(s){s=s.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var l=new RegExp("^"+s,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return l.test(String.prototype.trim.call(r(this).children(".ui-menu-item-wrapper").text()))})}}),r.widget("ui.autocomplete",{version:"1.13.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var e,s,l,g="textarea"===(y=this.element[0].nodeName.toLowerCase()),y="input"===y;this.isMultiLine=g||!y&&this._isContentEditable(this.element),this.valueMethod=this.element[g||y?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(A){if(this.element.prop("readOnly"))s=l=e=!0;else{s=l=e=!1;var N=r.ui.keyCode;switch(A.keyCode){case N.PAGE_UP:e=!0,this._move("previousPage",A);break;case N.PAGE_DOWN:e=!0,this._move("nextPage",A);break;case N.UP:e=!0,this._keyEvent("previous",A);break;case N.DOWN:e=!0,this._keyEvent("next",A);break;case N.ENTER:this.menu.active&&(e=!0,A.preventDefault(),this.menu.select(A));break;case N.TAB:this.menu.active&&this.menu.select(A);break;case N.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(A),A.preventDefault());break;default:s=!0,this._searchTimeout(A)}}},keypress:function(A){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||A.preventDefault());if(!s){var N=r.ui.keyCode;switch(A.keyCode){case N.PAGE_UP:this._move("previousPage",A);break;case N.PAGE_DOWN:this._move("nextPage",A);break;case N.UP:this._keyEvent("previous",A);break;case N.DOWN:this._keyEvent("next",A)}}},input:function(A){if(l)return l=!1,void A.preventDefault();this._searchTimeout(A)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(A){clearTimeout(this.searching),this.close(A),this._change(A)}}),this._initSource(),this.menu=r("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(A){A.preventDefault()},menufocus:function(A,N){var j,X;if(this.isNewMenu&&(this.isNewMenu=!1,A.originalEvent&&/^mouse/.test(A.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){r(A.target).trigger(A.originalEvent)});X=N.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",A,{item:X})&&A.originalEvent&&/^key/.test(A.originalEvent.type)&&this._value(X.value),(j=N.item.attr("aria-label")||X.value)&&String.prototype.trim.call(j).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(r("<div>").text(j))},100))},menuselect:function(A,N){var j=N.item.data("ui-autocomplete-item"),X=this.previous;this.element[0]!==r.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=X,this._delay(function(){this.previous=X,this.selectedItem=j})),!1!==this._trigger("select",A,{item:j})&&this._value(j.value),this.term=this._value(),this.close(A),this.selectedItem=j}}),this.liveRegion=r("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,s){this._super(e,s),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&s&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var s=this.menu.element[0];return e.target===this.element[0]||e.target===s||r.contains(s,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return(e=(e=e&&(e.jquery||e.nodeType?r(e):this.document.find(e).eq(0)))&&e[0]?e:this.element.closest(".ui-front, dialog")).length?e:this.document[0].body},_initSource:function(){var e,s,l=this;Array.isArray(this.options.source)?(e=this.options.source,this.source=function(g,y){y(r.ui.autocomplete.filter(e,g.term))}):"string"==typeof this.options.source?(s=this.options.source,this.source=function(g,y){l.xhr&&l.xhr.abort(),l.xhr=r.ajax({url:s,data:g,dataType:"json",success:function(A){y(A)},error:function(){y([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var s=this.term===this._value(),l=this.menu.element.is(":visible");s&&(l||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,s){return e=e??this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(s):!1!==this._trigger("search",s)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return function(s){e===this.requestIndex&&this.__response(s),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(e){e=e&&this._normalize(e),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:r.map(e,function(s){return"string"==typeof s?{label:s,value:s}:r.extend({},s,{label:s.label||s.value,value:s.value||s.label})})},_suggest:function(e){var s=this.menu.element.empty();this._renderMenu(s,e),this.isNewMenu=!0,this.menu.refresh(),s.show(),this._resizeMenu(),s.position(r.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,s){var l=this;r.each(s,function(g,y){l._renderItemData(e,y)})},_renderItemData:function(e,s){return this._renderItem(e,s).data("ui-autocomplete-item",s)},_renderItem:function(e,s){return r("<li>").append(r("<div>").text(s.label)).appendTo(e)},_move:function(e,s){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](s);this.search(null,s)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,s){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,s),s.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var s=e.prop("contentEditable");return"inherit"===s?this._isContentEditable(e.parent()):"true"===s}}),r.extend(r.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,s){var l=new RegExp(r.ui.autocomplete.escapeRegex(s),"i");return r.grep(e,function(g){return l.test(g.label||g.value||g)})}}),r.widget("ui.autocomplete",r.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var s;this._superApply(arguments),this.options.disabled||this.cancelSearch||(s=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(r("<div>").text(s))},100))}});var Yt,Bt,$t=/ui-corner-([a-z]){2,6}/g;function Le(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},r.extend(this._defaults,this.regional[""]),this.regional.en=r.extend(!0,{},this.regional[""]),this.regional["en-US"]=r.extend(!0,{},this.regional.en),this.dpDiv=be(r("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function be(e){var s="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",s,function(){r(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&r(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&r(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",s,gn)}function gn(){r.datepicker._isDisabledDatepicker((Bt.inline?Bt.dpDiv.parent():Bt.input)[0])||(r(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),r(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&r(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&r(this).addClass("ui-datepicker-next-hover"))}function nn(e,s){for(var l in r.extend(e,s),s)null==s[l]&&(e[l]=s[l]);return e}r.widget("ui.controlgroup",{version:"1.13.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,s=[];r.each(this.options.items,function(l,g){var y,A={};if(g)return"controlgroupLabel"===l?((y=e.element.find(g)).each(function(){var N=r(this);N.children(".ui-controlgroup-label-contents").length||N.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(y,null,"ui-widget ui-widget-content ui-state-default"),void(s=s.concat(y.get()))):void(r.fn[l]&&(A=e["_"+l+"Options"]?e["_"+l+"Options"]("middle"):{classes:{}},e.element.find(g).each(function(){var N=r(this),j=N[l]("instance"),X=r.widget.extend({},A);"button"===l&&N.parent(".ui-spinner").length||((j=j||N[l]()[l]("instance"))&&(X.classes=e._resolveClassesValues(X.classes,j)),N[l](X),X=N[l]("widget"),r.data(X[0],"ui-controlgroup-data",j||N[l]("instance")),s.push(X[0]))})))}),this.childWidgets=r(r.uniqueSort(s)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var s=r(this).data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(e,s){s=this._buildSimpleOptions(s,"label").classes.label,this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,s)},_buildSimpleOptions:function(e,s){var l="vertical"===this.options.direction,g={classes:{}};return g.classes[s]={middle:"",first:"ui-corner-"+(l?"top":"left"),last:"ui-corner-"+(l?"bottom":"right"),only:"ui-corner-all"}[e],g},_spinnerOptions:function(e){return(e=this._buildSimpleOptions(e,"ui-spinner")).classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var s="vertical"===this.options.direction;return{width:s&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(s?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(s?"top":"left")},last:{"ui-selectmenu-button-open":s?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(s?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(e,s){var l={};return r.each(e,function(g){var y=s.options.classes[g]||"";y=String.prototype.trim.call(y.replace($t,"")),l[g]=(y+" "+e[g]).replace(/\s+/g," ")}),l},_setOption:function(e,s){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,s),"disabled"!==e?this.refresh():this._callChildMethod(s?"disable":"enable")},refresh:function(){var e,s=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,(e=this.options.onlyVisible?e.filter(":visible"):e).length&&(r.each(["first","last"],function(l,g){var y,A=e[g]().data("ui-controlgroup-data");A&&s["_"+A.widgetName+"Options"]?((y=s["_"+A.widgetName+"Options"](1===e.length?"only":g)).classes=s._resolveClassesValues(y.classes,A),A.element[A.widgetName](y)):s._updateCornerClass(e[g](),g)}),this._callChildMethod("refresh"))}}),r.widget("ui.checkboxradio",[r.ui.formResetMixin,{version:"1.13.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,s=this,l=this._super()||{};return this._readType(),e=this.element.labels(),this.label=r(e[e.length-1]),this.label.length||r.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?r(this).text():this.outerHTML}),this.originalLabel&&(l.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(l.disabled=e),l},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||r.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,s="input[name='"+r.escapeSelector(e)+"']";return e?(this.form.length?r(this.form[0].elements).filter(s):r(s).filter(function(){return 0===r(this)._form().length})).not(this.element):r([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var s=r(this).checkboxradio("instance");s&&s._removeClass(s.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,s){if("label"!==e||s){if(this._super(e,s),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",s),void(this.element[0].disabled=s);this.refresh()}},_updateIcon:function(e){var s="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=r("<span>"),this.iconSpace=r("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(s+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):s+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",s),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),(e=this.iconSpace?e.not(this.iconSpace[0]):e).remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,s=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),s!==this.options.disabled&&this._setOptions({disabled:s})}}]),r.widget("ui.button",{version:"1.13.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,s=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(s.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(s.label=this.originalLabel),s},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===r.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(y,s){var l="iconPosition"!==y,g=l?this.options.iconPosition:s;y="top"===g||"bottom"===g,this.icon?l&&this._removeClass(this.icon,null,this.options.icon):(this.icon=r("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),l&&this._addClass(this.icon,null,s),this._attachIcon(g),y?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=r("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(g))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){(void 0===e.showLabel?this.options:e).showLabel||(void 0===e.icon?this.options:e).icon||(e.showLabel=!0),this._super(e)},_setOption:function(e,s){"icon"===e&&(s?this._updateIcon(e,s):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,s),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!s),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(s):(this.element.html(s),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,s),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",s),(this.element[0].disabled=s)&&this.element.trigger("blur"))},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==r.uiBackCompat&&(r.widget("ui.button",r.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,s){"text"!==e?("showLabel"===e&&(this.options.text=s),"icon"===e&&(this.options.icons.primary=s),"icons"===e&&(s.primary?(this._super("icon",s.primary),this._super("iconPosition","beginning")):s.secondary&&(this._super("icon",s.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",s)}}),r.fn.button=(Yt=r.fn.button,function(e){var s="string"==typeof e,l=Array.prototype.slice.call(arguments,1),g=this;return s?this.length||"instance"!==e?this.each(function(){var y=r(this).attr("type"),A=r.data(this,"ui-"+("checkbox"!==y&&"radio"!==y?"button":"checkboxradio"));return"instance"===e?(g=A,!1):A?"function"!=typeof A[e]||"_"===e.charAt(0)?r.error("no such method '"+e+"' for button widget instance"):(y=A[e].apply(A,l))!==A&&void 0!==y?(g=y&&y.jquery?g.pushStack(y.get()):y,!1):void 0:r.error("cannot call methods on button prior to initialization; attempted to call method '"+e+"'")}):g=void 0:(l.length&&(e=r.widget.extend.apply(null,[e].concat(l))),this.each(function(){var A,y="checkbox"!==(A=r(this).attr("type"))&&"radio"!==A?"button":"checkboxradio";(A=r.data(this,"ui-"+y))?(A.option(e||{}),A._init&&A._init()):"button"!=y?r(this).checkboxradio(r.extend({icon:!1},e)):Yt.call(r(this),e)})),g}),r.fn.buttonset=function(){return r.ui.controlgroup||r.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),r.extend(r.ui,{datepicker:{version:"1.13.1"}}),r.extend(Le.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return nn(this._defaults,e||{}),this},_attachDatepicker:function(e,s){var l,g=e.nodeName.toLowerCase(),y="div"===g||"span"===g;e.id||(this.uuid+=1,e.id="dp"+this.uuid),(l=this._newInst(r(e),y)).settings=r.extend({},s||{}),"input"===g?this._connectDatepicker(e,l):y&&this._inlineDatepicker(e,l)},_newInst:function(e,s){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:s,dpDiv:s?be(r("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,s){var l=r(e);s.append=r([]),s.trigger=r([]),l.hasClass(this.markerClassName)||(this._attachments(l,s),l.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(s),r.data(e,"datepicker",s),s.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,s){var l,g=this._get(s,"appendText"),y=this._get(s,"isRTL");s.append&&s.append.remove(),g&&(s.append=r("<span>").addClass(this._appendClass).text(g),e[y?"before":"after"](s.append)),e.off("focus",this._showDatepicker),s.trigger&&s.trigger.remove(),"focus"!==(l=this._get(s,"showOn"))&&"both"!==l||e.on("focus",this._showDatepicker),"button"!==l&&"both"!==l||(g=this._get(s,"buttonText"),l=this._get(s,"buttonImage"),this._get(s,"buttonImageOnly")?s.trigger=r("<img>").addClass(this._triggerClass).attr({src:l,alt:g,title:g}):(s.trigger=r("<button type='button'>").addClass(this._triggerClass),l?s.trigger.html(r("<img>").attr({src:l,alt:g,title:g})):s.trigger.text(g)),e[y?"before":"after"](s.trigger),s.trigger.on("click",function(){return r.datepicker._datepickerShowing&&r.datepicker._lastInput===e[0]?r.datepicker._hideDatepicker():(r.datepicker._datepickerShowing&&r.datepicker._lastInput!==e[0]&&r.datepicker._hideDatepicker(),r.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){var s,l,g,y,A,N;this._get(e,"autoSize")&&!e.inline&&(A=new Date(2009,11,20),(N=this._get(e,"dateFormat")).match(/[DM]/)&&(A.setMonth((s=function(j){for(y=g=l=0;y<j.length;y++)j[y].length>l&&(l=j[y].length,g=y);return g})(this._get(e,N.match(/MM/)?"monthNames":"monthNamesShort"))),A.setDate(s(this._get(e,N.match(/DD/)?"dayNames":"dayNamesShort"))+20-A.getDay())),e.input.attr("size",this._formatDate(e,A).length))},_inlineDatepicker:function(e,s){var l=r(e);l.hasClass(this.markerClassName)||(l.addClass(this.markerClassName).append(s.dpDiv),r.data(e,"datepicker",s),this._setDate(s,this._getDefaultDate(s),!0),this._updateDatepicker(s),this._updateAlternate(s),s.settings.disabled&&this._disableDatepicker(e),s.dpDiv.css("display","block"))},_dialogDatepicker:function(e,s,l,g,y){var A,N=this._dialogInst;return N||(this.uuid+=1,this._dialogInput=r("<input type='text' id='"+(A="dp"+this.uuid)+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),r("body").append(this._dialogInput),(N=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},r.data(this._dialogInput[0],"datepicker",N)),nn(N.settings,g||{}),s=s&&s.constructor===Date?this._formatDate(N,s):s,this._dialogInput.val(s),this._pos=y?y.length?y:[y.pageX,y.pageY]:null,this._pos||(A=document.documentElement.clientWidth,g=document.documentElement.clientHeight,s=document.documentElement.scrollLeft||document.body.scrollLeft,y=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[A/2-100+s,g/2-150+y]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),N.settings.onSelect=l,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),r.blockUI&&r.blockUI(this.dpDiv),r.data(this._dialogInput[0],"datepicker",N),this},_destroyDatepicker:function(e){var s,l=r(e),g=r.data(e,"datepicker");l.hasClass(this.markerClassName)&&(s=e.nodeName.toLowerCase(),r.removeData(e,"datepicker"),"input"===s?(g.append.remove(),g.trigger.remove(),l.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==s&&"span"!==s||l.removeClass(this.markerClassName).empty(),Bt===g&&(Bt=null,this._curInst=null))},_enableDatepicker:function(e){var s,l=r(e),g=r.data(e,"datepicker");l.hasClass(this.markerClassName)&&("input"===(s=e.nodeName.toLowerCase())?(e.disabled=!1,g.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==s&&"span"!==s||((l=l.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),l.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=r.map(this._disabledInputs,function(y){return y===e?null:y}))},_disableDatepicker:function(e){var s,l=r(e),g=r.data(e,"datepicker");l.hasClass(this.markerClassName)&&("input"===(s=e.nodeName.toLowerCase())?(e.disabled=!0,g.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==s&&"span"!==s||((l=l.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),l.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=r.map(this._disabledInputs,function(y){return y===e?null:y}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var s=0;s<this._disabledInputs.length;s++)if(this._disabledInputs[s]===e)return!0;return!1},_getInst:function(e){try{return r.data(e,"datepicker")}catch{throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,s,l){var g,y,A=this._getInst(e);if(2===arguments.length&&"string"==typeof s)return"defaults"===s?r.extend({},r.datepicker._defaults):A?"all"===s?r.extend({},A.settings):this._get(A,s):null;g=s||{},"string"==typeof s&&((g={})[s]=l),A&&(this._curInst===A&&this._hideDatepicker(),y=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(A,"min"),l=this._getMinMaxDate(A,"max"),nn(A.settings,g),null!==s&&void 0!==g.dateFormat&&void 0===g.minDate&&(A.settings.minDate=this._formatDate(A,s)),null!==l&&void 0!==g.dateFormat&&void 0===g.maxDate&&(A.settings.maxDate=this._formatDate(A,l)),"disabled"in g&&(g.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(r(e),A),this._autoSize(A),this._setDate(A,y),this._updateAlternate(A),this._updateDatepicker(A))},_changeDatepicker:function(e,s,l){this._optionDatepicker(e,s,l)},_refreshDatepicker:function(e){(e=this._getInst(e))&&this._updateDatepicker(e)},_setDateDatepicker:function(e,s){(e=this._getInst(e))&&(this._setDate(e,s),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(e,s){return(e=this._getInst(e))&&!e.inline&&this._setDateFromField(e,s),e?this._getDate(e):null},_doKeyDown:function(e){var s,l,g=r.datepicker._getInst(e.target),y=!0,A=g.dpDiv.is(".ui-datepicker-rtl");if(g._keyEvent=!0,r.datepicker._datepickerShowing)switch(e.keyCode){case 9:r.datepicker._hideDatepicker(),y=!1;break;case 13:return(l=r("td."+r.datepicker._dayOverClass+":not(."+r.datepicker._currentClass+")",g.dpDiv))[0]&&r.datepicker._selectDay(e.target,g.selectedMonth,g.selectedYear,l[0]),(s=r.datepicker._get(g,"onSelect"))?(l=r.datepicker._formatDate(g),s.apply(g.input?g.input[0]:null,[l,g])):r.datepicker._hideDatepicker(),!1;case 27:r.datepicker._hideDatepicker();break;case 33:r.datepicker._adjustDate(e.target,e.ctrlKey?-r.datepicker._get(g,"stepBigMonths"):-r.datepicker._get(g,"stepMonths"),"M");break;case 34:r.datepicker._adjustDate(e.target,e.ctrlKey?+r.datepicker._get(g,"stepBigMonths"):+r.datepicker._get(g,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&r.datepicker._clearDate(e.target),y=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&r.datepicker._gotoToday(e.target),y=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&r.datepicker._adjustDate(e.target,A?1:-1,"D"),y=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&r.datepicker._adjustDate(e.target,e.ctrlKey?-r.datepicker._get(g,"stepBigMonths"):-r.datepicker._get(g,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&r.datepicker._adjustDate(e.target,-7,"D"),y=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&r.datepicker._adjustDate(e.target,A?-1:1,"D"),y=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&r.datepicker._adjustDate(e.target,e.ctrlKey?+r.datepicker._get(g,"stepBigMonths"):+r.datepicker._get(g,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&r.datepicker._adjustDate(e.target,7,"D"),y=e.ctrlKey||e.metaKey;break;default:y=!1}else 36===e.keyCode&&e.ctrlKey?r.datepicker._showDatepicker(this):y=!1;y&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var s,l=r.datepicker._getInst(e.target);if(r.datepicker._get(l,"constrainInput"))return s=r.datepicker._possibleChars(r.datepicker._get(l,"dateFormat")),l=String.fromCharCode(e.charCode??e.keyCode),e.ctrlKey||e.metaKey||l<" "||!s||-1<s.indexOf(l)},_doKeyUp:function(e){if((e=r.datepicker._getInst(e.target)).input.val()!==e.lastVal)try{r.datepicker.parseDate(r.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,r.datepicker._getFormatConfig(e))&&(r.datepicker._setDateFromField(e),r.datepicker._updateAlternate(e),r.datepicker._updateDatepicker(e))}catch{}return!0},_showDatepicker:function(e){var s,l,g,y;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=r("input",e.parentNode)[0]),r.datepicker._isDisabledDatepicker(e)||r.datepicker._lastInput===e||(y=r.datepicker._getInst(e),r.datepicker._curInst&&r.datepicker._curInst!==y&&(r.datepicker._curInst.dpDiv.stop(!0,!0),y&&r.datepicker._datepickerShowing&&r.datepicker._hideDatepicker(r.datepicker._curInst.input[0])),!1!==(l=(g=r.datepicker._get(y,"beforeShow"))?g.apply(e,[e,y]):{})&&(nn(y.settings,l),y.lastVal=null,r.datepicker._lastInput=e,r.datepicker._setDateFromField(y),r.datepicker._inDialog&&(e.value=""),r.datepicker._pos||(r.datepicker._pos=r.datepicker._findPos(e),r.datepicker._pos[1]+=e.offsetHeight),s=!1,r(e).parents().each(function(){return!(s|="fixed"===r(this).css("position"))}),g={left:r.datepicker._pos[0],top:r.datepicker._pos[1]},r.datepicker._pos=null,y.dpDiv.empty(),y.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),r.datepicker._updateDatepicker(y),g=r.datepicker._checkOffset(y,g,s),y.dpDiv.css({position:r.datepicker._inDialog&&r.blockUI?"static":s?"fixed":"absolute",display:"none",left:g.left+"px",top:g.top+"px"}),y.inline||(l=r.datepicker._get(y,"showAnim"),g=r.datepicker._get(y,"duration"),y.dpDiv.css("z-index",function(A){for(var N,j;A.length&&A[0]!==document;){if(("absolute"===(N=A.css("position"))||"relative"===N||"fixed"===N)&&(j=parseInt(A.css("zIndex"),10),!isNaN(j)&&0!==j))return j;A=A.parent()}return 0}(r(e))+1),r.datepicker._datepickerShowing=!0,r.effects&&r.effects.effect[l]?y.dpDiv.show(l,r.datepicker._get(y,"showOptions"),g):y.dpDiv[l||"show"](l?g:null),r.datepicker._shouldFocusInput(y)&&y.input.trigger("focus"),r.datepicker._curInst=y)))},_updateDatepicker:function(e){this.maxRows=4,(Bt=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var s,l=this._getNumberOfMonths(e),g=l[1],y=e.dpDiv.find("."+this._dayOverClass+" a"),A=r.datepicker._get(e,"onUpdateDatepicker");0<y.length&&gn.apply(y.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<g&&e.dpDiv.addClass("ui-datepicker-multi-"+g).css("width",17*g+"em"),e.dpDiv[(1!==l[0]||1!==l[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===r.datepicker._curInst&&r.datepicker._datepickerShowing&&r.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(s=e.yearshtml,setTimeout(function(){s===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year").first().replaceWith(e.yearshtml),s=e.yearshtml=null},0)),A&&A.apply(e.input?e.input[0]:null,[e])},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,s,l){var g=e.dpDiv.outerWidth(),y=e.dpDiv.outerHeight(),A=e.input?e.input.outerWidth():0,N=e.input?e.input.outerHeight():0,j=document.documentElement.clientWidth+(l?0:r(document).scrollLeft()),X=document.documentElement.clientHeight+(l?0:r(document).scrollTop());return s.left-=this._get(e,"isRTL")?g-A:0,s.left-=l&&s.left===e.input.offset().left?r(document).scrollLeft():0,s.top-=l&&s.top===e.input.offset().top+N?r(document).scrollTop():0,s.left-=Math.min(s.left,s.left+g>j&&g<j?Math.abs(s.left+g-j):0),s.top-=Math.min(s.top,s.top+y>X&&y<X?Math.abs(y+N):0),s},_findPos:function(e){for(var s=this._getInst(e),l=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||r.expr.pseudos.hidden(e));)e=e[l?"previousSibling":"nextSibling"];return[(s=r(e).offset()).left,s.top]},_hideDatepicker:function(e){var s,l,g=this._curInst;!g||e&&g!==r.data(e,"datepicker")||this._datepickerShowing&&(s=this._get(g,"showAnim"),l=this._get(g,"duration"),e=function(){r.datepicker._tidyDialog(g)},r.effects&&(r.effects.effect[s]||r.effects[s])?g.dpDiv.hide(s,r.datepicker._get(g,"showOptions"),l,e):g.dpDiv["slideDown"===s?"slideUp":"fadeIn"===s?"fadeOut":"hide"](s?l:null,e),s||e(),this._datepickerShowing=!1,(e=this._get(g,"onClose"))&&e.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),r.blockUI&&(r.unblockUI(),r("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){var s;r.datepicker._curInst&&(s=r(e.target),e=r.datepicker._getInst(s[0]),(s[0].id===r.datepicker._mainDivId||0!==s.parents("#"+r.datepicker._mainDivId).length||s.hasClass(r.datepicker.markerClassName)||s.closest("."+r.datepicker._triggerClass).length||!r.datepicker._datepickerShowing||r.datepicker._inDialog&&r.blockUI)&&(!s.hasClass(r.datepicker.markerClassName)||r.datepicker._curInst===e)||r.datepicker._hideDatepicker())},_adjustDate:function(y,s,l){var g=r(y);y=this._getInst(g[0]),this._isDisabledDatepicker(g[0])||(this._adjustInstDate(y,s,l),this._updateDatepicker(y))},_gotoToday:function(e){var s=r(e),l=this._getInst(s[0]);this._get(l,"gotoCurrent")&&l.currentDay?(l.selectedDay=l.currentDay,l.drawMonth=l.selectedMonth=l.currentMonth,l.drawYear=l.selectedYear=l.currentYear):(e=new Date,l.selectedDay=e.getDate(),l.drawMonth=l.selectedMonth=e.getMonth(),l.drawYear=l.selectedYear=e.getFullYear()),this._notifyChange(l),this._adjustDate(s)},_selectMonthYear:function(y,s,l){var g=r(y);(y=this._getInst(g[0]))["selected"+("M"===l?"Month":"Year")]=y["draw"+("M"===l?"Month":"Year")]=parseInt(s.options[s.selectedIndex].value,10),this._notifyChange(y),this._adjustDate(g)},_selectDay:function(e,s,l,g){var y=r(e);r(g).hasClass(this._unselectableClass)||this._isDisabledDatepicker(y[0])||((y=this._getInst(y[0])).selectedDay=y.currentDay=parseInt(r("a",g).attr("data-date")),y.selectedMonth=y.currentMonth=s,y.selectedYear=y.currentYear=l,this._selectDate(e,this._formatDate(y,y.currentDay,y.currentMonth,y.currentYear)))},_clearDate:function(e){e=r(e),this._selectDate(e,"")},_selectDate:function(g,s){var l=r(g);g=this._getInst(l[0]),s=s??this._formatDate(g),g.input&&g.input.val(s),this._updateAlternate(g),(l=this._get(g,"onSelect"))?l.apply(g.input?g.input[0]:null,[s,g]):g.input&&g.input.trigger("change"),g.inline?this._updateDatepicker(g):(this._hideDatepicker(),this._lastInput=g.input[0],"object"!=typeof g.input[0]&&g.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var s,l,g=this._get(e,"altField");g&&(s=this._get(e,"altFormat")||this._get(e,"dateFormat"),l=this._getDate(e),e=this.formatDate(s,l,this._getFormatConfig(e)),r(document).find(g).val(e))},noWeekends:function(e){return[0<(e=e.getDay())&&e<6,""]},iso8601Week:function(e){var s=new Date(e.getTime());return s.setDate(s.getDate()+4-(s.getDay()||7)),e=s.getTime(),s.setMonth(0),s.setDate(1),Math.floor(Math.round((e-s)/864e5)/7)+1},parseDate:function(e,s,l){if(null==e||null==s)throw"Invalid arguments";if(""===(s="object"==typeof s?s.toString():s+""))return null;for(var g,y,A,N=0,j="string"!=typeof(j=(l?l.shortYearCutoff:null)||this._defaults.shortYearCutoff)?j:(new Date).getFullYear()%100+parseInt(j,10),X=(l?l.dayNamesShort:null)||this._defaults.dayNamesShort,ht=(l?l.dayNames:null)||this._defaults.dayNames,ut=(l?l.monthNamesShort:null)||this._defaults.monthNamesShort,ot=(l?l.monthNames:null)||this._defaults.monthNames,yt=-1,It=-1,qt=-1,jt=-1,Vt=!1,ze=function(me){return(me=de+1<e.length&&e.charAt(de+1)===me)&&de++,me},ge=function(me){var dn=ze(me);if(dn="@"===me?14:"!"===me?20:"y"===me&&dn?4:"o"===me?3:2,dn=new RegExp("^\\d{"+("y"===me?dn:1)+","+dn+"}"),!(dn=s.substring(N).match(dn)))throw"Missing number at position "+N;return N+=dn[0].length,parseInt(dn[0],10)},vn=function(me,Ke,Nn){var tn=-1;if(Ke=r.map(ze(me)?Nn:Ke,function(Ie,sn){return[[sn,Ie]]}).sort(function(Ie,sn){return-(Ie[1].length-sn[1].length)}),r.each(Ke,function(Ie,sn){var je=sn[1];if(s.substr(N,je.length).toLowerCase()===je.toLowerCase())return tn=sn[0],N+=je.length,!1}),-1!==tn)return tn+1;throw"Unknown name at position "+N},He=function(){if(s.charAt(N)!==e.charAt(de))throw"Unexpected literal at position "+N;N++},de=0;de<e.length;de++)if(Vt)"'"!==e.charAt(de)||ze("'")?He():Vt=!1;else switch(e.charAt(de)){case"d":qt=ge("d");break;case"D":vn("D",X,ht);break;case"o":jt=ge("o");break;case"m":It=ge("m");break;case"M":It=vn("M",ut,ot);break;case"y":yt=ge("y");break;case"@":yt=(A=new Date(ge("@"))).getFullYear(),It=A.getMonth()+1,qt=A.getDate();break;case"!":yt=(A=new Date((ge("!")-this._ticksTo1970)/1e4)).getFullYear(),It=A.getMonth()+1,qt=A.getDate();break;case"'":ze("'")?He():Vt=!0;break;default:He()}if(N<s.length&&(y=s.substr(N),!/^\s+/.test(y)))throw"Extra/unparsed characters found in date: "+y;if(-1===yt?yt=(new Date).getFullYear():yt<100&&(yt+=(new Date).getFullYear()-(new Date).getFullYear()%100+(yt<=j?0:-100)),-1<jt)for(It=1,qt=jt;!(qt<=(g=this._getDaysInMonth(yt,It-1)));)It++,qt-=g;if((A=this._daylightSavingAdjust(new Date(yt,It-1,qt))).getFullYear()!==yt||A.getMonth()+1!==It||A.getDate()!==qt)throw"Invalid date";return A},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,s,l){if(!s)return"";function g(It,qt,jt){var Vt=""+qt;if(ut(It))for(;Vt.length<jt;)Vt="0"+Vt;return Vt}function y(It,qt,jt,Vt){return(ut(It)?Vt:jt)[qt]}var A,N=(l?l.dayNamesShort:null)||this._defaults.dayNamesShort,j=(l?l.dayNames:null)||this._defaults.dayNames,X=(l?l.monthNamesShort:null)||this._defaults.monthNamesShort,ht=(l?l.monthNames:null)||this._defaults.monthNames,ut=function(It){return(It=A+1<e.length&&e.charAt(A+1)===It)&&A++,It},ot="",yt=!1;if(s)for(A=0;A<e.length;A++)if(yt)"'"!==e.charAt(A)||ut("'")?ot+=e.charAt(A):yt=!1;else switch(e.charAt(A)){case"d":ot+=g("d",s.getDate(),2);break;case"D":ot+=y("D",s.getDay(),N,j);break;case"o":ot+=g("o",Math.round((new Date(s.getFullYear(),s.getMonth(),s.getDate()).getTime()-new Date(s.getFullYear(),0,0).getTime())/864e5),3);break;case"m":ot+=g("m",s.getMonth()+1,2);break;case"M":ot+=y("M",s.getMonth(),X,ht);break;case"y":ot+=ut("y")?s.getFullYear():(s.getFullYear()%100<10?"0":"")+s.getFullYear()%100;break;case"@":ot+=s.getTime();break;case"!":ot+=1e4*s.getTime()+this._ticksTo1970;break;case"'":ut("'")?ot+="'":yt=!0;break;default:ot+=e.charAt(A)}return ot},_possibleChars:function(e){for(var s="",l=!1,g=function(A){return(A=y+1<e.length&&e.charAt(y+1)===A)&&y++,A},y=0;y<e.length;y++)if(l)"'"!==e.charAt(y)||g("'")?s+=e.charAt(y):l=!1;else switch(e.charAt(y)){case"d":case"m":case"y":case"@":s+="0123456789";break;case"D":case"M":return null;case"'":g("'")?s+="'":l=!0;break;default:s+=e.charAt(y)}return s},_get:function(e,s){return(void 0!==e.settings[s]?e.settings:this._defaults)[s]},_setDateFromField:function(e,s){if(e.input.val()!==e.lastVal){var l=this._get(e,"dateFormat"),g=e.lastVal=e.input?e.input.val():null,y=this._getDefaultDate(e),A=y,N=this._getFormatConfig(e);try{A=this.parseDate(l,g,N)||y}catch{g=s?"":g}e.selectedDay=A.getDate(),e.drawMonth=e.selectedMonth=A.getMonth(),e.drawYear=e.selectedYear=A.getFullYear(),e.currentDay=g?A.getDate():0,e.currentMonth=g?A.getMonth():0,e.currentYear=g?A.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,A,l){var g,y;return(A=(A=null==A||""===A?l:"string"==typeof A?function(N){try{return r.datepicker.parseDate(r.datepicker._get(e,"dateFormat"),N,r.datepicker._getFormatConfig(e))}catch{}for(var j=(N.toLowerCase().match(/^c/)?r.datepicker._getDate(e):null)||new Date,X=j.getFullYear(),ht=j.getMonth(),ut=j.getDate(),ot=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,yt=ot.exec(N);yt;){switch(yt[2]||"d"){case"d":case"D":ut+=parseInt(yt[1],10);break;case"w":case"W":ut+=7*parseInt(yt[1],10);break;case"m":case"M":ht+=parseInt(yt[1],10),ut=Math.min(ut,r.datepicker._getDaysInMonth(X,ht));break;case"y":case"Y":X+=parseInt(yt[1],10),ut=Math.min(ut,r.datepicker._getDaysInMonth(X,ht))}yt=ot.exec(N)}return new Date(X,ht,ut)}(A):"number"==typeof A?isNaN(A)?l:(g=A,(y=new Date).setDate(y.getDate()+g),y):new Date(A.getTime()))&&"Invalid Date"===A.toString()?l:A)&&(A.setHours(0),A.setMinutes(0),A.setSeconds(0),A.setMilliseconds(0)),this._daylightSavingAdjust(A)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,N,l){var g=!N,y=e.selectedMonth,A=e.selectedYear;N=this._restrictMinMax(e,this._determineDate(e,N,new Date)),e.selectedDay=e.currentDay=N.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=N.getMonth(),e.drawYear=e.selectedYear=e.currentYear=N.getFullYear(),y===e.selectedMonth&&A===e.selectedYear||l||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(g?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var s=this._get(e,"stepMonths"),l="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var g={prev:function(){r.datepicker._adjustDate(l,-s,"M")},next:function(){r.datepicker._adjustDate(l,+s,"M")},hide:function(){r.datepicker._hideDatepicker()},today:function(){r.datepicker._gotoToday(l)},selectDay:function(){return r.datepicker._selectDay(l,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return r.datepicker._selectMonthYear(l,this,"M"),!1},selectYear:function(){return r.datepicker._selectMonthYear(l,this,"Y"),!1}};r(this).on(this.getAttribute("data-event"),g[this.getAttribute("data-handler")])})},_generateHTML:function(e){var s,l,g,y,A,N,j,X,ht,ut,ot,yt,It,qt,jt,Vt,ze,ge,vn,He,de,me,dn,Nn,tn,Ke,Ie,sn,je,Bn,In,qn,Un=new Date,Cn=this._daylightSavingAdjust(new Date(Un.getFullYear(),Un.getMonth(),Un.getDate())),Mn=this._get(e,"isRTL"),or=this._get(e,"showButtonPanel"),er=this._get(e,"hideIfNoPrevNext"),Ci=this._get(e,"navigationAsDateFormat"),oi=this._getNumberOfMonths(e),An=this._get(e,"showCurrentAtPos"),Kn=(Un=this._get(e,"stepMonths"),1!==oi[0]||1!==oi[1]),Zn=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),si=this._getMinMaxDate(e,"min"),Jn=this._getMinMaxDate(e,"max"),ln=e.drawMonth-An,ei=e.drawYear;if(ln<0&&(ln+=12,ei--),Jn)for(s=this._daylightSavingAdjust(new Date(Jn.getFullYear(),Jn.getMonth()-oi[0]*oi[1]+1,Jn.getDate())),s=si&&s<si?si:s;this._daylightSavingAdjust(new Date(ei,ln,1))>s;)--ln<0&&(ln=11,ei--);for(e.drawMonth=ln,e.drawYear=ei,An=this._get(e,"prevText"),An=Ci?this.formatDate(An,this._daylightSavingAdjust(new Date(ei,ln-Un,1)),this._getFormatConfig(e)):An,l=this._canAdjustMonth(e,-1,ei,ln)?r("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:An}).append(r("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Mn?"e":"w")).text(An))[0].outerHTML:er?"":r("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:An}).append(r("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Mn?"e":"w")).text(An))[0].outerHTML,An=this._get(e,"nextText"),An=Ci?this.formatDate(An,this._daylightSavingAdjust(new Date(ei,ln+Un,1)),this._getFormatConfig(e)):An,g=this._canAdjustMonth(e,1,ei,ln)?r("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:An}).append(r("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Mn?"w":"e")).text(An))[0].outerHTML:er?"":r("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:An}).append(r("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(Mn?"w":"e")).text(An))[0].outerHTML,Un=this._get(e,"currentText"),er=this._get(e,"gotoCurrent")&&e.currentDay?Zn:Cn,Un=Ci?this.formatDate(Un,er,this._getFormatConfig(e)):Un,An="",e.inline||(An=r("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(e,"closeText"))[0].outerHTML),Ci="",or&&(Ci=r("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(Mn?An:"").append(this._isInRange(e,er)?r("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(Un):"").append(Mn?"":An)[0].outerHTML),y=parseInt(this._get(e,"firstDay"),10),y=isNaN(y)?0:y,A=this._get(e,"showWeek"),N=this._get(e,"dayNames"),j=this._get(e,"dayNamesMin"),X=this._get(e,"monthNames"),ht=this._get(e,"monthNamesShort"),ut=this._get(e,"beforeShowDay"),ot=this._get(e,"showOtherMonths"),yt=this._get(e,"selectOtherMonths"),It=this._getDefaultDate(e),qt="",Vt=0;Vt<oi[0];Vt++){for(ze="",this.maxRows=4,ge=0;ge<oi[1];ge++){if(vn=this._daylightSavingAdjust(new Date(ei,ln,e.selectedDay)),He=" ui-corner-all",de="",Kn){if(de+="<div class='ui-datepicker-group",1<oi[1])switch(ge){case 0:de+=" ui-datepicker-group-first",He=" ui-corner-"+(Mn?"right":"left");break;case oi[1]-1:de+=" ui-datepicker-group-last",He=" ui-corner-"+(Mn?"left":"right");break;default:de+=" ui-datepicker-group-middle",He=""}de+="'>"}for(de+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+He+"'>"+(/all|left/.test(He)&&0===Vt?Mn?g:l:"")+(/all|right/.test(He)&&0===Vt?Mn?l:g:"")+this._generateMonthYearHeader(e,ln,ei,si,Jn,0<Vt||0<ge,X,ht)+"</div><table class='ui-datepicker-calendar'><thead><tr>",me=A?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",jt=0;jt<7;jt++)me+="<th scope='col'"+(5<=(jt+y+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+N[dn=(jt+y)%7]+"'>"+j[dn]+"</span></th>";for(de+=me+"</tr></thead><tbody>",tn=this._getDaysInMonth(ei,ln),ei===e.selectedYear&&ln===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,tn)),Nn=(this._getFirstDayOfMonth(ei,ln)-y+7)%7,tn=Math.ceil((Nn+tn)/7),this.maxRows=Ke=Kn&&this.maxRows>tn?this.maxRows:tn,Ie=this._daylightSavingAdjust(new Date(ei,ln,1-Nn)),sn=0;sn<Ke;sn++){for(de+="<tr>",je=A?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(Ie)+"</td>":"",jt=0;jt<7;jt++)Bn=ut?ut.apply(e.input?e.input[0]:null,[Ie]):[!0,""],qn=(In=Ie.getMonth()!==ln)&&!yt||!Bn[0]||si&&Ie<si||Jn&&Jn<Ie,je+="<td class='"+(5<=(jt+y+6)%7?" ui-datepicker-week-end":"")+(In?" ui-datepicker-other-month":"")+(Ie.getTime()===vn.getTime()&&ln===e.selectedMonth&&e._keyEvent||It.getTime()===Ie.getTime()&&It.getTime()===vn.getTime()?" "+this._dayOverClass:"")+(qn?" "+this._unselectableClass+" ui-state-disabled":"")+(In&&!ot?"":" "+Bn[1]+(Ie.getTime()===Zn.getTime()?" "+this._currentClass:"")+(Ie.getTime()===Cn.getTime()?" ui-datepicker-today":""))+"'"+(In&&!ot||!Bn[2]?"":" title='"+Bn[2].replace(/'/g,"&#39;")+"'")+(qn?"":" data-handler='selectDay' data-event='click' data-month='"+Ie.getMonth()+"' data-year='"+Ie.getFullYear()+"'")+">"+(In&&!ot?"&#xa0;":qn?"<span class='ui-state-default'>"+Ie.getDate()+"</span>":"<a class='ui-state-default"+(Ie.getTime()===Cn.getTime()?" ui-state-highlight":"")+(Ie.getTime()===Zn.getTime()?" ui-state-active":"")+(In?" ui-priority-secondary":"")+"' href='#' aria-current='"+(Ie.getTime()===Zn.getTime()?"true":"false")+"' data-date='"+Ie.getDate()+"'>"+Ie.getDate()+"</a>")+"</td>",Ie.setDate(Ie.getDate()+1),Ie=this._daylightSavingAdjust(Ie);de+=je+"</tr>"}11<++ln&&(ln=0,ei++),ze+=de+="</tbody></table>"+(Kn?"</div>"+(0<oi[0]&&ge===oi[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}qt+=ze}return qt+=Ci,e._keyEvent=!1,qt},_generateMonthYearHeader:function(e,s,l,g,y,A,N,j){var X,ht,ut,ot,yt,It,qt=this._get(e,"changeMonth"),jt=this._get(e,"changeYear"),Vt=this._get(e,"showMonthAfterYear"),ze=this._get(e,"selectMonthLabel"),ge=this._get(e,"selectYearLabel"),vn="<div class='ui-datepicker-title'>",He="";if(A||!qt)He+="<span class='ui-datepicker-month'>"+N[s]+"</span>";else{for(X=g&&g.getFullYear()===l,ht=y&&y.getFullYear()===l,He+="<select class='ui-datepicker-month' aria-label='"+ze+"' data-handler='selectMonth' data-event='change'>",ut=0;ut<12;ut++)(!X||ut>=g.getMonth())&&(!ht||ut<=y.getMonth())&&(He+="<option value='"+ut+"'"+(ut===s?" selected='selected'":"")+">"+j[ut]+"</option>");He+="</select>"}if(Vt||(vn+=He+(!A&&qt&&jt?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",A||!jt)vn+="<span class='ui-datepicker-year'>"+l+"</span>";else{for(N=this._get(e,"yearRange").split(":"),ot=(new Date).getFullYear(),yt=(ze=function(de){return de=de.match(/c[+\-].*/)?l+parseInt(de.substring(1),10):de.match(/[+\-].*/)?ot+parseInt(de,10):parseInt(de,10),isNaN(de)?ot:de})(N[0]),It=Math.max(yt,ze(N[1]||"")),yt=g?Math.max(yt,g.getFullYear()):yt,It=y?Math.min(It,y.getFullYear()):It,e.yearshtml+="<select class='ui-datepicker-year' aria-label='"+ge+"' data-handler='selectYear' data-event='change'>";yt<=It;yt++)e.yearshtml+="<option value='"+yt+"'"+(yt===l?" selected='selected'":"")+">"+yt+"</option>";e.yearshtml+="</select>",vn+=e.yearshtml,e.yearshtml=null}return vn+=this._get(e,"yearSuffix"),Vt&&(vn+=(!A&&qt&&jt?"":"&#xa0;")+He),vn+"</div>"},_adjustInstDate:function(e,A,l){var g=e.selectedYear+("Y"===l?A:0),y=e.selectedMonth+("M"===l?A:0);A=Math.min(e.selectedDay,this._getDaysInMonth(g,y))+("D"===l?A:0),A=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(g,y,A))),e.selectedDay=A.getDate(),e.drawMonth=e.selectedMonth=A.getMonth(),e.drawYear=e.selectedYear=A.getFullYear(),"M"!==l&&"Y"!==l||this._notifyChange(e)},_restrictMinMax:function(g,y){var l=this._getMinMaxDate(g,"min");return y=l&&y<l?l:y,(g=this._getMinMaxDate(g,"max"))&&g<y?g:y},_notifyChange:function(e){var s=this._get(e,"onChangeMonthYear");s&&s.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){return null==(e=this._get(e,"numberOfMonths"))?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(e,s){return this._determineDate(e,this._get(e,s+"Date"),null)},_getDaysInMonth:function(e,s){return 32-this._daylightSavingAdjust(new Date(e,s,32)).getDate()},_getFirstDayOfMonth:function(e,s){return new Date(e,s,1).getDay()},_canAdjustMonth:function(e,s,l,g){var y=this._getNumberOfMonths(e);return y=this._daylightSavingAdjust(new Date(l,g+(s<0?s:y[0]*y[1]),1)),s<0&&y.setDate(this._getDaysInMonth(y.getFullYear(),y.getMonth())),this._isInRange(e,y)},_isInRange:function(e,s){var l=this._getMinMaxDate(e,"min"),g=this._getMinMaxDate(e,"max"),y=null,A=null,N=this._get(e,"yearRange");return N&&(e=N.split(":"),N=(new Date).getFullYear(),y=parseInt(e[0],10),A=parseInt(e[1],10),e[0].match(/[+\-].*/)&&(y+=N),e[1].match(/[+\-].*/)&&(A+=N)),(!l||s.getTime()>=l.getTime())&&(!g||s.getTime()<=g.getTime())&&(!y||s.getFullYear()>=y)&&(!A||s.getFullYear()<=A)},_getFormatConfig:function(e){var s=this._get(e,"shortYearCutoff");return{shortYearCutoff:s="string"!=typeof s?s:(new Date).getFullYear()%100+parseInt(s,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,s,l,g){return s||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear),s=s?"object"==typeof s?s:this._daylightSavingAdjust(new Date(g,l,s)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay)),this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),r.fn.datepicker=function(e){if(!this.length)return this;r.datepicker.initialized||(r(document).on("mousedown",r.datepicker._checkExternalClick),r.datepicker.initialized=!0),0===r("#"+r.datepicker._mainDivId).length&&r("body").append(r.datepicker.dpDiv);var s=Array.prototype.slice.call(arguments,1);return"string"==typeof e&&("isDisabled"===e||"getDate"===e||"widget"===e)||"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?r.datepicker["_"+e+"Datepicker"].apply(r.datepicker,[this[0]].concat(s)):this.each(function(){"string"==typeof e?r.datepicker["_"+e+"Datepicker"].apply(r.datepicker,[this].concat(s)):r.datepicker._attachDatepicker(this,e)})},r.datepicker=new Le,r.datepicker.initialized=!1,r.datepicker.uuid=(new Date).getTime(),r.datepicker.version="1.13.1",r.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var Xt,Pe=!1;function Me(e,s,l){return s<=e&&e<s+l}function De(e){return function(){var s=this.element.val();e.apply(this,arguments),this._refresh(),s!==this.element.val()&&this._trigger("change")}}r(document).on("mouseup",function(){Pe=!1}),r.widget("ui.mouse",{version:"1.13.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(s){return e._mouseDown(s)}).on("click."+this.widgetName,function(s){if(!0===r.data(s.target,e.widgetName+".preventClickEvent"))return r.removeData(s.target,e.widgetName+".preventClickEvent"),s.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!Pe){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var s=this,l=1===e.which,g=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&r(e.target).closest(this.options.cancel).length;return!(l&&!g&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===r.data(e.target,this.widgetName+".preventClickEvent")&&r.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(y){return s._mouseMove(y)},this._mouseUpDelegate=function(y){return s._mouseUp(y)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),Pe=!0))}},_mouseMove:function(e){if(this._mouseMoved){if(r.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&r.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,Pe=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),r.ui.plugin={add:function(e,s,l){var g,y=r.ui[e].prototype;for(g in l)y.plugins[g]=y.plugins[g]||[],y.plugins[g].push([s,l[g]])},call:function(e,s,l,g){var y,A=e.plugins[s];if(A&&(g||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(y=0;y<A.length;y++)e.options[A[y][0]]&&A[y][1].apply(e.element,l)}},r.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&r(e).trigger("blur")},r.widget("ui.draggable",r.ui.mouse,{version:"1.13.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,s){this._super(e,s),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var s=this.options;return!(this.helper||s.disabled||0<r(e.target).closest(".ui-resizable-handle").length||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===s.iframeFix?"iframe":s.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var s=r(this);return r("<div>").css("position","absolute").appendTo(s.parent()).outerWidth(s.outerWidth()).outerHeight(s.outerHeight()).offset(s.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var s=r.ui.safeActiveElement(this.document[0]);r(e.target).closest(s).length||r.ui.safeBlur(s)},_mouseStart:function(e){var s=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),r.ui.ddmanager&&(r.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===r(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),r.ui.ddmanager&&!s.dropBehaviour&&r.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),r.ui.ddmanager&&r.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,s){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!s){if(s=this._uiHash(),!1===this._trigger("drag",e,s))return this._mouseUp(new r.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",r.ui.ddmanager&&r.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var s=this,l=!1;return r.ui.ddmanager&&!this.options.dropBehaviour&&(l=r.ui.ddmanager.drop(this,e)),this.dropped&&(l=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!l||"valid"===this.options.revert&&l||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,l)?r(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==s._trigger("stop",e)&&s._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),r.ui.ddmanager&&r.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),r.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new r.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!r(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(g){var s=this.options,l="function"==typeof s.helper;return(g=l?r(s.helper.apply(this.element[0],[g])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element).parents("body").length||g.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),l&&g[0]===this.element[0]&&this._setPositionRelative(),g[0]===this.element[0]||/(fixed|absolute)/.test(g.css("position"))||g.css("position","absolute"),g},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=Array.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&r.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),s=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(s?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(s?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,s,l,g=this.options,y=this.document[0];this.relativeContainer=null,g.containment?"window"!==g.containment?"document"!==g.containment?g.containment.constructor!==Array?("parent"===g.containment&&(g.containment=this.helper[0].parentNode),(l=(s=r(g.containment))[0])&&(e=/(scroll|auto)/.test(s.css("overflow")),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(e?Math.max(l.scrollWidth,l.offsetWidth):l.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(l.scrollHeight,l.offsetHeight):l.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s)):this.containment=g.containment:this.containment=[0,0,r(y).width()-this.helperProportions.width-this.margins.left,(r(y).height()||y.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[r(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,r(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,r(window).scrollLeft()+r(window).width()-this.helperProportions.width-this.margins.left,r(window).scrollTop()+(r(window).height()||y.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(g,s){s=s||this.position;var l="absolute"===g?1:-1;return g=this._isRootNode(this.scrollParent[0]),{top:s.top+this.offset.relative.top*l+this.offset.parent.top*l-("fixed"===this.cssPosition?-this.offset.scroll.top:g?0:this.offset.scroll.top)*l,left:s.left+this.offset.relative.left*l+this.offset.parent.left*l-("fixed"===this.cssPosition?-this.offset.scroll.left:g?0:this.offset.scroll.left)*l}},_generatePosition:function(e,s){var l,g=this.options,y=this._isRootNode(this.scrollParent[0]),A=e.pageX,N=e.pageY;return y&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),s&&(this.containment&&(l=this.relativeContainer?(l=this.relativeContainer.offset(),[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]):this.containment,e.pageX-this.offset.click.left<l[0]&&(A=l[0]+this.offset.click.left),e.pageY-this.offset.click.top<l[1]&&(N=l[1]+this.offset.click.top),e.pageX-this.offset.click.left>l[2]&&(A=l[2]+this.offset.click.left),e.pageY-this.offset.click.top>l[3]&&(N=l[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((N-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,N=!l||e-this.offset.click.top>=l[1]||e-this.offset.click.top>l[3]?e:e-this.offset.click.top>=l[1]?e-g.grid[1]:e+g.grid[1],e=g.grid[0]?this.originalPageX+Math.round((A-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,A=!l||e-this.offset.click.left>=l[0]||e-this.offset.click.left>l[2]?e:e-this.offset.click.left>=l[0]?e-g.grid[0]:e+g.grid[0]),"y"===g.axis&&(A=this.originalPageX),"x"===g.axis&&(N=this.originalPageY)),{top:N-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:y?0:this.offset.scroll.top),left:A-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:y?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,s,l){return l=l||this._uiHash(),r.ui.plugin.call(this,e,[s,l,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),l.offset=this.positionAbs),r.Widget.prototype._trigger.call(this,e,s,l)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),r.ui.plugin.add("draggable","connectToSortable",{start:function(e,s,l){var g=r.extend({},s,{item:l.element});l.sortables=[],r(l.options.connectToSortable).each(function(){var y=r(this).sortable("instance");y&&!y.options.disabled&&(l.sortables.push(y),y.refreshPositions(),y._trigger("activate",e,g))})},stop:function(e,s,l){var g=r.extend({},s,{item:l.element});l.cancelHelperRemoval=!1,r.each(l.sortables,function(){var y=this;y.isOver?(y.isOver=0,l.cancelHelperRemoval=!0,y.cancelHelperRemoval=!1,y._storedCSS={position:y.placeholder.css("position"),top:y.placeholder.css("top"),left:y.placeholder.css("left")},y._mouseStop(e),y.options.helper=y.options._helper):(y.cancelHelperRemoval=!0,y._trigger("deactivate",e,g))})},drag:function(e,s,l){r.each(l.sortables,function(){var g=!1,y=this;y.positionAbs=l.positionAbs,y.helperProportions=l.helperProportions,y.offset.click=l.offset.click,y._intersectsWith(y.containerCache)&&(g=!0,r.each(l.sortables,function(){return this.positionAbs=l.positionAbs,this.helperProportions=l.helperProportions,this.offset.click=l.offset.click,g=(this===y||!this._intersectsWith(this.containerCache)||!r.contains(y.element[0],this.element[0]))&&g})),g?(y.isOver||(y.isOver=1,l._parent=s.helper.parent(),y.currentItem=s.helper.appendTo(y.element).data("ui-sortable-item",!0),y.options._helper=y.options.helper,y.options.helper=function(){return s.helper[0]},e.target=y.currentItem[0],y._mouseCapture(e,!0),y._mouseStart(e,!0,!0),y.offset.click.top=l.offset.click.top,y.offset.click.left=l.offset.click.left,y.offset.parent.left-=l.offset.parent.left-y.offset.parent.left,y.offset.parent.top-=l.offset.parent.top-y.offset.parent.top,l._trigger("toSortable",e),l.dropped=y.element,r.each(l.sortables,function(){this.refreshPositions()}),l.currentItem=l.element,y.fromOutside=l),y.currentItem&&(y._mouseDrag(e),s.position=y.position)):y.isOver&&(y.isOver=0,y.cancelHelperRemoval=!0,y.options._revert=y.options.revert,y.options.revert=!1,y._trigger("out",e,y._uiHash(y)),y._mouseStop(e,!0),y.options.revert=y.options._revert,y.options.helper=y.options._helper,y.placeholder&&y.placeholder.remove(),s.helper.appendTo(l._parent),l._refreshOffsets(e),s.position=l._generatePosition(e,!0),l._trigger("fromSortable",e),l.dropped=!1,r.each(l.sortables,function(){this.refreshPositions()}))})}}),r.ui.plugin.add("draggable","cursor",{start:function(e,s,y){var g=r("body");y=y.options,g.css("cursor")&&(y._cursor=g.css("cursor")),g.css("cursor",y.cursor)},stop:function(e,s,l){(l=l.options)._cursor&&r("body").css("cursor",l._cursor)}}),r.ui.plugin.add("draggable","opacity",{start:function(e,s,l){s=r(s.helper),l=l.options,s.css("opacity")&&(l._opacity=s.css("opacity")),s.css("opacity",l.opacity)},stop:function(e,s,l){(l=l.options)._opacity&&r(s.helper).css("opacity",l._opacity)}}),r.ui.plugin.add("draggable","scroll",{start:function(e,s,l){l.scrollParentNotHidden||(l.scrollParentNotHidden=l.helper.scrollParent(!1)),l.scrollParentNotHidden[0]!==l.document[0]&&"HTML"!==l.scrollParentNotHidden[0].tagName&&(l.overflowOffset=l.scrollParentNotHidden.offset())},drag:function(e,s,l){var g=l.options,y=!1,A=l.scrollParentNotHidden[0],N=l.document[0];A!==N&&"HTML"!==A.tagName?(g.axis&&"x"===g.axis||(l.overflowOffset.top+A.offsetHeight-e.pageY<g.scrollSensitivity?A.scrollTop=y=A.scrollTop+g.scrollSpeed:e.pageY-l.overflowOffset.top<g.scrollSensitivity&&(A.scrollTop=y=A.scrollTop-g.scrollSpeed)),g.axis&&"y"===g.axis||(l.overflowOffset.left+A.offsetWidth-e.pageX<g.scrollSensitivity?A.scrollLeft=y=A.scrollLeft+g.scrollSpeed:e.pageX-l.overflowOffset.left<g.scrollSensitivity&&(A.scrollLeft=y=A.scrollLeft-g.scrollSpeed))):(g.axis&&"x"===g.axis||(e.pageY-r(N).scrollTop()<g.scrollSensitivity?y=r(N).scrollTop(r(N).scrollTop()-g.scrollSpeed):r(window).height()-(e.pageY-r(N).scrollTop())<g.scrollSensitivity&&(y=r(N).scrollTop(r(N).scrollTop()+g.scrollSpeed))),g.axis&&"y"===g.axis||(e.pageX-r(N).scrollLeft()<g.scrollSensitivity?y=r(N).scrollLeft(r(N).scrollLeft()-g.scrollSpeed):r(window).width()-(e.pageX-r(N).scrollLeft())<g.scrollSensitivity&&(y=r(N).scrollLeft(r(N).scrollLeft()+g.scrollSpeed)))),!1!==y&&r.ui.ddmanager&&!g.dropBehaviour&&r.ui.ddmanager.prepareOffsets(l,e)}}),r.ui.plugin.add("draggable","snap",{start:function(e,s,l){var g=l.options;l.snapElements=[],r(g.snap.constructor!==String?g.snap.items||":data(ui-draggable)":g.snap).each(function(){var y=r(this),A=y.offset();this!==l.element[0]&&l.snapElements.push({item:this,width:y.outerWidth(),height:y.outerHeight(),top:A.top,left:A.left})})},drag:function(e,s,l){for(var g,y,A,N,j,X,ht,ut,ot,yt=l.options,It=yt.snapTolerance,qt=s.offset.left,jt=qt+l.helperProportions.width,Vt=s.offset.top,ze=Vt+l.helperProportions.height,ge=l.snapElements.length-1;0<=ge;ge--)X=(j=l.snapElements[ge].left-l.margins.left)+l.snapElements[ge].width,ut=(ht=l.snapElements[ge].top-l.margins.top)+l.snapElements[ge].height,jt<j-It||X+It<qt||ze<ht-It||ut+It<Vt||!r.contains(l.snapElements[ge].item.ownerDocument,l.snapElements[ge].item)?(l.snapElements[ge].snapping&&l.options.snap.release&&l.options.snap.release.call(l.element,e,r.extend(l._uiHash(),{snapItem:l.snapElements[ge].item})),l.snapElements[ge].snapping=!1):("inner"!==yt.snapMode&&(g=Math.abs(ht-ze)<=It,y=Math.abs(ut-Vt)<=It,A=Math.abs(j-jt)<=It,N=Math.abs(X-qt)<=It,g&&(s.position.top=l._convertPositionTo("relative",{top:ht-l.helperProportions.height,left:0}).top),y&&(s.position.top=l._convertPositionTo("relative",{top:ut,left:0}).top),A&&(s.position.left=l._convertPositionTo("relative",{top:0,left:j-l.helperProportions.width}).left),N&&(s.position.left=l._convertPositionTo("relative",{top:0,left:X}).left)),ot=g||y||A||N,"outer"!==yt.snapMode&&(g=Math.abs(ht-Vt)<=It,y=Math.abs(ut-ze)<=It,A=Math.abs(j-qt)<=It,N=Math.abs(X-jt)<=It,g&&(s.position.top=l._convertPositionTo("relative",{top:ht,left:0}).top),y&&(s.position.top=l._convertPositionTo("relative",{top:ut-l.helperProportions.height,left:0}).top),A&&(s.position.left=l._convertPositionTo("relative",{top:0,left:j}).left),N&&(s.position.left=l._convertPositionTo("relative",{top:0,left:X-l.helperProportions.width}).left)),!l.snapElements[ge].snapping&&(g||y||A||N||ot)&&l.options.snap.snap&&l.options.snap.snap.call(l.element,e,r.extend(l._uiHash(),{snapItem:l.snapElements[ge].item})),l.snapElements[ge].snapping=g||y||A||N||ot)}}),r.ui.plugin.add("draggable","stack",{start:function(e,s,y){var g;(y=r.makeArray(r((y=y.options).stack)).sort(function(A,N){return(parseInt(r(A).css("zIndex"),10)||0)-(parseInt(r(N).css("zIndex"),10)||0)})).length&&(g=parseInt(r(y[0]).css("zIndex"),10)||0,r(y).each(function(A){r(this).css("zIndex",g+A)}),this.css("zIndex",g+y.length))}}),r.ui.plugin.add("draggable","zIndex",{start:function(e,s,l){s=r(s.helper),l=l.options,s.css("zIndex")&&(l._zIndex=s.css("zIndex")),s.css("zIndex",l.zIndex)},stop:function(e,s,l){(l=l.options)._zIndex&&r(s.helper).css("zIndex",l._zIndex)}}),r.widget("ui.resizable",r.ui.mouse,{version:"1.13.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,g){if("hidden"===r(e).css("overflow"))return!1;var l=g&&"left"===g?"scrollLeft":"scrollTop";if(g=!1,0<e[l])return!0;try{e[l]=1,g=0<e[l],e[l]=0}catch{}return g},_create:function(){var e,s=this.options,l=this;this._addClass("ui-resizable"),r.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(r("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),s.autoHide&&r(this.element).on("mouseenter",function(){s.disabled||(l._removeClass("ui-resizable-autohide"),l._handles.show())}).on("mouseleave",function(){s.disabled||l.resizing||(l._addClass("ui-resizable-autohide"),l._handles.hide())}),this._mouseInit()},_destroy:function(){function e(l){r(l).removeData("resizable").removeData("ui-resizable").off(".resizable")}var s;return this._mouseDestroy(),this._addedHandles.remove(),this.elementIsWrapper&&(e(this.element),this.originalElement.css({position:(s=this.element).css("position"),width:s.outerWidth(),height:s.outerHeight(),top:s.css("top"),left:s.css("left")}).insertAfter(s),s.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(e,s){switch(this._super(e,s),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!s}},_setupHandles:function(){var e,s,l,g,y,A=this.options,N=this;if(this.handles=A.handles||(r(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=r(),this._addedHandles=r(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),l=this.handles.split(","),this.handles={},s=0;s<l.length;s++)g="ui-resizable-"+(e=String.prototype.trim.call(l[s])),y=r("<div>"),this._addClass(y,"ui-resizable-handle "+g),y.css({zIndex:A.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.children(this.handles[e]).length||(this.element.append(y),this._addedHandles=this._addedHandles.add(y));this._renderAxis=function(j){var X,ht,ut;for(X in j=j||this.element,this.handles)this.handles[X].constructor===String?this.handles[X]=this.element.children(this.handles[X]).first().show():(this.handles[X].jquery||this.handles[X].nodeType)&&(this.handles[X]=r(this.handles[X]),this._on(this.handles[X],{mousedown:N._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(ht=r(this.handles[X],this.element),ut=/sw|ne|nw|se|n|s/.test(X)?ht.outerHeight():ht.outerWidth(),ht=["padding",/ne|nw|n/.test(X)?"Top":/se|sw|s/.test(X)?"Bottom":/^e$/.test(X)?"Right":"Left"].join(""),j.css(ht,ut),this._proportionallyResize()),this._handles=this._handles.add(this.handles[X])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){N.resizing||(this.className&&(y=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),N.axis=y&&y[1]?y[1]:"se")}),A.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(e){var s,l,g=!1;for(s in this.handles)(l=r(this.handles[s])[0])!==e.target&&!r.contains(l,e.target)||(g=!0);return!this.options.disabled&&g},_mouseStart:function(e){var s,l,g=this.options,y=this.element;return this.resizing=!0,this._renderProxy(),s=this._num(this.helper.css("left")),l=this._num(this.helper.css("top")),g.containment&&(s+=r(g.containment).scrollLeft()||0,l+=r(g.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:l},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:y.width(),height:y.height()},this.originalSize=this._helper?{width:y.outerWidth(),height:y.outerHeight()}:{width:y.width(),height:y.height()},this.sizeDiff={width:y.outerWidth()-y.width(),height:y.outerHeight()-y.height()},this.originalPosition={left:s,top:l},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1,g=r(".ui-resizable-"+this.axis).css("cursor"),r("body").css("cursor","auto"===g?this.axis+"-resize":g),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var s=e.pageX-(l=this.originalMousePosition).left||0,l=e.pageY-l.top||0,g=this._change[g=this.axis];return this._updatePrevProperties(),g&&(l=g.apply(this,[e,s,l]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(l=this._updateRatio(l,e)),l=this._respectSize(l,e),this._updateCache(l),this._propagate("resize",e),l=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),r.isEmptyObject(l)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var s,l,g,y=this.options,A=this;return this._helper&&(g=(s=(l=this._proportionallyResizeElements).length&&/textarea/i.test(l[0].nodeName))&&this._hasScroll(l[0],"left")?0:A.sizeDiff.height,l=s?0:A.sizeDiff.width,s={width:A.helper.width()-l,height:A.helper.height()-g},l=parseFloat(A.element.css("left"))+(A.position.left-A.originalPosition.left)||null,g=parseFloat(A.element.css("top"))+(A.position.top-A.originalPosition.top)||null,y.animate||this.element.css(r.extend(s,{top:g,left:l})),A.helper.height(A.size.height),A.helper.width(A.size.width),this._helper&&!y.animate&&this._proportionallyResize()),r("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var s,l,g=this.options,y={minWidth:this._isNumber(g.minWidth)?g.minWidth:0,maxWidth:this._isNumber(g.maxWidth)?g.maxWidth:1/0,minHeight:this._isNumber(g.minHeight)?g.minHeight:0,maxHeight:this._isNumber(g.maxHeight)?g.maxHeight:1/0};(this._aspectRatio||e)&&(l=y.minWidth/this.aspectRatio,g=y.maxHeight*this.aspectRatio,e=y.maxWidth/this.aspectRatio,(s=y.minHeight*this.aspectRatio)>y.minWidth&&(y.minWidth=s),l>y.minHeight&&(y.minHeight=l),g<y.maxWidth&&(y.maxWidth=g),e<y.maxHeight&&(y.maxHeight=e)),this._vBoundaries=y},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var s=this.position,l=this.size,g=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===g&&(e.left=s.left+(l.width-e.width),e.top=null),"nw"===g&&(e.top=s.top+(l.height-e.height),e.left=s.left+(l.width-e.width)),e},_respectSize:function(e){var s=this._vBoundaries,ht=this.axis,l=this._isNumber(e.width)&&s.maxWidth&&s.maxWidth<e.width,g=this._isNumber(e.height)&&s.maxHeight&&s.maxHeight<e.height,y=this._isNumber(e.width)&&s.minWidth&&s.minWidth>e.width,A=this._isNumber(e.height)&&s.minHeight&&s.minHeight>e.height,N=this.originalPosition.left+this.originalSize.width,j=this.originalPosition.top+this.originalSize.height,X=/sw|nw|w/.test(ht);return ht=/nw|ne|n/.test(ht),y&&(e.width=s.minWidth),A&&(e.height=s.minHeight),l&&(e.width=s.maxWidth),g&&(e.height=s.maxHeight),y&&X&&(e.left=N-s.minWidth),l&&X&&(e.left=N-s.maxWidth),A&&ht&&(e.top=j-s.minHeight),g&&ht&&(e.top=j-s.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var s=0,l=[],g=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],y=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];s<4;s++)l[s]=parseFloat(g[s])||0,l[s]+=parseFloat(y[s])||0;return{height:l[0]+l[2],width:l[1]+l[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,s=0,l=this.helper||this.element;s<this._proportionallyResizeElements.length;s++)e=this._proportionallyResizeElements[s],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:l.height()-this.outerDimensions.height||0,width:l.width()-this.outerDimensions.width||0})},_renderProxy:function(){var s=this.options;this.elementOffset=this.element.offset(),this._helper?(this.helper=this.helper||r("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++s.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,s){return{width:this.originalSize.width+s}},w:function(e,s){return{left:this.originalPosition.left+s,width:this.originalSize.width-s}},n:function(e,s,l){return{top:this.originalPosition.top+l,height:this.originalSize.height-l}},s:function(e,s,l){return{height:this.originalSize.height+l}},se:function(e,s,l){return r.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,s,l]))},sw:function(e,s,l){return r.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,s,l]))},ne:function(e,s,l){return r.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,s,l]))},nw:function(e,s,l){return r.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,s,l]))}},_propagate:function(e,s){r.ui.plugin.call(this,e,[s,this.ui()]),"resize"!==e&&this._trigger(e,s,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),r.ui.plugin.add("resizable","animate",{stop:function(e){var s=r(this).resizable("instance"),l=s.options,g=s._proportionallyResizeElements,N=(y=g.length&&/textarea/i.test(g[0].nodeName))&&s._hasScroll(g[0],"left")?0:s.sizeDiff.height,y={width:s.size.width-(y?0:s.sizeDiff.width),height:s.size.height-N},A=parseFloat(s.element.css("left"))+(s.position.left-s.originalPosition.left)||null;N=parseFloat(s.element.css("top"))+(s.position.top-s.originalPosition.top)||null,s.element.animate(r.extend(y,N&&A?{top:N,left:A}:{}),{duration:l.animateDuration,easing:l.animateEasing,step:function(){var j={width:parseFloat(s.element.css("width")),height:parseFloat(s.element.css("height")),top:parseFloat(s.element.css("top")),left:parseFloat(s.element.css("left"))};g&&g.length&&r(g[0]).css({width:j.width,height:j.height}),s._updateCache(j),s._propagate("resize",e)}})}}),r.ui.plugin.add("resizable","containment",{start:function(){var e,s,l=r(this).resizable("instance"),g=l.options,y=l.element,A=g.containment,N=A instanceof r?A.get(0):/parent/.test(A)?y.parent().get(0):A;N&&(l.containerElement=r(N),/document/.test(A)||A===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:r(document),left:0,top:0,width:r(document).width(),height:r(document).height()||document.body.parentNode.scrollHeight}):(e=r(N),s=[],r(["Top","Right","Left","Bottom"]).each(function(j,X){s[j]=l._num(e.css("padding"+X))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-s[3],width:e.innerWidth()-s[1]},g=l.containerOffset,y=l.containerSize.height,A=l.containerSize.width,A=l._hasScroll(N,"left")?N.scrollWidth:A,y=l._hasScroll(N)?N.scrollHeight:y,l.parentData={element:N,left:g.left,top:g.top,width:A,height:y}))},resize:function(X){var s=r(this).resizable("instance"),l=s.options,g=s.containerOffset,y=s.position,A=s._aspectRatio||X.shiftKey,N={top:0,left:0},j=s.containerElement;X=!0,j[0]!==document&&/static/.test(j.css("position"))&&(N=g),y.left<(s._helper?g.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-g.left:s.position.left-N.left),A&&(s.size.height=s.size.width/s.aspectRatio,X=!1),s.position.left=l.helper?g.left:0),y.top<(s._helper?g.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-g.top:s.position.top),A&&(s.size.width=s.size.height*s.aspectRatio,X=!1),s.position.top=s._helper?g.top:0),l=s.containerElement.get(0)===s.element.parent().get(0),y=/relative|absolute/.test(s.containerElement.css("position")),l&&y?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),y=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-N.left:s.offset.left-g.left)),g=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-N.top:s.offset.top-g.top)),y+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-y,A&&(s.size.height=s.size.width/s.aspectRatio,X=!1)),g+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-g,A&&(s.size.width=s.size.height*s.aspectRatio,X=!1)),X||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=r(this).resizable("instance"),s=e.options,l=e.containerOffset,g=e.containerPosition,y=e.containerElement,A=(j=r(e.helper)).offset(),N=j.outerWidth()-e.sizeDiff.width,j=j.outerHeight()-e.sizeDiff.height;e._helper&&!s.animate&&/relative/.test(y.css("position"))&&r(this).css({left:A.left-g.left-l.left,width:N,height:j}),e._helper&&!s.animate&&/static/.test(y.css("position"))&&r(this).css({left:A.left-g.left-l.left,width:N,height:j})}}),r.ui.plugin.add("resizable","alsoResize",{start:function(){var e=r(this).resizable("instance").options;r(e.alsoResize).each(function(){var s=r(this);s.data("ui-resizable-alsoresize",{width:parseFloat(s.width()),height:parseFloat(s.height()),left:parseFloat(s.css("left")),top:parseFloat(s.css("top"))})})},resize:function(e,s){var l=r(this).resizable("instance"),y=l.originalSize,A=l.originalPosition,N={height:l.size.height-y.height||0,width:l.size.width-y.width||0,top:l.position.top-A.top||0,left:l.position.left-A.left||0};r(l.options.alsoResize).each(function(){var j=r(this),X=r(this).data("ui-resizable-alsoresize"),ht={},ut=j.parents(s.originalElement[0]).length?["width","height"]:["width","height","top","left"];r.each(ut,function(ot,yt){var It=(X[yt]||0)+(N[yt]||0);It&&0<=It&&(ht[yt]=It||null)}),j.css(ht)})},stop:function(){r(this).removeData("ui-resizable-alsoresize")}}),r.ui.plugin.add("resizable","ghost",{start:function(){var e=r(this).resizable("instance"),s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==r.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=r(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=r(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),r.ui.plugin.add("resizable","grid",{resize:function(){var e,s=r(this).resizable("instance"),l=s.options,Vt=s.size,g=s.originalSize,y=s.originalPosition,A=s.axis,N="number"==typeof l.grid?[l.grid,l.grid]:l.grid,j=N[0]||1,X=N[1]||1,ht=Math.round((Vt.width-g.width)/j)*j,ut=Math.round((Vt.height-g.height)/X)*X,ot=g.width+ht,yt=g.height+ut,It=l.maxWidth&&l.maxWidth<ot,qt=l.maxHeight&&l.maxHeight<yt,jt=l.minWidth&&l.minWidth>ot;Vt=l.minHeight&&l.minHeight>yt,l.grid=N,jt&&(ot+=j),Vt&&(yt+=X),It&&(ot-=j),qt&&(yt-=X),/^(se|s|e)$/.test(A)?(s.size.width=ot,s.size.height=yt):/^(ne)$/.test(A)?(s.size.width=ot,s.size.height=yt,s.position.top=y.top-ut):/^(sw)$/.test(A)?(s.size.width=ot,s.size.height=yt,s.position.left=y.left-ht):((yt-X<=0||ot-j<=0)&&(e=s._getPaddingPlusBorderDimensions(this)),0<yt-X?(s.size.height=yt,s.position.top=y.top-ut):(s.size.height=yt=X-e.height,s.position.top=y.top+g.height-yt),0<ot-j?(s.size.width=ot,s.position.left=y.left-ht):(s.size.width=ot=j-e.width,s.position.left=y.left+g.width-ot))}}),r.widget("ui.dialog",{version:"1.13.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var s=r(this).css(e).offset().top;s<0&&r(this).css("top",e.top-s)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&r.fn.draggable&&this._makeDraggable(),this.options.resizable&&r.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?r(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,s=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=s.parent.children().eq(s.index)).length&&e[0]!==this.element[0]?e.before(this.element):s.parent.append(this.element)},widget:function(){return this.uiDialog},disable:r.noop,enable:r.noop,close:function(e){var s=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||r.ui.safeBlur(r.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,s){var l=!1,g=this.uiDialog.siblings(".ui-front:visible").map(function(){return+r(this).css("z-index")}).get();return(g=Math.max.apply(null,g))>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",g+1),l=!0),l&&!s&&this._trigger("focus",e),l},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=r(r.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;(e=(e=(e=(e=(e=e||this.element.find("[autofocus]")).length?e:this.element.find(":tabbable")).length?e:this.uiDialogButtonPane.find(":tabbable")).length?e:this.uiDialogTitlebarClose.filter(":tabbable")).length?e:this.uiDialog).eq(0).trigger("focus")},_restoreTabbableFocus:function(){var e=r.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||r.contains(this.uiDialog[0],e)||this._focusTabbable()},_keepFocus:function(e){e.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=r("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===r.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);var s,l,g;e.keyCode!==r.ui.keyCode.TAB||e.isDefaultPrevented()||(s=this.uiDialog.find(":tabbable"),l=s.first(),g=s.last(),e.target!==g[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==l[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){g.trigger("focus")}),e.preventDefault()):(this._delay(function(){l.trigger("focus")}),e.preventDefault()))},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=r("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(s){r(s.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=r("<button type='button'></button>").button({label:r("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(s){s.preventDefault(),this.close(s)}}),e=r("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=r("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=r("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,s=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),r.isEmptyObject(s)||Array.isArray(s)&&!s.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(r.each(s,function(l,g){var y;g=r.extend({type:"button"},g="function"==typeof g?{click:g,text:l}:g),y=g.click,l={icon:g.icon,iconPosition:g.iconPosition,showLabel:g.showLabel,icons:g.icons,text:g.text},delete g.click,delete g.icon,delete g.iconPosition,delete g.showLabel,delete g.icons,"boolean"==typeof g.text&&delete g.text,r("<button></button>",g).button(l).appendTo(e.uiButtonSet).on("click",function(){y.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,s=this.options;function l(g){return{position:g.position,offset:g.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(g,y){e._addClass(r(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",g,l(y))},drag:function(g,y){e._trigger("drag",g,l(y))},stop:function(g,y){var A=y.offset.left-e.document.scrollLeft(),N=y.offset.top-e.document.scrollTop();s.position={my:"left top",at:"left"+(0<=A?"+":"")+A+" top"+(0<=N?"+":"")+N,of:e.window},e._removeClass(r(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",g,l(y))}})},_makeResizable:function(){var e=this,s=this.options,g=s.resizable,l=this.uiDialog.css("position");function y(A){return{originalPosition:A.originalPosition,originalSize:A.originalSize,position:A.position,size:A.size}}g="string"==typeof g?g:"n,e,s,w,se,sw,ne,nw",this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:g,start:function(A,N){e._addClass(r(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",A,y(N))},resize:function(A,N){e._trigger("resize",A,y(N))},stop:function(A,N){var j=(X=e.uiDialog.offset()).left-e.document.scrollLeft(),X=X.top-e.document.scrollTop();s.height=e.uiDialog.height(),s.width=e.uiDialog.width(),s.position={my:"left top",at:"left"+(0<=j?"+":"")+j+" top"+(0<=X?"+":"")+X,of:e.window},e._removeClass(r(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",A,y(N))}}).css("position",l)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=r(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),s=r.inArray(this,e);-1!==s&&e.splice(s,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||this.document.data("ui-dialog-instances",e=[]),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var s=this,l=!1,g={};r.each(e,function(y,A){s._setOption(y,A),y in s.sizeRelatedOptions&&(l=!0),y in s.resizableRelatedOptions&&(g[y]=A)}),l&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",g)},_setOption:function(e,s){var l,g=this.uiDialog;"disabled"!==e&&(this._super(e,s),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:r("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((l=g.is(":data(ui-draggable)"))&&!s&&g.draggable("destroy"),!l&&s&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((l=g.is(":data(ui-resizable)"))&&!s&&g.resizable("destroy"),l&&"string"==typeof s&&g.resizable("option","handles",s),l||!1===s||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,s,l,g=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),g.minWidth>g.width&&(g.width=g.minWidth),e=this.uiDialog.css({height:"auto",width:g.width}).outerHeight(),s=Math.max(0,g.minHeight-e),l="number"==typeof g.maxHeight?Math.max(0,g.maxHeight-e):"none","auto"===g.height?this.element.css({minHeight:s,maxHeight:l,height:"auto"}):this.element.height(Math.max(0,g.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=r(this);return r("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!r(e.target).closest(".ui-dialog").length||!!r(e.target).closest(".ui-datepicker").length},_createOverlay:function(){var e,s;this.options.modal&&(e=r.fn.jquery.substring(0,4),s=!0,this._delay(function(){s=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(l){var g;s||(g=this._trackingInstances()[0])._allowInteraction(l)||(l.preventDefault(),g._focusTabbable(),"3.4."!==e&&"3.5."!==e||g._delay(g._restoreTabbableFocus))}.bind(this)),this.overlay=r("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var e;this.options.modal&&this.overlay&&((e=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",e):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null)}}),!1!==r.uiBackCompat&&r.widget("ui.dialog",r.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,s){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(s),this._superApply(arguments)}}),r.widget("ui.droppable",{version:"1.13.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,s=this.options,l=s.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof l?l:function(g){return g.is(l)},this.proportions=function(){if(!arguments.length)return e=e||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};e=arguments[0]},this._addToManager(s.scope),s.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){r.ui.ddmanager.droppables[e]=r.ui.ddmanager.droppables[e]||[],r.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var s=0;s<e.length;s++)e[s]===this&&e.splice(s,1)},_destroy:function(){this._splice(r.ui.ddmanager.droppables[this.options.scope])},_setOption:function(e,s){"accept"===e?this.accept="function"==typeof s?s:function(g){return g.is(s)}:"scope"===e&&(this._splice(r.ui.ddmanager.droppables[this.options.scope]),this._addToManager(s)),this._super(e,s)},_activate:function(e){var s=r.ui.ddmanager.current;this._addActiveClass(),s&&this._trigger("activate",e,this.ui(s))},_deactivate:function(e){var s=r.ui.ddmanager.current;this._removeActiveClass(),s&&this._trigger("deactivate",e,this.ui(s))},_over:function(e){var s=r.ui.ddmanager.current;s&&(s.currentItem||s.element)[0]!==this.element[0]&&this.accept.call(this.element[0],s.currentItem||s.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(s)))},_out:function(e){var s=r.ui.ddmanager.current;s&&(s.currentItem||s.element)[0]!==this.element[0]&&this.accept.call(this.element[0],s.currentItem||s.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(s)))},_drop:function(e,s){var l=s||r.ui.ddmanager.current,g=!1;return!(!l||(l.currentItem||l.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var y=r(this).droppable("instance");if(y.options.greedy&&!y.options.disabled&&y.options.scope===l.options.scope&&y.accept.call(y.element[0],l.currentItem||l.element)&&r.ui.intersect(l,r.extend(y,{offset:y.element.offset()}),y.options.tolerance,e))return!(g=!0)}),!g&&!!this.accept.call(this.element[0],l.currentItem||l.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(l)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),r.ui.intersect=function(e,s,l,g){if(!s.offset)return!1;var y=(e.positionAbs||e.position.absolute).left+e.margins.left,A=(e.positionAbs||e.position.absolute).top+e.margins.top,N=y+e.helperProportions.width,j=A+e.helperProportions.height,X=s.offset.left,ht=s.offset.top,ut=X+s.proportions().width,ot=ht+s.proportions().height;switch(l){case"fit":return X<=y&&N<=ut&&ht<=A&&j<=ot;case"intersect":return X<y+e.helperProportions.width/2&&N-e.helperProportions.width/2<ut&&ht<A+e.helperProportions.height/2&&j-e.helperProportions.height/2<ot;case"pointer":return Me(g.pageY,ht,s.proportions().height)&&Me(g.pageX,X,s.proportions().width);case"touch":return(ht<=A&&A<=ot||ht<=j&&j<=ot||A<ht&&ot<j)&&(X<=y&&y<=ut||X<=N&&N<=ut||y<X&&ut<N);default:return!1}},!(r.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,s){var l,g,y=r.ui.ddmanager.droppables[e.options.scope]||[],A=s?s.type:null,N=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(l=0;l<y.length;l++)if(!(y[l].options.disabled||e&&!y[l].accept.call(y[l].element[0],e.currentItem||e.element))){for(g=0;g<N.length;g++)if(N[g]===y[l].element[0]){y[l].proportions().height=0;continue t}y[l].visible="none"!==y[l].element.css("display"),y[l].visible&&("mousedown"===A&&y[l]._activate.call(y[l],s),y[l].offset=y[l].element.offset(),y[l].proportions({width:y[l].element[0].offsetWidth,height:y[l].element[0].offsetHeight}))}},drop:function(e,s){var l=!1;return r.each((r.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&r.ui.intersect(e,this,this.options.tolerance,s)&&(l=this._drop.call(this,s)||l),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,s)))}),l},dragStart:function(e,s){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||r.ui.ddmanager.prepareOffsets(e,s)})},drag:function(e,s){e.options.refreshPositions&&r.ui.ddmanager.prepareOffsets(e,s),r.each(r.ui.ddmanager.droppables[e.options.scope]||[],function(){var l,g,y,A;this.options.disabled||this.greedyChild||!this.visible||(A=!(y=r.ui.intersect(e,this,this.options.tolerance,s))&&this.isover?"isout":y&&!this.isover?"isover":null)&&(this.options.greedy&&(g=this.options.scope,(y=this.element.parents(":data(ui-droppable)").filter(function(){return r(this).droppable("instance").options.scope===g})).length&&((l=r(y[0]).droppable("instance")).greedyChild="isover"===A)),l&&"isover"===A&&(l.isover=!1,l.isout=!0,l._out.call(l,s)),this[A]=!0,this["isout"===A?"isover":"isout"]=!1,this["isover"===A?"_over":"_out"].call(this,s),l&&"isout"===A&&(l.isout=!1,l.isover=!0,l._over.call(l,s)))})},dragStop:function(e,s){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||r.ui.ddmanager.prepareOffsets(e,s)}})!==r.uiBackCompat&&r.widget("ui.droppable",r.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),r.widget("ui.progressbar",{version:"1.13.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=r("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var s=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(s),this._refreshValue()},_setOption:function(e,s){"max"===e&&(s=Math.max(this.min,s)),this._super(e,s)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,s=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(s.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=r("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),r.widget("ui.selectable",r.ui.mouse,{version:"1.13.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=r(e.element[0]).offset(),e.selectees=r(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var s=r(this),l=s.offset();r.data(this,"selectable-item",{element:this,$element:s,left:(l={left:l.left-e.elementPos.left,top:l.top-e.elementPos.top}).left,top:l.top,right:l.left+s.outerWidth(),bottom:l.top+s.outerHeight(),startselected:!1,selected:s.hasClass("ui-selected"),selecting:s.hasClass("ui-selecting"),unselecting:s.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=r("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var s=this,l=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=r(this.element[0]).offset(),this.options.disabled||(this.selectees=r(l.filter,this.element[0]),this._trigger("start",e),r(l.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),l.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var g=r.data(this,"selectable-item");g.startselected=!0,e.metaKey||e.ctrlKey||(s._removeClass(g.$element,"ui-selected"),g.selected=!1,s._addClass(g.$element,"ui-unselecting"),g.unselecting=!0,s._trigger("unselecting",e,{unselecting:g.element}))}),r(e.target).parents().addBack().each(function(){var g,y=r.data(this,"selectable-item");if(y)return g=!e.metaKey&&!e.ctrlKey||!y.$element.hasClass("ui-selected"),s._removeClass(y.$element,g?"ui-unselecting":"ui-selected")._addClass(y.$element,g?"ui-selecting":"ui-unselecting"),y.unselecting=!g,y.selecting=g,(y.selected=g)?s._trigger("selecting",e,{selecting:y.element}):s._trigger("unselecting",e,{unselecting:y.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var s,l=this,g=this.options,y=this.opos[0],A=this.opos[1],N=e.pageX,j=e.pageY;return N<y&&(s=N,N=y,y=s),j<A&&(s=j,j=A,A=s),this.helper.css({left:y,top:A,width:N-y,height:j-A}),this.selectees.each(function(){var X=r.data(this,"selectable-item"),ht=!1,ut={};X&&X.element!==l.element[0]&&(ut.left=X.left+l.elementPos.left,ut.right=X.right+l.elementPos.left,ut.top=X.top+l.elementPos.top,ut.bottom=X.bottom+l.elementPos.top,"touch"===g.tolerance?ht=!(ut.left>N||ut.right<y||ut.top>j||ut.bottom<A):"fit"===g.tolerance&&(ht=ut.left>y&&ut.right<N&&ut.top>A&&ut.bottom<j),ht?(X.selected&&(l._removeClass(X.$element,"ui-selected"),X.selected=!1),X.unselecting&&(l._removeClass(X.$element,"ui-unselecting"),X.unselecting=!1),X.selecting||(l._addClass(X.$element,"ui-selecting"),X.selecting=!0,l._trigger("selecting",e,{selecting:X.element}))):(X.selecting&&((e.metaKey||e.ctrlKey)&&X.startselected?(l._removeClass(X.$element,"ui-selecting"),X.selecting=!1,l._addClass(X.$element,"ui-selected"),X.selected=!0):(l._removeClass(X.$element,"ui-selecting"),X.selecting=!1,X.startselected&&(l._addClass(X.$element,"ui-unselecting"),X.unselecting=!0),l._trigger("unselecting",e,{unselecting:X.element}))),X.selected&&(e.metaKey||e.ctrlKey||X.startselected||(l._removeClass(X.$element,"ui-selected"),X.selected=!1,l._addClass(X.$element,"ui-unselecting"),X.unselecting=!0,l._trigger("unselecting",e,{unselecting:X.element})))))}),!1}},_mouseStop:function(e){var s=this;return this.dragged=!1,r(".ui-unselecting",this.element[0]).each(function(){var l=r.data(this,"selectable-item");s._removeClass(l.$element,"ui-unselecting"),l.unselecting=!1,l.startselected=!1,s._trigger("unselected",e,{unselected:l.element})}),r(".ui-selecting",this.element[0]).each(function(){var l=r.data(this,"selectable-item");s._removeClass(l.$element,"ui-selecting")._addClass(l.$element,"ui-selected"),l.selecting=!1,l.selected=!0,l.startselected=!0,s._trigger("selected",e,{selected:l.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),r.widget("ui.selectmenu",[r.ui.formResetMixin,{version:"1.13.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=r()},_drawButton:function(){var e,s=this,l=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(g){this.button.trigger("focus"),g.preventDefault()}}),this.element.hide(),this.button=r("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=r("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(l).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){s._rendered||s._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=r("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=r("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(s,l){s.preventDefault(),e._setSelection(),e._select(l.item.data("ui-selectmenu-item"),s)},focus:function(s,l){l=l.item.data("ui-selectmenu-item"),null!=e.focusIndex&&l.index!==e.focusIndex&&(e._trigger("focus",s,{item:l}),e.isOpen||e._select(l,s)),e.focusIndex=l.index,e.button.attr("aria-activedescendant",e.menuItems.eq(l.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(r.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var s=r("<span>");return this._setText(s,e.label),this._addClass(s,"ui-selectmenu-text"),s},_renderMenu:function(e,s){var l=this,g="";r.each(s,function(y,A){var N;A.optgroup!==g&&(N=r("<li>",{text:A.optgroup}),l._addClass(N,"ui-selectmenu-optgroup","ui-menu-divider"+(A.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),N.appendTo(e),g=A.optgroup),l._renderItemData(e,A)})},_renderItemData:function(e,s){return this._renderItem(e,s).data("ui-selectmenu-item",s)},_renderItem:function(e,s){var l=r("<li>"),g=r("<div>",{title:s.element.attr("title")});return s.disabled&&this._addClass(l,null,"ui-state-disabled"),this._setText(g,s.label),l.append(g).appendTo(e)},_setText:function(e,s){s?e.text(s):e.html("&#160;")},_move:function(e,s){var l,g=".ui-menu-item";this.isOpen?l=this.menuItems.eq(this.focusIndex).parent("li"):(l=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),g+=":not(.ui-state-disabled)"),(g="first"===e||"last"===e?l["first"===e?"prevAll":"nextAll"](g).eq(-1):l[e+"All"](g).eq(0)).length&&this.menuInstance.focus(s,g)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(r(e.target).closest(".ui-selectmenu-menu, #"+r.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var s=!0;switch(e.keyCode){case r.ui.keyCode.TAB:case r.ui.keyCode.ESCAPE:this.close(e),s=!1;break;case r.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case r.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case r.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case r.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case r.ui.keyCode.LEFT:this._move("prev",e);break;case r.ui.keyCode.RIGHT:this._move("next",e);break;case r.ui.keyCode.HOME:case r.ui.keyCode.PAGE_UP:this._move("first",e);break;case r.ui.keyCode.END:case r.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),s=!1}s&&e.preventDefault()}},_selectFocusedItem:function(e){var s=this.menuItems.eq(this.focusIndex).parent("li");s.hasClass("ui-state-disabled")||this._select(s.data("ui-selectmenu-item"),e)},_select:function(e,s){var l=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",s,{item:e}),e.index!==l&&this._trigger("change",s,{item:e}),this.close(s)},_setAria:function(e){e=this.menuItems.eq(e.index).attr("id"),this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(e,s){var l;"icons"===e&&(l=this.button.find("span.ui-icon"),this._removeClass(l,null,this.options.icons.button)._addClass(l,null,s.button)),this._super(e,s),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return(e=(e=e&&(e.jquery||e.nodeType?r(e):this.document.find(e).eq(0)))&&e[0]?e:this.element.closest(".ui-front, dialog")).length?e:this.document[0].body},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;!1!==e?(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(e){var s=this,l=[];e.each(function(g,y){y.hidden||l.push(s._parseOption(r(y),g))}),this.items=l},_parseOption:function(e,s){var l=e.parent("optgroup");return{element:e,index:s,value:e.val(),label:e.text(),optgroup:l.attr("label")||"",disabled:l.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),r.widget("ui.slider",r.ui.mouse,{version:"1.13.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,s=this.options,l=this.element.find(".ui-slider-handle"),g=[],y=s.values&&s.values.length||1;for(l.length>y&&(l.slice(y).remove(),l=l.slice(0,y)),e=l.length;e<y;e++)g.push("<span tabindex='0'></span>");this.handles=l.add(r(g.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(A){r(this).data("ui-slider-handle-index",A).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:Array.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=r("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var s,l,g,y,A,N,j=this,X=this.options;return!X.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s=this._normValueFromMouse(N={x:e.pageX,y:e.pageY}),l=this._valueMax()-this._valueMin()+1,this.handles.each(function(ht){var ut=Math.abs(s-j.values(ht));(ut<l||l===ut&&(ht===j._lastChangedValue||j.values(ht)===X.min))&&(l=ut,g=r(this),y=ht)}),!1!==this._start(e,y)&&(this._mouseSliding=!0,this._handleIndex=y,this._addClass(g,null,"ui-state-active"),g.trigger("focus"),A=g.offset(),N=!r(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=N?{left:0,top:0}:{left:e.pageX-A.left-g.width()/2,top:e.pageY-A.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,y,s),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var s=this._normValueFromMouse(s={x:e.pageX,y:e.pageY});return this._slide(e,this._handleIndex,s),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(l){var s;return(l=1<(l=(l="horizontal"===this.orientation?(s=this.elementSize.width,l.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(s=this.elementSize.height,l.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)))/s)?1:l)<0&&(l=0),"vertical"===this.orientation&&(l=1-l),s=this._valueMax()-this._valueMin(),s=this._valueMin()+l*s,this._trimAlignValue(s)},_uiHash:function(e,s,l){var g={handle:this.handles[e],handleIndex:e,value:void 0!==s?s:this.value()};return this._hasMultipleValues()&&(g.value=void 0!==s?s:this.values(e),g.values=l||this.values()),g},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,s){return this._trigger("start",e,this._uiHash(s))},_slide:function(e,s,l){var g,y=this.value(),A=this.values();this._hasMultipleValues()&&(g=this.values(s?0:1),y=this.values(s),2===this.options.values.length&&!0===this.options.range&&(l=0===s?Math.min(g,l):Math.max(g,l)),A[s]=l),l!==y&&!1!==this._trigger("slide",e,this._uiHash(s,l,A))&&(this._hasMultipleValues()?this.values(s,l):this.value(l))},_stop:function(e,s){this._trigger("stop",e,this._uiHash(s))},_change:function(e,s){this._keySliding||this._mouseSliding||(this._lastChangedValue=s,this._trigger("change",e,this._uiHash(s)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,s){var l,g,y;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(s),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!Array.isArray(e))return this._hasMultipleValues()?this._values(e):this.value();for(l=this.options.values,g=e,y=0;y<l.length;y+=1)l[y]=this._trimAlignValue(g[y]),this._change(null,y);this._refreshValue()},_setOption:function(e,s){var l,g=0;switch("range"===e&&!0===this.options.range&&("min"===s?(this.options.value=this._values(0),this.options.values=null):"max"===s&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(g=this.options.values.length),this._super(e,s),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(s),this.handles.css("horizontal"===s?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),l=g-1;0<=l;l--)this._change(null,l);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(e){var s,l;if(arguments.length)return this._trimAlignValue(e=this.options.values[e]);if(this._hasMultipleValues()){for(s=this.options.values.slice(),l=0;l<s.length;l+=1)s[l]=this._trimAlignValue(s[l]);return s}return[]},_trimAlignValue:function(g){if(g<=this._valueMin())return this._valueMin();if(g>=this._valueMax())return this._valueMax();var s=0<this.options.step?this.options.step:1,l=(g-this._valueMin())%s;return g-=l,2*Math.abs(l)>=s&&(g+=0<l?s:-s),parseFloat(g.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,s=this._valueMin(),l=this.options.step;(e=Math.round((e-s)/l)*l+s)>this.options.max&&(e-=l),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min?Math.max(e,this._precisionOf(this.options.min)):e},_precisionOf:function(l){var s=l.toString();return-1===(l=s.indexOf("."))?0:s.length-l-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,s,l,g,y,A=this.options.range,N=this.options,j=this,X=!this._animateOff&&N.animate,ht={};this._hasMultipleValues()?this.handles.each(function(ut){s=(j.values(ut)-j._valueMin())/(j._valueMax()-j._valueMin())*100,ht["horizontal"===j.orientation?"left":"bottom"]=s+"%",r(this).stop(1,1)[X?"animate":"css"](ht,N.animate),!0===j.options.range&&("horizontal"===j.orientation?(0===ut&&j.range.stop(1,1)[X?"animate":"css"]({left:s+"%"},N.animate),1===ut&&j.range[X?"animate":"css"]({width:s-e+"%"},{queue:!1,duration:N.animate})):(0===ut&&j.range.stop(1,1)[X?"animate":"css"]({bottom:s+"%"},N.animate),1===ut&&j.range[X?"animate":"css"]({height:s-e+"%"},{queue:!1,duration:N.animate}))),e=s}):(l=this.value(),g=this._valueMin(),y=this._valueMax(),ht["horizontal"===this.orientation?"left":"bottom"]=(s=y!==g?(l-g)/(y-g)*100:0)+"%",this.handle.stop(1,1)[X?"animate":"css"](ht,N.animate),"min"===A&&"horizontal"===this.orientation&&this.range.stop(1,1)[X?"animate":"css"]({width:s+"%"},N.animate),"max"===A&&"horizontal"===this.orientation&&this.range.stop(1,1)[X?"animate":"css"]({width:100-s+"%"},N.animate),"min"===A&&"vertical"===this.orientation&&this.range.stop(1,1)[X?"animate":"css"]({height:s+"%"},N.animate),"max"===A&&"vertical"===this.orientation&&this.range.stop(1,1)[X?"animate":"css"]({height:100-s+"%"},N.animate))},_handleEvents:{keydown:function(e){var s,l,g,y=r(e.target).data("ui-slider-handle-index");switch(e.keyCode){case r.ui.keyCode.HOME:case r.ui.keyCode.END:case r.ui.keyCode.PAGE_UP:case r.ui.keyCode.PAGE_DOWN:case r.ui.keyCode.UP:case r.ui.keyCode.RIGHT:case r.ui.keyCode.DOWN:case r.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(r(e.target),null,"ui-state-active"),!1===this._start(e,y)))return}switch(g=this.options.step,s=l=this._hasMultipleValues()?this.values(y):this.value(),e.keyCode){case r.ui.keyCode.HOME:l=this._valueMin();break;case r.ui.keyCode.END:l=this._valueMax();break;case r.ui.keyCode.PAGE_UP:l=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case r.ui.keyCode.PAGE_DOWN:l=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case r.ui.keyCode.UP:case r.ui.keyCode.RIGHT:if(s===this._valueMax())return;l=this._trimAlignValue(s+g);break;case r.ui.keyCode.DOWN:case r.ui.keyCode.LEFT:if(s===this._valueMin())return;l=this._trimAlignValue(s-g)}this._slide(e,y,l)},keyup:function(e){var s=r(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,s),this._change(e,s),this._removeClass(r(e.target),null,"ui-state-active"))}}}),r.widget("ui.sortable",r.ui.mouse,{version:"1.13.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,s,l){return s<=e&&e<s+l},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,s){this._super(e,s),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),r.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,s){var l=null,g=!1,y=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),r(e.target).parents().each(function(){if(r.data(this,y.widgetName+"-item")===y)return l=r(this),!1}),!(l=r.data(e.target,y.widgetName+"-item")===y?r(e.target):l)||this.options.handle&&!s&&(r(this.options.handle,l).find("*").addBack().each(function(){this===e.target&&(g=!0)}),!g)||(this.currentItem=l,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,s,l){var g,y,A=this.options;if((this.currentContainer=this).refreshPositions(),this.appendTo=r("parent"!==A.appendTo?A.appendTo:this.currentItem.parent()),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},r.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),A.cursorAt&&this._adjustOffsetFromHelper(A.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),r.extend(this.offset,{parent:this._getParentOffset()}),A.containment&&this._setContainment(),A.cursor&&"auto"!==A.cursor&&(y=this.document.find("body"),this.storedCursor=y.css("cursor"),y.css("cursor",A.cursor),this.storedStylesheet=r("<style>*{ cursor: "+A.cursor+" !important; }</style>").appendTo(y)),A.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",A.zIndex)),A.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",A.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!l)for(g=this.containers.length-1;0<=g;g--)this.containers[g]._trigger("activate",e,this._uiHash(this));return r.ui.ddmanager&&(r.ui.ddmanager.current=this),r.ui.ddmanager&&!A.dropBehaviour&&r.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(e),!0},_scroll:function(e){var s=this.options,l=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=l=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=l=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=l=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=l=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?l=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(l=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?l=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(l=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),l},_mouseDrag:function(e){var s,l,g,y,A=this.options;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),A.scroll&&!1!==this._scroll(e)&&(this._refreshItemPositions(!0),r.ui.ddmanager&&!A.dropBehaviour&&r.ui.ddmanager.prepareOffsets(this,e)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},s=this.items.length-1;0<=s;s--)if(g=(l=this.items[s]).item[0],(y=this._intersectsWithPointer(l))&&l.instance===this.currentContainer&&!(g===this.currentItem[0]||this.placeholder[1===y?"next":"prev"]()[0]===g||r.contains(this.placeholder[0],g)||"semi-dynamic"===this.options.type&&r.contains(this.element[0],g))){if(this.direction=1===y?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(l))break;this._rearrange(e,l),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),r.ui.ddmanager&&r.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,s){var l,g,y,A;if(e)return r.ui.ddmanager&&!this.options.dropBehaviour&&r.ui.ddmanager.drop(this,e),this.options.revert?(g=(l=this).placeholder.offset(),A={},(y=this.options.axis)&&"x"!==y||(A.left=g.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),y&&"y"!==y||(A.top=g.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,r(this.helper).animate(A,parseInt(this.options.revert,10)||500,function(){l._clear(e)})):this._clear(e,s),!1},cancel:function(){if(this.dragging){this._mouseUp(new r.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),r.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?r(this.domPosition.prev).after(this.currentItem):r(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var s=this._getItemsAsjQuery(e&&e.connected),l=[];return e=e||{},r(s).each(function(){var g=(r(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);g&&l.push((e.key||g[1]+"[]")+"="+(e.key&&e.expression?g[1]:g[2]))}),!l.length&&e.key&&l.push(e.key+"="),l.join("&")},toArray:function(e){var s=this._getItemsAsjQuery(e&&e.connected),l=[];return e=e||{},s.each(function(){l.push(r(e.item||this).attr(e.attribute||"id")||"")}),l},_intersectsWith:function(e){var s=this.positionAbs.left,g=this.positionAbs.top,A=e.left,N=A+e.width,j=e.top,X=j+e.height,ht=this.offset.click.top,ut=this.offset.click.left;return ht="x"===this.options.axis||j<g+ht&&g+ht<X,ut="y"===this.options.axis||A<s+ut&&s+ut<N,"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?ht&&ut:A<s+this.helperProportions.width/2&&s+this.helperProportions.width-this.helperProportions.width/2<N&&j<g+this.helperProportions.height/2&&g+this.helperProportions.height-this.helperProportions.height/2<X},_intersectsWithPointer:function(l){var s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,l.top,l.height);return l="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,l.left,l.width),!(!s||!l)&&(s=this.dragDirection.vertical,l=this.dragDirection.horizontal,this.floating?"right"===l||"down"===s?2:1:s&&("down"===s?2:1))},_intersectsWithSides:function(y){var s=this._isOverAxis(this.positionAbs.top+this.offset.click.top,y.top+y.height/2,y.height),l=this._isOverAxis(this.positionAbs.left+this.offset.click.left,y.left+y.width/2,y.width),g=this.dragDirection.vertical;return y=this.dragDirection.horizontal,this.floating&&y?"right"===y&&l||"left"===y&&!l:g&&("down"===g&&s||"up"===g&&!s)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var s,l,g,y,A=[],N=[],j=this._connectWith();if(j&&e)for(s=j.length-1;0<=s;s--)for(l=(g=r(j[s],this.document[0])).length-1;0<=l;l--)(y=r.data(g[l],this.widgetFullName))&&y!==this&&!y.options.disabled&&N.push(["function"==typeof y.options.items?y.options.items.call(y.element):r(y.options.items,y.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),y]);function X(){A.push(this)}for(N.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):r(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=N.length-1;0<=s;s--)N[s][0].each(X);return r(A)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=r.grep(this.items,function(s){for(var l=0;l<e.length;l++)if(e[l]===s.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var s,l,g,y,A,N,j,X,ht=this.items,ut=[["function"==typeof this.options.items?this.options.items.call(this.element[0],e,{item:this.currentItem}):r(this.options.items,this.element),this]],ot=this._connectWith();if(ot&&this.ready)for(s=ot.length-1;0<=s;s--)for(l=(g=r(ot[s],this.document[0])).length-1;0<=l;l--)(y=r.data(g[l],this.widgetFullName))&&y!==this&&!y.options.disabled&&(ut.push(["function"==typeof y.options.items?y.options.items.call(y.element[0],e,{item:this.currentItem}):r(y.options.items,y.element),y]),this.containers.push(y));for(s=ut.length-1;0<=s;s--)for(A=ut[s][1],X=(N=ut[s][l=0]).length;l<X;l++)(j=r(N[l])).data(this.widgetName+"-item",A),ht.push({item:j,instance:A,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(e){for(var s,l,g=this.items.length-1;0<=g;g--)s=this.items[g],this.currentContainer&&s.instance!==this.currentContainer&&s.item[0]!==this.currentItem[0]||(l=this.options.toleranceElement?r(this.options.toleranceElement,s.item):s.item,e||(s.width=l.outerWidth(),s.height=l.outerHeight()),l=l.offset(),s.left=l.left,s.top=l.top)},refreshPositions:function(e){var s,l;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(e),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(s=this.containers.length-1;0<=s;s--)l=this.containers[s].element.offset(),this.containers[s].containerCache.left=l.left,this.containers[s].containerCache.top=l.top,this.containers[s].containerCache.width=this.containers[s].element.outerWidth(),this.containers[s].containerCache.height=this.containers[s].element.outerHeight();return this},_createPlaceholder:function(e){var s,l,g=(e=e||this).options;g.placeholder&&g.placeholder.constructor!==String||(s=g.placeholder,l=e.currentItem[0].nodeName.toLowerCase(),g.placeholder={element:function(){var y=r("<"+l+">",e.document[0]);return e._addClass(y,"ui-sortable-placeholder",s||e.currentItem[0].className)._removeClass(y,"ui-sortable-helper"),"tbody"===l?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),r("<tr>",e.document[0]).appendTo(y)):"tr"===l?e._createTrPlaceholder(e.currentItem,y):"img"===l&&y.attr("src",e.currentItem.attr("src")),s||y.css("visibility","hidden"),y},update:function(y,A){s&&!g.forcePlaceholderSize||(A.height()&&(!g.forcePlaceholderSize||"tbody"!==l&&"tr"!==l)||A.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),A.width()||A.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=r(g.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),g.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,s){var l=this;e.children().each(function(){r("<td>&#160;</td>",l.document[0]).attr("colspan",r(this).attr("colspan")||1).appendTo(s)})},_contactContainers:function(e){for(var s,l,g,y,A,N,j,X,ht,ut=null,ot=null,yt=this.containers.length-1;0<=yt;yt--)r.contains(this.currentItem[0],this.containers[yt].element[0])||(this._intersectsWith(this.containers[yt].containerCache)?ut&&r.contains(this.containers[yt].element[0],ut.element[0])||(ut=this.containers[yt],ot=yt):this.containers[yt].containerCache.over&&(this.containers[yt]._trigger("out",e,this._uiHash(this)),this.containers[yt].containerCache.over=0));if(ut)if(1===this.containers.length)this.containers[ot].containerCache.over||(this.containers[ot]._trigger("over",e,this._uiHash(this)),this.containers[ot].containerCache.over=1);else{for(l=1e4,g=null,y=(X=ut.floating||this._isFloating(this.currentItem))?"left":"top",A=X?"width":"height",ht=X?"pageX":"pageY",s=this.items.length-1;0<=s;s--)r.contains(this.containers[ot].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(N=this.items[s].item.offset()[y],j=!1,e[ht]-N>this.items[s][A]/2&&(j=!0),Math.abs(e[ht]-N)<l&&(l=Math.abs(e[ht]-N),g=this.items[s],this.direction=j?"up":"down"));(g||this.options.dropOnEmpty)&&(this.currentContainer!==this.containers[ot]?(g?this._rearrange(e,g,null,!0):this._rearrange(e,null,this.containers[ot].element,!0),this._trigger("change",e,this._uiHash()),this.containers[ot]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[ot],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[ot]._trigger("over",e,this._uiHash(this)),this.containers[ot].containerCache.over=1):this.currentContainer.containerCache.over||(this.containers[ot]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1))}},_createHelper:function(l){var s=this.options;return(l="function"==typeof s.helper?r(s.helper.apply(this.element[0],[l,this.currentItem])):"clone"===s.helper?this.currentItem.clone():this.currentItem).parents("body").length||this.appendTo[0].appendChild(l[0]),l[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),l[0].style.width&&!s.forceHelperSize||l.width(this.currentItem.width()),l[0].style.height&&!s.forceHelperSize||l.height(this.currentItem.height()),l},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=Array.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&r.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&r.ui.ie?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,s,l=this.options;"parent"===l.containment&&(l.containment=this.helper[0].parentNode),"document"!==l.containment&&"window"!==l.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===l.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===l.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(l.containment)||(e=r(l.containment)[0],s=r(l.containment).offset(),l="hidden"!==r(e).css("overflow"),this.containment=[s.left+(parseInt(r(e).css("borderLeftWidth"),10)||0)+(parseInt(r(e).css("paddingLeft"),10)||0)-this.margins.left,s.top+(parseInt(r(e).css("borderTopWidth"),10)||0)+(parseInt(r(e).css("paddingTop"),10)||0)-this.margins.top,s.left+(l?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(r(e).css("borderLeftWidth"),10)||0)-(parseInt(r(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,s.top+(l?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(r(e).css("borderTopWidth"),10)||0)-(parseInt(r(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(y,s){s=s||this.position;var l="absolute"===y?1:-1,g="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&r.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return y=/(html|body)/i.test(g[0].tagName),{top:s.top+this.offset.relative.top*l+this.offset.parent.top*l-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():y?0:g.scrollTop())*l,left:s.left+this.offset.relative.left*l+this.offset.parent.left*l-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():y?0:g.scrollLeft())*l}},_generatePosition:function(e){var s=this.options,l=e.pageX,g=e.pageY,y="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&r.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,A=/(html|body)/i.test(y[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(l=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(l=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),s.grid&&(e=this.originalPageY+Math.round((g-this.originalPageY)/s.grid[1])*s.grid[1],g=!this.containment||e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-s.grid[1]:e+s.grid[1],e=this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0],l=!this.containment||e-this.offset.click.left>=this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-s.grid[0]:e+s.grid[0])),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():A?0:y.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():A?0:y.scrollLeft())}},_rearrange:function(e,s,l,g){l?l[0].appendChild(this.placeholder[0]):s.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?s.item[0]:s.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var y=this.counter;this._delay(function(){y===this.counter&&this.refreshPositions(!g)})},_clear:function(e,s){this.reverting=!1;var l,g=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(l in this._storedCSS)"auto"!==this._storedCSS[l]&&"static"!==this._storedCSS[l]||(this._storedCSS[l]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function y(A,N,j){return function(X){j._trigger(A,X,N._uiHash(N))}}for(this.fromOutside&&!s&&g.push(function(A){this._trigger("receive",A,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||s||g.push(function(A){this._trigger("update",A,this._uiHash())}),this!==this.currentContainer&&(s||(g.push(function(A){this._trigger("remove",A,this._uiHash())}),g.push(function(A){return function(N){A._trigger("receive",N,this._uiHash(this))}}.call(this,this.currentContainer)),g.push(function(A){return function(N){A._trigger("update",N,this._uiHash(this))}}.call(this,this.currentContainer)))),l=this.containers.length-1;0<=l;l--)s||g.push(y("deactivate",this,this.containers[l])),this.containers[l].containerCache.over&&(g.push(y("out",this,this.containers[l])),this.containers[l].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,s||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!s){for(l=0;l<g.length;l++)g[l].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===r.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var s=e||this;return{helper:s.helper,placeholder:s.placeholder||r([]),position:s.position,originalPosition:s.originalPosition,offset:s.positionAbs,item:s.currentItem,sender:e?e.element:null}}}),r.widget("ui.spinner",{version:"1.13.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),s=this.element;return r.each(["min","max","step"],function(l,g){var y=s.attr(g);null!=y&&y.length&&(e[g]=y)}),e},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,s){var l=r.ui.safeActiveElement(this.document[0]);if(this.element[0]===l&&s){if(!this.spinning&&!this._start(e))return!1;this._spin((0<s?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){var s;function l(){this.element[0]===r.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s}))}s=this.element[0]===r.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),l.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,l.call(this)}),!1!==this._start(e)&&this._repeat(null,r(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(r(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,r(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var s=this.options,l=r.ui.keyCode;switch(e.keyCode){case l.UP:return this._repeat(null,1,e),!0;case l.DOWN:return this._repeat(null,-1,e),!0;case l.PAGE_UP:return this._repeat(null,s.page,e),!0;case l.PAGE_DOWN:return this._repeat(null,-s.page,e),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(e,s,l){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,s,l)},e),this._spin(s*this.options.step,l)},_spin:function(e,s){var l=this.value()||0;this.counter||(this.counter=1),l=this._adjustValue(l+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",s,{value:l})||(this._value(l),this.counter++)},_increment:function(e){var s=this.options.incremental;return s?"function"==typeof s?s(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min?Math.max(e,this._precisionOf(this.options.min)):e},_precisionOf:function(l){var s=l.toString();return-1===(l=s.indexOf("."))?0:s.length-l-1},_adjustValue:function(e){var s=this.options,l=null!==s.min?s.min:0;return e=l+Math.round((e-l)/s.step)*s.step,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&e<s.min?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,s){var l;if("culture"===e||"numberFormat"===e)return l=this._parse(this.element.val()),this.options[e]=s,void this.element.val(this._format(l));"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof s&&(s=this._parse(s)),"icons"===e&&(l=this.buttons.first().find(".ui-icon"),this._removeClass(l,null,this.options.icons.up),this._addClass(l,null,s.up),l=this.buttons.last().find(".ui-icon"),this._removeClass(l,null,this.options.icons.down),this._addClass(l,null,s.down)),this._super(e,s)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:De(function(e){this._super(e)}),_parse:function(e){return""===(e="string"==typeof e&&""!==e?window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e:e)||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,s){var l;""!==e&&null!==(l=this._parse(e))&&(s||(l=this._adjustValue(l)),e=this._format(l)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:De(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:De(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:De(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:De(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());De(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==r.uiBackCompat&&r.widget("ui.spinner",r.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),r.widget("ui.tabs",{version:"1.13.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(Xt=/#.*$/,function(e){var s=e.href.replace(Xt,""),l=location.href.replace(Xt,"");try{s=decodeURIComponent(s)}catch{}try{l=decodeURIComponent(l)}catch{}return 1<e.hash.length&&s===l}),_create:function(){var e=this,s=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,s.collapsible),this._processTabs(),s.active=this._initialActive(),Array.isArray(s.disabled)&&(s.disabled=r.uniqueSort(s.disabled.concat(r.map(this.tabs.filter(".ui-state-disabled"),function(l){return e.tabs.index(l)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(s.active):r(),this._refresh(),this.active.length&&this.load(s.active)},_initialActive:function(){var e=this.options.active,s=this.options.collapsible,l=location.hash.substring(1);return null===e&&(l&&this.tabs.each(function(g,y){if(r(y).attr("aria-controls")===l)return e=g,!1}),null!==(e=null===e?this.tabs.index(this.tabs.filter(".ui-tabs-active")):e)&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!s&&0),e=!s&&!1===e&&this.anchors.length?0:e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):r()}},_tabKeydown:function(e){var s=r(r.ui.safeActiveElement(this.document[0])).closest("li"),l=this.tabs.index(s),g=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case r.ui.keyCode.RIGHT:case r.ui.keyCode.DOWN:l++;break;case r.ui.keyCode.UP:case r.ui.keyCode.LEFT:g=!1,l--;break;case r.ui.keyCode.END:l=this.anchors.length-1;break;case r.ui.keyCode.HOME:l=0;break;case r.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(l);case r.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(l!==this.options.active&&l);default:return}e.preventDefault(),clearTimeout(this.activating),l=this._focusNextTab(l,g),e.ctrlKey||e.metaKey||(s.attr("aria-selected","false"),this.tabs.eq(l).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",l)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===r.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===r.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===r.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,s){for(var l=this.tabs.length-1;-1!==r.inArray(e=(e=l<e?0:e)<0?l:e,this.options.disabled);)e=s?e+1:e-1;return e},_focusNextTab:function(e,s){return e=this._findNextTab(e,s),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,s){"active"!==e?(this._super(e,s),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,s),s||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(s),"heightStyle"===e&&this._setupHeightStyle(s)):this._activate(s)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,s=this.tablist.children(":has(a[href])");e.disabled=r.map(s.filter(".ui-state-disabled"),function(l){return s.index(l)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!r.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=r()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=r()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,s=this.tabs,l=this.anchors,g=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(y){r(this).is(".ui-state-disabled")&&y.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){r(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return r("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=r(),this.anchors.each(function(y,A){var N,j,X,ht=r(A).uniqueId().attr("id"),ut=r(A).closest("li"),ot=ut.attr("aria-controls");e._isLocal(A)?(X=(N=A.hash).substring(1),j=e.element.find(e._sanitizeSelector(N))):(X=ut.attr("aria-controls")||r({}).uniqueId()[0].id,(j=e.element.find(N="#"+X)).length||(j=e._createPanel(X)).insertAfter(e.panels[y-1]||e.tablist),j.attr("aria-live","polite")),j.length&&(e.panels=e.panels.add(j)),ot&&ut.data("ui-tabs-aria-controls",ot),ut.attr({"aria-controls":X,"aria-labelledby":ht}),j.attr("aria-labelledby",ht)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),s&&(this._off(s.not(this.tabs)),this._off(l.not(this.anchors)),this._off(g.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return r("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var s,l;for(Array.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),l=0;s=this.tabs[l];l++)s=r(s),!0===e||-1!==r.inArray(l,e)?(s.attr("aria-disabled","true"),this._addClass(s,null,"ui-state-disabled")):(s.removeAttr("aria-disabled"),this._removeClass(s,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var s={};e&&r.each(e.split(" "),function(l,g){s[g]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(l){l.preventDefault()}}),this._on(this.anchors,s),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var s,l=this.element.parent();"fill"===e?(s=l.height(),s-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var g=r(this),y=g.css("position");"absolute"!==y&&"fixed"!==y&&(s-=g.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){s-=r(this).outerHeight(!0)}),this.panels.each(function(){r(this).height(Math.max(0,s-r(this).innerHeight()+r(this).height()))}).css("overflow","auto")):"auto"===e&&(s=0,this.panels.each(function(){s=Math.max(s,r(this).height("").height())}).height(s))},_eventHandler:function(e){var s=this.options,j=this.active,l=r(e.currentTarget).closest("li"),g=l[0]===j[0],y=g&&s.collapsible,A=y?r():this._getPanelForTab(l),N=j.length?this._getPanelForTab(j):r();j={oldTab:j,oldPanel:N,newTab:y?r():l,newPanel:A},e.preventDefault(),l.hasClass("ui-state-disabled")||l.hasClass("ui-tabs-loading")||this.running||g&&!s.collapsible||!1===this._trigger("beforeActivate",e,j)||(s.active=!y&&this.tabs.index(l),this.active=g?r():l,this.xhr&&this.xhr.abort(),N.length||A.length||r.error("jQuery UI Tabs: Mismatching fragment identifier."),A.length&&this.load(this.tabs.index(l),e),this._toggle(e,j))},_toggle:function(e,s){var l=this,g=s.newPanel,y=s.oldPanel;function A(){l.running=!1,l._trigger("activate",e,s)}function N(){l._addClass(s.newTab.closest("li"),"ui-tabs-active","ui-state-active"),g.length&&l.options.show?l._show(g,l.options.show,A):(g.show(),A())}this.running=!0,y.length&&this.options.hide?this._hide(y,this.options.hide,function(){l._removeClass(s.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),N()}):(this._removeClass(s.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),y.hide(),N()),y.attr("aria-hidden","true"),s.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),g.length&&y.length?s.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===r(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr("aria-hidden","false"),s.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(s){(s=this._findActive(s))[0]!==this.active[0]&&(s=(s=s.length?s:this.active).find(".ui-tabs-anchor")[0],this._eventHandler({target:s,currentTarget:s,preventDefault:r.noop}))},_findActive:function(e){return!1===e?r():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e?this.anchors.index(this.anchors.filter("[href$='"+r.escapeSelector(e)+"']")):e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){r.data(this,"ui-tabs-destroy")?r(this).remove():r(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=r(this),s=e.data("ui-tabs-aria-controls");s?e.attr("aria-controls",s).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var s=this.options.disabled;!1!==s&&(s=void 0!==e&&(e=this._getIndex(e),Array.isArray(s)?r.map(s,function(l){return l!==e?l:null}):r.map(this.tabs,function(l,g){return g!==e?g:null})),this._setOptionDisabled(s))},disable:function(e){var s=this.options.disabled;if(!0!==s){if(void 0===e)s=!0;else{if(e=this._getIndex(e),-1!==r.inArray(e,s))return;s=Array.isArray(s)?r.merge([e],s).sort():[e]}this._setOptionDisabled(s)}},load:function(A,s){function l(X,ht){"abort"===ht&&g.panels.stop(!1,!0),g._removeClass(y,"ui-tabs-loading"),N.removeAttr("aria-busy"),X===g.xhr&&delete g.xhr}A=this._getIndex(A);var g=this,y=this.tabs.eq(A),N=(A=y.find(".ui-tabs-anchor"),this._getPanelForTab(y)),j={tab:y,panel:N};this._isLocal(A[0])||(this.xhr=r.ajax(this._ajaxSettings(A,s,j)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(y,"ui-tabs-loading"),N.attr("aria-busy","true"),this.xhr.done(function(X,ht,ut){setTimeout(function(){N.html(X),g._trigger("load",s,j),l(ut,ht)},1)}).fail(function(X,ht){setTimeout(function(){l(X,ht)},1)})))},_ajaxSettings:function(e,s,l){var g=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(y,A){return g._trigger("beforeLoad",s,r.extend({jqXHR:y,ajaxSettings:A},l))}}},_getPanelForTab:function(e){return e=r(e).attr("aria-controls"),this.element.find(this._sanitizeSelector("#"+e))}}),!1!==r.uiBackCompat&&r.widget("ui.tabs",r.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),r.widget("ui.tooltip",{version:"1.13.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=r(this).attr("title");return r("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,s){var l=(e.attr("aria-describedby")||"").split(/\s+/);l.push(s),e.data("ui-tooltip-id",s).attr("aria-describedby",String.prototype.trim.call(l.join(" ")))},_removeDescribedBy:function(e){var l=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/);-1!==(l=r.inArray(l,s))&&s.splice(l,1),e.removeData("ui-tooltip-id"),(s=String.prototype.trim.call(s.join(" ")))?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=r("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=r([])},_setOption:function(e,s){var l=this;this._super(e,s),"content"===e&&r.each(this.tooltips,function(g,y){l._updateContent(y.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var e=this;r.each(this.tooltips,function(s,l){var g=r.Event("blur");g.target=g.currentTarget=l.element[0],e.close(g,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var s=r(this);if(s.is("[title]"))return s.data("ui-tooltip-title",s.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=r(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=r([])},open:function(e){var s=this,l=r(e?e.target:this.element).closest(this.options.items);l.length&&!l.data("ui-tooltip-id")&&(l.attr("title")&&l.data("ui-tooltip-title",l.attr("title")),l.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&l.parents().each(function(){var g,y=r(this);y.data("ui-tooltip-open")&&((g=r.Event("blur")).target=g.currentTarget=this,s.close(g,!0)),y.attr("title")&&(y.uniqueId(),s.parents[this.id]={element:this,title:y.attr("title")},y.attr("title",""))}),this._registerCloseHandlers(e,l),this._updateContent(l,e))},_updateContent:function(e,s){var l=this.options.content,g=this,y=s?s.type:null;if("string"==typeof l||l.nodeType||l.jquery)return this._open(s,e,l);(l=l.call(e[0],function(A){g._delay(function(){e.data("ui-tooltip-open")&&(s&&(s.type=y),this._open(s,e,A))})}))&&this._open(s,e,l)},_open:function(e,s,l){var g,y,A,N=r.extend({},this.options.position);function j(X){N.of=X,y.is(":hidden")||y.position(N)}l&&((g=this._find(s))?g.tooltip.find(".ui-tooltip-content").html(l):(s.is("[title]")&&(e&&"mouseover"===e.type?s.attr("title",""):s.removeAttr("title")),g=this._tooltip(s),this._addDescribedBy(s,(y=g.tooltip).attr("id")),y.find(".ui-tooltip-content").html(l),this.liveRegion.children().hide(),(l=r("<div>").html(y.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:j}),j(e)):y.position(r.extend({of:s},this.options.position)),y.hide(),this._show(y,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(A=this.delayedShow=setInterval(function(){y.is(":visible")&&(j(N.of),clearInterval(A))},13)),this._trigger("open",e,{tooltip:y})))},_registerCloseHandlers:function(e,s){var l={keyup:function(g){g.keyCode===r.ui.keyCode.ESCAPE&&((g=r.Event(g)).currentTarget=s[0],this.close(g,!0))}};s[0]!==this.element[0]&&(l.remove=function(){var g=this._find(s);g&&this._removeTooltip(g.tooltip)}),e&&"mouseover"!==e.type||(l.mouseleave="close"),e&&"focusin"!==e.type||(l.focusout="close"),this._on(!0,s,l)},close:function(e){var s,l=this,g=r(e?e.currentTarget:this.element),y=this._find(g);y?(s=y.tooltip,y.closing||(clearInterval(this.delayedShow),g.data("ui-tooltip-title")&&!g.attr("title")&&g.attr("title",g.data("ui-tooltip-title")),this._removeDescribedBy(g),y.hiding=!0,s.stop(!0),this._hide(s,this.options.hide,function(){l._removeTooltip(r(this))}),g.removeData("ui-tooltip-open"),this._off(g,"mouseleave focusout keyup"),g[0]!==this.element[0]&&this._off(g,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&r.each(this.parents,function(A,N){r(N.element).attr("title",N.title),delete l.parents[A]}),y.closing=!0,this._trigger("close",e,{tooltip:s}),y.hiding||(y.closing=!1))):g.removeData("ui-tooltip-open")},_tooltip:function(e){var s=r("<div>").attr("role","tooltip"),l=r("<div>").appendTo(s),g=s.uniqueId().attr("id");return this._addClass(l,"ui-tooltip-content"),this._addClass(s,"ui-tooltip","ui-widget ui-widget-content"),s.appendTo(this._appendTo(e)),this.tooltips[g]={element:e,tooltip:s}},_find:function(e){return(e=e.data("ui-tooltip-id"))?this.tooltips[e]:null},_removeTooltip:function(e){clearInterval(this.delayedShow),e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){return(e=e.closest(".ui-front, dialog")).length?e:this.document[0].body},_destroy:function(){var e=this;r.each(this.tooltips,function(s,y){var g=r.Event("blur");g.target=g.currentTarget=(y=y.element)[0],e.close(g,!0),r("#"+s).remove(),y.data("ui-tooltip-title")&&(y.attr("title")||y.attr("title",y.data("ui-tooltip-title")),y.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==r.uiBackCompat&&r.widget("ui.tooltip",r.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}})}),function(){var Tt,Ht=[].indexOf||function(Tt){for(var We=0,Ye=this.length;We<Ye;We++)if(We in this&&this[We]===Tt)return We;return-1},bn=[].slice,xn=function(Tt,We){return function(){return Tt.apply(We,arguments)}},pe={}.hasOwnProperty;Tt=function(Tt){var We,Ye,Oe,on,Rn,mn,ke,le,ce,hn,ee,qe,ye,Re,Q,E,oe,_e,Ue,pn,se,et;return Ye=function(et,nt,n){var o,h,f,w;for(f=(h=(et+="").split("."))[0],w=h.length>1?n+h[1]:"",o=/(\d+)(\d{3})/;o.test(f);)f=f.replace(o,"$1"+nt+"$2");return f+w},ee=function(et){return et=Tt.extend({},{digitsAfterDecimal:2,scaler:1,thousandsSep:",",decimalSep:".",prefix:"",suffix:""},et),function(n){var o;return isNaN(n)||!isFinite(n)?"":(o=Ye((et.scaler*n).toFixed(et.digitsAfterDecimal),et.thousandsSep,et.decimalSep),""+et.prefix+o+et.suffix)}},_e=ee(),Ue=ee({digitsAfterDecimal:0}),pn=ee({digitsAfterDecimal:1,scaler:100,suffix:"%"}),Oe={count:function(et){return null==et&&(et=Ue),function(){return function(nt,n,o){return{count:0,push:function(){return this.count++},value:function(){return this.count},format:et}}}},uniques:function(et,nt){return null==nt&&(nt=Ue),function(n){var o;return o=n[0],function(h,f,w){return{uniq:[],push:function(C){if(Ht.call(this.uniq,C[o])<0)return this.uniq.push(C[o])},value:function(){return et(this.uniq)},format:nt,numInputs:null!=o?0:1}}}},sum:function(et){return null==et&&(et=_e),function(nt){var n;return n=nt[0],function(o,h,f){return{sum:0,push:function(w){if(!isNaN(parseFloat(w[n])))return this.sum+=parseFloat(w[n])},value:function(){return this.sum},format:et,numInputs:null!=n?0:1}}}},extremes:function(et,nt){return null==nt&&(nt=_e),function(n){var o;return o=n[0],function(h,f,w){return{val:null,sorter:ke(h?.sorters,o),push:function(C){var L,M,G,F;if(F=C[o],"min"!==et&&"max"!==et||(F=parseFloat(F),isNaN(F)||(this.val=Math[et](F,null!=(L=this.val)?L:F))),"first"===et&&this.sorter(F,null!=(M=this.val)?M:F)<=0&&(this.val=F),"last"===et&&this.sorter(F,null!=(G=this.val)?G:F)>=0)return this.val=F},value:function(){return this.val},format:function(C){return isNaN(C)?C:nt(C)},numInputs:null!=o?0:1}}}},quantile:function(et,nt){return null==nt&&(nt=_e),function(n){var o;return o=n[0],function(h,f,w){return{vals:[],push:function(C){var L;if(L=parseFloat(C[o]),!isNaN(L))return this.vals.push(L)},value:function(){var C;return 0===this.vals.length?null:(this.vals.sort(function(L,M){return L-M}),C=(this.vals.length-1)*et,(this.vals[Math.floor(C)]+this.vals[Math.ceil(C)])/2)},format:nt,numInputs:null!=o?0:1}}}},runningStat:function(et,nt,n){return null==et&&(et="mean"),null==nt&&(nt=1),null==n&&(n=_e),function(o){var h;return h=o[0],function(f,w,C){return{n:0,m:0,s:0,push:function(L){var M,G;if(G=parseFloat(L[h]),!isNaN(G))return this.n+=1,1===this.n?this.m=G:(this.s=this.s+(G-this.m)*(G-(M=this.m+(G-this.m)/this.n)),this.m=M)},value:function(){if("mean"===et)return 0===this.n?NaN:this.m;if(this.n<=nt)return 0;switch(et){case"var":return this.s/(this.n-nt);case"stdev":return Math.sqrt(this.s/(this.n-nt))}},format:n,numInputs:null!=h?0:1}}}},sumOverSum:function(et){return null==et&&(et=_e),function(nt){var n,o;return o=nt[0],n=nt[1],function(h,f,w){return{sumNum:0,sumDenom:0,push:function(C){if(isNaN(parseFloat(C[o]))||(this.sumNum+=parseFloat(C[o])),!isNaN(parseFloat(C[n])))return this.sumDenom+=parseFloat(C[n])},value:function(){return this.sumNum/this.sumDenom},format:et,numInputs:null!=o&&null!=n?0:2}}}},sumOverSumBound80:function(et,nt){return null==et&&(et=!0),null==nt&&(nt=_e),function(n){var o,h;return h=n[0],o=n[1],function(f,w,C){return{sumNum:0,sumDenom:0,push:function(L){if(isNaN(parseFloat(L[h]))||(this.sumNum+=parseFloat(L[h])),!isNaN(parseFloat(L[o])))return this.sumDenom+=parseFloat(L[o])},value:function(){return(.821187207574908/this.sumDenom+this.sumNum/this.sumDenom+1.2815515655446004*(et?1:-1)*Math.sqrt(.410593603787454/(this.sumDenom*this.sumDenom)+this.sumNum*(1-this.sumNum/this.sumDenom)/(this.sumDenom*this.sumDenom)))/(1+1.642374415149816/this.sumDenom)},format:nt,numInputs:null!=h&&null!=o?0:2}}}},fractionOf:function(et,nt,n){return null==nt&&(nt="total"),null==n&&(n=pn),function(){var o;return o=1<=arguments.length?bn.call(arguments,0):[],function(h,f,w){return{selector:{total:[[],[]],row:[f,[]],col:[[],w]}[nt],inner:et.apply(null,o)(h,f,w),push:function(C){return this.inner.push(C)},format:n,value:function(){return this.inner.value()/h.getAggregator.apply(h,this.selector).inner.value()},numInputs:et.apply(null,o)().numInputs}}}}},Oe.countUnique=function(et){return Oe.uniques(function(nt){return nt.length},et)},Oe.listUnique=function(et){return Oe.uniques(function(nt){return nt.sort(hn).join(et)},function(nt){return nt})},Oe.max=function(et){return Oe.extremes("max",et)},Oe.min=function(et){return Oe.extremes("min",et)},Oe.first=function(et){return Oe.extremes("first",et)},Oe.last=function(et){return Oe.extremes("last",et)},Oe.median=function(et){return Oe.quantile(.5,et)},Oe.average=function(et){return Oe.runningStat("mean",1,et)},Oe.var=function(et,nt){return Oe.runningStat("var",et,nt)},Oe.stdev=function(et,nt){return Oe.runningStat("stdev",et,nt)},on={Count:(et=Oe).count(Ue),"Count Unique Values":et.countUnique(Ue),"List Unique Values":et.listUnique(", "),Sum:et.sum(_e),"Integer Sum":et.sum(Ue),Average:et.average(_e),Median:et.median(_e),"Sample Variance":et.var(1,_e),"Sample Standard Deviation":et.stdev(1,_e),Minimum:et.min(_e),Maximum:et.max(_e),First:et.first(_e),Last:et.last(_e),"Sum over Sum":et.sumOverSum(_e),"80% Upper Bound":et.sumOverSumBound80(!0,_e),"80% Lower Bound":et.sumOverSumBound80(!1,_e),"Sum as Fraction of Total":et.fractionOf(et.sum(),"total",pn),"Sum as Fraction of Rows":et.fractionOf(et.sum(),"row",pn),"Sum as Fraction of Columns":et.fractionOf(et.sum(),"col",pn),"Count as Fraction of Total":et.fractionOf(et.count(),"total",pn),"Count as Fraction of Rows":et.fractionOf(et.count(),"row",pn),"Count as Fraction of Columns":et.fractionOf(et.count(),"col",pn)},Re={Table:function(et,nt){return qe(et,nt)},"Table Barchart":function(et,nt){return Tt(qe(et,nt)).barchart()},Heatmap:function(et,nt){return Tt(qe(et,nt)).heatmap("heatmap",nt)},"Row Heatmap":function(et,nt){return Tt(qe(et,nt)).heatmap("rowheatmap",nt)},"Col Heatmap":function(et,nt){return Tt(qe(et,nt)).heatmap("colheatmap",nt)}},le={en:{aggregators:on,renderers:Re,localeStrings:{renderError:"An error occurred rendering the PivotTable results.",computeError:"An error occurred computing the PivotTable results.",uiRenderError:"An error occurred rendering the PivotTable UI.",selectAll:"Select All",selectNone:"Select None",tooMany:"(too many to list)",filterResults:"Filter values",apply:"Apply",cancel:"Cancel",totals:"Totals",vs:"vs",by:"by"}}},ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Rn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],se=function(et){return("0"+et).substr(-2,2)},mn={bin:function(et,nt){return function(n){return n[et]-n[et]%nt}},dateFormat:function(et,nt,n,o,h){var f;return null==n&&(n=!1),null==o&&(o=ce),null==h&&(h=Rn),f=n?"UTC":"",function(w){var C;return C=new Date(Date.parse(w[et])),isNaN(C)?"":nt.replace(/%(.)/g,function(L,M){switch(M){case"y":return C["get"+f+"FullYear"]();case"m":return se(C["get"+f+"Month"]()+1);case"n":return o[C["get"+f+"Month"]()];case"d":return se(C["get"+f+"Date"]());case"w":return h[C["get"+f+"Day"]()];case"x":return C["get"+f+"Day"]();case"H":return se(C["get"+f+"Hours"]());case"M":return se(C["get"+f+"Minutes"]());case"S":return se(C["get"+f+"Seconds"]());default:return"%"+M}})}}},Q=/(\d+)|(\D+)/g,ye=/\d/,E=/^0/,hn=function(nt,n){var o,h,f,w,C,L;if(null!=n&&null==nt)return-1;if(null!=nt&&null==n)return 1;if("number"==typeof nt&&isNaN(nt))return-1;if("number"==typeof n&&isNaN(n))return 1;if((C=+nt)<(L=+n))return-1;if(C>L)return 1;if("number"==typeof nt&&"number"!=typeof n)return-1;if("number"==typeof n&&"number"!=typeof nt)return 1;if("number"==typeof nt&&"number"==typeof n)return 0;if(isNaN(L)&&!isNaN(C))return-1;if(isNaN(C)&&!isNaN(L))return 1;if((o=String(nt))===(f=String(n)))return 0;if(!ye.test(o)||!ye.test(f))return o>f?1:-1;for(o=o.match(Q),f=f.match(Q);o.length&&f.length;)if((h=o.shift())!==(w=f.shift()))return ye.test(h)&&ye.test(w)?h.replace(E,".0")-w.replace(E,".0"):h>w?1:-1;return o.length-f.length},oe=function(et){var nt,n,o,h;for(nt in o={},n={},et)o[h=et[nt]]=nt,"string"==typeof h&&(n[h.toLowerCase()]=nt);return function(f,w){return null!=o[f]&&null!=o[w]?o[f]-o[w]:null!=o[f]?-1:null!=o[w]?1:null!=n[f]&&null!=n[w]?n[f]-n[w]:null!=n[f]?-1:null!=n[w]?1:hn(f,w)}},ke=function(et,nt){var n;if(null!=et)if(Tt.isFunction(et)){if(n=et(nt),Tt.isFunction(n))return n}else if(null!=et[nt])return et[nt];return hn},We=function(){function et(nt,n){var o,h,f,w,C,L,M,G,F,V,tt;null==n&&(n={}),this.getAggregator=xn(this.getAggregator,this),this.getRowKeys=xn(this.getRowKeys,this),this.getColKeys=xn(this.getColKeys,this),this.sortKeys=xn(this.sortKeys,this),this.arrSort=xn(this.arrSort,this),this.input=nt,this.aggregator=null!=(o=n.aggregator)?o:Oe.count()(),this.aggregatorName=null!=(h=n.aggregatorName)?h:"Count",this.colAttrs=null!=(f=n.cols)?f:[],this.rowAttrs=null!=(w=n.rows)?w:[],this.valAttrs=null!=(C=n.vals)?C:[],this.sorters=null!=(L=n.sorters)?L:{},this.rowOrder=null!=(M=n.rowOrder)?M:"key_a_to_z",this.colOrder=null!=(G=n.colOrder)?G:"key_a_to_z",this.derivedAttributes=null!=(F=n.derivedAttributes)?F:{},this.filter=null!=(V=n.filter)?V:function(){return!0},this.tree={},this.rowKeys=[],this.colKeys=[],this.rowTotals={},this.colTotals={},this.allTotal=this.aggregator(this,[],[]),this.sorted=!1,et.forEachRecord(this.input,this.derivedAttributes,(tt=this,function(dt){if(tt.filter(dt))return tt.processRecord(dt)}))}return et.forEachRecord=function(nt,n,o){var h,f,w,C,M,G,F,V,tt,dt,J;if(h=Tt.isEmptyObject(n)?o:function(mt){var Ct,Mt;for(Ct in n)mt[Ct]=null!=(Mt=(0,n[Ct])(mt))?Mt:mt[Ct];return o(mt)},Tt.isFunction(nt))return nt(h);if(Tt.isArray(nt)){if(Tt.isArray(nt[0])){for(w in tt=[],nt)if(pe.call(nt,w)&&(f=nt[w],w>0)){for(C in F={},V=nt[0])pe.call(V,C)&&(F[V[C]]=f[C]);tt.push(h(F))}return tt}for(dt=[],M=0,G=nt.length;M<G;M++)dt.push(h(F=nt[M]));return dt}if(nt instanceof Tt)return J=[],Tt("thead > tr > th",nt).each(function(mt){return J.push(Tt(this).text())}),Tt("tbody > tr",nt).each(function(mt){return F={},Tt("td",this).each(function(Ct){return F[J[Ct]]=Tt(this).text()}),h(F)});throw new Error("unknown input format")},et.prototype.forEachMatchingRecord=function(nt,n){return et.forEachRecord(this.input,this.derivedAttributes,(o=this,function(h){var f,w;if(o.filter(h)){for(f in nt)if(nt[f]!==(null!=(w=h[f])?w:"null"))return;return n(h)}}));var o},et.prototype.arrSort=function(nt){var o;return o=function(){var h,f,w;for(w=[],h=0,f=nt.length;h<f;h++)w.push(ke(this.sorters,nt[h]));return w}.call(this),function(h,f){var w,C;for(C in o)if(pe.call(o,C)&&0!==(w=(0,o[C])(h[C],f[C])))return w;return 0}},et.prototype.sortKeys=function(){var nt,n;if(!this.sorted){switch(this.sorted=!0,n=this,nt=function(o,h){return n.getAggregator(o,h).value()},this.rowOrder){case"value_a_to_z":this.rowKeys.sort(function(o,h){return hn(nt(o,[]),nt(h,[]))});break;case"value_z_to_a":this.rowKeys.sort(function(o,h){return-hn(nt(o,[]),nt(h,[]))});break;default:this.rowKeys.sort(this.arrSort(this.rowAttrs))}switch(this.colOrder){case"value_a_to_z":return this.colKeys.sort(function(o,h){return hn(nt([],o),nt([],h))});case"value_z_to_a":return this.colKeys.sort(function(o,h){return-hn(nt([],o),nt([],h))});default:return this.colKeys.sort(this.arrSort(this.colAttrs))}}},et.prototype.getColKeys=function(){return this.sortKeys(),this.colKeys},et.prototype.getRowKeys=function(){return this.sortKeys(),this.rowKeys},et.prototype.processRecord=function(nt){var n,o,h,f,w,C,L,M,G,F,V,tt;for(n=[],tt=[],f=0,w=(M=this.colAttrs).length;f<w;f++)n.push(null!=(G=nt[M[f]])?G:"null");for(L=0,C=(F=this.rowAttrs).length;L<C;L++)tt.push(null!=(V=nt[F[L]])?V:"null");if(h=tt.join(String.fromCharCode(0)),o=n.join(String.fromCharCode(0)),this.allTotal.push(nt),0!==tt.length&&(this.rowTotals[h]||(this.rowKeys.push(tt),this.rowTotals[h]=this.aggregator(this,tt,[])),this.rowTotals[h].push(nt)),0!==n.length&&(this.colTotals[o]||(this.colKeys.push(n),this.colTotals[o]=this.aggregator(this,[],n)),this.colTotals[o].push(nt)),0!==n.length&&0!==tt.length)return this.tree[h]||(this.tree[h]={}),this.tree[h][o]||(this.tree[h][o]=this.aggregator(this,tt,n)),this.tree[h][o].push(nt)},et.prototype.getAggregator=function(nt,n){var h,f;return f=nt.join(String.fromCharCode(0)),h=n.join(String.fromCharCode(0)),(0===nt.length&&0===n.length?this.allTotal:0===nt.length?this.colTotals[h]:0===n.length?this.rowTotals[f]:this.tree[f][h])??{value:function(){return null},format:function(){return""}}},et}(),Tt.pivotUtilities={aggregatorTemplates:Oe,aggregators:on,renderers:Re,derivers:mn,locales:le,naturalSort:hn,numberFormat:ee,sortAs:oe,PivotData:We},qe=function(et,nt){var n,o,h,f,w,L,M,G,F,V,tt,dt,J,mt,Ct,Mt,at,re,Dt,At,Ut,he,Zt;for(G in nt=Tt.extend(!0,{},{table:{clickCallback:null,rowTotals:!0,colTotals:!0},localeStrings:{totals:"Totals"}},nt),h=et.colAttrs,tt=et.rowAttrs,J=et.getRowKeys(),w=et.getColKeys(),nt.table.clickCallback&&(L=function(Ft,$t,Yt){var Bt,Le,be;for(be in Le={},h)pe.call(h,be)&&(Bt=h[be],null!=Yt[be]&&(Le[Bt]=Yt[be]));for(be in tt)pe.call(tt,be)&&(Bt=tt[be],null!=$t[be]&&(Le[Bt]=$t[be]));return function(gn){return nt.table.clickCallback(gn,Ft,Le,et)}}),(V=document.createElement("table")).className="pvtTable",mt=function(Ft,$t,Yt){var Bt,Le,be,gn,nn,Pe,Me,De;if(0!==$t){for(gn=!0,De=Bt=0,nn=Yt;0<=nn?Bt<=nn:Bt>=nn;De=0<=nn?++Bt:--Bt)Ft[$t-1][De]!==Ft[$t][De]&&(gn=!1);if(gn)return-1}for(Le=0;$t+Le<Ft.length;){for(Me=!1,De=be=0,Pe=Yt;0<=Pe?be<=Pe:be>=Pe;De=0<=Pe?++be:--be)Ft[$t][De]!==Ft[$t+Le][De]&&(Me=!0);if(Me)break;Le++}return Le},re=document.createElement("thead"),h)if(pe.call(h,G)){for(M in o=h[G],At=document.createElement("tr"),0===parseInt(G)&&0!==tt.length&&((at=document.createElement("th")).setAttribute("colspan",tt.length),at.setAttribute("rowspan",h.length),At.appendChild(at)),(at=document.createElement("th")).className="pvtAxisLabel",at.textContent=o,At.appendChild(at),w)pe.call(w,M)&&(f=w[M],-1!==(Zt=mt(w,parseInt(M),parseInt(G)))&&((at=document.createElement("th")).className="pvtColLabel",at.textContent=f[G],at.setAttribute("colspan",Zt),parseInt(G)===h.length-1&&0!==tt.length&&at.setAttribute("rowspan",2),At.appendChild(at)));0===parseInt(G)&&nt.table.rowTotals&&((at=document.createElement("th")).className="pvtTotalLabel pvtRowTotalLabel",at.innerHTML=nt.localeStrings.totals,at.setAttribute("rowspan",h.length+(0===tt.length?0:1)),At.appendChild(at)),re.appendChild(At)}if(0!==tt.length){for(M in At=document.createElement("tr"),tt)pe.call(tt,M)&&(F=tt[M],(at=document.createElement("th")).className="pvtAxisLabel",at.textContent=F,At.appendChild(at));at=document.createElement("th"),0===h.length&&(at.className="pvtTotalLabel pvtRowTotalLabel",at.innerHTML=nt.localeStrings.totals),At.appendChild(at),re.appendChild(At)}for(M in V.appendChild(re),Ct=document.createElement("tbody"),J)if(pe.call(J,M)){for(G in dt=J[M],At=document.createElement("tr"),dt)pe.call(dt,G)&&(Ut=dt[G],-1!==(Zt=mt(J,parseInt(M),parseInt(G)))&&((at=document.createElement("th")).className="pvtRowLabel",at.textContent=Ut,at.setAttribute("rowspan",Zt),parseInt(G)===tt.length-1&&0!==h.length&&at.setAttribute("colspan",2),At.appendChild(at)));for(G in w)pe.call(w,G)&&(he=(n=et.getAggregator(dt,f=w[G])).value(),(Mt=document.createElement("td")).className="pvtVal row"+M+" col"+G,Mt.textContent=n.format(he),Mt.setAttribute("data-value",he),null!=L&&(Mt.onclick=L(he,dt,f)),At.appendChild(Mt));(nt.table.rowTotals||0===h.length)&&(he=(Dt=et.getAggregator(dt,[])).value(),(Mt=document.createElement("td")).className="pvtTotal rowTotal",Mt.textContent=Dt.format(he),Mt.setAttribute("data-value",he),null!=L&&(Mt.onclick=L(he,dt,[])),Mt.setAttribute("data-for","row"+M),At.appendChild(Mt)),Ct.appendChild(At)}if(nt.table.colTotals||0===tt.length){for(G in At=document.createElement("tr"),(nt.table.colTotals||0===tt.length)&&((at=document.createElement("th")).className="pvtTotalLabel pvtColTotalLabel",at.innerHTML=nt.localeStrings.totals,at.setAttribute("colspan",tt.length+(0===h.length?0:1)),At.appendChild(at)),w)pe.call(w,G)&&(he=(Dt=et.getAggregator([],f=w[G])).value(),(Mt=document.createElement("td")).className="pvtTotal colTotal",Mt.textContent=Dt.format(he),Mt.setAttribute("data-value",he),null!=L&&(Mt.onclick=L(he,[],f)),Mt.setAttribute("data-for","col"+G),At.appendChild(Mt));(nt.table.rowTotals||0===h.length)&&(he=(Dt=et.getAggregator([],[])).value(),(Mt=document.createElement("td")).className="pvtGrandTotal",Mt.textContent=Dt.format(he),Mt.setAttribute("data-value",he),null!=L&&(Mt.onclick=L(he,[],[])),At.appendChild(Mt)),Ct.appendChild(At)}return V.appendChild(Ct),V.setAttribute("data-numrows",J.length),V.setAttribute("data-numcols",w.length),V},Tt.fn.pivot=function(et,nt,n){var o,h,w,C,L,M,G;null==n&&(n="en"),null==le[n]&&(n="en"),o={cols:[],rows:[],vals:[],rowOrder:"key_a_to_z",colOrder:"key_a_to_z",dataClass:We,filter:function(){return!0},aggregator:Oe.count()(),aggregatorName:"Count",sorters:{},derivedAttributes:{},renderer:qe},w=Tt.extend(!0,{},le.en.localeStrings,le[n].localeStrings),C=Tt.extend(!0,{},{rendererOptions:{localeStrings:w},localeStrings:w},Tt.extend({},o,nt)),M=null;try{L=new C.dataClass(et,C);try{M=C.renderer(L,C.rendererOptions)}catch(F){h=F,typeof console<"u"&&null!==console&&console.error(h.stack),M=Tt("<span>").html(C.localeStrings.renderError)}}catch(F){h=F,typeof console<"u"&&null!==console&&console.error(h.stack),M=Tt("<span>").html(C.localeStrings.computeError)}for(G=this[0];G.hasChildNodes();)G.removeChild(G.lastChild);return this.append(M)},Tt.fn.pivotUI=function(et,nt,n,o){var h,f,w,C,L,M,G,F,V,tt,dt,J,mt,Ct,Mt,at,re,Dt,At,Ut,he,Zt,Ft,$t,Yt,Bt,Le,be,gn,nn,Pe,Me,De,Xt,e,s,l,g,y,A,N,j,X,ht,ut,ot;null==n&&(n=!1),null==o&&(o="en"),null==le[o]&&(o="en"),F={derivedAttributes:{},aggregators:le[o].aggregators,renderers:le[o].renderers,hiddenAttributes:[],hiddenFromAggregators:[],hiddenFromDragDrop:[],menuLimit:500,cols:[],rows:[],vals:[],rowOrder:"key_a_to_z",colOrder:"key_a_to_z",dataClass:We,exclusions:{},inclusions:{},unusedAttrsVertical:85,autoSortUnusedAttrs:!1,onRefresh:null,showUI:!0,filter:function(){return!0},sorters:{}},Dt={rendererOptions:{localeStrings:At=Tt.extend(!0,{},le.en.localeStrings,le[o].localeStrings)},localeStrings:At},tt=this.data("pivotUIOptions"),Ft=null==tt||n?Tt.extend(!0,{},Dt,Tt.extend({},F,nt)):tt;try{for(ut in L={},Ut=[],Bt=0,We.forEachRecord(et,Ft.derivedAttributes,function(ot){var yt,It,qt,jt;if(Ft.filter(ot)){for(yt in Ut.push(ot),ot)pe.call(ot,yt)&&null==L[yt]&&(L[yt]={},Bt>0&&(L[yt].null=Bt));for(yt in L)jt=null!=(qt=ot[yt])?qt:"null",null==(It=L[yt])[jt]&&(It[jt]=0),L[yt][jt]++;return Bt++}}),N=Tt("<table>",{class:"pvtUi"}).attr("cellpadding",5),Xt=Tt("<td>").addClass("pvtUiCell"),De=Tt("<select>").addClass("pvtRenderer").appendTo(Xt).bind("change",function(){return Pe()}),Le=Ft.renderers)pe.call(Le,ut)&&Tt("<option>").val(ut).html(ut).appendTo(De);if(j=Tt("<td>").addClass("pvtAxisContainer pvtUnused pvtUiCell"),s=function(){var ot;for(h in ot=[],L)Ht.call(Ft.hiddenAttributes,h)<0&&ot.push(h);return ot}(),l=function(){var ot,yt,It;for(It=[],ot=0,yt=s.length;ot<yt;ot++)Ht.call(Ft.hiddenFromAggregators,M=s[ot])<0&&It.push(M);return It}(),g=function(){var ot,yt,It;for(It=[],ot=0,yt=s.length;ot<yt;ot++)Ht.call(Ft.hiddenFromDragDrop,M=s[ot])<0&&It.push(M);return It}(),ht=!1,X="auto"===Ft.unusedAttrsVertical?120:parseInt(Ft.unusedAttrsVertical),!isNaN(X)){for(C=0,Ct=0,Mt=g.length;Ct<Mt;Ct++)C+=(h=g[Ct]).length;ht=C>X}for(J in j.addClass(!0===Ft.unusedAttrsVertical||ht?"pvtVertList":"pvtHorizList"),dt=function(ot){var yt,It,qt,jt,Vt,ze,ge,vn,He,de,me,dn,Nn,tn,Ke,Ie,sn,je,Bn;if(Bn=function(){var In;for(Ke in In=[],L[ot])In.push(Ke);return In}(),vn=!1,(je=Tt("<div>").addClass("pvtFilterBox").hide()).append(Tt("<h4>").append(Tt("<span>").text(ot),Tt("<span>").addClass("count").text("("+Bn.length+")"))),Bn.length>Ft.menuLimit)je.append(Tt("<p>").html(Ft.localeStrings.tooMany));else for(Bn.length>5&&(jt=Tt("<p>").appendTo(je),Nn=ke(Ft.sorters,ot),me=Ft.localeStrings.filterResults,Tt("<input>",{type:"text"}).appendTo(jt).attr({placeholder:me,class:"pvtSearch"}).bind("keyup",function(){var In,qn,Cn;return Cn=Tt(this).val().toLowerCase().trim(),qn=function(Mn,or){return function(er){var Ci,oi;return 0===(Ci=Cn.substring(Mn.length).trim()).length||(oi=Math.sign(Nn(er.toLowerCase(),Ci)),Ht.call(or,oi)>=0)}},In=0===Cn.indexOf(">=")?qn(">=",[1,0]):0===Cn.indexOf("<=")?qn("<=",[-1,0]):0===Cn.indexOf(">")?qn(">",[1]):0===Cn.indexOf("<")?qn("<",[-1]):0===Cn.indexOf("~")?function(Mn){return 0===Cn.substring(1).trim().length||Mn.toLowerCase().match(Cn.substring(1))}:function(Mn){return-1!==Mn.toLowerCase().indexOf(Cn)},je.find(".pvtCheckContainer p label span.value").each(function(){return In(Tt(this).text())?Tt(this).parent().parent().show():Tt(this).parent().parent().hide()})}),jt.append(Tt("<br>")),Tt("<button>",{type:"button"}).appendTo(jt).html(Ft.localeStrings.selectAll).bind("click",function(){return je.find("input:visible:not(:checked)").prop("checked",!0).toggleClass("changed"),!1}),Tt("<button>",{type:"button"}).appendTo(jt).html(Ft.localeStrings.selectNone).bind("click",function(){return je.find("input:visible:checked").prop("checked",!1).toggleClass("changed"),!1})),It=Tt("<div>").addClass("pvtCheckContainer").appendTo(je),de=0,He=(dn=Bn.sort(ke(Ft.sorters,ot))).length;de<He;de++)sn=L[ot][Ie=dn[de]],Vt=Tt("<label>"),ze=!1,Ft.inclusions[ot]?ze=Ht.call(Ft.inclusions[ot],Ie)<0:Ft.exclusions[ot]&&(ze=Ht.call(Ft.exclusions[ot],Ie)>=0),vn||(vn=ze),Tt("<input>").attr("type","checkbox").addClass("pvtFilter").attr("checked",!ze).data("filter",[ot,Ie]).appendTo(Vt).bind("change",function(){return Tt(this).toggleClass("changed")}),Vt.append(Tt("<span>").addClass("value").text(Ie)),Vt.append(Tt("<span>").addClass("count").text("("+sn+")")),It.append(Tt("<p>").append(Vt));return qt=function(){return je.find("[type='checkbox']").length>je.find("[type='checkbox']:checked").length?yt.addClass("pvtFilteredAttribute"):yt.removeClass("pvtFilteredAttribute"),je.find(".pvtSearch").val(""),je.find(".pvtCheckContainer p").show(),je.hide()},ge=Tt("<p>").appendTo(je),Bn.length<=Ft.menuLimit&&Tt("<button>",{type:"button"}).text(Ft.localeStrings.apply).appendTo(ge).bind("click",function(){return je.find(".changed").removeClass("changed").length&&Pe(),qt()}),Tt("<button>",{type:"button"}).text(Ft.localeStrings.cancel).appendTo(ge).bind("click",function(){return je.find(".changed:checked").removeClass("changed").prop("checked",!1),je.find(".changed:not(:checked)").removeClass("changed").prop("checked",!0),qt()}),tn=Tt("<span>").addClass("pvtTriangle").html(" &#x25BE;").bind("click",function(In){var Cn;return Cn=Tt(In.currentTarget).position(),je.css({left:Cn.left+10,top:Cn.top+10}).show()}),yt=Tt("<li>").addClass("axis_"+J).append(Tt("<span>").addClass("pvtAttr").text(ot).data("attrName",ot).append(tn)),vn&&yt.addClass("pvtFilteredAttribute"),j.append(yt).append(je)},g)pe.call(g,J)&&dt(w=g[J]);for(ut in y=Tt("<tr>").appendTo(N),f=Tt("<select>").addClass("pvtAggregator").bind("change",function(){return Pe()}),be=Ft.aggregators)pe.call(be,ut)&&f.append(Tt("<option>").val(ut).html(ut));for($t={key_a_to_z:{rowSymbol:"&varr;",colSymbol:"&harr;",next:"value_a_to_z"},value_a_to_z:{rowSymbol:"&darr;",colSymbol:"&rarr;",next:"value_z_to_a"},value_z_to_a:{rowSymbol:"&uarr;",colSymbol:"&larr;",next:"key_a_to_z"}},e=Tt("<a>",{role:"button"}).addClass("pvtRowOrder").data("order",Ft.rowOrder).html($t[Ft.rowOrder].rowSymbol).bind("click",function(){return Tt(this).data("order",$t[Tt(this).data("order")].next),Tt(this).html($t[Tt(this).data("order")].rowSymbol),Pe()}),G=Tt("<a>",{role:"button"}).addClass("pvtColOrder").data("order",Ft.colOrder).html($t[Ft.colOrder].colSymbol).bind("click",function(){return Tt(this).data("order",$t[Tt(this).data("order")].next),Tt(this).html($t[Tt(this).data("order")].colSymbol),Pe()}),Tt("<td>").addClass("pvtVals pvtUiCell").appendTo(y).append(f).append(e).append(G).append(Tt("<br>")),Tt("<td>").addClass("pvtAxisContainer pvtHorizList pvtCols pvtUiCell").appendTo(y),(A=Tt("<tr>").appendTo(N)).append(Tt("<td>").addClass("pvtAxisContainer pvtRows pvtUiCell").attr("valign","top")),Yt=Tt("<td>").attr("valign","top").addClass("pvtRendererArea").appendTo(A),!0===Ft.unusedAttrsVertical||ht?(N.find("tr:nth-child(1)").prepend(Xt),N.find("tr:nth-child(2)").prepend(j)):N.prepend(Tt("<tr>").append(Xt).append(j)),this.html(N),he=0,at=(gn=Ft.cols).length;he<at;he++)ut=gn[he],this.find(".pvtCols").append(this.find(".axis_"+Tt.inArray(ut,g)));for(Zt=0,re=(nn=Ft.rows).length;Zt<re;Zt++)ut=nn[Zt],this.find(".pvtRows").append(this.find(".axis_"+Tt.inArray(ut,g)));null!=Ft.aggregatorName&&this.find(".pvtAggregator").val(Ft.aggregatorName),null!=Ft.rendererName&&this.find(".pvtRenderer").val(Ft.rendererName),Ft.showUI||this.find(".pvtUiCell").hide(),mt=!0,ot=this,Me=function(){var yt,It,qt,jt,Vt,ze,ge,vn,He,de,me,dn,Nn,tn;if(de={derivedAttributes:Ft.derivedAttributes,localeStrings:Ft.localeStrings,rendererOptions:Ft.rendererOptions,sorters:Ft.sorters,cols:[],rows:[],dataClass:Ft.dataClass},Vt=null!=(vn=Ft.aggregators[f.val()]([])().numInputs)?vn:0,tn=[],ot.find(".pvtRows li span.pvtAttr").each(function(){return de.rows.push(Tt(this).data("attrName"))}),ot.find(".pvtCols li span.pvtAttr").each(function(){return de.cols.push(Tt(this).data("attrName"))}),ot.find(".pvtVals select.pvtAttrDropdown").each(function(){return 0===Vt?Tt(this).remove():(Vt--,""!==Tt(this).val()?tn.push(Tt(this).val()):void 0)}),0!==Vt)for(ge=ot.find(".pvtVals"),ut=me=0,He=Vt;0<=He?me<He:me>He;ut=0<=He?++me:--me){for(jt=Tt("<select>").addClass("pvtAttrDropdown").append(Tt("<option>")).bind("change",function(){return Pe()}),dn=0,qt=l.length;dn<qt;dn++)w=l[dn],jt.append(Tt("<option>").val(w).text(w));ge.append(jt)}if(mt&&(tn=Ft.vals,J=0,ot.find(".pvtVals select.pvtAttrDropdown").each(function(){return Tt(this).val(tn[J]),J++}),mt=!1),de.aggregatorName=f.val(),de.vals=tn,de.aggregator=Ft.aggregators[f.val()](tn),de.renderer=Ft.renderers[De.val()],de.rowOrder=e.data("order"),de.colOrder=G.data("order"),yt={},ot.find("input.pvtFilter").not(":checked").each(function(){var Ke;return Ke=Tt(this).data("filter"),null!=yt[Ke[0]]?yt[Ke[0]].push(Ke[1]):yt[Ke[0]]=[Ke[1]]}),It={},ot.find("input.pvtFilter:checked").each(function(){var Ke;if(Ke=Tt(this).data("filter"),null!=yt[Ke[0]])return null!=It[Ke[0]]?It[Ke[0]].push(Ke[1]):It[Ke[0]]=[Ke[1]]}),de.filter=function(Ke){var sn,je,Bn;if(!Ft.filter(Ke))return!1;for(sn in yt)if(je=""+(null!=(Bn=Ke[sn])?Bn:"null"),Ht.call(yt[sn],je)>=0)return!1;return!0},Yt.pivot(Ut,de),ze=Tt.extend({},Ft,{cols:de.cols,rows:de.rows,colOrder:de.colOrder,rowOrder:de.rowOrder,vals:tn,exclusions:yt,inclusions:It,inclusionsInfo:It,aggregatorName:f.val(),rendererName:De.val()}),ot.data("pivotUIOptions",ze),Ft.autoSortUnusedAttrs&&(Nn=ot.find("td.pvtUnused.pvtAxisContainer"),Tt(Nn).children("li").sort(function(Ke,Ie){return hn(Tt(Ke).text(),Tt(Ie).text())}).appendTo(Nn)),Yt.css("opacity",1),null!=Ft.onRefresh)return Ft.onRefresh(ze)},(Pe=function(){return Yt.css("opacity",.5),setTimeout(Me,10)})(),this.find(".pvtAxisContainer").sortable({update:function(ot,yt){if(null==yt.sender)return Pe()},connectWith:this.find(".pvtAxisContainer"),items:"li",placeholder:"pvtPlaceholder"})}catch(ot){V=ot,typeof console<"u"&&null!==console&&console.error(V.stack),this.html(Ft.localeStrings.uiRenderError)}return this},Tt.fn.heatmap=function(et,nt){var n,o,h,f,w,C,L,M,G,F,V,tt;switch(null==et&&(et="heatmap"),M=this.data("numrows"),L=this.data("numcols"),null==(n=null!=nt&&null!=(G=nt.heatmap)?G.colorScaleGenerator:void 0)&&(n=function(tt){var dt,J;return J=Math.min.apply(Math,tt),dt=Math.max.apply(Math,tt),function(mt){var Ct;return"rgb(255,"+(Ct=255-Math.round(255*(mt-J)/(dt-J)))+","+Ct+")"}}),tt=this,o=function(dt){var J,mt,Ct;return Ct=[],(mt=function(Mt){return tt.find(dt).each(function(){var at;if(null!=(at=Tt(this).data("value"))&&isFinite(at))return Mt(at,Tt(this))})})(function(Mt){return Ct.push(Mt)}),J=n(Ct),mt(function(Mt,at){return at.css("background-color",J(Mt))})},et){case"heatmap":o(".pvtVal");break;case"rowheatmap":for(h=w=0,F=M;0<=F?w<F:w>F;h=0<=F?++w:--w)o(".pvtVal.row"+h);break;case"colheatmap":for(f=C=0,V=L;0<=V?C<V:C>V;f=0<=V?++C:--C)o(".pvtVal.col"+f)}return o(".pvtTotal.rowTotal"),o(".pvtTotal.colTotal"),this},Tt.fn.barchart=function(et){var nt,n,o,f,w;for(f=this.data("numrows"),this.data("numcols"),nt=function(C){return function(L){var M,G,F,V,tt,dt;return dt=[],(M=function(J){return C.find(L).each(function(){var mt;if(null!=(mt=Tt(this).data("value"))&&isFinite(mt))return J(mt,Tt(this))})})(function(J){return dt.push(J)}),(G=Math.max.apply(Math,dt))<0&&(G=0),V=G,(F=Math.min.apply(Math,dt))<0&&(V=G-F),tt=function(J){return 100*J/(1.4*V)},M(function(J,mt){var Ct,Mt,at,re;return at=mt.text(),re=Tt("<div>").css({position:"relative",height:"55px"}),Mt="gray",Ct=0,F<0&&(Ct=tt(-F)),J<0&&(Ct+=tt(J),Mt="darkred",J=-J),re.append(Tt("<div>").css({position:"absolute",bottom:Ct+"%",left:0,right:0,height:tt(J)+"%","background-color":Mt})),re.append(Tt("<div>").text(at).css({position:"relative","padding-left":"5px","padding-right":"5px"})),mt.css({padding:0,"padding-top":"5px","text-align":"center"}).html(re)})}}(this),n=o=0,w=f;0<=w?o<w:o>w;n=0<=w?++o:--o)nt(".pvtVal.row"+n);return nt(".pvtTotal.colTotal"),this}},"object"==typeof exports&&"object"==typeof module?Tt(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],Tt):Tt(jQuery)}.call(this),function(){var Ht;Ht=function(Ht,bn){var xn;return xn=function(pe){return null==pe&&(pe={}),function(Tt,We){var Ye,Oe,on,Rn,mn,ke,le,ce,hn,ee,ye,Re,Q,E,oe,Ue,pn,se,nt,n,o,h,f,w,C,L,M,G,F,V,tt,dt,J,mt,Ct,Mt,at,re,Dt,At,Ut,he,Zt,Ft,$t,Yt,Bt,Le,be,gn,nn,Pe,Me,De,Xt;if(null==(on=(We=Ht.extend(!0,{},{localeStrings:{vs:"vs",by:"by"},c3:{}},We)).c3).size&&(on.size={}),null==(Rn=We.c3.size).width&&(Rn.width=window.innerWidth/1.4),null==(mn=We.c3.size).height&&(mn.height=window.innerHeight/1.4-50),null==pe.type&&(pe.type="line"),null==pe.horizontal&&(pe.horizontal=!1),null==pe.stacked&&(pe.stacked=!1),0===(Ft=Tt.getRowKeys()).length&&Ft.push([]),0===(Q=Tt.getColKeys()).length&&Q.push([]),n=function(){var e,s,l;for(l=[],e=0,s=Q.length;e<s;e++)l.push(Q[e].join("-"));return l}(),At=0,pn=Tt.aggregatorName,Tt.valAttrs.length&&(pn+="("+Tt.valAttrs.join(", ")+")"),"scatter"===pe.type)for(Yt={x:{},y:{},t:{}},gn=null!=(mt=(Oe=Tt.rowAttrs.concat(Tt.colAttrs))[0])?mt:"",nt=null!=(Ct=Oe[1])?Ct:"",se=Oe.slice(2).join("-"),be=gn,""!==nt&&(be+=" "+We.localeStrings.vs+" "+nt),""!==se&&(be+=" "+We.localeStrings.by+" "+se),o=0,C=Ft.length;o<C;o++)for(Zt=Ft[o],h=0,L=Q.length;h<L;h++)null!=(Ye=Tt.getAggregator(Zt,Re=Q[h])).value()&&(Pe=Zt.concat(Re),""===(Bt=Pe.slice(2).join("-"))&&(Bt="series"),null==(ke=Yt.x)[Bt]&&(ke[Bt]=[]),null==(le=Yt.y)[Bt]&&(le[Bt]=[]),Xt=null!=(Mt=Pe[0])?Mt:0,Me=null!=(at=Pe[1])?at:0,Yt.y[Bt].push(Xt),Yt.x[Bt].push(Me),null==(ce=Yt.t)[Bt]&&(ce[Bt]={}),null==(hn=Yt.t[Bt])[Me]&&(hn[Me]={}),Yt.t[Bt][Me][Xt]=Ye.value());else{for(tt=0,f=0,M=n.length;f<M;f++)tt+=(Me=n[f]).length;for(tt>50&&(At=45),E=[],w=0,G=Ft.length;w<G;w++){for(Ut=[""===(he=(Zt=Ft[w]).join("-"))?pn:he],V=0,F=Q.length;V<F;V++)Re=Q[V],nn=parseFloat(Tt.getAggregator(Zt,Re).value()),isFinite(nn)?Ut.push(nn):Ut.push(null);E.push(Ut)}gn=pn,pe.horizontal?(nt=Tt.rowAttrs.join("-"),se=Tt.colAttrs.join("-")):(nt=Tt.colAttrs.join("-"),se=Tt.rowAttrs.join("-")),be=pn,""!==nt&&(be+=" "+We.localeStrings.vs+" "+nt),""!==se&&(be+=" "+We.localeStrings.by+" "+se)}if((Le=Ht("<p>",{style:"text-align: center; font-weight: bold"})).text(be),Ue=Tt.getAggregator([],[]).format,J=Ht.extend(!0,{},J={axis:{rotated:pe.horizontal,y:{label:gn,tick:{}},x:{label:nt,tick:{rotate:At,multiline:!1}}},data:{type:pe.type,order:null},tooltip:{grouped:!1},color:{pattern:["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac"]}},We.c3),"scatter"===pe.type){for($t in De={},dt=0,oe=[],Yt.x)dt+=1,De[$t]=$t+"_x",oe.push([$t+"_x"].concat(Yt.x[$t])),oe.push([$t].concat(Yt.y[$t]));J.data.xs=De,J.data.columns=oe,J.axis.x.tick={fit:!1},1===dt&&(J.legend={show:!1}),J.tooltip.format={title:function(){return pn},name:function(){return""},value:function(e,s,l,g,y){var A;return Ue(Yt.t[Bt=(A=y[0]).name][Me=A.x][Xt=A.value])}}}else J.axis.x.type="category",null==(ee=J.axis.y.tick).format&&(ee.format=function(e){return Ue(e)}),J.tooltip.format={value:function(e){return Ue(e)}},pe.horizontal?(1===(ye=function(){var e,s,l;for(l=[],s=0,e=E.length;s<e;s++)l.push(E[s].shift());return l}()).length&&ye[0]===pn&&(ye=[""]),J.axis.x.categories=ye,1===n.length&&""===n[0]&&(n=[pn]),E.unshift(n),J.data.rows=E):(J.axis.x.categories=n,J.data.columns=E);return pe.stacked&&(J.data.groups=pe.horizontal?[function(){var e,s,l;for(l=[],s=0,e=Q.length;s<e;s++)l.push((Me=Q[s]).join("-"));return l}()]:[function(){var e,s,l;for(l=[],s=0,e=Ft.length;s<e;s++)l.push((Me=Ft[s]).join("-"));return l}()]),re=Ht("<div>",{style:"display:none;"}).appendTo(Ht("body")),Dt=Ht("<div>").appendTo(re),J.bindto=Dt[0],bn.generate(J),Dt.detach(),re.remove(),Ht("<div>").append(Le,Dt)}},Ht.pivotUtilities.c3_renderers={"Horizontal Bar Chart":xn({type:"bar",horizontal:!0}),"Horizontal Stacked Bar Chart":xn({type:"bar",stacked:!0,horizontal:!0}),"Bar Chart":xn({type:"bar"}),"Stacked Bar Chart":xn({type:"bar",stacked:!0}),"Line Chart":xn(),"Area Chart":xn({type:"area",stacked:!0}),"Scatter Chart":xn({type:"scatter"})}},"object"==typeof exports&&"object"==typeof module?Ht(require("jquery"),require("c3")):"function"==typeof define&&define.amd?define(["jquery","c3"],Ht):Ht(jQuery,c3)}.call(this),function(){var r=typeof exports<"u"&&exports||typeof define<"u"&&{}||this||window;typeof define<"u"&&define("save-svg-as-png",[],function(){return r}),r.default=r;var Ht="http://www.w3.org/2000/xmlns/",xn="http://www.w3.org/2000/svg",Tt=/url\(["']?(.+?)["']?\)/,We={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},Ye=function(et){return et instanceof HTMLElement||et instanceof SVGElement},Oe=function(et){if(!Ye(et))throw new Error("an HTMLElement or SVGElement is required; got "+et)},on=function(et){return new Promise(function(nt,n){Ye(et)?nt(et):n(new Error("an HTMLElement or SVGElement is required; got "+et))})},mn=function(et){var nt=Object.keys(We).filter(function(n){return et.indexOf("."+n)>0}).map(function(n){return We[n]});return nt?nt[0]:(console.error("Unknown font format for "+et+". Fonts may not be working correctly."),"application/octet-stream")},le=function(et,nt,n){var o=et.viewBox&&et.viewBox.baseVal&&et.viewBox.baseVal[n]||null!==nt.getAttribute(n)&&!nt.getAttribute(n).match(/%$/)&&parseInt(nt.getAttribute(n))||et.getBoundingClientRect()[n]||parseInt(nt.style[n])||parseInt(window.getComputedStyle(et).getPropertyValue(n));return typeof o>"u"||null===o||isNaN(parseFloat(o))?0:o},ee=function(et){for(var nt=window.atob(et.split(",")[1]),n=et.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(nt.length),h=new Uint8Array(o),f=0;f<nt.length;f++)h[f]=nt.charCodeAt(f);return new Blob([o],{type:n})},Q={},oe=null,Ue=function(et,nt){var n=nt||{},o=n.selectorRemap,h=n.modifyStyle,w=n.fonts,C=n.excludeUnusedCss,L=n.modifyCss||function(V,tt){return(o?o(V):V)+"{"+(h?h(tt):tt)+"}\n"},M=[],G=typeof w>"u",F=w||[];return(oe||(oe=Array.from(document.styleSheets).map(function(et){try{return{rules:et.cssRules,href:et.href}}catch(nt){return console.warn("Stylesheet could not be loaded: "+et.href,nt),{}}}))).forEach(function(V){var tt=V.rules,dt=V.href;!tt||Array.from(tt).forEach(function(J){if(typeof J.style<"u")if(function(et,nt){if(nt)try{return et.querySelector(nt)||et.parentNode&&et.parentNode.querySelector(nt)}catch(n){console.warn('Invalid CSS selector "'+nt+'"',n)}}(et,J.selectorText))M.push(L(J.selectorText,J.style.cssText));else if(G&&J.cssText.match(/^@font-face/)){var mt=function(et,nt){var n=et.cssText.match(Tt),o=n&&n[1]||"";if(o&&!o.match(/^data:/)&&"about:blank"!==o){var h=o.startsWith("../")?nt+"/../"+o:o.startsWith("./")?nt+"/."+o:o;return{text:et.cssText,format:mn(h),url:h}}}(J,dt);mt&&F.push(mt)}else C||M.push(J.cssText)})}),function(et){return Promise.all(et.map(function(nt){return new Promise(function(n,o){if(Q[nt.url])return n(Q[nt.url]);var h=new XMLHttpRequest;h.addEventListener("load",function(){var f=function(et){for(var nt="",n=new Uint8Array(et),o=0;o<n.byteLength;o++)nt+=String.fromCharCode(n[o]);return window.btoa(nt)}(h.response),w=nt.text.replace(Tt,'url("data:'+nt.format+";base64,"+f+'")')+"\n";Q[nt.url]=w,n(w)}),h.addEventListener("error",function(f){console.warn("Failed to load font from: "+nt.url,f),Q[nt.url]=null,n(null)}),h.addEventListener("abort",function(f){console.warn("Aborted loading font from: "+nt.url,f),n(null)}),h.open("GET",nt.url),h.responseType="arraybuffer",h.send()})})).then(function(nt){return nt.filter(function(n){return n}).join("")})}(F).then(function(V){return M.join("\n")+V})},pn=function(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};r.prepareSvg=function(se,et,nt){Oe(se);var n=et||{},o=n.left,h=void 0===o?0:o,f=n.top,w=void 0===f?0:f,C=n.width,L=n.height,M=n.scale,G=void 0===M?1:M,F=n.responsive,V=void 0!==F&&F,tt=n.excludeCss,dt=void 0!==tt&&tt;return function(et){return Promise.all(Array.from(et.querySelectorAll("image")).map(function(nt){var n=nt.getAttributeNS("http://www.w3.org/1999/xlink","href")||nt.getAttribute("href");return n?(function(et){return et&&0===et.lastIndexOf("http",0)&&-1===et.lastIndexOf(window.location.host)}(n)&&(n+=(-1===n.indexOf("?")?"?":"&")+"t="+(new Date).valueOf()),new Promise(function(o,h){var f=document.createElement("canvas"),w=new Image;w.crossOrigin="anonymous",w.src=n,w.onerror=function(){return h(new Error("Could not load "+n))},w.onload=function(){f.width=w.width,f.height=w.height,f.getContext("2d").drawImage(w,0,0),nt.setAttributeNS("http://www.w3.org/1999/xlink","href",f.toDataURL("image/png")),o(!0)}})):Promise.resolve(null)}))}(se).then(function(){var J=se.cloneNode(!0);J.style.backgroundColor=(et||{}).backgroundColor||se.style.backgroundColor;var mt=function(et,nt,n,o){if("svg"===et.tagName)return{width:n||le(et,nt,"width"),height:o||le(et,nt,"height")};if(et.getBBox){var h=et.getBBox();return{width:h.x+h.width,height:h.y+h.height}}}(se,J,C,L),Ct=mt.width,Mt=mt.height;if("svg"!==se.tagName){if(!se.getBBox)return void console.error("Attempted to render non-SVG element",se);null!=J.getAttribute("transform")&&J.setAttribute("transform",J.getAttribute("transform").replace(/translate\(.*?\)/,""));var at=document.createElementNS("http://www.w3.org/2000/svg","svg");at.appendChild(J),J=at}if(J.setAttribute("version","1.1"),J.setAttribute("viewBox",[h,w,Ct,Mt].join(" ")),J.getAttribute("xmlns")||J.setAttributeNS(Ht,"xmlns",xn),J.getAttribute("xmlns:xlink")||J.setAttributeNS(Ht,"xmlns:xlink","http://www.w3.org/1999/xlink"),V?(J.removeAttribute("width"),J.removeAttribute("height"),J.setAttribute("preserveAspectRatio","xMinYMin meet")):(J.setAttribute("width",Ct*G),J.setAttribute("height",Mt*G)),Array.from(J.querySelectorAll("foreignObject > *")).forEach(function(At){At.setAttributeNS(Ht,"xmlns","svg"===At.tagName?xn:"http://www.w3.org/1999/xhtml")}),!dt)return Ue(se,et).then(function(At){var Ut=document.createElement("style");Ut.setAttribute("type","text/css"),Ut.innerHTML="<![CDATA[\n"+At+"\n]]>";var he=document.createElement("defs");he.appendChild(Ut),J.insertBefore(he,J.firstChild);var Zt=document.createElement("div");Zt.appendChild(J);var Ft=Zt.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if("function"!=typeof nt)return{src:Ft,width:Ct,height:Mt};nt(Ft,Ct,Mt)});var re=document.createElement("div");re.appendChild(J);var Dt=re.innerHTML;if("function"!=typeof nt)return{src:Dt,width:Ct,height:Mt};nt(Dt,Ct,Mt)})},r.svgAsDataUri=function(se,et,nt){return Oe(se),r.prepareSvg(se,et).then(function(n){var h=n.width,f=n.height,w="data:image/svg+xml;base64,"+window.btoa(function(et){return decodeURIComponent(encodeURIComponent(et).replace(/%([0-9A-F]{2})/g,function(nt,n){var o=String.fromCharCode("0x"+n);return"%"===o?"%25":o}))}('<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>'+n.src));return"function"==typeof nt&&nt(w,h,f),w})},r.svgAsPngUri=function(se,et,nt){Oe(se);var n=et||{},o=n.encoderType,h=void 0===o?"image/png":o,f=n.encoderOptions,w=void 0===f?.8:f,C=n.canvg,L=function(G){var F=G.src,V=G.width,tt=G.height,dt=document.createElement("canvas"),J=dt.getContext("2d"),mt=window.devicePixelRatio||1;dt.width=V*mt,dt.height=tt*mt,dt.style.width=dt.width+"px",dt.style.height=dt.height+"px",J.setTransform(mt,0,0,mt,0,0),C?C(dt,F):J.drawImage(F,0,0);var Ct=void 0;try{Ct=dt.toDataURL(h,w)}catch(Mt){if(typeof SecurityError<"u"&&Mt instanceof SecurityError||"SecurityError"===Mt.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw Mt}return"function"==typeof nt&&nt(Ct,dt.width,dt.height),Promise.resolve(Ct)};return C?r.prepareSvg(se,et).then(L):r.svgAsDataUri(se,et).then(function(M){return new Promise(function(G,F){var V=new Image;V.onload=function(){return G(L({src:V,width:V.width,height:V.height}))},V.onerror=function(){F("There was an error loading the data URI as an image on the following SVG\n"+window.atob(M.slice(26))+"Open the following link to see browser's diagnosis\n"+M)},V.src=M})})},r.download=function(se,et,nt){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(ee(et),se);else{var n=document.createElement("a");if("download"in n){n.download=se,n.style.display="none",document.body.appendChild(n);try{var o=ee(et),h=URL.createObjectURL(o);n.href=h,n.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(h)})}}catch(f){console.error(f),console.warn("Error while getting object URL. Falling back to string URL."),n.href=et}n.click(),document.body.removeChild(n)}else nt&&nt.popup&&(nt.popup.document.title=se,nt.popup.location.replace(et))}},r.saveSvg=function(se,et,nt){var n=pn();return on(se).then(function(o){return r.svgAsDataUri(o,nt||{})}).then(function(o){return r.download(et,o,n)})},r.saveSvgAsPng=function(se,et,nt){var n=pn();return on(se).then(function(o){return r.svgAsPngUri(o,nt||{})}).then(function(o){return r.download(et,o,n)})}}();