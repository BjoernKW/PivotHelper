!function(r,Ht){"object"==typeof exports&&"undefined"!=typeof module?Ht(exports):"function"==typeof define&&define.amd?define(["exports"],Ht):Ht((r=r||self).d3=r.d3||{})}(this,function(r){"use strict";function Ht(t,i){return t<i?-1:t>i?1:t>=i?0:NaN}function wn(t){var i;return 1===t.length&&(i=t,t=function(a,u){return Ht(i(a),u)}),{left:function(a,u,c,d){for(null==c&&(c=0),null==d&&(d=a.length);c<d;){var m=c+d>>>1;t(a[m],u)<0?c=m+1:d=m}return c},right:function(a,u,c,d){for(null==c&&(c=0),null==d&&(d=a.length);c<d;){var m=c+d>>>1;t(a[m],u)>0?d=m:c=m+1}return c}}}var Sn=wn(Ht),pe=Sn.right,Ct=Sn.left;function je(t,i){return[t,i]}function We(t){return null===t?NaN:+t}function Re(t,i){var a,u,c=t.length,d=0,m=-1,g=0,_=0;if(null==i)for(;++m<c;)isNaN(a=We(t[m]))||(_+=(u=a-g)*(a-(g+=u/++d)));else for(;++m<c;)isNaN(a=We(i(t[m],m,t)))||(_+=(u=a-g)*(a-(g+=u/++d)));if(d>1)return _/(d-1)}function sn(t,i){var a=Re(t,i);return a&&Math.sqrt(a)}function On(t,i){var a,u,c,d=t.length,m=-1;if(null==i){for(;++m<d;)if(null!=(a=t[m])&&a>=a)for(u=c=a;++m<d;)null!=(a=t[m])&&(u>a&&(u=a),c<a&&(c=a))}else for(;++m<d;)if(null!=(a=i(t[m],m,t))&&a>=a)for(u=c=a;++m<d;)null!=(a=i(t[m],m,t))&&(u>a&&(u=a),c<a&&(c=a));return[u,c]}var _n=Array.prototype,Pe=_n.slice,ue=_n.map;function he(t){return function(){return t}}function dn(t){return t}function Vt(t,i,a){t=+t,i=+i,a=(c=arguments.length)<2?(i=t,t=0,1):c<3?1:+a;for(var u=-1,c=0|Math.max(0,Math.ceil((i-t)/a)),d=new Array(c);++u<c;)d[u]=t+u*a;return d}var qe=Math.sqrt(50),_e=Math.sqrt(10),ze=Math.sqrt(2);function $(t,i,a){var u,c,d,m,g=-1;if(a=+a,(t=+t)==(i=+i)&&a>0)return[t];if((u=i<t)&&(c=t,t=i,i=c),0===(m=L(t,i,a))||!isFinite(m))return[];if(m>0)for(t=Math.ceil(t/m),i=Math.floor(i/m),d=new Array(c=Math.ceil(i-t+1));++g<c;)d[g]=(t+g)*m;else for(t=Math.floor(t*m),i=Math.ceil(i*m),d=new Array(c=Math.ceil(t-i+1));++g<c;)d[g]=(t-g)/m;return u&&d.reverse(),d}function L(t,i,a){var u=(i-t)/Math.max(0,a),c=Math.floor(Math.log(u)/Math.LN10),d=u/Math.pow(10,c);return c>=0?(d>=qe?10:d>=_e?5:d>=ze?2:1)*Math.pow(10,c):-Math.pow(10,-c)/(d>=qe?10:d>=_e?5:d>=ze?2:1)}function re(t,i,a){var u=Math.abs(i-t)/Math.max(0,a),c=Math.pow(10,Math.floor(Math.log(u)/Math.LN10)),d=u/c;return d>=qe?c*=10:d>=_e?c*=5:d>=ze&&(c*=2),i<t?-c:c}function ve(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function Ue(t,i,a){if(null==a&&(a=We),u=t.length){if((i=+i)<=0||u<2)return+a(t[0],0,t);if(i>=1)return+a(t[u-1],u-1,t);var u,c=(u-1)*i,d=Math.floor(c),m=+a(t[d],d,t);return m+(+a(t[d+1],d+1,t)-m)*(c-d)}}function gn(t,i){var a,u,c=t.length,d=-1;if(null==i){for(;++d<c;)if(null!=(a=t[d])&&a>=a)for(u=a;++d<c;)null!=(a=t[d])&&a>u&&(u=a)}else for(;++d<c;)if(null!=(a=i(t[d],d,t))&&a>=a)for(u=a;++d<c;)null!=(a=i(t[d],d,t))&&a>u&&(u=a);return u}function ae(t){for(var i,a,u,c=t.length,d=-1,m=0;++d<c;)m+=t[d].length;for(a=new Array(m);--c>=0;)for(i=(u=t[c]).length;--i>=0;)a[--m]=u[i];return a}function et(t,i){var a,u,c=t.length,d=-1;if(null==i){for(;++d<c;)if(null!=(a=t[d])&&a>=a)for(u=a;++d<c;)null!=(a=t[d])&&u>a&&(u=a)}else for(;++d<c;)if(null!=(a=i(t[d],d,t))&&a>=a)for(u=a;++d<c;)null!=(a=i(t[d],d,t))&&u>a&&(u=a);return u}function nt(t){if(!(c=t.length))return[];for(var i=-1,a=et(t,n),u=new Array(a);++i<a;)for(var c,d=-1,m=u[i]=new Array(c);++d<c;)m[d]=t[d][i];return u}function n(t){return t.length}var s=Array.prototype.slice;function h(t){return t}var M=1e-6;function G(t){return"translate("+(t+.5)+",0)"}function H(t){return"translate(0,"+(t+.5)+")"}function V(){return!this.__axis}function tt(t,i){var a=[],u=null,c=null,d=6,m=6,g=3,_=1===t||4===t?-1:1,b=4===t||2===t?"x":"y",S=1===t||3===t?G:H;function P(T){var I=null==u?i.ticks?i.ticks.apply(i,a):i.domain():u,N=null==c?i.tickFormat?i.tickFormat.apply(i,a):h:c,F=Math.max(d,0)+g,B=i.range(),z=+B[0]+.5,q=+B[B.length-1]+.5,X=(i.bandwidth?function(xt){var U=Math.max(0,xt.bandwidth()-1)/2;return xt.round()&&(U=Math.round(U)),function(vt){return+xt(vt)+U}}:function(xt){return function(U){return+xt(U)}})(i.copy()),Q=T.selection?T.selection():T,ot=Q.selectAll(".domain").data([null]),ft=Q.selectAll(".tick").data(I,i).order(),bt=ft.exit(),Ot=ft.enter().append("g").attr("class","tick"),lt=ft.select("line"),kt=ft.select("text");ot=ot.merge(ot.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),ft=ft.merge(Ot),lt=lt.merge(Ot.append("line").attr("stroke","currentColor").attr(b+"2",_*d)),kt=kt.merge(Ot.append("text").attr("fill","currentColor").attr(b,_*F).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),T!==Q&&(ot=ot.transition(T),ft=ft.transition(T),lt=lt.transition(T),kt=kt.transition(T),bt=bt.transition(T).attr("opacity",M).attr("transform",function(xt){return isFinite(xt=X(xt))?S(xt):this.getAttribute("transform")}),Ot.attr("opacity",M).attr("transform",function(xt){var U=this.parentNode.__axis;return S(U&&isFinite(U=U(xt))?U:X(xt))})),bt.remove(),ot.attr("d",4===t||2==t?m?"M"+_*m+","+z+"H0.5V"+q+"H"+_*m:"M0.5,"+z+"V"+q:m?"M"+z+","+_*m+"V0.5H"+q+"V"+_*m:"M"+z+",0.5H"+q),ft.attr("opacity",1).attr("transform",function(xt){return S(X(xt))}),lt.attr(b+"2",_*d),kt.attr(b,_*F).text(N),Q.filter(V).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),Q.each(function(){this.__axis=X})}return P.scale=function(T){return arguments.length?(i=T,P):i},P.ticks=function(){return a=s.call(arguments),P},P.tickArguments=function(T){return arguments.length?(a=null==T?[]:s.call(T),P):a.slice()},P.tickValues=function(T){return arguments.length?(u=null==T?null:s.call(T),P):u&&u.slice()},P.tickFormat=function(T){return arguments.length?(c=T,P):c},P.tickSize=function(T){return arguments.length?(d=m=+T,P):d},P.tickSizeInner=function(T){return arguments.length?(d=+T,P):d},P.tickSizeOuter=function(T){return arguments.length?(m=+T,P):m},P.tickPadding=function(T){return arguments.length?(g=+T,P):g},P}var ht={value:function(){}};function J(){for(var t,i=0,a=arguments.length,u={};i<a;++i){if(!(t=arguments[i]+"")||t in u||/[\s.]/.test(t))throw new Error("illegal type: "+t);u[t]=[]}return new mt(u)}function mt(t){this._=t}function At(t,i){return t.trim().split(/^|\s+/).map(function(a){var u="",c=a.indexOf(".");if(c>=0&&(u=a.slice(c+1),a=a.slice(0,c)),a&&!i.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:u}})}function Dt(t,i){for(var a,u=0,c=t.length;u<c;++u)if((a=t[u]).name===i)return a.value}function at(t,i,a){for(var u=0,c=t.length;u<c;++u)if(t[u].name===i){t[u]=ht,t=t.slice(0,u).concat(t.slice(u+1));break}return null!=a&&t.push({name:i,value:a}),t}mt.prototype=J.prototype={constructor:mt,on:function(t,i){var a,u=this._,c=At(t+"",u),d=-1,m=c.length;if(!(arguments.length<2)){if(null!=i&&"function"!=typeof i)throw new Error("invalid callback: "+i);for(;++d<m;)if(a=(t=c[d]).type)u[a]=at(u[a],t.name,i);else if(null==i)for(a in u)u[a]=at(u[a],t.name,null);return this}for(;++d<m;)if((a=(t=c[d]).type)&&(a=Dt(u[a],t.name)))return a},copy:function(){var t={},i=this._;for(var a in i)t[a]=i[a].slice();return new mt(t)},call:function(t,i){if((a=arguments.length-2)>0)for(var a,u,c=new Array(a),d=0;d<a;++d)c[d]=arguments[d+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(d=0,a=(u=this._[t]).length;d<a;++d)u[d].value.apply(i,c)},apply:function(t,i,a){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var u=this._[t],c=0,d=u.length;c<d;++c)u[c].value.apply(i,a)}};var ne="http://www.w3.org/1999/xhtml",Et={svg:"http://www.w3.org/2000/svg",xhtml:ne,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yt(t){var i=t+="",a=i.indexOf(":");return a>=0&&"xmlns"!==(i=t.slice(0,a))&&(t=t.slice(a+1)),Et.hasOwnProperty(i)?{space:Et[i],local:t}:t}function Bt(t){var i=yt(t);return(i.local?function(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}:function(a){return function(){var u=this.ownerDocument,c=this.namespaceURI;return c===ne&&u.documentElement.namespaceURI===ne?u.createElement(a):u.createElementNS(c,a)}})(i)}function le(){}function Kt(t){return null==t?le:function(){return this.querySelector(t)}}function Ft(){return[]}function se(t){return null==t?Ft:function(){return this.querySelectorAll(t)}}function $t(t){return function(){return this.matches(t)}}function jt(t){return new Array(t.length)}function Ne(t,i){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=i}function mn(t,i,a,u,c,d){for(var m,g=0,_=i.length,b=d.length;g<b;++g)(m=i[g])?(m.__data__=d[g],u[g]=m):a[g]=new Ne(t,d[g]);for(;g<_;++g)(m=i[g])&&(c[g]=m)}function nn(t,i,a,u,c,d,m){var g,_,b,S={},P=i.length,T=d.length,I=new Array(P);for(g=0;g<P;++g)(_=i[g])&&(I[g]=b="$"+m.call(_,_.__data__,g,i),b in S?c[g]=_:S[b]=_);for(g=0;g<T;++g)(_=S[b="$"+m.call(t,d[g],g,d)])?(u[g]=_,_.__data__=d[g],S[b]=null):a[g]=new Ne(t,d[g]);for(g=0;g<P;++g)(_=i[g])&&S[I[g]]===_&&(c[g]=_)}function Me(t,i){return t<i?-1:t>i?1:t>=i?0:NaN}function De(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ee(t,i){return t.style.getPropertyValue(i)||De(t).getComputedStyle(t,null).getPropertyValue(i)}function Xt(t){return t.trim().split(/^|\s+/)}function e(t){return t.classList||new o(t)}function o(t){this._node=t,this._names=Xt(t.getAttribute("class")||"")}function l(t,i){for(var a=e(t),u=-1,c=i.length;++u<c;)a.add(i[u])}function v(t,i){for(var a=e(t),u=-1,c=i.length;++u<c;)a.remove(i[u])}function y(){this.textContent=""}function k(){this.innerHTML=""}function O(){this.nextSibling&&this.parentNode.appendChild(this)}function Y(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Z(){return null}function dt(){var t=this.parentNode;t&&t.removeChild(this)}function ct(){var t=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(t,this.nextSibling):t}function st(){var t=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(t,this.nextSibling):t}Ne.prototype={constructor:Ne,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,i){return this._parent.insertBefore(t,i)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},o.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var i=this._names.indexOf(t);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var St={};function Mt(t,i,a){return t=qt(t,i,a),function(u){var c=u.relatedTarget;c&&(c===this||8&c.compareDocumentPosition(this))||t.call(this,u)}}function qt(t,i,a){return function(u){var c=r.event;r.event=u;try{t.call(this,this.__data__,i,a)}finally{r.event=c}}}function Wt(t){return function(){var i=this.__on;if(i){for(var a,u=0,c=-1,d=i.length;u<d;++u)a=i[u],t.type&&a.type!==t.type||a.name!==t.name?i[++c]=a:this.removeEventListener(a.type,a.listener,a.capture);++c?i.length=c:delete this.__on}}}function ce(t,i,a){var u=St.hasOwnProperty(t.type)?Mt:qt;return function(c,d,m){var g,_=this.__on,b=u(i,d,m);if(_)for(var S=0,P=_.length;S<P;++S)if((g=_[S]).type===t.type&&g.name===t.name)return this.removeEventListener(g.type,g.listener,g.capture),this.addEventListener(g.type,g.listener=b,g.capture=a),void(g.value=i);this.addEventListener(t.type,b,a),g={type:t.type,name:t.name,value:i,listener:b,capture:a},_?_.push(g):this.__on=[g]}}function we(t,i,a,u){var c=r.event;t.sourceEvent=r.event,r.event=t;try{return i.apply(a,u)}finally{r.event=c}}function Le(t,i,a){var u=De(t),c=u.CustomEvent;"function"==typeof c?c=new c(i,a):(c=u.document.createEvent("Event"),a?(c.initEvent(i,a.bubbles,a.cancelable),c.detail=a.detail):c.initEvent(i,!1,!1)),t.dispatchEvent(c)}r.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(St={mouseenter:"mouseover",mouseleave:"mouseout"}));var yn=[null];function He(t,i){this._groups=t,this._parents=i}function de(){return new He([[document.documentElement]],yn)}function ge(t){return"string"==typeof t?new He([[document.querySelector(t)]],[document.documentElement]):new He([[t]],yn)}He.prototype=de.prototype={constructor:He,select:function(t){"function"!=typeof t&&(t=Kt(t));for(var i=this._groups,a=i.length,u=new Array(a),c=0;c<a;++c)for(var d,m,g=i[c],_=g.length,b=u[c]=new Array(_),S=0;S<_;++S)(d=g[S])&&(m=t.call(d,d.__data__,S,g))&&("__data__"in d&&(m.__data__=d.__data__),b[S]=m);return new He(u,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=se(t));for(var i=this._groups,a=i.length,u=[],c=[],d=0;d<a;++d)for(var m,g=i[d],_=g.length,b=0;b<_;++b)(m=g[b])&&(u.push(t.call(m,m.__data__,b,g)),c.push(m));return new He(u,c)},filter:function(t){"function"!=typeof t&&(t=$t(t));for(var i=this._groups,a=i.length,u=new Array(a),c=0;c<a;++c)for(var d,m=i[c],g=m.length,_=u[c]=[],b=0;b<g;++b)(d=m[b])&&t.call(d,d.__data__,b,m)&&_.push(d);return new He(u,this._parents)},data:function(t,i){if(!t)return I=new Array(this.size()),b=-1,this.each(function(ot){I[++b]=ot}),I;var ot,a=i?nn:mn,u=this._parents,c=this._groups;"function"!=typeof t&&(ot=t,t=function(){return ot});for(var d=c.length,m=new Array(d),g=new Array(d),_=new Array(d),b=0;b<d;++b){var S=u[b],P=c[b],T=P.length,I=t.call(S,S&&S.__data__,b,u),N=I.length,F=g[b]=new Array(N),B=m[b]=new Array(N);a(S,P,F,B,_[b]=new Array(T),I,i);for(var z,q,X=0,Q=0;X<N;++X)if(z=F[X]){for(X>=Q&&(Q=X+1);!(q=B[Q])&&++Q<N;);z._next=q||null}}return(m=new He(m,u))._enter=g,m._exit=_,m},enter:function(){return new He(this._enter||this._groups.map(jt),this._parents)},exit:function(){return new He(this._exit||this._groups.map(jt),this._parents)},join:function(t,i,a){var u=this.enter(),c=this,d=this.exit();return u="function"==typeof t?t(u):u.append(t+""),null!=i&&(c=i(c)),null==a?d.remove():a(d),u&&c?u.merge(c).order():c},merge:function(t){for(var i=this._groups,a=t._groups,u=i.length,d=Math.min(u,a.length),m=new Array(u),g=0;g<d;++g)for(var _,b=i[g],S=a[g],P=b.length,T=m[g]=new Array(P),I=0;I<P;++I)(_=b[I]||S[I])&&(T[I]=_);for(;g<u;++g)m[g]=i[g];return new He(m,this._parents)},order:function(){for(var t=this._groups,i=-1,a=t.length;++i<a;)for(var u,c=t[i],d=c.length-1,m=c[d];--d>=0;)(u=c[d])&&(m&&4^u.compareDocumentPosition(m)&&m.parentNode.insertBefore(u,m),m=u);return this},sort:function(t){function i(P,T){return P&&T?t(P.__data__,T.__data__):!P-!T}t||(t=Me);for(var a=this._groups,u=a.length,c=new Array(u),d=0;d<u;++d){for(var m,g=a[d],_=g.length,b=c[d]=new Array(_),S=0;S<_;++S)(m=g[S])&&(b[S]=m);b.sort(i)}return new He(c,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),i=-1;return this.each(function(){t[++i]=this}),t},node:function(){for(var t=this._groups,i=0,a=t.length;i<a;++i)for(var u=t[i],c=0,d=u.length;c<d;++c){var m=u[c];if(m)return m}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var i=this._groups,a=0,u=i.length;a<u;++a)for(var c,d=i[a],m=0,g=d.length;m<g;++m)(c=d[m])&&t.call(c,c.__data__,m,d);return this},attr:function(t,i){var a=yt(t);if(arguments.length<2){var u=this.node();return a.local?u.getAttributeNS(a.space,a.local):u.getAttribute(a)}return this.each((null==i?a.local?function(c){return function(){this.removeAttributeNS(c.space,c.local)}}:function(c){return function(){this.removeAttribute(c)}}:"function"==typeof i?a.local?function(c,d){return function(){var m=d.apply(this,arguments);null==m?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,c.local,m)}}:function(c,d){return function(){var m=d.apply(this,arguments);null==m?this.removeAttribute(c):this.setAttribute(c,m)}}:a.local?function(c,d){return function(){this.setAttributeNS(c.space,c.local,d)}}:function(c,d){return function(){this.setAttribute(c,d)}})(a,i))},style:function(t,i,a){return arguments.length>1?this.each((null==i?function(u){return function(){this.style.removeProperty(u)}}:"function"==typeof i?function(u,c,d){return function(){var m=c.apply(this,arguments);null==m?this.style.removeProperty(u):this.style.setProperty(u,m,d)}}:function(u,c,d){return function(){this.style.setProperty(u,c,d)}})(t,i,null==a?"":a)):Ee(this.node(),t)},property:function(t,i){return arguments.length>1?this.each((null==i?function(a){return function(){delete this[a]}}:"function"==typeof i?function(a,u){return function(){var c=u.apply(this,arguments);null==c?delete this[a]:this[a]=c}}:function(a,u){return function(){this[a]=u}})(t,i)):this.node()[t]},classed:function(t,i){var a=Xt(t+"");if(arguments.length<2){for(var u=e(this.node()),c=-1,d=a.length;++c<d;)if(!u.contains(a[c]))return!1;return!0}return this.each(("function"==typeof i?function(m,g){return function(){(g.apply(this,arguments)?l:v)(this,m)}}:i?function(m){return function(){l(this,m)}}:function(m){return function(){v(this,m)}})(a,i))},text:function(t){return arguments.length?this.each(null==t?y:("function"==typeof t?function(i){return function(){var a=i.apply(this,arguments);this.textContent=null==a?"":a}}:function(i){return function(){this.textContent=i}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?k:("function"==typeof t?function(i){return function(){var a=i.apply(this,arguments);this.innerHTML=null==a?"":a}}:function(i){return function(){this.innerHTML=i}})(t)):this.node().innerHTML},raise:function(){return this.each(O)},lower:function(){return this.each(Y)},append:function(t){var i="function"==typeof t?t:Bt(t);return this.select(function(){return this.appendChild(i.apply(this,arguments))})},insert:function(t,i){var a="function"==typeof t?t:Bt(t),u=null==i?Z:"function"==typeof i?i:Kt(i);return this.select(function(){return this.insertBefore(a.apply(this,arguments),u.apply(this,arguments)||null)})},remove:function(){return this.each(dt)},clone:function(t){return this.select(t?st:ct)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,i,a){var u,c,d=(t+"").trim().split(/^|\s+/).map(function(T){var I="",N=T.indexOf(".");return N>=0&&(I=T.slice(N+1),T=T.slice(0,N)),{type:T,name:I}}),m=d.length;if(!(arguments.length<2)){for(g=i?ce:Wt,null==a&&(a=!1),u=0;u<m;++u)this.each(g(d[u],i,a));return this}var g=this.node().__on;if(g)for(var _,b=0,S=g.length;b<S;++b)for(u=0,_=g[b];u<m;++u)if((c=d[u]).type===_.type&&c.name===_.name)return _.value},dispatch:function(t,i){return this.each(("function"==typeof i?function(a,u){return function(){return Le(this,a,u.apply(this,arguments))}}:function(a,u){return function(){return Le(this,a,u)}})(t,i))}};var rn=0;function In(){return new tn}function tn(){this._="@"+(++rn).toString(36)}function Ye(){for(var t,i=r.event;t=i.sourceEvent;)i=t;return i}function Ae(t,i){var a=t.ownerSVGElement||t;if(a.createSVGPoint){var u=a.createSVGPoint();return u.x=i.clientX,u.y=i.clientY,[(u=u.matrixTransform(t.getScreenCTM().inverse())).x,u.y]}var c=t.getBoundingClientRect();return[i.clientX-c.left-t.clientLeft,i.clientY-c.top-t.clientTop]}function fn(t){var i=Ye();return i.changedTouches&&(i=i.changedTouches[0]),Ae(t,i)}function Ke(t,i,a){arguments.length<3&&(a=i,i=Ye().changedTouches);for(var u,c=0,d=i?i.length:0;c<d;++c)if((u=i[c]).identifier===a)return Ae(t,u);return null}function Gn(){r.event.stopImmediatePropagation()}function Ln(){r.event.preventDefault(),r.event.stopImmediatePropagation()}function Xn(t){var i=t.document.documentElement,a=ge(t).on("dragstart.drag",Ln,!0);"onselectstart"in i?a.on("selectstart.drag",Ln,!0):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function un(t,i){var a=t.document.documentElement,u=ge(t).on("dragstart.drag",null);i&&(u.on("click.drag",Ln,!0),setTimeout(function(){u.on("click.drag",null)},0)),"onselectstart"in a?u.on("selectstart.drag",null):(a.style.MozUserSelect=a.__noselect,delete a.__noselect)}function Vn(t){return function(){return t}}function ti(t,i,a,u,c,d,m,g,_,b){this.target=t,this.type=i,this.subject=a,this.identifier=u,this.active=c,this.x=d,this.y=m,this.dx=g,this.dy=_,this._=b}function ea(){return!r.event.ctrlKey&&!r.event.button}function Ni(){return this.parentNode}function Oi(t){return null==t?{x:r.event.x,y:r.event.y}:t}function vi(){return navigator.maxTouchPoints||"ontouchstart"in this}function vn(t,i,a){t.prototype=i.prototype=a,a.constructor=t}function qn(t,i){var a=Object.create(t.prototype);for(var u in i)a[u]=i[u];return a}function $n(){}tn.prototype=In.prototype={constructor:tn,get:function(t){for(var i=this._;!(i in t);)if(!(t=t.parentNode))return;return t[i]},set:function(t,i){return t[this._]=i},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},ti.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var oi="\\s*([+-]?\\d+)\\s*",Qn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ei=/^#([0-9a-f]{3,8})$/,nl=new RegExp("^rgb\\("+[oi,oi,oi]+"\\)$"),no=new RegExp("^rgb\\("+[cn,cn,cn]+"\\)$"),ms=new RegExp("^rgba\\("+[oi,oi,oi,Qn]+"\\)$"),Sa=new RegExp("^rgba\\("+[cn,cn,cn,Qn]+"\\)$"),vs=new RegExp("^hsl\\("+[Qn,cn,cn]+"\\)$"),Wi=new RegExp("^hsla\\("+[Qn,cn,cn,Qn]+"\\)$"),io={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Lr(){return this.rgb().formatHex()}function _s(){return this.rgb().formatRgb()}function or(t){var i,a;return t=(t+"").trim().toLowerCase(),(i=ei.exec(t))?(a=i[1].length,i=parseInt(i[1],16),6===a?sr(i):3===a?new Zn(i>>8&15|i>>4&240,i>>4&15|240&i,(15&i)<<4|15&i,1):8===a?Ki(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):4===a?Ki(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|240&i,((15&i)<<4|15&i)/255):null):(i=nl.exec(t))?new Zn(i[1],i[2],i[3],1):(i=no.exec(t))?new Zn(255*i[1]/100,255*i[2]/100,255*i[3]/100,1):(i=ms.exec(t))?Ki(i[1],i[2],i[3],i[4]):(i=Sa.exec(t))?Ki(255*i[1]/100,255*i[2]/100,255*i[3]/100,i[4]):(i=vs.exec(t))?Ca(i[1],i[2]/100,i[3]/100,1):(i=Wi.exec(t))?Ca(i[1],i[2]/100,i[3]/100,i[4]):io.hasOwnProperty(t)?sr(io[t]):"transparent"===t?new Zn(NaN,NaN,NaN,0):null}function sr(t){return new Zn(t>>16&255,t>>8&255,255&t,1)}function Ki(t,i,a,u){return u<=0&&(t=i=a=NaN),new Zn(t,i,a,u)}function na(t){return t instanceof $n||(t=or(t)),t?new Zn((t=t.rgb()).r,t.g,t.b,t.opacity):new Zn}function Ir(t,i,a,u){return 1===arguments.length?na(t):new Zn(t,i,a,null==u?1:u)}function Zn(t,i,a,u){this.r=+t,this.g=+i,this.b=+a,this.opacity=+u}function ro(){return"#"+Ta(this.r)+Ta(this.g)+Ta(this.b)}function Nr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ta(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ca(t,i,a,u){return u<=0?t=i=a=NaN:a<=0||a>=1?t=i=NaN:i<=0&&(t=NaN),new $i(t,i,a,u)}function ys(t){if(t instanceof $i)return new $i(t.h,t.s,t.l,t.opacity);if(t instanceof $n||(t=or(t)),!t)return new $i;if(t instanceof $i)return t;var i=(t=t.rgb()).r/255,a=t.g/255,u=t.b/255,c=Math.min(i,a,u),d=Math.max(i,a,u),m=NaN,g=d-c,_=(d+c)/2;return g?(m=i===d?(a-u)/g+6*(a<u):a===d?(u-i)/g+2:(i-a)/g+4,g/=_<.5?d+c:2-d-c,m*=60):g=_>0&&_<1?0:m,new $i(m,g,_,t.opacity)}function ia(t,i,a,u){return 1===arguments.length?ys(t):new $i(t,i,a,null==u?1:u)}function $i(t,i,a,u){this.h=+t,this.s=+i,this.l=+a,this.opacity=+u}function ao(t,i,a){return 255*(t<60?i+(a-i)*t/60:t<180?a:t<240?i+(a-i)*(240-t)/60:i)}vn($n,or,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Lr,formatHex:Lr,formatHsl:function(){return ys(this).formatHsl()},formatRgb:_s,toString:_s}),vn(Zn,Ir,qn($n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ro,formatHex:ro,formatRgb:Nr,toString:Nr})),vn($i,ia,qn($n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new $i(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new $i(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),i=isNaN(t)||isNaN(this.s)?0:this.s,a=this.l,u=a+(a<.5?a:1-a)*i,c=2*a-u;return new Zn(ao(t>=240?t-240:t+120,c,u),ao(t,c,u),ao(t<120?t+240:t-120,c,u),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Aa=Math.PI/180,bs=180/Math.PI,Ts=4/29,Or=6/29,oo=3*Or*Or;function uo(t){if(t instanceof Ri)return new Ri(t.l,t.a,t.b,t.opacity);if(t instanceof zi)return Cs(t);t instanceof Zn||(t=na(t));var i,a,u=pr(t.r),c=pr(t.g),d=pr(t.b),m=ka((.2225045*u+.7168786*c+.0606169*d)/1);return u===c&&c===d?i=a=m:(i=ka((.4360747*u+.3850649*c+.1430804*d)/.96422),a=ka((.0139322*u+.0971045*c+.7141733*d)/.82521)),new Ri(116*m-16,500*(i-m),200*(m-a),t.opacity)}function Rr(t,i,a,u){return 1===arguments.length?uo(t):new Ri(t,i,a,null==u?1:u)}function Ri(t,i,a,u){this.l=+t,this.a=+i,this.b=+a,this.opacity=+u}function ka(t){return t>.008856451679035631?Math.pow(t,1/3):t/oo+Ts}function ra(t){return t>Or?t*t*t:oo*(t-Ts)}function lo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function pr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function co(t){if(t instanceof zi)return new zi(t.h,t.c,t.l,t.opacity);if(t instanceof Ri||(t=uo(t)),0===t.a&&0===t.b)return new zi(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var i=Math.atan2(t.b,t.a)*bs;return new zi(i<0?i+360:i,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function aa(t,i,a,u){return 1===arguments.length?co(t):new zi(t,i,a,null==u?1:u)}function zi(t,i,a,u){this.h=+t,this.c=+i,this.l=+a,this.opacity=+u}function Cs(t){if(isNaN(t.h))return new Ri(t.l,0,0,t.opacity);var i=t.h*Aa;return new Ri(t.l,Math.cos(i)*t.c,Math.sin(i)*t.c,t.opacity)}vn(Ri,Rr,qn($n,{brighter:function(t){return new Ri(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ri(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,i=isNaN(this.a)?t:t+this.a/500,a=isNaN(this.b)?t:t-this.b/200;return new Zn(lo(3.1338561*(i=.96422*ra(i))-1.6168667*(t=1*ra(t))-.4906146*(a=.82521*ra(a))),lo(-.9787684*i+1.9161415*t+.033454*a),lo(.0719453*i-.2289914*t+1.4052427*a),this.opacity)}})),vn(zi,aa,qn($n,{brighter:function(t){return new zi(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new zi(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Cs(this).rgb()}}));var ho=1.78277,p=-.29227,x=-.90649,A=1.97294,D=A*x,R=A*ho,j=ho*p- -.14861*x;function W(t,i,a,u){return 1===arguments.length?function(c){if(c instanceof it)return new it(c.h,c.s,c.l,c.opacity);c instanceof Zn||(c=na(c));var m=c.g/255,g=c.b/255,_=(j*g+D*(c.r/255)-R*m)/(j+D-R),b=g-_,S=(A*(m-_)-p*b)/x,P=Math.sqrt(S*S+b*b)/(A*_*(1-_)),T=P?Math.atan2(S,b)*bs-120:NaN;return new it(T<0?T+360:T,P,_,c.opacity)}(t):new it(t,i,a,null==u?1:u)}function it(t,i,a,u){this.h=+t,this.s=+i,this.l=+a,this.opacity=+u}function ut(t,i,a,u,c){var d=t*t,m=d*t;return((1-3*t+3*d-m)*i+(4-6*d+3*m)*a+(1+3*t+3*d-3*m)*u+m*c)/6}function _t(t){var i=t.length-1;return function(a){var u=a<=0?a=0:a>=1?(a=1,i-1):Math.floor(a*i),c=t[u],d=t[u+1];return ut((a-u/i)*i,u>0?t[u-1]:2*c-d,c,d,u<i-1?t[u+2]:2*d-c)}}function It(t){var i=t.length;return function(a){var u=Math.floor(((a%=1)<0?++a:a)*i);return ut((a-u/i)*i,t[(u+i-1)%i],t[u%i],t[(u+1)%i],t[(u+2)%i])}}function zt(t){return function(){return t}}function Pt(t,i){return function(a){return t+a*i}}function Lt(t,i){var a=i-t;return a?Pt(t,a>180||a<-180?a-360*Math.round(a/360):a):zt(isNaN(t)?i:t)}function Jt(t,i){var a=i-t;return a?Pt(t,a):zt(isNaN(t)?i:t)}vn(it,W,qn($n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new it(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new it(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Aa,i=+this.l,a=isNaN(this.s)?0:this.s*i*(1-i),u=Math.cos(t),c=Math.sin(t);return new Zn(255*(i+a*(-.14861*u+ho*c)),255*(i+a*(p*u+x*c)),255*(i+a*(A*u)),this.opacity)}}));var ie=function t(i){var a=function(t){return 1==(t=+t)?Jt:function(i,a){return a-i?(u=i,c=a,d=t,u=Math.pow(u,d),c=Math.pow(c,d)-u,d=1/d,function(m){return Math.pow(u+m*c,d)}):zt(isNaN(i)?a:i);var u,c,d}}(i);function u(c,d){var m=a((c=Ir(c)).r,(d=Ir(d)).r),g=a(c.g,d.g),_=a(c.b,d.b),b=Jt(c.opacity,d.opacity);return function(S){return c.r=m(S),c.g=g(S),c.b=_(S),c.opacity=b(S),c+""}}return u.gamma=t,u}(1);function Mn(t){return function(i){var a,u,c=i.length,d=new Array(c),m=new Array(c),g=new Array(c);for(a=0;a<c;++a)u=Ir(i[a]),d[a]=u.r||0,m[a]=u.g||0,g[a]=u.b||0;return d=t(d),m=t(m),g=t(g),u.opacity=1,function(_){return u.r=d(_),u.g=m(_),u.b=g(_),u+""}}}var Bn=Mn(_t),Ci=Mn(It);function pn(t,i){i||(i=[]);var a,u=t?Math.min(i.length,t.length):0,c=i.slice();return function(d){for(a=0;a<u;++a)c[a]=t[a]*(1-d)+i[a]*d;return c}}function Fe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ci(t,i){var a,u=i?i.length:0,c=t?Math.min(u,t.length):0,d=new Array(c),m=new Array(u);for(a=0;a<c;++a)d[a]=Qi(t[a],i[a]);for(;a<u;++a)m[a]=i[a];return function(g){for(a=0;a<c;++a)m[a]=d[a](g);return m}}function an(t,i){var a=new Date;return t=+t,i=+i,function(u){return a.setTime(t*(1-u)+i*u),a}}function on(t,i){return t=+t,i=+i,function(a){return t*(1-a)+i*a}}function zr(t,i){var a,u={},c={};for(a in null!==t&&"object"==typeof t||(t={}),null!==i&&"object"==typeof i||(i={}),i)a in t?u[a]=Qi(t[a],i[a]):c[a]=i[a];return function(d){for(a in u)c[a]=u[a](d);return c}}var Fr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hi=new RegExp(Fr.source,"g");function nr(t,i){var a,u,c,b,d=Fr.lastIndex=hi.lastIndex=0,m=-1,g=[],_=[];for(t+="",i+="";(a=Fr.exec(t))&&(u=hi.exec(i));)(c=u.index)>d&&(c=i.slice(d,c),g[m]?g[m]+=c:g[++m]=c),(a=a[0])===(u=u[0])?g[m]?g[m]+=u:g[++m]=u:(g[++m]=null,_.push({i:m,x:on(a,u)})),d=hi.lastIndex;return d<i.length&&(c=i.slice(d),g[m]?g[m]+=c:g[++m]=c),g.length<2?_[0]?(b=_[0].x,function(S){return b(S)+""}):function(b){return function(){return b}}(i):(i=_.length,function(b){for(var S,P=0;P<i;++P)g[(S=_[P]).i]=S.x(b);return g.join("")})}function Qi(t,i){var a,u=typeof i;return null==i||"boolean"===u?zt(i):("number"===u?on:"string"===u?(a=or(i))?(i=a,ie):nr:i instanceof or?ie:i instanceof Date?an:Fe(i)?pn:Array.isArray(i)?ci:"function"!=typeof i.valueOf&&"function"!=typeof i.toString||isNaN(i)?zr:on)(t,i)}function di(t,i){return t=+t,i=+i,function(a){return Math.round(t*(1-a)+i*a)}}var Zi,_i,Dn,si,yi=180/Math.PI,Fi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ge(t,i,a,u,c,d){var m,g,_;return(m=Math.sqrt(t*t+i*i))&&(t/=m,i/=m),(_=t*a+i*u)&&(a-=t*_,u-=i*_),(g=Math.sqrt(a*a+u*u))&&(a/=g,u/=g,_/=g),t*u<i*a&&(t=-t,i=-i,_=-_,m=-m),{translateX:c,translateY:d,rotate:Math.atan2(i,t)*yi,skewX:Math.atan(_)*yi,scaleX:m,scaleY:g}}function hn(t,i,a,u){function c(d){return d.length?d.pop()+" ":""}return function(d,m){var b,S,P,g=[],_=[];return d=t(d),m=t(m),function(b,S,P,T,I,N){if(b!==P||S!==T){var F=I.push("translate(",null,i,null,a);N.push({i:F-4,x:on(b,P)},{i:F-2,x:on(S,T)})}else(P||T)&&I.push("translate("+P+i+T+a)}(d.translateX,d.translateY,m.translateX,m.translateY,g,_),P=g,(b=d.rotate)!==(S=m.rotate)?(b-S>180?S+=360:S-b>180&&(b+=360),_.push({i:P.push(c(P)+"rotate(",null,u)-2,x:on(b,S)})):S&&P.push(c(P)+"rotate("+S+u),function(b,S,P,T){b!==S?T.push({i:P.push(c(P)+"skewX(",null,u)-2,x:on(b,S)}):S&&P.push(c(P)+"skewX("+S+u)}(d.skewX,m.skewX,g,_),function(b,S,P,T,I,N){if(b!==P||S!==T){var F=I.push(c(I)+"scale(",null,",",null,")");N.push({i:F-4,x:on(b,P)},{i:F-2,x:on(S,T)})}else 1===P&&1===T||I.push(c(I)+"scale("+P+","+T+")")}(d.scaleX,d.scaleY,m.scaleX,m.scaleY,g,_),d=m=null,function(b){for(var S,P=-1,T=_.length;++P<T;)g[(S=_[P]).i]=S.x(b);return g.join("")}}}var jn=hn(function(t){return"none"===t?Fi:(Zi||(Zi=document.createElement("DIV"),_i=document.documentElement,Dn=document.defaultView),Zi.style.transform=t,t=Dn.getComputedStyle(_i.appendChild(Zi),null).getPropertyValue("transform"),_i.removeChild(Zi),Ge(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),bi=hn(function(t){return null==t?Fi:(si||(si=document.createElementNS("http://www.w3.org/2000/svg","g")),si.setAttribute("transform",t),(t=si.transform.baseVal.consolidate())?Ge((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Fi)},", ",")",")"),En=Math.SQRT2;function ks(t){return((t=Math.exp(t))+1/t)/2}function Ps(t,i){var a,u,c=t[0],d=t[1],m=t[2],b=i[2],S=i[0]-c,P=i[1]-d,T=S*S+P*P;if(T<1e-12)u=Math.log(b/m)/En,a=function(q){return[c+q*S,d+q*P,m*Math.exp(En*q*u)]};else{var I=Math.sqrt(T),N=(b*b-m*m+4*T)/(2*m*2*I),F=(b*b-m*m-4*T)/(2*b*2*I),B=Math.log(Math.sqrt(N*N+1)-N),z=Math.log(Math.sqrt(F*F+1)-F);u=(z-B)/En,a=function(q){var ft,X=q*u,Q=ks(B),ot=m/(2*I)*(Q*(ft=En*X+B,((ft=Math.exp(2*ft))-1)/(ft+1))-function(ft){return((ft=Math.exp(ft))-1/ft)/2}(B));return[c+ot*S,d+ot*P,m*Q/ks(En*X+B)]}}return a.duration=1e3*u,a}function Ms(t){return function(i,a){var u=t((i=ia(i)).h,(a=ia(a)).h),c=Jt(i.s,a.s),d=Jt(i.l,a.l),m=Jt(i.opacity,a.opacity);return function(g){return i.h=u(g),i.s=c(g),i.l=d(g),i.opacity=m(g),i+""}}}var Ma=Ms(Lt),il=Ms(Jt);function Ds(t){return function(i,a){var u=t((i=aa(i)).h,(a=aa(a)).h),c=Jt(i.c,a.c),d=Jt(i.l,a.l),m=Jt(i.opacity,a.opacity);return function(g){return i.h=u(g),i.c=c(g),i.l=d(g),i.opacity=m(g),i+""}}}var rl=Ds(Lt),oa=Ds(Jt);function Es(t){return function i(a){function u(c,d){var m=t((c=W(c)).h,(d=W(d)).h),g=Jt(c.s,d.s),_=Jt(c.l,d.l),b=Jt(c.opacity,d.opacity);return function(S){return c.h=m(S),c.s=g(S),c.l=_(Math.pow(S,a)),c.opacity=b(S),c+""}}return a=+a,u.gamma=i,u}(1)}var Gi,Hr,fo=Es(Lt),Hi=Es(Jt),mr=0,Gr=0,sa=0,vr=0,ni=0,xi=0,_r="object"==typeof performance&&performance.now?performance:Date,po="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Br(){return ni||(po(al),ni=_r.now()+xi)}function al(){ni=0}function jr(){this._call=this._time=this._next=null}function Ji(t,i,a){var u=new jr;return u.restart(t,i,a),u}function Da(){Br(),++mr;for(var t,i=Gi;i;)(t=ni-i._time)>=0&&i._call.call(null,t),i=i._next;--mr}function go(){ni=(vr=_r.now())+xi,mr=Gr=0;try{Da()}finally{mr=0,function(){for(var t,i,a=Gi,u=1/0;a;)a._call?(u>a._time&&(u=a._time),t=a,a=a._next):(i=a._next,a._next=null,a=t?t._next=i:Gi=i);Hr=t,Wr(u)}(),ni=0}}function Ea(){var t=_r.now(),i=t-vr;i>1e3&&(xi-=i,vr=t)}function Wr(t){mr||(Gr&&(Gr=clearTimeout(Gr)),t-ni>24?(t<1/0&&(Gr=setTimeout(go,t-_r.now()-xi)),sa&&(sa=clearInterval(sa))):(sa||(vr=_r.now(),sa=setInterval(Ea,1e3)),mr=1,po(go)))}function ua(t,i,a){var u=new jr;return u.restart(function(c){u.stop(),t(c+i)},i=null==i?0:+i,a),u}jr.prototype=Ji.prototype={constructor:jr,restart:function(t,i,a){if("function"!=typeof t)throw new TypeError("callback is not a function");a=(null==a?Br():+a)+(null==i?0:+i),this._next||Hr===this||(Hr?Hr._next=this:Gi=this,Hr=this),this._call=t,this._time=a,Wr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wr())}};var La=J("start","end","cancel","interrupt"),mo=[];function Yt(t,i,a,u,c,d){var m=t.__transition;if(m){if(a in m)return}else t.__transition={};!function(g,_,b){var S,P=g.__transition;function T(F){var B,z,q,X;if(1!==b.state)return N();for(B in P)if((X=P[B]).name===b.name){if(3===X.state)return ua(T);4===X.state?(X.state=6,X.timer.stop(),X.on.call("interrupt",g,g.__data__,X.index,X.group),delete P[B]):+B<_&&(X.state=6,X.timer.stop(),X.on.call("cancel",g,g.__data__,X.index,X.group),delete P[B])}if(ua(function(){3===b.state&&(b.state=4,b.timer.restart(I,b.delay,b.time),I(F))}),b.state=2,b.on.call("start",g,g.__data__,b.index,b.group),2===b.state){for(b.state=3,S=new Array(q=b.tween.length),B=0,z=-1;B<q;++B)(X=b.tween[B].value.call(g,g.__data__,b.index,b.group))&&(S[++z]=X);S.length=z+1}}function I(F){for(var B=F<b.duration?b.ease.call(null,F/b.duration):(b.timer.restart(N),b.state=5,1),z=-1,q=S.length;++z<q;)S[z].call(g,B);5===b.state&&(b.on.call("end",g,g.__data__,b.index,b.group),N())}function N(){for(var F in b.state=6,b.timer.stop(),delete P[_],P)return;delete g.__transition}P[_]=b,b.timer=Ji(function(F){b.state=1,b.timer.restart(T,b.delay,b.time),b.delay<=F&&T(F-b.delay)},0,b.time)}(t,a,{name:i,index:u,group:c,on:La,tween:mo,time:d.time,delay:d.delay,duration:d.duration,ease:d.ease,timer:null,state:0})}function Ut(t,i){var a=be(t,i);if(a.state>0)throw new Error("too late; already scheduled");return a}function Zt(t,i){var a=be(t,i);if(a.state>3)throw new Error("too late; already running");return a}function be(t,i){var a=t.__transition;if(!a||!(a=a[i]))throw new Error("transition not found");return a}function xe(t,i){var a,u,c,d=t.__transition,m=!0;if(d){for(c in i=null==i?null:i+"",d)(a=d[c]).name===i?(u=a.state>2&&a.state<5,a.state=6,a.timer.stop(),a.on.call(u?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete d[c]):m=!1;m&&delete t.__transition}}function Ie(t,i,a){var u=t._id;return t.each(function(){var c=Zt(this,u);(c.value||(c.value={}))[i]=a.apply(this,arguments)}),function(c){return be(c,u).value[i]}}function Ze(t,i){var a;return("number"==typeof i?on:i instanceof or?ie:(a=or(i))?(i=a,ie):nr)(t,i)}var Rn=de.prototype.constructor;function Be(t){return function(){this.style.removeProperty(t)}}var Un=0;function Tn(t,i,a,u){this._groups=t,this._parents=i,this._name=a,this._id=u}function ui(t){return de().transition(t)}function xn(){return++Un}var pi=de.prototype;function ii(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Nn(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Tn.prototype=ui.prototype={constructor:Tn,select:function(t){var i=this._name,a=this._id;"function"!=typeof t&&(t=Kt(t));for(var u=this._groups,c=u.length,d=new Array(c),m=0;m<c;++m)for(var g,_,b=u[m],S=b.length,P=d[m]=new Array(S),T=0;T<S;++T)(g=b[T])&&(_=t.call(g,g.__data__,T,b))&&("__data__"in g&&(_.__data__=g.__data__),P[T]=_,Yt(P[T],i,a,T,P,be(g,a)));return new Tn(d,this._parents,i,a)},selectAll:function(t){var i=this._name,a=this._id;"function"!=typeof t&&(t=se(t));for(var u=this._groups,c=u.length,d=[],m=[],g=0;g<c;++g)for(var _,b=u[g],S=b.length,P=0;P<S;++P)if(_=b[P]){for(var T,I=t.call(_,_.__data__,P,b),N=be(_,a),F=0,B=I.length;F<B;++F)(T=I[F])&&Yt(T,i,a,F,I,N);d.push(I),m.push(_)}return new Tn(d,m,i,a)},filter:function(t){"function"!=typeof t&&(t=$t(t));for(var i=this._groups,a=i.length,u=new Array(a),c=0;c<a;++c)for(var d,m=i[c],g=m.length,_=u[c]=[],b=0;b<g;++b)(d=m[b])&&t.call(d,d.__data__,b,m)&&_.push(d);return new Tn(u,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var i=this._groups,a=t._groups,u=i.length,d=Math.min(u,a.length),m=new Array(u),g=0;g<d;++g)for(var _,b=i[g],S=a[g],P=b.length,T=m[g]=new Array(P),I=0;I<P;++I)(_=b[I]||S[I])&&(T[I]=_);for(;g<u;++g)m[g]=i[g];return new Tn(m,this._parents,this._name,this._id)},selection:function(){return new Rn(this._groups,this._parents)},transition:function(){for(var t=this._name,i=this._id,a=xn(),u=this._groups,c=u.length,d=0;d<c;++d)for(var m,g=u[d],_=g.length,b=0;b<_;++b)if(m=g[b]){var S=be(m,i);Yt(m,t,a,b,g,{time:S.time+S.delay+S.duration,delay:0,duration:S.duration,ease:S.ease})}return new Tn(u,this._parents,t,a)},call:pi.call,nodes:pi.nodes,node:pi.node,size:pi.size,empty:pi.empty,each:pi.each,on:function(t,i){var u,c,d,m,g,_,a=this._id;return arguments.length<2?be(this.node(),a).on.on(t):this.each((u=a,d=i,_=((c=t)+"").trim().split(/^|\s+/).every(function(S){var P=S.indexOf(".");return P>=0&&(S=S.slice(0,P)),!S||"start"===S})?Ut:Zt,function(){var b=_(this,u),S=b.on;S!==m&&(g=(m=S).copy()).on(c,d),b.on=g}))},attr:function(t,i){var a=yt(t),u="transform"===a?bi:Ze;return this.attrTween(t,"function"==typeof i?(a.local?function(c,d,m){var g,_,b;return function(){var S,P,T=m(this);if(null!=T)return(S=this.getAttributeNS(c.space,c.local))===(P=T+"")?null:S===g&&P===_?b:(_=P,b=d(g=S,T));this.removeAttributeNS(c.space,c.local)}}:function(c,d,m){var g,_,b;return function(){var S,P,T=m(this);if(null!=T)return(S=this.getAttribute(c))===(P=T+"")?null:S===g&&P===_?b:(_=P,b=d(g=S,T));this.removeAttribute(c)}})(a,u,Ie(this,"attr."+t,i)):null==i?(a.local?function(c){return function(){this.removeAttributeNS(c.space,c.local)}}:function(c){return function(){this.removeAttribute(c)}})(a):(a.local?function(c,d,m){var g,_,b=m+"";return function(){var S=this.getAttributeNS(c.space,c.local);return S===b?null:S===g?_:_=d(g=S,m)}}:function(c,d,m){var g,_,b=m+"";return function(){var S=this.getAttribute(c);return S===b?null:S===g?_:_=d(g=S,m)}})(a,u,i))},attrTween:function(t,i){var a="attr."+t;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==i)return this.tween(a,null);if("function"!=typeof i)throw new Error;var u=yt(t);return this.tween(a,(u.local?function(c,d){var m,g;function _(){var S,P,b=d.apply(this,arguments);return b!==g&&(m=(g=b)&&(S=c,P=b,function(T){this.setAttributeNS(S.space,S.local,P.call(this,T))})),m}return _._value=d,_}:function(c,d){var m,g;function _(){var S,P,b=d.apply(this,arguments);return b!==g&&(m=(g=b)&&(S=c,P=b,function(T){this.setAttribute(S,P.call(this,T))})),m}return _._value=d,_})(u,i))},style:function(t,i,a){var c,d,m,g,_,u="transform"==(t+="")?jn:Ze;return null==i?this.styleTween(t,(c=t,d=u,function(){var b=Ee(this,c),S=(this.style.removeProperty(c),Ee(this,c));return b===S?null:b===m&&S===g?_:_=d(m=b,g=S)})).on("end.style."+t,Be(t)):"function"==typeof i?this.styleTween(t,function(c,d,m){var g,_,b;return function(){var S=Ee(this,c),P=m(this),T=P+"";return null==P&&(this.style.removeProperty(c),T=P=Ee(this,c)),S===T?null:S===g&&T===_?b:(_=T,b=d(g=S,P))}}(t,u,Ie(this,"style."+t,i))).each(function(c,d){var m,g,_,b,S="style."+d,P="end."+S;return function(){var T=Zt(this,c),I=T.on,N=null==T.value[S]?b||(b=Be(d)):void 0;I===m&&_===N||(g=(m=I).copy()).on(P,_=N),T.on=g}}(this._id,t)):this.styleTween(t,function(c,d,m){var g,_,b=m+"";return function(){var S=Ee(this,c);return S===b?null:S===g?_:_=d(g=S,m)}}(t,u,i),a).on("end.style."+t,null)},styleTween:function(t,i,a){var u="style."+(t+="");if(arguments.length<2)return(u=this.tween(u))&&u._value;if(null==i)return this.tween(u,null);if("function"!=typeof i)throw new Error;return this.tween(u,function(c,d,m){var g,_;function b(){var P,T,I,S=d.apply(this,arguments);return S!==_&&(g=(_=S)&&(P=c,T=S,I=m,function(N){this.style.setProperty(P,T.call(this,N),I)})),g}return b._value=d,b}(t,i,null==a?"":a))},text:function(t){return this.tween("text","function"==typeof t?(i=Ie(this,"text",t),function(){var a=i(this);this.textContent=null==a?"":a}):function(i){return function(){this.textContent=i}}(null==t?"":t+""));var i},textTween:function(t){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,function(a){var u,c;function d(){var g,m=a.apply(this,arguments);return m!==c&&(u=(c=m)&&(g=m,function(_){this.textContent=g.call(this,_)})),u}return d._value=a,d}(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var i=this.parentNode;for(var a in this.__transition)if(+a!==t)return;i&&i.removeChild(this)}));var t},tween:function(t,i){var a=this._id;if(t+="",arguments.length<2){for(var u,c=be(this.node(),a).tween,d=0,m=c.length;d<m;++d)if((u=c[d]).name===t)return u.value;return null}return this.each((null==i?function(g,_){var b,S;return function(){var P=Zt(this,g),T=P.tween;if(T!==b)for(var I=0,N=(S=b=T).length;I<N;++I)if(S[I].name===_){(S=S.slice()).splice(I,1);break}P.tween=S}}:function(g,_,b){var S,P;if("function"!=typeof b)throw new Error;return function(){var T=Zt(this,g),I=T.tween;if(I!==S){P=(S=I).slice();for(var N={name:_,value:b},F=0,B=P.length;F<B;++F)if(P[F].name===_){P[F]=N;break}F===B&&P.push(N)}T.tween=P}})(a,t,i))},delay:function(t){var i=this._id;return arguments.length?this.each(("function"==typeof t?function(a,u){return function(){Ut(this,a).delay=+u.apply(this,arguments)}}:function(a,u){return u=+u,function(){Ut(this,a).delay=u}})(i,t)):be(this.node(),i).delay},duration:function(t){var i=this._id;return arguments.length?this.each(("function"==typeof t?function(a,u){return function(){Zt(this,a).duration=+u.apply(this,arguments)}}:function(a,u){return u=+u,function(){Zt(this,a).duration=u}})(i,t)):be(this.node(),i).duration},ease:function(t){var i=this._id;return arguments.length?this.each(function(a,u){if("function"!=typeof u)throw new Error;return function(){Zt(this,a).ease=u}}(i,t)):be(this.node(),i).ease},end:function(){var t,i,a=this,u=a._id,c=a.size();return new Promise(function(d,m){var g={value:m},_={value:function(){0==--c&&d()}};a.each(function(){var b=Zt(this,u),S=b.on;S!==t&&((i=(t=S).copy())._.cancel.push(g),i._.interrupt.push(g),i._.end.push(_)),b.on=i})})}};var Yi=function t(i){function a(u){return Math.pow(u,i)}return i=+i,a.exponent=t,a}(3),Na=function t(i){function a(u){return 1-Math.pow(1-u,i)}return i=+i,a.exponent=t,a}(3),vo=function t(i){function a(u){return((u*=2)<=1?Math.pow(u,i):2-Math.pow(2-u,i))/2}return i=+i,a.exponent=t,a}(3),_o=Math.PI,Ls=_o/2;function ch(t){return(1-Math.cos(_o*t))/2}function hh(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function dh(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Is=7.5625;function yo(t){return(t=+t)<.36363636363636365?Is*t*t:t<.7272727272727273?Is*(t-=.5454545454545454)*t+.75:t<.9090909090909091?Is*(t-=.8181818181818182)*t+.9375:Is*(t-=.9545454545454546)*t+.984375}var Gg=function t(i){function a(u){return u*u*((i+1)*u-i)}return i=+i,a.overshoot=t,a}(1.70158),Bg=function t(i){function a(u){return--u*u*((i+1)*u+i)+1}return i=+i,a.overshoot=t,a}(1.70158),fh=function t(i){function a(u){return((u*=2)<1?u*u*((i+1)*u-i):(u-=2)*u*((i+1)*u+i)+2)/2}return i=+i,a.overshoot=t,a}(1.70158),Oa=2*Math.PI,jg=function t(i,a){var u=Math.asin(1/(i=Math.max(1,i)))*(a/=Oa);function c(d){return i*Math.pow(2,10*--d)*Math.sin((u-d)/a)}return c.amplitude=function(d){return t(d,a*Oa)},c.period=function(d){return t(i,d)},c}(1,.3),ph=function t(i,a){var u=Math.asin(1/(i=Math.max(1,i)))*(a/=Oa);function c(d){return 1-i*Math.pow(2,-10*(d=+d))*Math.sin((d+u)/a)}return c.amplitude=function(d){return t(d,a*Oa)},c.period=function(d){return t(i,d)},c}(1,.3),Wg=function t(i,a){var u=Math.asin(1/(i=Math.max(1,i)))*(a/=Oa);function c(d){return((d=2*d-1)<0?i*Math.pow(2,10*d)*Math.sin((u-d)/a):2-i*Math.pow(2,-10*d)*Math.sin((u+d)/a))/2}return c.amplitude=function(d){return t(d,a*Oa)},c.period=function(d){return t(i,d)},c}(1,.3),sl={time:null,delay:0,duration:250,ease:Nn};function Yg(t,i){for(var a;!(a=t.__transition)||!(a=a[i]);)if(!(t=t.parentNode))return sl.time=Br(),sl;return a}de.prototype.interrupt=function(t){return this.each(function(){xe(this,t)})},de.prototype.transition=function(t){var i,a;t instanceof Tn?(i=t._id,t=t._name):(i=xn(),(a=sl).time=Br(),t=null==t?null:t+"");for(var u=this._groups,c=u.length,d=0;d<c;++d)for(var m,g=u[d],_=g.length,b=0;b<_;++b)(m=g[b])&&Yt(m,t,i,b,g,a||Yg(m,i));return new Tn(u,this._parents,t,i)};var Xg=[null];function ul(t){return function(){return t}}function qg(t,i,a){this.target=t,this.type=i,this.selection=a}function gh(){r.event.stopImmediatePropagation()}function ll(){r.event.preventDefault(),r.event.stopImmediatePropagation()}var mh={name:"drag"},cl={name:"space"},Ra={name:"handle"},za={name:"center"};function vh(t){return[+t[0],+t[1]]}function hl(t){return[vh(t[0]),vh(t[1])]}var Ns={name:"x",handles:["w","e"].map(bo),input:function(t,i){return null==t?null:[[+t[0],i[0][1]],[+t[1],i[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Os={name:"y",handles:["n","s"].map(bo),input:function(t,i){return null==t?null:[[i[0][0],+t[0]],[i[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ug={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(bo),input:function(t){return null==t?null:hl(t)},output:function(t){return t}},yr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_h={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},yh={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Kg={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},$g={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function bo(t){return{type:t}}function Qg(){return!r.event.ctrlKey&&!r.event.button}function Zg(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Jg(){return navigator.maxTouchPoints||"ontouchstart"in this}function dl(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function fl(t){var i,a=Zg,u=Qg,c=Jg,d=!0,m=J("start","brush","end"),g=6;function _(B){var z=B.property("__brush",F).selectAll(".overlay").data([bo("overlay")]);z.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",yr.overlay).merge(z).each(function(){var X=dl(this).extent;ge(this).attr("x",X[0][0]).attr("y",X[0][1]).attr("width",X[1][0]-X[0][0]).attr("height",X[1][1]-X[0][1])}),B.selectAll(".selection").data([bo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",yr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var q=B.selectAll(".handle").data(t.handles,function(X){return X.type});q.exit().remove(),q.enter().append("rect").attr("class",function(X){return"handle handle--"+X.type}).attr("cursor",function(X){return yr[X.type]}),B.each(b).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",T).filter(c).on("touchstart.brush",T).on("touchmove.brush",I).on("touchend.brush touchcancel.brush",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(){var B=ge(this),z=dl(this).selection;z?(B.selectAll(".selection").style("display",null).attr("x",z[0][0]).attr("y",z[0][1]).attr("width",z[1][0]-z[0][0]).attr("height",z[1][1]-z[0][1]),B.selectAll(".handle").style("display",null).attr("x",function(q){return"e"===q.type[q.type.length-1]?z[1][0]-g/2:z[0][0]-g/2}).attr("y",function(q){return"s"===q.type[0]?z[1][1]-g/2:z[0][1]-g/2}).attr("width",function(q){return"n"===q.type||"s"===q.type?z[1][0]-z[0][0]+g:g}).attr("height",function(q){return"e"===q.type||"w"===q.type?z[1][1]-z[0][1]+g:g})):B.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function S(B,z,q){return!q&&B.__brush.emitter||new P(B,z)}function P(B,z){this.that=B,this.args=z,this.state=B.__brush,this.active=0}function T(){if((!i||r.event.touches)&&u.apply(this,arguments)){var B,z,q,X,Q,ot,ft,bt,Ot,lt,kt,xt,U=this,vt=r.event.target.__data__.type,pt="selection"===(d&&r.event.metaKey?vt="overlay":vt)?mh:d&&r.event.altKey?za:Ra,Tt=t===Os?null:Kg[vt],Nt=t===Ns?null:$g[vt],Qt=dl(U),Te=Qt.extent,Ce=Qt.selection,Xe=Te[0][0],te=Te[0][1],Ve=Te[1][0],en=Te[1][1],fe=0,Oe=0,Hn=Tt&&Nt&&d&&r.event.shiftKey,mi=r.event.touches?(xt=r.event.changedTouches[0].identifier,function(Kn){return Ke(Kn,r.event.touches,xt)}):fn,Mr=mi(U),Vr=Mr,ta=S(U,arguments,!0).beforestart();"overlay"===vt?(Ce&&(Ot=!0),Qt.selection=Ce=[[B=t===Os?Xe:Mr[0],q=t===Ns?te:Mr[1]],[Q=t===Os?Ve:B,ft=t===Ns?en:q]]):(B=Ce[0][0],q=Ce[0][1],Q=Ce[1][0],ft=Ce[1][1]),z=B,X=q,ot=Q,bt=ft;var fr=ge(U).attr("pointer-events","none"),Dr=fr.selectAll(".overlay").attr("cursor",yr[vt]);if(r.event.touches)ta.moved=el,ta.ended=ps;else{var tl=ge(r.event.view).on("mousemove.brush",el,!0).on("mouseup.brush",ps,!0);d&&tl.on("keydown.brush",function(){switch(r.event.keyCode){case 16:Hn=Tt&&Nt;break;case 18:pt===Ra&&(Tt&&(Q=ot-fe*Tt,B=z+fe*Tt),Nt&&(ft=bt-Oe*Nt,q=X+Oe*Nt),pt=za,Er());break;case 32:pt!==Ra&&pt!==za||(Tt<0?Q=ot-fe:Tt>0&&(B=z-fe),Nt<0?ft=bt-Oe:Nt>0&&(q=X-Oe),pt=cl,Dr.attr("cursor",yr.selection),Er());break;default:return}ll()},!0).on("keyup.brush",function(){switch(r.event.keyCode){case 16:Hn&&(lt=kt=Hn=!1,Er());break;case 18:pt===za&&(Tt<0?Q=ot:Tt>0&&(B=z),Nt<0?ft=bt:Nt>0&&(q=X),pt=Ra,Er());break;case 32:pt===cl&&(r.event.altKey?(Tt&&(Q=ot-fe*Tt,B=z+fe*Tt),Nt&&(ft=bt-Oe*Nt,q=X+Oe*Nt),pt=za):(Tt<0?Q=ot:Tt>0&&(B=z),Nt<0?ft=bt:Nt>0&&(q=X),pt=Ra),Dr.attr("cursor",yr[vt]),Er());break;default:return}ll()},!0),Xn(r.event.view)}gh(),xe(U),b.call(U),ta.start()}function el(){var Kn=mi(U);!Hn||lt||kt||(Math.abs(Kn[0]-Vr[0])>Math.abs(Kn[1]-Vr[1])?kt=!0:lt=!0),Vr=Kn,Ot=!0,ll(),Er()}function Er(){var Kn;switch(fe=Vr[0]-Mr[0],Oe=Vr[1]-Mr[1],pt){case cl:case mh:Tt&&(fe=Math.max(Xe-B,Math.min(Ve-Q,fe)),z=B+fe,ot=Q+fe),Nt&&(Oe=Math.max(te-q,Math.min(en-ft,Oe)),X=q+Oe,bt=ft+Oe);break;case Ra:Tt<0?(fe=Math.max(Xe-B,Math.min(Ve-B,fe)),z=B+fe,ot=Q):Tt>0&&(fe=Math.max(Xe-Q,Math.min(Ve-Q,fe)),z=B,ot=Q+fe),Nt<0?(Oe=Math.max(te-q,Math.min(en-q,Oe)),X=q+Oe,bt=ft):Nt>0&&(Oe=Math.max(te-ft,Math.min(en-ft,Oe)),X=q,bt=ft+Oe);break;case za:Tt&&(z=Math.max(Xe,Math.min(Ve,B-fe*Tt)),ot=Math.max(Xe,Math.min(Ve,Q+fe*Tt))),Nt&&(X=Math.max(te,Math.min(en,q-Oe*Nt)),bt=Math.max(te,Math.min(en,ft+Oe*Nt)))}ot<z&&(Tt*=-1,Kn=B,B=Q,Q=Kn,Kn=z,z=ot,ot=Kn,vt in _h&&Dr.attr("cursor",yr[vt=_h[vt]])),bt<X&&(Nt*=-1,Kn=q,q=ft,ft=Kn,Kn=X,X=bt,bt=Kn,vt in yh&&Dr.attr("cursor",yr[vt=yh[vt]])),Qt.selection&&(Ce=Qt.selection),lt&&(z=Ce[0][0],ot=Ce[1][0]),kt&&(X=Ce[0][1],bt=Ce[1][1]),Ce[0][0]===z&&Ce[0][1]===X&&Ce[1][0]===ot&&Ce[1][1]===bt||(Qt.selection=[[z,X],[ot,bt]],b.call(U),ta.brush())}function ps(){if(gh(),r.event.touches){if(r.event.touches.length)return;i&&clearTimeout(i),i=setTimeout(function(){i=null},500)}else un(r.event.view,Ot),tl.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);var Kn;fr.attr("pointer-events","all"),Dr.attr("cursor",yr.overlay),Qt.selection&&(Ce=Qt.selection),((Kn=Ce)[0][0]===Kn[1][0]||Kn[0][1]===Kn[1][1])&&(Qt.selection=null,b.call(U)),ta.end()}}function I(){S(this,arguments).moved()}function N(){S(this,arguments).ended()}function F(){var B=this.__brush||{selection:null};return B.extent=hl(a.apply(this,arguments)),B.dim=t,B}return _.move=function(B,z){B.selection?B.on("start.brush",function(){S(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){S(this,arguments).end()}).tween("brush",function(){var q=this,X=q.__brush,Q=S(q,arguments),ot=X.selection,ft=t.input("function"==typeof z?z.apply(this,arguments):z,X.extent),bt=Qi(ot,ft);function Ot(lt){X.selection=1===lt&&null===ft?null:bt(lt),b.call(q),Q.brush()}return null!==ot&&null!==ft?Ot:Ot(1)}):B.each(function(){var q=this,X=arguments,Q=q.__brush,ot=t.input("function"==typeof z?z.apply(q,X):z,Q.extent),ft=S(q,X).beforestart();xe(q),Q.selection=null===ot?null:ot,b.call(q),ft.start().brush().end()})},_.clear=function(B){_.move(B,null)},P.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(B){we(new qg(_,B,t.output(this.state.selection)),m.apply,m,[B,this.that,this.args])}},_.extent=function(B){return arguments.length?(a="function"==typeof B?B:ul(hl(B)),_):a},_.filter=function(B){return arguments.length?(u="function"==typeof B?B:ul(!!B),_):u},_.touchable=function(B){return arguments.length?(c="function"==typeof B?B:ul(!!B),_):c},_.handleSize=function(B){return arguments.length?(g=+B,_):g},_.keyModifiers=function(B){return arguments.length?(d=!!B,_):d},_.on=function(){var B=m.on.apply(m,arguments);return B===m?_:B},_}var bh=Math.cos,xh=Math.sin,wh=Math.PI,Rs=wh/2,Sh=2*wh,Th=Math.max;function Vg(t){return function(i,a){return t(i.source.value+i.target.value,a.source.value+a.target.value)}}var tm=Array.prototype.slice;function pl(t){return function(){return t}}var gl=Math.PI,ml=2*gl,em=ml-1e-6;function vl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Yr(){return new vl}function nm(t){return t.source}function im(t){return t.target}function rm(t){return t.radius}function am(t){return t.startAngle}function om(t){return t.endAngle}function zs(){}function br(t,i){var a=new zs;if(t instanceof zs)t.each(function(g,_){a.set(_,g)});else if(Array.isArray(t)){var u,c=-1,d=t.length;if(null==i)for(;++c<d;)a.set(c,t[c]);else for(;++c<d;)a.set(i(u=t[c],c,t),u)}else if(t)for(var m in t)a.set(m,t[m]);return a}function sm(){return{}}function um(t,i,a){t[i]=a}function Ch(){return br()}function Ah(t,i,a){t.set(i,a)}function Fs(){}vl.prototype=Yr.prototype={constructor:vl,moveTo:function(t,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,i){this._+="L"+(this._x1=+t)+","+(this._y1=+i)},quadraticCurveTo:function(t,i,a,u){this._+="Q"+ +t+","+ +i+","+(this._x1=+a)+","+(this._y1=+u)},bezierCurveTo:function(t,i,a,u,c,d){this._+="C"+ +t+","+ +i+","+ +a+","+ +u+","+(this._x1=+c)+","+(this._y1=+d)},arcTo:function(t,i,a,u,c){var d=this._x1,m=this._y1,g=(a=+a)-(t=+t),_=(u=+u)-(i=+i),b=d-t,S=m-i,P=b*b+S*S;if((c=+c)<0)throw new Error("negative radius: "+c);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=i);else if(P>1e-6)if(Math.abs(S*g-_*b)>1e-6&&c){var T=a-d,I=u-m,N=g*g+_*_,F=T*T+I*I,B=Math.sqrt(N),z=Math.sqrt(P),q=c*Math.tan((gl-Math.acos((N+P-F)/(2*B*z)))/2),X=q/z,Q=q/B;Math.abs(X-1)>1e-6&&(this._+="L"+(t+X*b)+","+(i+X*S)),this._+="A"+c+","+c+",0,0,"+ +(S*T>b*I)+","+(this._x1=t+Q*g)+","+(this._y1=i+Q*_)}else this._+="L"+(this._x1=t)+","+(this._y1=i)},arc:function(t,i,a,u,c,d){t=+t,i=+i,d=!!d;var m=(a=+a)*Math.cos(u),g=a*Math.sin(u),_=t+m,b=i+g,S=1^d,P=d?u-c:c-u;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+_+","+b:(Math.abs(this._x1-_)>1e-6||Math.abs(this._y1-b)>1e-6)&&(this._+="L"+_+","+b),a&&(P<0&&(P=P%ml+ml),P>em?this._+="A"+a+","+a+",0,1,"+S+","+(t-m)+","+(i-g)+"A"+a+","+a+",0,1,"+S+","+(this._x1=_)+","+(this._y1=b):P>1e-6&&(this._+="A"+a+","+a+",0,"+ +(P>=gl)+","+S+","+(this._x1=t+a*Math.cos(c))+","+(this._y1=i+a*Math.sin(c))))},rect:function(t,i,a,u){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)+"h"+ +a+"v"+ +u+"h"+-a+"Z"},toString:function(){return this._}},zs.prototype=br.prototype={constructor:zs,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,i){return this["$"+t]=i,this},remove:function(t){var i="$"+t;return i in this&&delete this[i]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var i in this)"$"===i[0]&&t.push(i.slice(1));return t},values:function(){var t=[];for(var i in this)"$"===i[0]&&t.push(this[i]);return t},entries:function(){var t=[];for(var i in this)"$"===i[0]&&t.push({key:i.slice(1),value:this[i]});return t},size:function(){var t=0;for(var i in this)"$"===i[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var i in this)"$"===i[0]&&t(this[i],i.slice(1),this)}};var la=br.prototype;function kh(t,i){var a=new Fs;if(t instanceof Fs)t.each(function(d){a.add(d)});else if(t){var u=-1,c=t.length;if(null==i)for(;++u<c;)a.add(t[u]);else for(;++u<c;)a.add(i(t[u],u,t))}return a}Fs.prototype=kh.prototype={constructor:Fs,has:la.has,add:function(t){return this["$"+(t+="")]=t,this},remove:la.remove,clear:la.clear,values:la.keys,size:la.size,empty:la.empty,each:la.each};var Ph=Array.prototype.slice;function lm(t,i){return t-i}function Xr(t){return function(){return t}}function cm(t,i){for(var a,u=-1,c=i.length;++u<c;)if(a=hm(t,i[u]))return a;return 0}function hm(t,i){for(var a=i[0],u=i[1],c=-1,d=0,m=t.length,g=m-1;d<m;g=d++){var _=t[d],b=_[0],S=_[1],P=t[g],T=P[0],I=P[1];if(dm(_,P,i))return 0;S>u!=I>u&&a<(T-b)*(u-S)/(I-S)+b&&(c=-c)}return c}function dm(t,i,a){var u,c,d,m,g,_,b;return((_=i)[0]-(g=t)[0])*((b=a)[1]-g[1])==(b[0]-g[0])*(_[1]-g[1])&&(c=t[u=+(t[0]===i[0])],m=i[u],c<=(d=a[u])&&d<=m||m<=d&&d<=c)}function fm(){}var xr=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Mh(){var t=1,i=1,a=ve,u=g;function c(_){var b=a(_);if(Array.isArray(b))b=b.slice().sort(lm);else{var S=On(_),P=S[0],T=S[1];b=re(P,T,b),b=Vt(Math.floor(P/b)*b,Math.floor(T/b)*b,b)}return b.map(function(I){return d(_,I)})}function d(_,b){var S=[],P=[];return function(T,I,N){var F,B,q,X,Q,ot=new Array,ft=new Array;for(F=B=-1,xr[(q=T[0]>=I)<<1].forEach(bt);++F<t-1;)xr[q|(q=T[F+1]>=I)<<1].forEach(bt);for(xr[q<<0].forEach(bt);++B<i-1;){for(F=-1,xr[(q=T[B*t+t]>=I)<<1|(X=T[B*t]>=I)<<2].forEach(bt);++F<t-1;)Q=X,xr[q|(q=T[B*t+t+F+1]>=I)<<1|(X=T[B*t+F+1]>=I)<<2|Q<<3].forEach(bt);xr[q|X<<3].forEach(bt)}for(F=-1,xr[(X=T[B*t]>=I)<<2].forEach(bt);++F<t-1;)Q=X,xr[(X=T[B*t+F+1]>=I)<<2|Q<<3].forEach(bt);function bt(Ot){var lt,kt,xt=[Ot[0][0]+F,Ot[0][1]+B],U=[Ot[1][0]+F,Ot[1][1]+B],vt=m(xt),pt=m(U);(lt=ft[vt])?(kt=ot[pt])?(delete ft[lt.end],delete ot[kt.start],lt===kt?(lt.ring.push(U),N(lt.ring)):ot[lt.start]=ft[kt.end]={start:lt.start,end:kt.end,ring:lt.ring.concat(kt.ring)}):(delete ft[lt.end],lt.ring.push(U),ft[lt.end=pt]=lt):(lt=ot[pt])?(kt=ft[vt])?(delete ot[lt.start],delete ft[kt.end],lt===kt?(lt.ring.push(U),N(lt.ring)):ot[kt.start]=ft[lt.end]={start:kt.start,end:lt.end,ring:kt.ring.concat(lt.ring)}):(delete ot[lt.start],lt.ring.unshift(xt),ot[lt.start=vt]=lt):ot[vt]=ft[pt]={start:vt,end:pt,ring:[xt,U]}}xr[X<<3].forEach(bt)}(_,b,function(T){u(T,_,b),function(I){for(var N=0,F=I.length,B=I[F-1][1]*I[0][0]-I[F-1][0]*I[0][1];++N<F;)B+=I[N-1][1]*I[N][0]-I[N-1][0]*I[N][1];return B}(T)>0?S.push([T]):P.push(T)}),P.forEach(function(T){for(var I,N=0,F=S.length;N<F;++N)if(-1!==cm((I=S[N])[0],T))return void I.push(T)}),{type:"MultiPolygon",value:b,coordinates:S}}function m(_){return 2*_[0]+_[1]*(t+1)*4}function g(_,b,S){_.forEach(function(P){var T,I=P[0],N=P[1],F=0|I,B=0|N,z=b[B*t+F];I>0&&I<t&&F===I&&(P[0]=I+(S-(T=b[B*t+F-1]))/(z-T)-.5),N>0&&N<i&&B===N&&(P[1]=N+(S-(T=b[(B-1)*t+F]))/(z-T)-.5)})}return c.contour=d,c.size=function(_){if(!arguments.length)return[t,i];var b=Math.ceil(_[0]),S=Math.ceil(_[1]);if(!(b>0&&S>0))throw new Error("invalid size");return t=b,i=S,c},c.thresholds=function(_){return arguments.length?(a="function"==typeof _?_:Array.isArray(_)?Xr(Ph.call(_)):Xr(_),c):a},c.smooth=function(_){return arguments.length?(u=_?g:fm,c):u===g},c}function _l(t,i,a){for(var u=t.width,c=t.height,d=1+(a<<1),m=0;m<c;++m)for(var g=0,_=0;g<u+a;++g)g<u&&(_+=t.data[g+m*u]),g>=a&&(g>=d&&(_-=t.data[g-d+m*u]),i.data[g-a+m*u]=_/Math.min(g+1,u-1+d-g,d))}function yl(t,i,a){for(var u=t.width,c=t.height,d=1+(a<<1),m=0;m<u;++m)for(var g=0,_=0;g<c+a;++g)g<c&&(_+=t.data[m+g*u]),g>=a&&(g>=d&&(_-=t.data[m+(g-d)*u]),i.data[m+(g-a)*u]=_/Math.min(g+1,c-1+d-g,d))}function pm(t){return t[0]}function gm(t){return t[1]}function mm(){return 1}var Dh={},bl={};function Eh(t){return new Function("d","return {"+t.map(function(i,a){return JSON.stringify(i)+": d["+a+'] || ""'}).join(",")+"}")}function Lh(t){var i=Object.create(null),a=[];return t.forEach(function(u){for(var c in u)c in i||a.push(i[c]=c)}),a}function Bi(t,i){var a=t+"",u=a.length;return u<i?new Array(i-u+1).join(0)+a:a}function Hs(t){var i=new RegExp('["'+t+"\n\r]"),a=t.charCodeAt(0);function u(g,_){var b,S=[],P=g.length,T=0,I=0,N=P<=0,F=!1;function B(){if(N)return bl;if(F)return F=!1,Dh;var q,X,Q=T;if(34===g.charCodeAt(Q)){for(;T++<P&&34!==g.charCodeAt(T)||34===g.charCodeAt(++T););return(q=T)>=P?N=!0:10===(X=g.charCodeAt(T++))?F=!0:13===X&&(F=!0,10===g.charCodeAt(T)&&++T),g.slice(Q+1,q-1).replace(/""/g,'"')}for(;T<P;){if(10===(X=g.charCodeAt(q=T++)))F=!0;else if(13===X)F=!0,10===g.charCodeAt(T)&&++T;else if(X!==a)continue;return g.slice(Q,q)}return N=!0,g.slice(Q,P)}for(10===g.charCodeAt(P-1)&&--P,13===g.charCodeAt(P-1)&&--P;(b=B())!==bl;){for(var z=[];b!==Dh&&b!==bl;)z.push(b),b=B();_&&null==(z=_(z,I++))||S.push(z)}return S}function c(g,_){return g.map(function(b){return _.map(function(S){return m(b[S])}).join(t)})}function d(g){return g.map(m).join(t)}function m(g){return null==g?"":g instanceof Date?function(t){var d,i=t.getUTCHours(),a=t.getUTCMinutes(),u=t.getUTCSeconds(),c=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((d=t.getUTCFullYear())<0?"-"+Bi(-d,6):d>9999?"+"+Bi(d,6):Bi(d,4))+"-"+Bi(t.getUTCMonth()+1,2)+"-"+Bi(t.getUTCDate(),2)+(c?"T"+Bi(i,2)+":"+Bi(a,2)+":"+Bi(u,2)+"."+Bi(c,3)+"Z":u?"T"+Bi(i,2)+":"+Bi(a,2)+":"+Bi(u,2)+"Z":a||i?"T"+Bi(i,2)+":"+Bi(a,2)+"Z":"")}(g):i.test(g+="")?'"'+g.replace(/"/g,'""')+'"':g}return{parse:function(g,_){var b,S,P=u(g,function(T,I){if(b)return b(T,I-1);var N,F,B;S=T,b=_?(F=_,B=Eh(N=T),function(z,q){return F(B(z),q,N)}):Eh(T)});return P.columns=S||[],P},parseRows:u,format:function(g,_){return null==_&&(_=Lh(g)),[_.map(m).join(t)].concat(c(g,_)).join("\n")},formatBody:function(g,_){return null==_&&(_=Lh(g)),c(g,_).join("\n")},formatRows:function(g){return g.map(d).join("\n")},formatRow:d,formatValue:m}}var ca=Hs(","),Ih=ca.parse,_m=ca.parseRows,ym=ca.format,bm=ca.formatBody,xm=ca.formatRows,wm=ca.formatRow,Sm=ca.formatValue,ha=Hs("\t"),Nh=ha.parse,Tm=ha.parseRows,Cm=ha.format,Am=ha.formatBody,km=ha.formatRows,Pm=ha.formatRow,Mm=ha.formatValue,Dm=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Em(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Lm(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Im(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Gs(t,i){return fetch(t,i).then(Im)}function Oh(t){return function(i,a,u){return 2===arguments.length&&"function"==typeof a&&(u=a,a=void 0),Gs(i,a).then(function(c){return t(c,u)})}}var Nm=Oh(Ih),Om=Oh(Nh);function Rm(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Sl(t){return function(i,a){return Gs(i,a).then(function(u){return(new DOMParser).parseFromString(u,t)})}}var zm=Sl("application/xml"),Fm=Sl("text/html"),Hm=Sl("image/svg+xml");function ri(t){return function(){return t}}function qr(){return 1e-6*(Math.random()-.5)}function Rh(t,i,a,u){if(isNaN(i)||isNaN(a))return t;var c,d,m,g,_,b,S,P,T,I=t._root,N={data:u},F=t._x0,B=t._y0,z=t._x1,q=t._y1;if(!I)return t._root=N,t;for(;I.length;)if((b=i>=(d=(F+z)/2))?F=d:z=d,(S=a>=(m=(B+q)/2))?B=m:q=m,c=I,!(I=I[P=S<<1|b]))return c[P]=N,t;if(g=+t._x.call(null,I.data),_=+t._y.call(null,I.data),i===g&&a===_)return N.next=I,c?c[P]=N:t._root=N,t;do{c=c?c[P]=new Array(4):t._root=new Array(4),(b=i>=(d=(F+z)/2))?F=d:z=d,(S=a>=(m=(B+q)/2))?B=m:q=m}while((P=S<<1|b)==(T=(_>=m)<<1|g>=d));return c[T]=I,c[P]=N,t}function Ai(t,i,a,u,c){this.node=t,this.x0=i,this.y0=a,this.x1=u,this.y1=c}function Gm(t){return t[0]}function Bm(t){return t[1]}function Bs(t,i,a){var u=new Tl(null==i?Gm:i,null==a?Bm:a,NaN,NaN,NaN,NaN);return null==t?u:u.addAll(t)}function Tl(t,i,a,u,c,d){this._x=t,this._y=i,this._x0=a,this._y0=u,this._x1=c,this._y1=d,this._root=void 0}function zh(t){for(var i={data:t.data},a=i;t=t.next;)a=a.next={data:t.data};return i}var ki=Bs.prototype=Tl.prototype;function jm(t){return t.x+t.vx}function Wm(t){return t.y+t.vy}function Ym(t){return t.index}function Fh(t,i){var a=t.get(i);if(!a)throw new Error("missing: "+i);return a}function Xm(t){return t.x}function qm(t){return t.y}ki.copy=function(){var t,i,a=new Tl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),u=this._root;if(!u)return a;if(!u.length)return a._root=zh(u),a;for(t=[{source:u,target:a._root=new Array(4)}];u=t.pop();)for(var c=0;c<4;++c)(i=u.source[c])&&(i.length?t.push({source:i,target:u.target[c]=new Array(4)}):u.target[c]=zh(i));return a},ki.add=function(t){var i=+this._x.call(null,t),a=+this._y.call(null,t);return Rh(this.cover(i,a),i,a,t)},ki.addAll=function(t){var i,a,u,c,d=t.length,m=new Array(d),g=new Array(d),_=1/0,b=1/0,S=-1/0,P=-1/0;for(a=0;a<d;++a)isNaN(u=+this._x.call(null,i=t[a]))||isNaN(c=+this._y.call(null,i))||(m[a]=u,g[a]=c,u<_&&(_=u),u>S&&(S=u),c<b&&(b=c),c>P&&(P=c));if(_>S||b>P)return this;for(this.cover(_,b).cover(S,P),a=0;a<d;++a)Rh(this,m[a],g[a],t[a]);return this},ki.cover=function(t,i){if(isNaN(t=+t)||isNaN(i=+i))return this;var a=this._x0,u=this._y0,c=this._x1,d=this._y1;if(isNaN(a))c=(a=Math.floor(t))+1,d=(u=Math.floor(i))+1;else{for(var m,g,_=c-a,b=this._root;a>t||t>=c||u>i||i>=d;)switch(g=(i<u)<<1|t<a,(m=new Array(4))[g]=b,b=m,_*=2,g){case 0:c=a+_,d=u+_;break;case 1:a=c-_,d=u+_;break;case 2:c=a+_,u=d-_;break;case 3:a=c-_,u=d-_}this._root&&this._root.length&&(this._root=b)}return this._x0=a,this._y0=u,this._x1=c,this._y1=d,this},ki.data=function(){var t=[];return this.visit(function(i){if(!i.length)do{t.push(i.data)}while(i=i.next)}),t},ki.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ki.find=function(t,i,a){var u,c,d,m,g,_,b,S=this._x0,P=this._y0,T=this._x1,I=this._y1,N=[],F=this._root;for(F&&N.push(new Ai(F,S,P,T,I)),null==a?a=1/0:(S=t-a,P=i-a,T=t+a,I=i+a,a*=a);_=N.pop();)if(!(!(F=_.node)||(c=_.x0)>T||(d=_.y0)>I||(m=_.x1)<S||(g=_.y1)<P))if(F.length){var B=(c+m)/2,z=(d+g)/2;N.push(new Ai(F[3],B,z,m,g),new Ai(F[2],c,z,B,g),new Ai(F[1],B,d,m,z),new Ai(F[0],c,d,B,z)),(b=(i>=z)<<1|t>=B)&&(_=N[N.length-1],N[N.length-1]=N[N.length-1-b],N[N.length-1-b]=_)}else{var q=t-+this._x.call(null,F.data),X=i-+this._y.call(null,F.data),Q=q*q+X*X;if(Q<a){var ot=Math.sqrt(a=Q);S=t-ot,P=i-ot,T=t+ot,I=i+ot,u=F.data}}return u},ki.remove=function(t){if(isNaN(d=+this._x.call(null,t))||isNaN(m=+this._y.call(null,t)))return this;var i,a,u,c,d,m,g,_,b,S,P,T,I=this._root,N=this._x0,F=this._y0,B=this._x1,z=this._y1;if(!I)return this;if(I.length)for(;;){if((b=d>=(g=(N+B)/2))?N=g:B=g,(S=m>=(_=(F+z)/2))?F=_:z=_,i=I,!(I=I[P=S<<1|b]))return this;if(!I.length)break;(i[P+1&3]||i[P+2&3]||i[P+3&3])&&(a=i,T=P)}for(;I.data!==t;)if(u=I,!(I=I.next))return this;return(c=I.next)&&delete I.next,u?(c?u.next=c:delete u.next,this):i?(c?i[P]=c:delete i[P],(I=i[0]||i[1]||i[2]||i[3])&&I===(i[3]||i[2]||i[1]||i[0])&&!I.length&&(a?a[T]=I:this._root=I),this):(this._root=c,this)},ki.removeAll=function(t){for(var i=0,a=t.length;i<a;++i)this.remove(t[i]);return this},ki.root=function(){return this._root},ki.size=function(){var t=0;return this.visit(function(i){if(!i.length)do{++t}while(i=i.next)}),t},ki.visit=function(t){var i,a,u,c,d,m,g=[],_=this._root;for(_&&g.push(new Ai(_,this._x0,this._y0,this._x1,this._y1));i=g.pop();)if(!t(_=i.node,u=i.x0,c=i.y0,d=i.x1,m=i.y1)&&_.length){var b=(u+d)/2,S=(c+m)/2;(a=_[3])&&g.push(new Ai(a,b,S,d,m)),(a=_[2])&&g.push(new Ai(a,u,S,b,m)),(a=_[1])&&g.push(new Ai(a,b,c,d,S)),(a=_[0])&&g.push(new Ai(a,u,c,b,S))}return this},ki.visitAfter=function(t){var i,a=[],u=[];for(this._root&&a.push(new Ai(this._root,this._x0,this._y0,this._x1,this._y1));i=a.pop();){var c=i.node;if(c.length){var d,m=i.x0,g=i.y0,_=i.x1,b=i.y1,S=(m+_)/2,P=(g+b)/2;(d=c[0])&&a.push(new Ai(d,m,g,S,P)),(d=c[1])&&a.push(new Ai(d,S,g,_,P)),(d=c[2])&&a.push(new Ai(d,m,P,S,b)),(d=c[3])&&a.push(new Ai(d,S,P,_,b))}u.push(i)}for(;i=u.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this},ki.x=function(t){return arguments.length?(this._x=t,this):this._x},ki.y=function(t){return arguments.length?(this._y=t,this):this._y};var Km=Math.PI*(3-Math.sqrt(5));function js(t,i){if((a=(t=i?t.toExponential(i-1):t.toExponential()).indexOf("e"))<0)return null;var a,u=t.slice(0,a);return[u.length>1?u[0]+u.slice(2):u,+t.slice(a+1)]}function Fa(t){return(t=js(Math.abs(t)))?t[1]:NaN}var Hh,$m=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wo(t){if(!(i=$m.exec(t)))throw new Error("invalid format: "+t);var i;return new Ws({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function Ws(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Gh(t,i){var a=js(t,i);if(!a)return t+"";var u=a[0],c=a[1];return c<0?"0."+new Array(-c).join("0")+u:u.length>c+1?u.slice(0,c+1)+"."+u.slice(c+1):u+new Array(c-u.length+2).join("0")}wo.prototype=Ws.prototype,Ws.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Bh={"%":function(t,i){return(100*t).toFixed(i)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,i){return t.toExponential(i)},f:function(t,i){return t.toFixed(i)},g:function(t,i){return t.toPrecision(i)},o:function(t){return Math.round(t).toString(8)},p:function(t,i){return Gh(100*t,i)},r:Gh,s:function(t,i){var a=js(t,i);if(!a)return t+"";var u=a[0],c=a[1],d=c-(Hh=3*Math.max(-8,Math.min(8,Math.floor(c/3))))+1,m=u.length;return d===m?u:d>m?u+new Array(d-m+1).join("0"):d>0?u.slice(0,d)+"."+u.slice(d):"0."+new Array(1-d).join("0")+js(t,Math.max(0,i+d-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function jh(t){return t}var Ys,Wh=Array.prototype.map,Yh=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Xh(t){var i,a,T,u=void 0===t.grouping||void 0===t.thousands?jh:(i=Wh.call(t.grouping,Number),a=t.thousands+"",function(T,I){for(var N=T.length,F=[],B=0,z=i[0],q=0;N>0&&z>0&&(q+z+1>I&&(z=Math.max(1,I-q)),F.push(T.substring(N-=z,N+z)),!((q+=z+1)>I));)z=i[B=(B+1)%i.length];return F.reverse().join(a)}),c=void 0===t.currency?"":t.currency[0]+"",d=void 0===t.currency?"":t.currency[1]+"",m=void 0===t.decimal?".":t.decimal+"",g=void 0===t.numerals?jh:(T=Wh.call(t.numerals,String),function(I){return I.replace(/[0-9]/g,function(N){return T[+N]})}),_=void 0===t.percent?"%":t.percent+"",b=void 0===t.minus?"-":t.minus+"",S=void 0===t.nan?"NaN":t.nan+"";function P(T){var I=(T=wo(T)).fill,N=T.align,F=T.sign,B=T.symbol,z=T.zero,q=T.width,X=T.comma,Q=T.precision,ot=T.trim,ft=T.type;"n"===ft?(X=!0,ft="g"):Bh[ft]||(void 0===Q&&(Q=12),ot=!0,ft="g"),(z||"0"===I&&"="===N)&&(z=!0,I="0",N="=");var bt="$"===B?c:"#"===B&&/[boxX]/.test(ft)?"0"+ft.toLowerCase():"",Ot="$"===B?d:/[%p]/.test(ft)?_:"",lt=Bh[ft],kt=/[defgprs%]/.test(ft);function xt(U){var vt,pt,Tt,Nt=bt,Qt=Ot;if("c"===ft)Qt=lt(U)+Qt,U="";else{var Te=(U=+U)<0||1/U<0;if(U=isNaN(U)?S:lt(Math.abs(U),Q),ot&&(U=function(te){t:for(var Ve,en=te.length,fe=1,Oe=-1;fe<en;++fe)switch(te[fe]){case".":Oe=Ve=fe;break;case"0":0===Oe&&(Oe=fe),Ve=fe;break;default:if(!+te[fe])break t;Oe>0&&(Oe=0)}return Oe>0?te.slice(0,Oe)+te.slice(Ve+1):te}(U)),Te&&0==+U&&"+"!==F&&(Te=!1),Nt=(Te?"("===F?F:b:"-"===F||"("===F?"":F)+Nt,Qt=("s"===ft?Yh[8+Hh/3]:"")+Qt+(Te&&"("===F?")":""),kt)for(vt=-1,pt=U.length;++vt<pt;)if(48>(Tt=U.charCodeAt(vt))||Tt>57){Qt=(46===Tt?m+U.slice(vt+1):U.slice(vt))+Qt,U=U.slice(0,vt);break}}X&&!z&&(U=u(U,1/0));var Ce=Nt.length+U.length+Qt.length,Xe=Ce<q?new Array(q-Ce+1).join(I):"";switch(X&&z&&(U=u(Xe+U,Xe.length?q-Qt.length:1/0),Xe=""),N){case"<":U=Nt+U+Qt+Xe;break;case"=":U=Nt+Xe+U+Qt;break;case"^":U=Xe.slice(0,Ce=Xe.length>>1)+Nt+U+Qt+Xe.slice(Ce);break;default:U=Xe+Nt+U+Qt}return g(U)}return Q=void 0===Q?6:/[gprs]/.test(ft)?Math.max(1,Math.min(21,Q)):Math.max(0,Math.min(20,Q)),xt.toString=function(){return T+""},xt}return{format:P,formatPrefix:function(T,I){var N=P(((T=wo(T)).type="f",T)),F=3*Math.max(-8,Math.min(8,Math.floor(Fa(I)/3))),B=Math.pow(10,-F),z=Yh[8+F/3];return function(q){return N(B*q)+z}}}}function qh(t){return Ys=Xh(t),r.format=Ys.format,r.formatPrefix=Ys.formatPrefix,Ys}function Uh(t){return Math.max(0,-Fa(Math.abs(t)))}function Kh(t,i){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Fa(i)/3)))-Fa(Math.abs(t)))}function $h(t,i){return t=Math.abs(t),i=Math.abs(i)-t,Math.max(0,Fa(i)-Fa(t))+1}function Ur(){return new Xs}function Xs(){this.reset()}qh({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Xs.prototype={constructor:Xs,reset:function(){this.s=this.t=0},add:function(t){Qh(qs,t,this.t),Qh(this,qs.s,this.s),this.s?this.t+=qs.t:this.s=qs.t},valueOf:function(){return this.s}};var qs=new Xs;function Qh(t,i,a){var u=t.s=i+a,c=u-i;t.t=i-(u-c)+(a-c)}var Se=1e-6,Us=1e-12,Qe=Math.PI,Wn=Qe/2,Ks=Qe/4,Pi=2*Qe,kn=180/Qe,ke=Qe/180,ln=Math.abs,Ha=Math.atan,Mi=Math.atan2,me=Math.cos,$s=Math.ceil,Zh=Math.exp,Qs=Math.log,Cl=Math.pow,oe=Math.sin,Vi=Math.sign||function(t){return t>0?1:t<0?-1:0},Jn=Math.sqrt,Al=Math.tan;function Jh(t){return t>1?0:t<-1?Qe:Math.acos(t)}function Di(t){return t>1?Wn:t<-1?-Wn:Math.asin(t)}function Vh(t){return(t=oe(t/2))*t}function zn(){}function Zs(t,i){t&&ed.hasOwnProperty(t.type)&&ed[t.type](t,i)}var td={Feature:function(t,i){Zs(t.geometry,i)},FeatureCollection:function(t,i){for(var a=t.features,u=-1,c=a.length;++u<c;)Zs(a[u].geometry,i)}},ed={Sphere:function(t,i){i.sphere()},Point:function(t,i){i.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,i){for(var a=t.coordinates,u=-1,c=a.length;++u<c;)i.point((t=a[u])[0],t[1],t[2])},LineString:function(t,i){kl(t.coordinates,i,0)},MultiLineString:function(t,i){for(var a=t.coordinates,u=-1,c=a.length;++u<c;)kl(a[u],i,0)},Polygon:function(t,i){nd(t.coordinates,i)},MultiPolygon:function(t,i){for(var a=t.coordinates,u=-1,c=a.length;++u<c;)nd(a[u],i)},GeometryCollection:function(t,i){for(var a=t.geometries,u=-1,c=a.length;++u<c;)Zs(a[u],i)}};function kl(t,i,a){var u,c=-1,d=t.length-a;for(i.lineStart();++c<d;)i.point((u=t[c])[0],u[1],u[2]);i.lineEnd()}function nd(t,i){var a=-1,u=t.length;for(i.polygonStart();++a<u;)kl(t[a],i,1);i.polygonEnd()}function ir(t,i){t&&td.hasOwnProperty(t.type)?td[t.type](t,i):Zs(t,i)}var id,rd,Pl,Ml,Dl,Js=Ur(),Vs=Ur(),ur={point:zn,lineStart:zn,lineEnd:zn,polygonStart:function(){Js.reset(),ur.lineStart=Qm,ur.lineEnd=Zm},polygonEnd:function(){var t=+Js;Vs.add(t<0?Pi+t:t),this.lineStart=this.lineEnd=this.point=zn},sphere:function(){Vs.add(Pi)}};function Qm(){ur.point=Jm}function Zm(){ad(id,rd)}function Jm(t,i){ur.point=ad,id=t,rd=i,Pl=t*=ke,Ml=me(i=(i*=ke)/2+Ks),Dl=oe(i)}function ad(t,i){var a=(t*=ke)-Pl,u=a>=0?1:-1,c=u*a,d=me(i=(i*=ke)/2+Ks),m=oe(i),g=Dl*m,_=Ml*d+g*me(c),b=g*u*oe(c);Js.add(Mi(b,_)),Pl=t,Ml=d,Dl=m}function tu(t){return[Mi(t[1],t[0]),Di(t[2])]}function da(t){var i=t[0],a=t[1],u=me(a);return[u*me(i),u*oe(i),oe(a)]}function eu(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]}function Ga(t,i){return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]}function El(t,i){t[0]+=i[0],t[1]+=i[1],t[2]+=i[2]}function nu(t,i){return[t[0]*i,t[1]*i,t[2]*i]}function iu(t){var i=Jn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=i,t[1]/=i,t[2]/=i}var Fn,ji,Yn,Xi,fa,od,sd,Ba,Kr,wr,ru,au,ou,su,uu,lu,cu,hu,Ll,Il,Nl,ud,ld,Ei,Li,Ii,So=Ur(),Sr={point:Ol,lineStart:hd,lineEnd:dd,polygonStart:function(){Sr.point=fd,Sr.lineStart=Vm,Sr.lineEnd=t0,So.reset(),ur.polygonStart()},polygonEnd:function(){ur.polygonEnd(),Sr.point=Ol,Sr.lineStart=hd,Sr.lineEnd=dd,Js<0?(Fn=-(Yn=180),ji=-(Xi=90)):So>Se?Xi=90:So<-Se&&(ji=-90),wr[0]=Fn,wr[1]=Yn},sphere:function(){Fn=-(Yn=180),ji=-(Xi=90)}};function Ol(t,i){Kr.push(wr=[Fn=t,Yn=t]),i<ji&&(ji=i),i>Xi&&(Xi=i)}function cd(t,i){var a=da([t*ke,i*ke]);if(Ba){var u=Ga(Ba,a),c=Ga([u[1],-u[0],0],u);iu(c),c=tu(c);var d,m=t-fa,g=m>0?1:-1,_=c[0]*kn*g,b=ln(m)>180;b^(g*fa<_&&_<g*t)?(d=c[1]*kn)>Xi&&(Xi=d):b^(g*fa<(_=(_+360)%360-180)&&_<g*t)?(d=-c[1]*kn)<ji&&(ji=d):(i<ji&&(ji=i),i>Xi&&(Xi=i)),b?t<fa?qi(Fn,t)>qi(Fn,Yn)&&(Yn=t):qi(t,Yn)>qi(Fn,Yn)&&(Fn=t):Yn>=Fn?(t<Fn&&(Fn=t),t>Yn&&(Yn=t)):t>fa?qi(Fn,t)>qi(Fn,Yn)&&(Yn=t):qi(t,Yn)>qi(Fn,Yn)&&(Fn=t)}else Kr.push(wr=[Fn=t,Yn=t]);i<ji&&(ji=i),i>Xi&&(Xi=i),Ba=a,fa=t}function hd(){Sr.point=cd}function dd(){wr[0]=Fn,wr[1]=Yn,Sr.point=Ol,Ba=null}function fd(t,i){if(Ba){var a=t-fa;So.add(ln(a)>180?a+(a>0?360:-360):a)}else od=t,sd=i;ur.point(t,i),cd(t,i)}function Vm(){ur.lineStart()}function t0(){fd(od,sd),ur.lineEnd(),ln(So)>Se&&(Fn=-(Yn=180)),wr[0]=Fn,wr[1]=Yn,Ba=null}function qi(t,i){return(i-=t)<0?i+360:i}function e0(t,i){return t[0]-i[0]}function pd(t,i){return t[0]<=t[1]?t[0]<=i&&i<=t[1]:i<t[0]||t[1]<i}var rr={sphere:zn,point:Rl,lineStart:gd,lineEnd:md,polygonStart:function(){rr.lineStart=r0,rr.lineEnd=a0},polygonEnd:function(){rr.lineStart=gd,rr.lineEnd=md}};function Rl(t,i){t*=ke;var a=me(i*=ke);To(a*me(t),a*oe(t),oe(i))}function To(t,i,a){ou+=(t-ou)/++ru,su+=(i-su)/ru,uu+=(a-uu)/ru}function gd(){rr.point=n0}function n0(t,i){t*=ke;var a=me(i*=ke);Ei=a*me(t),Li=a*oe(t),Ii=oe(i),rr.point=i0,To(Ei,Li,Ii)}function i0(t,i){t*=ke;var a=me(i*=ke),u=a*me(t),c=a*oe(t),d=oe(i),m=Mi(Jn((m=Li*d-Ii*c)*m+(m=Ii*u-Ei*d)*m+(m=Ei*c-Li*u)*m),Ei*u+Li*c+Ii*d);au+=m,lu+=m*(Ei+(Ei=u)),cu+=m*(Li+(Li=c)),hu+=m*(Ii+(Ii=d)),To(Ei,Li,Ii)}function md(){rr.point=Rl}function r0(){rr.point=o0}function a0(){vd(ud,ld),rr.point=Rl}function o0(t,i){ud=t,ld=i,t*=ke,i*=ke,rr.point=vd;var a=me(i);Ei=a*me(t),Li=a*oe(t),Ii=oe(i),To(Ei,Li,Ii)}function vd(t,i){t*=ke;var a=me(i*=ke),u=a*me(t),c=a*oe(t),d=oe(i),m=Li*d-Ii*c,g=Ii*u-Ei*d,_=Ei*c-Li*u,b=Jn(m*m+g*g+_*_),S=Di(b),P=b&&-S/b;Ll+=P*m,Il+=P*g,Nl+=P*_,au+=S,lu+=S*(Ei+(Ei=u)),cu+=S*(Li+(Li=c)),hu+=S*(Ii+(Ii=d)),To(Ei,Li,Ii)}function ja(t){return function(){return t}}function zl(t,i){function a(u,c){return u=t(u,c),i(u[0],u[1])}return t.invert&&i.invert&&(a.invert=function(u,c){return(u=i.invert(u,c))&&t.invert(u[0],u[1])}),a}function Fl(t,i){return[ln(t)>Qe?t+Math.round(-t/Pi)*Pi:t,i]}function Hl(t,i,a){return(t%=Pi)?i||a?zl(yd(t),bd(i,a)):yd(t):i||a?bd(i,a):Fl}function _d(t){return function(i,a){return[(i+=t)>Qe?i-Pi:i<-Qe?i+Pi:i,a]}}function yd(t){var i=_d(t);return i.invert=_d(-t),i}function bd(t,i){var a=me(t),u=oe(t),c=me(i),d=oe(i);function m(g,_){var b=me(_),S=me(g)*b,P=oe(g)*b,T=oe(_),I=T*a+S*u;return[Mi(P*c-I*d,S*a-T*u),Di(I*c+P*d)]}return m.invert=function(g,_){var b=me(_),S=me(g)*b,P=oe(g)*b,T=oe(_),I=T*c-P*d;return[Mi(P*c+T*d,S*a+I*u),Di(I*a-S*u)]},m}function xd(t){function i(a){return(a=t(a[0]*ke,a[1]*ke))[0]*=kn,a[1]*=kn,a}return t=Hl(t[0]*ke,t[1]*ke,t.length>2?t[2]*ke:0),i.invert=function(a){return(a=t.invert(a[0]*ke,a[1]*ke))[0]*=kn,a[1]*=kn,a},i}function wd(t,i,a,u,c,d){if(a){var m=me(i),g=oe(i),_=u*a;null==c?(c=i+u*Pi,d=i-_/2):(c=Sd(m,c),d=Sd(m,d),(u>0?c<d:c>d)&&(c+=u*Pi));for(var b,S=c;u>0?S>d:S<d;S-=_)b=tu([m,-g*me(S),-g*oe(S)]),t.point(b[0],b[1])}}function Sd(t,i){(i=da(i))[0]-=t,iu(i);var a=Jh(-i[1]);return((-i[2]<0?-a:a)+Pi-Se)%Pi}function Td(){var t,i=[];return{point:function(a,u){t.push([a,u])},lineStart:function(){i.push(t=[])},lineEnd:zn,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var a=i;return i=[],t=null,a}}}function du(t,i){return ln(t[0]-i[0])<Se&&ln(t[1]-i[1])<Se}function fu(t,i,a,u){this.x=t,this.z=i,this.o=a,this.e=u,this.v=!1,this.n=this.p=null}function Cd(t,i,a,u,c){var d,m,g=[],_=[];if(t.forEach(function(N){if(!((F=N.length-1)<=0)){var F,B,z=N[0],q=N[F];if(du(z,q)){for(c.lineStart(),d=0;d<F;++d)c.point((z=N[d])[0],z[1]);c.lineEnd()}else g.push(B=new fu(z,N,null,!0)),_.push(B.o=new fu(z,null,B,!1)),g.push(B=new fu(q,N,null,!1)),_.push(B.o=new fu(q,null,B,!0))}}),g.length){for(_.sort(i),Ad(g),Ad(_),d=0,m=_.length;d<m;++d)_[d].e=a=!a;for(var b,S,P=g[0];;){for(var T=P,I=!0;T.v;)if((T=T.n)===P)return;b=T.z,c.lineStart();do{if(T.v=T.o.v=!0,T.e){if(I)for(d=0,m=b.length;d<m;++d)c.point((S=b[d])[0],S[1]);else u(T.x,T.n.x,1,c);T=T.n}else{if(I)for(d=(b=T.p.z).length-1;d>=0;--d)c.point((S=b[d])[0],S[1]);else u(T.x,T.p.x,-1,c);T=T.p}b=(T=T.o).z,I=!I}while(!T.v);c.lineEnd()}}}function Ad(t){if(i=t.length){for(var i,a,u=0,c=t[0];++u<i;)c.n=a=t[u],a.p=c,c=a;c.n=a=t[0],a.p=c}}Fl.invert=Fl;var Gl=Ur();function Bl(t){return ln(t[0])<=Qe?t[0]:Vi(t[0])*((ln(t[0])+Qe)%Pi-Qe)}function kd(t,i){var a=Bl(i),u=i[1],c=oe(u),d=[oe(a),-me(a),0],m=0,g=0;Gl.reset(),1===c?u=Wn+Se:-1===c&&(u=-Wn-Se);for(var _=0,b=t.length;_<b;++_)if(P=(S=t[_]).length)for(var S,P,T=S[P-1],I=Bl(T),N=T[1]/2+Ks,F=oe(N),B=me(N),z=0;z<P;++z,I=X,F=ot,B=ft,T=q){var q=S[z],X=Bl(q),Q=q[1]/2+Ks,ot=oe(Q),ft=me(Q),bt=X-I,Ot=bt>=0?1:-1,lt=Ot*bt,kt=lt>Qe,xt=F*ot;if(Gl.add(Mi(xt*Ot*oe(lt),B*ft+xt*me(lt))),m+=kt?bt+Ot*Pi:bt,kt^I>=a^X>=a){var U=Ga(da(T),da(q));iu(U);var vt=Ga(d,U);iu(vt);var pt=(kt^bt>=0?-1:1)*Di(vt[2]);(u>pt||u===pt&&(U[0]||U[1]))&&(g+=kt^bt>=0?1:-1)}}return(m<-Se||m<Se&&Gl<-Se)^1&g}function Pd(t,i,a,u){return function(c){var d,m,g,_=i(c),b=Td(),S=i(b),P=!1,T={point:I,lineStart:F,lineEnd:B,polygonStart:function(){T.point=z,T.lineStart=q,T.lineEnd=X,m=[],d=[]},polygonEnd:function(){T.point=I,T.lineStart=F,T.lineEnd=B,m=ae(m);var Q=kd(d,u);m.length?(P||(c.polygonStart(),P=!0),Cd(m,u0,Q,a,c)):Q&&(P||(c.polygonStart(),P=!0),c.lineStart(),a(null,null,1,c),c.lineEnd()),P&&(c.polygonEnd(),P=!1),m=d=null},sphere:function(){c.polygonStart(),c.lineStart(),a(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function I(Q,ot){t(Q,ot)&&c.point(Q,ot)}function N(Q,ot){_.point(Q,ot)}function F(){T.point=N,_.lineStart()}function B(){T.point=I,_.lineEnd()}function z(Q,ot){g.push([Q,ot]),S.point(Q,ot)}function q(){S.lineStart(),g=[]}function X(){z(g[0][0],g[0][1]),S.lineEnd();var Q,ot,ft,bt,Ot=S.clean(),lt=b.result(),kt=lt.length;if(g.pop(),d.push(g),g=null,kt)if(1&Ot){if((ot=(ft=lt[0]).length-1)>0){for(P||(c.polygonStart(),P=!0),c.lineStart(),Q=0;Q<ot;++Q)c.point((bt=ft[Q])[0],bt[1]);c.lineEnd()}}else kt>1&&2&Ot&&lt.push(lt.pop().concat(lt.shift())),m.push(lt.filter(s0))}return T}}function s0(t){return t.length>1}function u0(t,i){return((t=t.x)[0]<0?t[1]-Wn-Se:Wn-t[1])-((i=i.x)[0]<0?i[1]-Wn-Se:Wn-i[1])}var jl=Pd(function(){return!0},function(t){var i,a=NaN,u=NaN,c=NaN;return{lineStart:function(){t.lineStart(),i=1},point:function(d,m){var b,S,P,T,I,N,F,g=d>0?Qe:-Qe,_=ln(d-a);ln(_-Qe)<Se?(t.point(a,u=(u+m)/2>0?Wn:-Wn),t.point(c,u),t.lineEnd(),t.lineStart(),t.point(g,u),t.point(d,u),i=0):c!==g&&_>=Qe&&(ln(a-c)<Se&&(a-=c*Se),ln(d-g)<Se&&(d-=g*Se),S=u,T=m,F=oe((b=a)-(P=d)),u=ln(F)>Se?Ha((oe(S)*(N=me(T))*oe(P)-oe(T)*(I=me(S))*oe(b))/(I*N*F)):(S+T)/2,t.point(c,u),t.lineEnd(),t.lineStart(),t.point(g,u),i=0),t.point(a=d,u=m),c=g},lineEnd:function(){t.lineEnd(),a=u=NaN},clean:function(){return 2-i}}},function(t,i,a,u){var c;if(null==t)u.point(-Qe,c=a*Wn),u.point(0,c),u.point(Qe,c),u.point(Qe,0),u.point(Qe,-c),u.point(0,-c),u.point(-Qe,-c),u.point(-Qe,0),u.point(-Qe,c);else if(ln(t[0]-i[0])>Se){var d=t[0]<i[0]?Qe:-Qe;u.point(-d,c=a*d/2),u.point(0,c),u.point(d,c)}else u.point(i[0],i[1])},[-Qe,-Wn]);function Md(t){var i=me(t),a=6*ke,u=i>0,c=ln(i)>Se;function d(_,b){return me(_)*me(b)>i}function m(_,b,S){var P=[1,0,0],T=Ga(da(_),da(b)),I=eu(T,T),N=T[0],F=I-N*N;if(!F)return!S&&_;var B=i*I/F,z=-i*N/F,q=Ga(P,T),X=nu(P,B);El(X,nu(T,z));var Q=q,ot=eu(X,Q),ft=eu(Q,Q),bt=ot*ot-ft*(eu(X,X)-1);if(!(bt<0)){var Ot=Jn(bt),lt=nu(Q,(-ot-Ot)/ft);if(El(lt,X),lt=tu(lt),!S)return lt;var kt,xt=_[0],U=b[0],vt=_[1],pt=b[1];U<xt&&(kt=xt,xt=U,U=kt);var Tt=U-xt,Nt=ln(Tt-Qe)<Se;if(!Nt&&pt<vt&&(kt=vt,vt=pt,pt=kt),Nt||Tt<Se?Nt?vt+pt>0^lt[1]<(ln(lt[0]-xt)<Se?vt:pt):vt<=lt[1]&&lt[1]<=pt:Tt>Qe^(xt<=lt[0]&&lt[0]<=U)){var Qt=nu(Q,(-ot+Ot)/ft);return El(Qt,X),[lt,tu(Qt)]}}}function g(_,b){var S=u?t:Qe-t,P=0;return _<-S?P|=1:_>S&&(P|=2),b<-S?P|=4:b>S&&(P|=8),P}return Pd(d,function(_){var b,S,P,T,I;return{lineStart:function(){T=P=!1,I=1},point:function(N,F){var B,z=[N,F],q=d(N,F),X=u?q?0:g(N,F):q?g(N+(N<0?Qe:-Qe),F):0;if(!b&&(T=P=q)&&_.lineStart(),q!==P&&(!(B=m(b,z))||du(b,B)||du(z,B))&&(z[0]+=Se,z[1]+=Se,q=d(z[0],z[1])),q!==P)I=0,q?(_.lineStart(),B=m(z,b),_.point(B[0],B[1])):(B=m(b,z),_.point(B[0],B[1]),_.lineEnd()),b=B;else if(c&&b&&u^q){var Q;X&S||!(Q=m(z,b,!0))||(I=0,u?(_.lineStart(),_.point(Q[0][0],Q[0][1]),_.point(Q[1][0],Q[1][1]),_.lineEnd()):(_.point(Q[1][0],Q[1][1]),_.lineEnd(),_.lineStart(),_.point(Q[0][0],Q[0][1])))}!q||b&&du(b,z)||_.point(z[0],z[1]),b=z,P=q,S=X},lineEnd:function(){P&&_.lineEnd(),b=null},clean:function(){return I|(T&&P)<<1}}},function(_,b,S,P){wd(P,t,a,S,_,b)},u?[0,-t]:[-Qe,t-Qe])}var Co=1e9,pu=-Co;function gu(t,i,a,u){function c(b,S){return t<=b&&b<=a&&i<=S&&S<=u}function d(b,S,P,T){var I=0,N=0;if(null==b||(I=m(b,P))!==(N=m(S,P))||_(b,S)<0^P>0)do{T.point(0===I||3===I?t:a,I>1?u:i)}while((I=(I+P+4)%4)!==N);else T.point(S[0],S[1])}function m(b,S){return ln(b[0]-t)<Se?S>0?0:3:ln(b[0]-a)<Se?S>0?2:1:ln(b[1]-i)<Se?S>0?1:0:S>0?3:2}function g(b,S){return _(b.x,S.x)}function _(b,S){var P=m(b,1),T=m(S,1);return P!==T?P-T:0===P?S[1]-b[1]:1===P?b[0]-S[0]:2===P?b[1]-S[1]:S[0]-b[0]}return function(b){var S,P,T,I,N,F,B,z,q,X,Q,ot=b,ft=Td(),bt={point:Ot,lineStart:function(){bt.point=lt,P&&P.push(T=[]),X=!0,q=!1,B=z=NaN},lineEnd:function(){S&&(lt(I,N),F&&q&&ft.rejoin(),S.push(ft.result())),bt.point=Ot,q&&ot.lineEnd()},polygonStart:function(){ot=ft,S=[],P=[],Q=!0},polygonEnd:function(){var kt=function(){for(var vt=0,pt=0,Tt=P.length;pt<Tt;++pt)for(var Nt,Qt,Te=P[pt],Ce=1,Xe=Te.length,te=Te[0],Ve=te[0],en=te[1];Ce<Xe;++Ce)Nt=Ve,Qt=en,Ve=(te=Te[Ce])[0],en=te[1],Qt<=u?en>u&&(Ve-Nt)*(u-Qt)>(en-Qt)*(t-Nt)&&++vt:en<=u&&(Ve-Nt)*(u-Qt)<(en-Qt)*(t-Nt)&&--vt;return vt}(),xt=Q&&kt,U=(S=ae(S)).length;(xt||U)&&(b.polygonStart(),xt&&(b.lineStart(),d(null,null,1,b),b.lineEnd()),U&&Cd(S,g,kt,d,b),b.polygonEnd()),ot=b,S=P=T=null}};function Ot(kt,xt){c(kt,xt)&&ot.point(kt,xt)}function lt(kt,xt){var U=c(kt,xt);if(P&&T.push([kt,xt]),X)I=kt,N=xt,F=U,X=!1,U&&(ot.lineStart(),ot.point(kt,xt));else if(U&&q)ot.point(kt,xt);else{var vt=[B=Math.max(pu,Math.min(Co,B)),z=Math.max(pu,Math.min(Co,z))],pt=[kt=Math.max(pu,Math.min(Co,kt)),xt=Math.max(pu,Math.min(Co,xt))];!function(Tt,Nt,Qt,Te,Ce,Xe){var te,Ve=Tt[0],en=Tt[1],fe=0,Oe=1,Hn=Nt[0]-Ve,mi=Nt[1]-en;if(te=Qt-Ve,Hn||!(te>0)){if(te/=Hn,Hn<0){if(te<fe)return;te<Oe&&(Oe=te)}else if(Hn>0){if(te>Oe)return;te>fe&&(fe=te)}if(te=Ce-Ve,Hn||!(te<0)){if(te/=Hn,Hn<0){if(te>Oe)return;te>fe&&(fe=te)}else if(Hn>0){if(te<fe)return;te<Oe&&(Oe=te)}if(te=Te-en,mi||!(te>0)){if(te/=mi,mi<0){if(te<fe)return;te<Oe&&(Oe=te)}else if(mi>0){if(te>Oe)return;te>fe&&(fe=te)}if(te=Xe-en,mi||!(te<0)){if(te/=mi,mi<0){if(te>Oe)return;te>fe&&(fe=te)}else if(mi>0){if(te<fe)return;te<Oe&&(Oe=te)}return fe>0&&(Tt[0]=Ve+fe*Hn,Tt[1]=en+fe*mi),Oe<1&&(Nt[0]=Ve+Oe*Hn,Nt[1]=en+Oe*mi),!0}}}}}(vt,pt,t,i,a,u)?U&&(ot.lineStart(),ot.point(kt,xt),Q=!1):(q||(ot.lineStart(),ot.point(vt[0],vt[1])),ot.point(pt[0],pt[1]),U||ot.lineEnd(),Q=!1)}B=kt,z=xt,q=U}return bt}}var Wl,mu,vu,Yl=Ur(),Wa={sphere:zn,point:zn,lineStart:function(){Wa.point=c0,Wa.lineEnd=l0},lineEnd:zn,polygonStart:zn,polygonEnd:zn};function l0(){Wa.point=Wa.lineEnd=zn}function c0(t,i){Wl=t*=ke,mu=oe(i*=ke),vu=me(i),Wa.point=h0}function h0(t,i){t*=ke;var a=oe(i*=ke),u=me(i),c=ln(t-Wl),d=me(c),m=u*oe(c),g=vu*a-mu*u*d,_=mu*a+vu*u*d;Yl.add(Mi(Jn(m*m+g*g),_)),Wl=t,mu=a,vu=u}function Dd(t){return Yl.reset(),ir(t,Wa),+Yl}var Xl=[null,null],d0={type:"LineString",coordinates:Xl};function _u(t,i){return Xl[0]=t,Xl[1]=i,Dd(d0)}var Ed={Feature:function(t,i){return yu(t.geometry,i)},FeatureCollection:function(t,i){for(var a=t.features,u=-1,c=a.length;++u<c;)if(yu(a[u].geometry,i))return!0;return!1}},Ld={Sphere:function(){return!0},Point:function(t,i){return Id(t.coordinates,i)},MultiPoint:function(t,i){for(var a=t.coordinates,u=-1,c=a.length;++u<c;)if(Id(a[u],i))return!0;return!1},LineString:function(t,i){return Nd(t.coordinates,i)},MultiLineString:function(t,i){for(var a=t.coordinates,u=-1,c=a.length;++u<c;)if(Nd(a[u],i))return!0;return!1},Polygon:function(t,i){return Od(t.coordinates,i)},MultiPolygon:function(t,i){for(var a=t.coordinates,u=-1,c=a.length;++u<c;)if(Od(a[u],i))return!0;return!1},GeometryCollection:function(t,i){for(var a=t.geometries,u=-1,c=a.length;++u<c;)if(yu(a[u],i))return!0;return!1}};function yu(t,i){return!(!t||!Ld.hasOwnProperty(t.type))&&Ld[t.type](t,i)}function Id(t,i){return 0===_u(t,i)}function Nd(t,i){for(var a,u,c,d=0,m=t.length;d<m;d++){if(0===(u=_u(t[d],i))||d>0&&(c=_u(t[d],t[d-1]))>0&&a<=c&&u<=c&&(a+u-c)*(1-Math.pow((a-u)/c,2))<Us*c)return!0;a=u}return!1}function Od(t,i){return!!kd(t.map(f0),Rd(i))}function f0(t){return(t=t.map(Rd)).pop(),t}function Rd(t){return[t[0]*ke,t[1]*ke]}function zd(t,i,a){var u=Vt(t,i-Se,a).concat(i);return function(c){return u.map(function(d){return[c,d]})}}function Fd(t,i,a){var u=Vt(t,i-Se,a).concat(i);return function(c){return u.map(function(d){return[d,c]})}}function Hd(){var t,i,a,u,c,d,m,g,_,b,S,P,T=10,I=T,N=90,F=360,B=2.5;function z(){return{type:"MultiLineString",coordinates:q()}}function q(){return Vt($s(u/N)*N,a,N).map(S).concat(Vt($s(g/F)*F,m,F).map(P)).concat(Vt($s(i/T)*T,t,T).filter(function(X){return ln(X%N)>Se}).map(_)).concat(Vt($s(d/I)*I,c,I).filter(function(X){return ln(X%F)>Se}).map(b))}return z.lines=function(){return q().map(function(X){return{type:"LineString",coordinates:X}})},z.outline=function(){return{type:"Polygon",coordinates:[S(u).concat(P(m).slice(1),S(a).reverse().slice(1),P(g).reverse().slice(1))]}},z.extent=function(X){return arguments.length?z.extentMajor(X).extentMinor(X):z.extentMinor()},z.extentMajor=function(X){return arguments.length?(g=+X[0][1],m=+X[1][1],(u=+X[0][0])>(a=+X[1][0])&&(X=u,u=a,a=X),g>m&&(X=g,g=m,m=X),z.precision(B)):[[u,g],[a,m]]},z.extentMinor=function(X){return arguments.length?(d=+X[0][1],c=+X[1][1],(i=+X[0][0])>(t=+X[1][0])&&(X=i,i=t,t=X),d>c&&(X=d,d=c,c=X),z.precision(B)):[[i,d],[t,c]]},z.step=function(X){return arguments.length?z.stepMajor(X).stepMinor(X):z.stepMinor()},z.stepMajor=function(X){return arguments.length?(N=+X[0],F=+X[1],z):[N,F]},z.stepMinor=function(X){return arguments.length?(T=+X[0],I=+X[1],z):[T,I]},z.precision=function(X){return arguments.length?(B=+X,_=zd(d,c,90),b=Fd(i,t,B),S=zd(g,m,90),P=Fd(u,a,B),z):B},z.extentMajor([[-180,-90+Se],[180,90-Se]]).extentMinor([[-180,-80-Se],[180,80+Se]])}function Ao(t){return t}var Gd,Bd,ql,Ul,Kl=Ur(),$l=Ur(),Tr={point:zn,lineStart:zn,lineEnd:zn,polygonStart:function(){Tr.lineStart=p0,Tr.lineEnd=m0},polygonEnd:function(){Tr.lineStart=Tr.lineEnd=Tr.point=zn,Kl.add(ln($l)),$l.reset()},result:function(){var t=Kl/2;return Kl.reset(),t}};function p0(){Tr.point=g0}function g0(t,i){Tr.point=jd,Gd=ql=t,Bd=Ul=i}function jd(t,i){$l.add(Ul*t-ql*i),ql=t,Ul=i}function m0(){jd(Gd,Bd)}var Wd,Yd,lr,cr,Ya=1/0,bu=Ya,ko=-Ya,xu=ko,wu={point:function(t,i){t<Ya&&(Ya=t),t>ko&&(ko=t),i<bu&&(bu=i),i>xu&&(xu=i)},lineStart:zn,lineEnd:zn,polygonStart:zn,polygonEnd:zn,result:function(){var t=[[Ya,bu],[ko,xu]];return ko=xu=-(bu=Ya=1/0),t}},Ql=0,Zl=0,Po=0,Su=0,Tu=0,Xa=0,Jl=0,Vl=0,Mo=0,tr={point:pa,lineStart:Xd,lineEnd:qd,polygonStart:function(){tr.lineStart=y0,tr.lineEnd=b0},polygonEnd:function(){tr.point=pa,tr.lineStart=Xd,tr.lineEnd=qd},result:function(){var t=Mo?[Jl/Mo,Vl/Mo]:Xa?[Su/Xa,Tu/Xa]:Po?[Ql/Po,Zl/Po]:[NaN,NaN];return Ql=Zl=Po=Su=Tu=Xa=Jl=Vl=Mo=0,t}};function pa(t,i){Ql+=t,Zl+=i,++Po}function Xd(){tr.point=v0}function v0(t,i){tr.point=_0,pa(lr=t,cr=i)}function _0(t,i){var a=t-lr,u=i-cr,c=Jn(a*a+u*u);Su+=c*(lr+t)/2,Tu+=c*(cr+i)/2,Xa+=c,pa(lr=t,cr=i)}function qd(){tr.point=pa}function y0(){tr.point=x0}function b0(){Ud(Wd,Yd)}function x0(t,i){tr.point=Ud,pa(Wd=lr=t,Yd=cr=i)}function Ud(t,i){var a=t-lr,u=i-cr,c=Jn(a*a+u*u);Su+=c*(lr+t)/2,Tu+=c*(cr+i)/2,Xa+=c,Jl+=(c=cr*t-lr*i)*(lr+t),Vl+=c*(cr+i),Mo+=3*c,pa(lr=t,cr=i)}function Kd(t){this._context=t}Kd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,i){switch(this._point){case 0:this._context.moveTo(t,i),this._point=1;break;case 1:this._context.lineTo(t,i);break;default:this._context.moveTo(t+this._radius,i),this._context.arc(t,i,this._radius,0,Pi)}},result:zn};var tc,$d,Qd,Do,Eo,ec=Ur(),Lo={point:zn,lineStart:function(){Lo.point=w0},lineEnd:function(){tc&&Zd($d,Qd),Lo.point=zn},polygonStart:function(){tc=!0},polygonEnd:function(){tc=null},result:function(){var t=+ec;return ec.reset(),t}};function w0(t,i){Lo.point=Zd,$d=Do=t,Qd=Eo=i}function Zd(t,i){ec.add(Jn((Do-=t)*Do+(Eo-=i)*Eo)),Do=t,Eo=i}function Jd(){this._string=[]}function Vd(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Io(t){return function(i){var a=new nc;for(var u in t)a[u]=t[u];return a.stream=i,a}}function nc(){}function ic(t,i,a){var u=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=u&&t.clipExtent(null),ir(a,t.stream(wu)),i(wu.result()),null!=u&&t.clipExtent(u),t}function Cu(t,i,a){return ic(t,function(u){var c=i[1][0]-i[0][0],d=i[1][1]-i[0][1],m=Math.min(c/(u[1][0]-u[0][0]),d/(u[1][1]-u[0][1])),g=+i[0][0]+(c-m*(u[1][0]+u[0][0]))/2,_=+i[0][1]+(d-m*(u[1][1]+u[0][1]))/2;t.scale(150*m).translate([g,_])},a)}function rc(t,i,a){return Cu(t,[[0,0],i],a)}function ac(t,i,a){return ic(t,function(u){var c=+i,d=c/(u[1][0]-u[0][0]),m=(c-d*(u[1][0]+u[0][0]))/2,g=-d*u[0][1];t.scale(150*d).translate([m,g])},a)}function oc(t,i,a){return ic(t,function(u){var c=+i,d=c/(u[1][1]-u[0][1]),m=-d*u[0][0],g=(c-d*(u[1][1]+u[0][1]))/2;t.scale(150*d).translate([m,g])},a)}Jd.prototype={_radius:4.5,_circle:Vd(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,i){switch(this._point){case 0:this._string.push("M",t,",",i),this._point=1;break;case 1:this._string.push("L",t,",",i);break;default:null==this._circle&&(this._circle=Vd(this._radius)),this._string.push("M",t,",",i,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},nc.prototype={constructor:nc,point:function(t,i){this.stream.point(t,i)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var S0=me(30*ke);function ef(t,i){return+i?function(a,u){function c(d,m,g,_,b,S,P,T,I,N,F,B,z,q){var X=P-d,Q=T-m,ot=X*X+Q*Q;if(ot>4*u&&z--){var ft=_+N,bt=b+F,Ot=S+B,lt=Jn(ft*ft+bt*bt+Ot*Ot),kt=Di(Ot/=lt),xt=ln(ln(Ot)-1)<Se||ln(g-I)<Se?(g+I)/2:Mi(bt,ft),U=a(xt,kt),vt=U[0],pt=U[1],Tt=vt-d,Nt=pt-m,Qt=Q*Tt-X*Nt;(Qt*Qt/ot>u||ln((X*Tt+Q*Nt)/ot-.5)>.3||_*N+b*F+S*B<S0)&&(c(d,m,g,_,b,S,vt,pt,xt,ft/=lt,bt/=lt,Ot,z,q),q.point(vt,pt),c(vt,pt,xt,ft,bt,Ot,P,T,I,N,F,B,z,q))}}return function(d){var m,g,_,b,S,P,T,I,N,F,B,z,q={point:X,lineStart:Q,lineEnd:ft,polygonStart:function(){d.polygonStart(),q.lineStart=bt},polygonEnd:function(){d.polygonEnd(),q.lineStart=Q}};function X(kt,xt){kt=a(kt,xt),d.point(kt[0],kt[1])}function Q(){I=NaN,q.point=ot,d.lineStart()}function ot(kt,xt){var U=da([kt,xt]),vt=a(kt,xt);c(I,N,T,F,B,z,I=vt[0],N=vt[1],T=kt,F=U[0],B=U[1],z=U[2],16,d),d.point(I,N)}function ft(){q.point=X,d.lineEnd()}function bt(){Q(),q.point=Ot,q.lineEnd=lt}function Ot(kt,xt){ot(m=kt,xt),g=I,_=N,b=F,S=B,P=z,q.point=ot}function lt(){c(I,N,T,F,B,z,g,_,m,b,S,P,16,d),q.lineEnd=ft,ft()}return q}}(t,i):(a=t,Io({point:function(u,c){u=a(u,c),this.stream.point(u[0],u[1])}}));var a}var T0=Io({point:function(t,i){this.stream.point(t*ke,i*ke)}});function nf(t,i,a,u,c,d){var m=me(d),g=oe(d),_=m*t,b=g*t,S=m/t,P=g/t,T=(g*a-m*i)/t,I=(g*i+m*a)/t;function N(F,B){return[_*(F*=u)-b*(B*=c)+i,a-b*F-_*B]}return N.invert=function(F,B){return[u*(S*F-P*B+T),c*(I-P*F-S*B)]},N}function hr(t){return sc(function(){return t})()}function sc(t){var i,a,u,c,d,m,g,_,b,S,P=150,T=480,I=250,N=0,F=0,B=0,z=0,q=0,X=0,Q=1,ot=1,ft=null,bt=jl,Ot=null,lt=Ao,kt=.5;function xt(Tt){return _(Tt[0]*ke,Tt[1]*ke)}function U(Tt){return(Tt=_.invert(Tt[0],Tt[1]))&&[Tt[0]*kn,Tt[1]*kn]}function vt(){var Tt=nf(P,0,0,Q,ot,X).apply(null,i(N,F)),Nt=(X?nf:function(Qt,Te,Ce,Xe,te){function Ve(en,fe){return[Te+Qt*(en*=Xe),Ce-Qt*(fe*=te)]}return Ve.invert=function(en,fe){return[(en-Te)/Qt*Xe,(Ce-fe)/Qt*te]},Ve})(P,T-Tt[0],I-Tt[1],Q,ot,X);return a=Hl(B,z,q),g=zl(i,Nt),_=zl(a,g),m=ef(g,kt),pt()}function pt(){return b=S=null,xt}return xt.stream=function(Tt){return b&&S===Tt?b:b=T0((Nt=a,Io({point:function(Qt,Te){var Ce=Nt(Qt,Te);return this.stream.point(Ce[0],Ce[1])}}))(bt(m(lt(S=Tt)))));var Nt},xt.preclip=function(Tt){return arguments.length?(bt=Tt,ft=void 0,pt()):bt},xt.postclip=function(Tt){return arguments.length?(lt=Tt,Ot=u=c=d=null,pt()):lt},xt.clipAngle=function(Tt){return arguments.length?(bt=+Tt?Md(ft=Tt*ke):(ft=null,jl),pt()):ft*kn},xt.clipExtent=function(Tt){return arguments.length?(lt=null==Tt?(Ot=u=c=d=null,Ao):gu(Ot=+Tt[0][0],u=+Tt[0][1],c=+Tt[1][0],d=+Tt[1][1]),pt()):null==Ot?null:[[Ot,u],[c,d]]},xt.scale=function(Tt){return arguments.length?(P=+Tt,vt()):P},xt.translate=function(Tt){return arguments.length?(T=+Tt[0],I=+Tt[1],vt()):[T,I]},xt.center=function(Tt){return arguments.length?(N=Tt[0]%360*ke,F=Tt[1]%360*ke,vt()):[N*kn,F*kn]},xt.rotate=function(Tt){return arguments.length?(B=Tt[0]%360*ke,z=Tt[1]%360*ke,q=Tt.length>2?Tt[2]%360*ke:0,vt()):[B*kn,z*kn,q*kn]},xt.angle=function(Tt){return arguments.length?(X=Tt%360*ke,vt()):X*kn},xt.reflectX=function(Tt){return arguments.length?(Q=Tt?-1:1,vt()):Q<0},xt.reflectY=function(Tt){return arguments.length?(ot=Tt?-1:1,vt()):ot<0},xt.precision=function(Tt){return arguments.length?(m=ef(g,kt=Tt*Tt),pt()):Jn(kt)},xt.fitExtent=function(Tt,Nt){return Cu(xt,Tt,Nt)},xt.fitSize=function(Tt,Nt){return rc(xt,Tt,Nt)},xt.fitWidth=function(Tt,Nt){return ac(xt,Tt,Nt)},xt.fitHeight=function(Tt,Nt){return oc(xt,Tt,Nt)},function(){return i=t.apply(this,arguments),xt.invert=i.invert&&U,vt()}}function uc(t){var i=0,a=Qe/3,u=sc(t),c=u(i,a);return c.parallels=function(d){return arguments.length?u(i=d[0]*ke,a=d[1]*ke):[i*kn,a*kn]},c}function rf(t,i){var a=oe(t),u=(a+oe(i))/2;if(ln(u)<Se)return function(g){var _=me(g);function b(S,P){return[S*_,oe(P)/_]}return b.invert=function(S,P){return[S/_,Di(P*_)]},b}(t);var c=1+a*(2*u-a),d=Jn(c)/u;function m(g,_){var b=Jn(c-2*u*oe(_))/u;return[b*oe(g*=u),d-b*me(g)]}return m.invert=function(g,_){var b=d-_,S=Mi(g,ln(b))*Vi(b);return b*u<0&&(S-=Qe*Vi(g)*Vi(b)),[S/u,Di((c-(g*g+b*b)*u*u)/(2*u))]},m}function Au(){return uc(rf).scale(155.424).center([0,33.6442])}function af(){return Au().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function of(t){return function(i,a){var u=me(i),c=me(a),d=t(u*c);return[d*c*oe(i),d*oe(a)]}}function No(t){return function(i,a){var u=Jn(i*i+a*a),c=t(u),d=oe(c),m=me(c);return[Mi(i*d,u*m),Di(u&&a*d/u)]}}var lc=of(function(t){return Jn(2/(1+t))});lc.invert=No(function(t){return 2*Di(t/2)});var cc=of(function(t){return(t=Jh(t))&&t/oe(t)});function Oo(t,i){return[t,Qs(Al((Wn+i)/2))]}function sf(t){var i,a,u,c=hr(t),d=c.center,m=c.scale,g=c.translate,_=c.clipExtent,b=null;function S(){var P=Qe*m(),T=c(xd(c.rotate()).invert([0,0]));return _(null==b?[[T[0]-P,T[1]-P],[T[0]+P,T[1]+P]]:t===Oo?[[Math.max(T[0]-P,b),i],[Math.min(T[0]+P,a),u]]:[[b,Math.max(T[1]-P,i)],[a,Math.min(T[1]+P,u)]])}return c.scale=function(P){return arguments.length?(m(P),S()):m()},c.translate=function(P){return arguments.length?(g(P),S()):g()},c.center=function(P){return arguments.length?(d(P),S()):d()},c.clipExtent=function(P){return arguments.length?(null==P?b=i=a=u=null:(b=+P[0][0],i=+P[0][1],a=+P[1][0],u=+P[1][1]),S()):null==b?null:[[b,i],[a,u]]},S()}function ku(t){return Al((Wn+t)/2)}function uf(t,i){var a=me(t),u=t===i?oe(t):Qs(a/me(i))/Qs(ku(i)/ku(t)),c=a*Cl(ku(t),u)/u;if(!u)return Oo;function d(m,g){c>0?g<-Wn+Se&&(g=-Wn+Se):g>Wn-Se&&(g=Wn-Se);var _=c/Cl(ku(g),u);return[_*oe(u*m),c-_*me(u*m)]}return d.invert=function(m,g){var _=c-g,b=Vi(u)*Jn(m*m+_*_),S=Mi(m,ln(_))*Vi(_);return _*u<0&&(S-=Qe*Vi(m)*Vi(_)),[S/u,2*Ha(Cl(c/b,1/u))-Wn]},d}function Ro(t,i){return[t,i]}function lf(t,i){var a=me(t),u=t===i?oe(t):(a-me(i))/(i-t),c=a/u+t;if(ln(u)<Se)return Ro;function d(m,g){var _=c-g,b=u*m;return[_*oe(b),c-_*me(b)]}return d.invert=function(m,g){var _=c-g,b=Mi(m,ln(_))*Vi(_);return _*u<0&&(b-=Qe*Vi(m)*Vi(_)),[b/u,c-Vi(u)*Jn(m*m+_*_)]},d}cc.invert=No(function(t){return t}),Oo.invert=function(t,i){return[t,2*Ha(Zh(i))-Wn]},Ro.invert=Ro;var zo=1.340264,Fo=-.081106,Ho=893e-6,Go=.003796,Pu=Jn(3)/2;function hc(t,i){var a=Di(Pu*oe(i)),u=a*a,c=u*u*u;return[t*me(a)/(Pu*(zo+3*Fo*u+c*(7*Ho+9*Go*u))),a*(zo+Fo*u+c*(Ho+Go*u))]}function dc(t,i){var a=me(i),u=me(t)*a;return[a*oe(t)/u,oe(i)/u]}function fc(t,i){var a=i*i,u=a*a;return[t*(.8707-.131979*a+u*(u*(.003971*a-.001529*u)-.013791)),i*(1.007226+a*(.015085+u*(.028874*a-.044475-.005916*u)))]}function pc(t,i){return[me(i)*oe(t),oe(i)]}function gc(t,i){var a=me(i),u=1+me(t)*a;return[a*oe(t)/u,oe(i)/u]}function mc(t,i){return[Qs(Al((Wn+i)/2)),-t]}function C0(t,i){return t.parent===i.parent?1:2}function A0(t,i){return t+i.x}function k0(t,i){return Math.max(t,i.y)}function P0(t){var i=0,a=t.children,u=a&&a.length;if(u)for(;--u>=0;)i+=a[u].value;else i=1;t.value=i}function vc(t,i){var a,u,c,d,m,g=new qa(t),_=+t.value&&(g.value=t.value),b=[g];for(null==i&&(i=M0);a=b.pop();)if(_&&(a.value=+a.data.value),(c=i(a.data))&&(m=c.length))for(a.children=new Array(m),d=m-1;d>=0;--d)b.push(u=a.children[d]=new qa(c[d])),u.parent=a,u.depth=a.depth+1;return g.eachBefore(cf)}function M0(t){return t.children}function D0(t){t.data=t.data.data}function cf(t){var i=0;do{t.height=i}while((t=t.parent)&&t.height<++i)}function qa(t){this.data=t,this.depth=this.height=0,this.parent=null}hc.invert=function(t,i){for(var a,u=i,c=u*u,d=c*c*c,m=0;m<12&&(d=(c=(u-=a=(u*(zo+Fo*c+d*(Ho+Go*c))-i)/(zo+3*Fo*c+d*(7*Ho+9*Go*c)))*u)*c*c,!(ln(a)<Us));++m);return[Pu*t*(zo+3*Fo*c+d*(7*Ho+9*Go*c))/me(u),Di(oe(u)/Pu)]},dc.invert=No(Ha),fc.invert=function(t,i){var a,u=i,c=25;do{var d=u*u,m=d*d;u-=a=(u*(1.007226+d*(.015085+m*(.028874*d-.044475-.005916*m)))-i)/(1.007226+d*(.045255+m*(.259866*d-.311325-.005916*11*m)))}while(ln(a)>Se&&--c>0);return[t/(.8707+(d=u*u)*(d*(d*d*d*(.003971-.001529*d)-.013791)-.131979)),u]},pc.invert=No(Di),gc.invert=No(function(t){return 2*Ha(t)}),mc.invert=function(t,i){return[-i,2*Ha(Zh(t))-Wn]},qa.prototype=vc.prototype={constructor:qa,count:function(){return this.eachAfter(P0)},each:function(t){var i,a,u,c,d=this,m=[d];do{for(i=m.reverse(),m=[];d=i.pop();)if(t(d),a=d.children)for(u=0,c=a.length;u<c;++u)m.push(a[u])}while(m.length);return this},eachAfter:function(t){for(var i,a,u,c=this,d=[c],m=[];c=d.pop();)if(m.push(c),i=c.children)for(a=0,u=i.length;a<u;++a)d.push(i[a]);for(;c=m.pop();)t(c);return this},eachBefore:function(t){for(var i,a,u=this,c=[u];u=c.pop();)if(t(u),i=u.children)for(a=i.length-1;a>=0;--a)c.push(i[a]);return this},sum:function(t){return this.eachAfter(function(i){for(var a=+t(i.data)||0,u=i.children,c=u&&u.length;--c>=0;)a+=u[c].value;i.value=a})},sort:function(t){return this.eachBefore(function(i){i.children&&i.children.sort(t)})},path:function(t){for(var i=this,a=function(d,m){if(d===m)return d;var g=d.ancestors(),_=m.ancestors(),b=null;for(d=g.pop(),m=_.pop();d===m;)b=d,d=g.pop(),m=_.pop();return b}(i,t),u=[i];i!==a;)u.push(i=i.parent);for(var c=u.length;t!==a;)u.splice(c,0,t),t=t.parent;return u},ancestors:function(){for(var t=this,i=[t];t=t.parent;)i.push(t);return i},descendants:function(){var t=[];return this.each(function(i){t.push(i)}),t},leaves:function(){var t=[];return this.eachBefore(function(i){i.children||t.push(i)}),t},links:function(){var t=this,i=[];return t.each(function(a){a!==t&&i.push({source:a.parent,target:a})}),i},copy:function(){return vc(this).eachBefore(D0)}};var E0=Array.prototype.slice;function hf(t){for(var i,a,u=0,c=(t=function(m){for(var g,_,b=m.length;b;)_=Math.random()*b--|0,g=m[b],m[b]=m[_],m[_]=g;return m}(E0.call(t))).length,d=[];u<c;)i=t[u],a&&df(a,i)?++u:(a=I0(d=L0(d,i)),u=0);return a}function L0(t,i){var a,u;if(_c(i,t))return[i];for(a=0;a<t.length;++a)if(Mu(i,t[a])&&_c(Bo(t[a],i),t))return[t[a],i];for(a=0;a<t.length-1;++a)for(u=a+1;u<t.length;++u)if(Mu(Bo(t[a],t[u]),i)&&Mu(Bo(t[a],i),t[u])&&Mu(Bo(t[u],i),t[a])&&_c(ff(t[a],t[u],i),t))return[t[a],t[u],i];throw new Error}function Mu(t,i){var a=t.r-i.r,u=i.x-t.x,c=i.y-t.y;return a<0||a*a<u*u+c*c}function df(t,i){var a=t.r-i.r+1e-6,u=i.x-t.x,c=i.y-t.y;return a>0&&a*a>u*u+c*c}function _c(t,i){for(var a=0;a<i.length;++a)if(!df(t,i[a]))return!1;return!0}function I0(t){switch(t.length){case 1:return{x:(i=t[0]).x,y:i.y,r:i.r};case 2:return Bo(t[0],t[1]);case 3:return ff(t[0],t[1],t[2])}var i}function Bo(t,i){var a=t.x,u=t.y,c=t.r,d=i.x,m=i.y,g=i.r,_=d-a,b=m-u,S=g-c,P=Math.sqrt(_*_+b*b);return{x:(a+d+_/P*S)/2,y:(u+m+b/P*S)/2,r:(P+c+g)/2}}function ff(t,i,a){var u=t.x,c=t.y,d=t.r,m=i.x,g=i.y,_=i.r,b=a.x,S=a.y,P=a.r,T=u-m,I=u-b,N=c-g,F=c-S,B=_-d,z=P-d,q=u*u+c*c-d*d,X=q-m*m-g*g+_*_,Q=q-b*b-S*S+P*P,ot=I*N-T*F,ft=(N*Q-F*X)/(2*ot)-u,bt=(F*B-N*z)/ot,Ot=(I*X-T*Q)/(2*ot)-c,lt=(T*z-I*B)/ot,kt=bt*bt+lt*lt-1,xt=2*(d+ft*bt+Ot*lt),U=ft*ft+Ot*Ot-d*d,vt=-(kt?(xt+Math.sqrt(xt*xt-4*kt*U))/(2*kt):U/xt);return{x:u+ft+bt*vt,y:c+Ot+lt*vt,r:vt}}function pf(t,i,a){var u,c,d,m,g=t.x-i.x,_=t.y-i.y,b=g*g+_*_;b?(c=i.r+a.r,m=t.r+a.r,(c*=c)>(m*=m)?(u=(b+m-c)/(2*b),d=Math.sqrt(Math.max(0,m/b-u*u)),a.x=t.x-u*g-d*_,a.y=t.y-u*_+d*g):(u=(b+c-m)/(2*b),d=Math.sqrt(Math.max(0,c/b-u*u)),a.x=i.x+u*g-d*_,a.y=i.y+u*_+d*g)):(a.x=i.x+a.r,a.y=i.y)}function gf(t,i){var a=t.r+i.r-1e-6,u=i.x-t.x,c=i.y-t.y;return a>0&&a*a>u*u+c*c}function mf(t){var i=t._,a=t.next._,u=i.r+a.r,c=(i.x*a.r+a.x*i.r)/u,d=(i.y*a.r+a.y*i.r)/u;return c*c+d*d}function Du(t){this._=t,this.next=null,this.previous=null}function vf(t){if(!(c=t.length))return 0;var i,a,u,c,d,m,g,_,b,S,P;if((i=t[0]).x=0,i.y=0,!(c>1))return i.r;if(i.x=-(a=t[1]).r,a.x=i.r,a.y=0,!(c>2))return i.r+a.r;pf(a,i,u=t[2]),i=new Du(i),a=new Du(a),u=new Du(u),i.next=u.previous=a,a.next=i.previous=u,u.next=a.previous=i;t:for(g=3;g<c;++g){pf(i._,a._,u=t[g]),u=new Du(u),_=a.next,b=i.previous,S=a._.r,P=i._.r;do{if(S<=P){if(gf(_._,u._)){i.next=a=_,a.previous=i,--g;continue t}S+=_._.r,_=_.next}else{if(gf(b._,u._)){(i=b).next=a,a.previous=i,--g;continue t}P+=b._.r,b=b.previous}}while(_!==b.next);for(u.previous=i,u.next=a,i.next=a.previous=a=u,d=mf(i);(u=u.next)!==a;)(m=mf(u))<d&&(i=u,d=m);a=i.next}for(i=[a._],u=a;(u=u.next)!==a;)i.push(u._);for(u=hf(i),g=0;g<c;++g)(i=t[g]).x-=u.x,i.y-=u.y;return u.r}function N0(t){return null==t?null:Eu(t)}function Eu(t){if("function"!=typeof t)throw new Error;return t}function ga(){return 0}function Ua(t){return function(){return t}}function O0(t){return Math.sqrt(t.value)}function _f(t){return function(i){i.children||(i.r=Math.max(0,+t(i)||0))}}function yc(t,i){return function(a){if(u=a.children){var u,c,d,m=u.length,g=t(a)*i||0;if(g)for(c=0;c<m;++c)u[c].r+=g;if(d=vf(u),g)for(c=0;c<m;++c)u[c].r-=g;a.r=d+g}}}function yf(t){return function(i){var a=i.parent;i.r*=t,a&&(i.x=a.x+t*i.x,i.y=a.y+t*i.y)}}function bf(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function jo(t,i,a,u,c){for(var d,m=t.children,g=-1,_=m.length,b=t.value&&(u-i)/t.value;++g<_;)(d=m[g]).y0=a,d.y1=c,d.x0=i,d.x1=i+=d.value*b}var R0={depth:-1},wf={};function z0(t){return t.id}function F0(t){return t.parentId}function H0(t,i){return t.parent===i.parent?1:2}function bc(t){var i=t.children;return i?i[0]:t.t}function xc(t){var i=t.children;return i?i[i.length-1]:t.t}function G0(t,i,a){var u=a/(i.i-t.i);i.c-=u,i.s+=a,t.c+=u,i.z+=a,i.m+=a}function B0(t,i,a){return t.a.parent===i.parent?t.a:a}function Lu(t,i){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=i}function Iu(t,i,a,u,c){for(var d,m=t.children,g=-1,_=m.length,b=t.value&&(c-a)/t.value;++g<_;)(d=m[g]).x0=i,d.x1=u,d.y0=a,d.y1=a+=d.value*b}Lu.prototype=Object.create(qa.prototype);var Sf=(1+Math.sqrt(5))/2;function Tf(t,i,a,u,c,d){for(var m,g,_,b,S,P,T,I,N,F,B,z=[],q=i.children,X=0,Q=0,ot=q.length,ft=i.value;X<ot;){_=c-a,b=d-u;do{S=q[Q++].value}while(!S&&Q<ot);for(P=T=S,B=S*S*(F=Math.max(b/_,_/b)/(ft*t)),N=Math.max(T/B,B/P);Q<ot;++Q){if(S+=g=q[Q].value,g<P&&(P=g),g>T&&(T=g),B=S*S*F,(I=Math.max(T/B,B/P))>N){S-=g;break}N=I}z.push(m={value:S,dice:_<b,children:q.slice(X,Q)}),m.dice?jo(m,a,u,c,ft?u+=b*S/ft:d):Iu(m,a,u,ft?a+=_*S/ft:c,d),ft-=S,X=Q}return z}var Cf=function t(i){function a(u,c,d,m,g){Tf(i,u,c,d,m,g)}return a.ratio=function(u){return t((u=+u)>1?u:1)},a}(Sf),j0=function t(i){function a(u,c,d,m,g){if((_=u._squarify)&&_.ratio===i)for(var _,b,S,P,T,I=-1,N=_.length,F=u.value;++I<N;){for(S=(b=_[I]).children,P=b.value=0,T=S.length;P<T;++P)b.value+=S[P].value;b.dice?jo(b,c,d,m,d+=(g-d)*b.value/F):Iu(b,c,d,c+=(m-c)*b.value/F,g),F-=b.value}else u._squarify=_=Tf(i,u,c,d,m,g),_.ratio=i}return a.ratio=function(u){return t((u=+u)>1?u:1)},a}(Sf);function W0(t,i,a){return(i[0]-t[0])*(a[1]-t[1])-(i[1]-t[1])*(a[0]-t[0])}function Y0(t,i){return t[0]-i[0]||t[1]-i[1]}function Af(t){for(var i=t.length,a=[0,1],u=2,c=2;c<i;++c){for(;u>1&&W0(t[a[u-2]],t[a[u-1]],t[c])<=0;)--u;a[u++]=c}return a.slice(0,u)}function Ka(){return Math.random()}var X0=function t(i){function a(u,c){return u=null==u?0:+u,c=null==c?1:+c,1===arguments.length?(c=u,u=0):c-=u,function(){return i()*c+u}}return a.source=t,a}(Ka),kf=function t(i){function a(u,c){var d,m;return u=null==u?0:+u,c=null==c?1:+c,function(){var g;if(null!=d)g=d,d=null;else do{d=2*i()-1,g=2*i()-1,m=d*d+g*g}while(!m||m>1);return u+c*g*Math.sqrt(-2*Math.log(m)/m)}}return a.source=t,a}(Ka),q0=function t(i){function a(){var u=kf.source(i).apply(this,arguments);return function(){return Math.exp(u())}}return a.source=t,a}(Ka),Pf=function t(i){function a(u){return function(){for(var c=0,d=0;d<u;++d)c+=i();return c}}return a.source=t,a}(Ka),U0=function t(i){function a(u){var c=Pf.source(i)(u);return function(){return c()/u}}return a.source=t,a}(Ka),K0=function t(i){function a(u){return function(){return-Math.log(1-i())/u}}return a.source=t,a}(Ka);function ar(t,i){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(i).domain(t)}return this}function Cr(t,i){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(i).domain(t)}return this}var Mf=Array.prototype,Nu=Mf.map,ma=Mf.slice,wc={name:"implicit"};function Sc(){var t=br(),i=[],a=[],u=wc;function c(d){var m=d+"",g=t.get(m);if(!g){if(u!==wc)return u;t.set(m,g=i.push(d))}return a[(g-1)%a.length]}return c.domain=function(d){if(!arguments.length)return i.slice();i=[],t=br();for(var m,g,_=-1,b=d.length;++_<b;)t.has(g=(m=d[_])+"")||t.set(g,i.push(m));return c},c.range=function(d){return arguments.length?(a=ma.call(d),c):a.slice()},c.unknown=function(d){return arguments.length?(u=d,c):u},c.copy=function(){return Sc(i,a).unknown(u)},ar.apply(c,arguments),c}function Tc(){var t,i,a=Sc().unknown(void 0),u=a.domain,c=a.range,d=[0,1],m=!1,g=0,_=0,b=.5;function S(){var P=u().length,T=d[1]<d[0],I=d[T-0],N=d[1-T];t=(N-I)/Math.max(1,P-g+2*_),m&&(t=Math.floor(t)),I+=(N-I-t*(P-g))*b,i=t*(1-g),m&&(I=Math.round(I),i=Math.round(i));var F=Vt(P).map(function(B){return I+t*B});return c(T?F.reverse():F)}return delete a.unknown,a.domain=function(P){return arguments.length?(u(P),S()):u()},a.range=function(P){return arguments.length?(d=[+P[0],+P[1]],S()):d.slice()},a.rangeRound=function(P){return d=[+P[0],+P[1]],m=!0,S()},a.bandwidth=function(){return i},a.step=function(){return t},a.round=function(P){return arguments.length?(m=!!P,S()):m},a.padding=function(P){return arguments.length?(g=Math.min(1,_=+P),S()):g},a.paddingInner=function(P){return arguments.length?(g=Math.min(1,P),S()):g},a.paddingOuter=function(P){return arguments.length?(_=+P,S()):_},a.align=function(P){return arguments.length?(b=Math.max(0,Math.min(1,P)),S()):b},a.copy=function(){return Tc(u(),d).round(m).paddingInner(g).paddingOuter(_).align(b)},ar.apply(S(),arguments)}function Cc(t){return+t}var Df=[0,1];function gi(t){return t}function Ac(t,i){return(i-=t=+t)?function(a){return(a-t)/i}:(a=isNaN(i)?NaN:.5,function(){return a});var a}function Ef(t){var i,a=t[0],u=t[t.length-1];return a>u&&(i=a,a=u,u=i),function(c){return Math.max(a,Math.min(u,c))}}function $0(t,i,a){var u=t[0],c=t[1],d=i[0],m=i[1];return c<u?(u=Ac(c,u),d=a(m,d)):(u=Ac(u,c),d=a(d,m)),function(g){return d(u(g))}}function Q0(t,i,a){var u=Math.min(t.length,i.length)-1,c=new Array(u),d=new Array(u),m=-1;for(t[u]<t[0]&&(t=t.slice().reverse(),i=i.slice().reverse());++m<u;)c[m]=Ac(t[m],t[m+1]),d[m]=a(i[m],i[m+1]);return function(g){var _=pe(t,g,1,u)-1;return d[_](c[_](g))}}function Wo(t,i){return i.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ou(){var t,i,a,u,c,d,m=Df,g=Df,_=Qi,b=gi;function S(){return u=Math.min(m.length,g.length)>2?Q0:$0,c=d=null,P}function P(T){return isNaN(T=+T)?a:(c||(c=u(m.map(t),g,_)))(t(b(T)))}return P.invert=function(T){return b(i((d||(d=u(g,m.map(t),on)))(T)))},P.domain=function(T){return arguments.length?(m=Nu.call(T,Cc),b===gi||(b=Ef(m)),S()):m.slice()},P.range=function(T){return arguments.length?(g=ma.call(T),S()):g.slice()},P.rangeRound=function(T){return g=ma.call(T),_=di,S()},P.clamp=function(T){return arguments.length?(b=T?Ef(m):gi,P):b!==gi},P.interpolate=function(T){return arguments.length?(_=T,S()):_},P.unknown=function(T){return arguments.length?(a=T,P):a},function(T,I){return t=T,i=I,S()}}function Lf(t,i){return Ou()(t,i)}function If(t,i,a,u){var c,d=re(t,i,a);switch((u=wo(null==u?",f":u)).type){case"s":var m=Math.max(Math.abs(t),Math.abs(i));return null!=u.precision||isNaN(c=Kh(d,m))||(u.precision=c),r.formatPrefix(u,m);case"":case"e":case"g":case"p":case"r":null!=u.precision||isNaN(c=$h(d,Math.max(Math.abs(t),Math.abs(i))))||(u.precision=c-("e"===u.type));break;case"f":case"%":null!=u.precision||isNaN(c=Uh(d))||(u.precision=c-2*("%"===u.type))}return r.format(u)}function va(t){var i=t.domain;return t.ticks=function(a){var u=i();return $(u[0],u[u.length-1],null==a?10:a)},t.tickFormat=function(a,u){var c=i();return If(c[0],c[c.length-1],null==a?10:a,u)},t.nice=function(a){null==a&&(a=10);var u,c=i(),d=0,m=c.length-1,g=c[d],_=c[m];return _<g&&(u=g,g=_,_=u,u=d,d=m,m=u),(u=L(g,_,a))>0?u=L(g=Math.floor(g/u)*u,_=Math.ceil(_/u)*u,a):u<0&&(u=L(g=Math.ceil(g*u)/u,_=Math.floor(_*u)/u,a)),u>0?(c[d]=Math.floor(g/u)*u,c[m]=Math.ceil(_/u)*u,i(c)):u<0&&(c[d]=Math.ceil(g*u)/u,c[m]=Math.floor(_*u)/u,i(c)),t},t}function Nf(t,i){var a,u=0,c=(t=t.slice()).length-1,d=t[u],m=t[c];return m<d&&(a=u,u=c,c=a,a=d,d=m,m=a),t[u]=i.floor(d),t[c]=i.ceil(m),t}function Of(t){return Math.log(t)}function Rf(t){return Math.exp(t)}function Z0(t){return-Math.log(-t)}function J0(t){return-Math.exp(-t)}function V0(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zf(t){return function(i){return-t(-i)}}function kc(t){var i,a,u=t(Of,Rf),c=u.domain,d=10;function m(){return i=(g=d)===Math.E?Math.log:10===g&&Math.log10||2===g&&Math.log2||(g=Math.log(g),function(_){return Math.log(_)/g}),a=function(g){return 10===g?V0:g===Math.E?Math.exp:function(_){return Math.pow(g,_)}}(d),c()[0]<0?(i=zf(i),a=zf(a),t(Z0,J0)):t(Of,Rf),u;var g}return u.base=function(g){return arguments.length?(d=+g,m()):d},u.domain=function(g){return arguments.length?(c(g),m()):c()},u.ticks=function(g){var _,b=c(),S=b[0],P=b[b.length-1];(_=P<S)&&(F=S,S=P,P=F);var T,I,N,F=i(S),B=i(P),z=null==g?10:+g,q=[];if(!(d%1)&&B-F<z){if(F=Math.round(F)-1,B=Math.round(B)+1,S>0){for(;F<B;++F)for(I=1,T=a(F);I<d;++I)if(!((N=T*I)<S)){if(N>P)break;q.push(N)}}else for(;F<B;++F)for(I=d-1,T=a(F);I>=1;--I)if(!((N=T*I)<S)){if(N>P)break;q.push(N)}}else q=$(F,B,Math.min(B-F,z)).map(a);return _?q.reverse():q},u.tickFormat=function(g,_){if(null==_&&(_=10===d?".0e":","),"function"!=typeof _&&(_=r.format(_)),g===1/0)return _;null==g&&(g=10);var b=Math.max(1,d*g/u.ticks().length);return function(S){var P=S/a(Math.round(i(S)));return P*d<d-.5&&(P*=d),P<=b?_(S):""}},u.nice=function(){return c(Nf(c(),{floor:function(g){return a(Math.floor(i(g)))},ceil:function(g){return a(Math.ceil(i(g)))}}))},u}function Ff(t){return function(i){return Math.sign(i)*Math.log1p(Math.abs(i/t))}}function Hf(t){return function(i){return Math.sign(i)*Math.expm1(Math.abs(i))*t}}function Pc(t){var i=1,a=t(Ff(i),Hf(i));return a.constant=function(u){return arguments.length?t(Ff(i=+u),Hf(i)):i},va(a)}function Gf(t){return function(i){return i<0?-Math.pow(-i,t):Math.pow(i,t)}}function tv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ev(t){return t<0?-t*t:t*t}function Mc(t){var i=t(gi,gi),a=1;function u(){return 1===a?t(gi,gi):.5===a?t(tv,ev):t(Gf(a),Gf(1/a))}return i.exponent=function(c){return arguments.length?(a=+c,u()):a},va(i)}function Dc(){var t=Mc(Ou());return t.copy=function(){return Wo(t,Dc()).exponent(t.exponent())},ar.apply(t,arguments),t}var Ec=new Date,Lc=new Date;function ai(t,i,a,u){function c(d){return t(d=0===arguments.length?new Date:new Date(+d)),d}return c.floor=function(d){return t(d=new Date(+d)),d},c.ceil=function(d){return t(d=new Date(d-1)),i(d,1),t(d),d},c.round=function(d){var m=c(d),g=c.ceil(d);return d-m<g-d?m:g},c.offset=function(d,m){return i(d=new Date(+d),null==m?1:Math.floor(m)),d},c.range=function(d,m,g){var _,b=[];if(d=c.ceil(d),g=null==g?1:Math.floor(g),!(d<m&&g>0))return b;do{b.push(_=new Date(+d)),i(d,g),t(d)}while(_<d&&d<m);return b},c.filter=function(d){return ai(function(m){if(m>=m)for(;t(m),!d(m);)m.setTime(m-1)},function(m,g){if(m>=m)if(g<0)for(;++g<=0;)for(;i(m,-1),!d(m););else for(;--g>=0;)for(;i(m,1),!d(m););})},a&&(c.count=function(d,m){return Ec.setTime(+d),Lc.setTime(+m),t(Ec),t(Lc),Math.floor(a(Ec,Lc))},c.every=function(d){return d=Math.floor(d),isFinite(d)&&d>0?d>1?c.filter(u?function(m){return u(m)%d==0}:function(m){return c.count(0,m)%d==0}):c:null}),c}var _a=ai(function(){},function(t,i){t.setTime(+t+i)},function(t,i){return i-t});_a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ai(function(i){i.setTime(Math.floor(i/t)*t)},function(i,a){i.setTime(+i+a*t)},function(i,a){return(a-i)/t}):_a:null};var Bf=_a.range,ya=6e4,jf=6048e5,Yo=ai(function(t){t.setTime(t-t.getMilliseconds())},function(t,i){t.setTime(+t+1e3*i)},function(t,i){return(i-t)/1e3},function(t){return t.getUTCSeconds()}),Wf=Yo.range,Ic=ai(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,i){t.setTime(+t+i*ya)},function(t,i){return(i-t)/ya},function(t){return t.getMinutes()}),nv=Ic.range,Nc=ai(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*ya)},function(t,i){t.setTime(+t+36e5*i)},function(t,i){return(i-t)/36e5},function(t){return t.getHours()}),iv=Nc.range,Xo=ai(function(t){t.setHours(0,0,0,0)},function(t,i){t.setDate(t.getDate()+i)},function(t,i){return(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*ya)/864e5},function(t){return t.getDate()-1}),rv=Xo.range;function ba(t){return ai(function(i){i.setDate(i.getDate()-(i.getDay()+7-t)%7),i.setHours(0,0,0,0)},function(i,a){i.setDate(i.getDate()+7*a)},function(i,a){return(a-i-(a.getTimezoneOffset()-i.getTimezoneOffset())*ya)/jf})}var qo=ba(0),Uo=ba(1),Yf=ba(2),Xf=ba(3),Ko=ba(4),qf=ba(5),Uf=ba(6),Kf=qo.range,av=Uo.range,ov=Yf.range,sv=Xf.range,uv=Ko.range,lv=qf.range,cv=Uf.range,Oc=ai(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,i){t.setMonth(t.getMonth()+i)},function(t,i){return i.getMonth()-t.getMonth()+12*(i.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),hv=Oc.range,Ar=ai(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,i){t.setFullYear(t.getFullYear()+i)},function(t,i){return i.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Ar.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ai(function(i){i.setFullYear(Math.floor(i.getFullYear()/t)*t),i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,a){i.setFullYear(i.getFullYear()+a*t)}):null};var dv=Ar.range,Rc=ai(function(t){t.setUTCSeconds(0,0)},function(t,i){t.setTime(+t+i*ya)},function(t,i){return(i-t)/ya},function(t){return t.getUTCMinutes()}),fv=Rc.range,zc=ai(function(t){t.setUTCMinutes(0,0,0)},function(t,i){t.setTime(+t+36e5*i)},function(t,i){return(i-t)/36e5},function(t){return t.getUTCHours()}),pv=zc.range,$o=ai(function(t){t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCDate(t.getUTCDate()+i)},function(t,i){return(i-t)/864e5},function(t){return t.getUTCDate()-1}),gv=$o.range;function xa(t){return ai(function(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-t)%7),i.setUTCHours(0,0,0,0)},function(i,a){i.setUTCDate(i.getUTCDate()+7*a)},function(i,a){return(a-i)/jf})}var Qo=xa(0),Zo=xa(1),$f=xa(2),Qf=xa(3),Jo=xa(4),Zf=xa(5),Jf=xa(6),Vf=Qo.range,mv=Zo.range,vv=$f.range,_v=Qf.range,yv=Jo.range,bv=Zf.range,xv=Jf.range,Fc=ai(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCMonth(t.getUTCMonth()+i)},function(t,i){return i.getUTCMonth()-t.getUTCMonth()+12*(i.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),wv=Fc.range,kr=ai(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCFullYear(t.getUTCFullYear()+i)},function(t,i){return i.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});kr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ai(function(i){i.setUTCFullYear(Math.floor(i.getUTCFullYear()/t)*t),i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,a){i.setUTCFullYear(i.getUTCFullYear()+a*t)}):null};var Sv=kr.range;function Hc(t){if(0<=t.y&&t.y<100){var i=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return i.setFullYear(t.y),i}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Gc(t){if(0<=t.y&&t.y<100){var i=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return i.setUTCFullYear(t.y),i}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vo(t,i,a){return{y:t,m:i,d:a,H:0,M:0,S:0,L:0}}function tp(t){var i=t.dateTime,a=t.date,u=t.time,c=t.periods,d=t.days,m=t.shortDays,g=t.months,_=t.shortMonths,b=ts(c),S=es(c),P=ts(d),T=es(d),I=ts(m),N=es(m),F=ts(g),B=es(g),z=ts(_),q=es(_),X={a:function(lt){return m[lt.getDay()]},A:function(lt){return d[lt.getDay()]},b:function(lt){return _[lt.getMonth()]},B:function(lt){return g[lt.getMonth()]},c:null,d:rp,e:rp,f:Kv,H:Xv,I:qv,j:Uv,L:ap,m:$v,M:Qv,p:function(lt){return c[+(lt.getHours()>=12)]},q:function(lt){return 1+~~(lt.getMonth()/3)},Q:lp,s:cp,S:Zv,u:Jv,U:Vv,V:t_,w:e_,W:n_,x:null,X:null,y:i_,Y:r_,Z:a_,"%":up},Q={a:function(lt){return m[lt.getUTCDay()]},A:function(lt){return d[lt.getUTCDay()]},b:function(lt){return _[lt.getUTCMonth()]},B:function(lt){return g[lt.getUTCMonth()]},c:null,d:op,e:op,f:l_,H:o_,I:s_,j:u_,L:sp,m:c_,M:h_,p:function(lt){return c[+(lt.getUTCHours()>=12)]},q:function(lt){return 1+~~(lt.getUTCMonth()/3)},Q:lp,s:cp,S:d_,u:f_,U:p_,V:g_,w:m_,W:v_,x:null,X:null,y:__,Y:y_,Z:b_,"%":up},ot={a:function(lt,kt,xt){var U=I.exec(kt.slice(xt));return U?(lt.w=N[U[0].toLowerCase()],xt+U[0].length):-1},A:function(lt,kt,xt){var U=P.exec(kt.slice(xt));return U?(lt.w=T[U[0].toLowerCase()],xt+U[0].length):-1},b:function(lt,kt,xt){var U=z.exec(kt.slice(xt));return U?(lt.m=q[U[0].toLowerCase()],xt+U[0].length):-1},B:function(lt,kt,xt){var U=F.exec(kt.slice(xt));return U?(lt.m=B[U[0].toLowerCase()],xt+U[0].length):-1},c:function(lt,kt,xt){return Ot(lt,i,kt,xt)},d:np,e:np,f:Bv,H:ip,I:ip,j:zv,L:Gv,m:Rv,M:Fv,p:function(lt,kt,xt){var U=b.exec(kt.slice(xt));return U?(lt.p=S[U[0].toLowerCase()],xt+U[0].length):-1},q:Ov,Q:Wv,s:Yv,S:Hv,u:Pv,U:Mv,V:Dv,w:kv,W:Ev,x:function(lt,kt,xt){return Ot(lt,a,kt,xt)},X:function(lt,kt,xt){return Ot(lt,u,kt,xt)},y:Iv,Y:Lv,Z:Nv,"%":jv};function ft(lt,kt){return function(xt){var U,vt,pt,Tt=[],Nt=-1,Qt=0,Te=lt.length;for(xt instanceof Date||(xt=new Date(+xt));++Nt<Te;)37===lt.charCodeAt(Nt)&&(Tt.push(lt.slice(Qt,Nt)),null!=(vt=ep[U=lt.charAt(++Nt)])?U=lt.charAt(++Nt):vt="e"===U?" ":"0",(pt=kt[U])&&(U=pt(xt,vt)),Tt.push(U),Qt=Nt+1);return Tt.push(lt.slice(Qt,Nt)),Tt.join("")}}function bt(lt,kt){return function(xt){var U,vt,pt=Vo(1900,void 0,1);if(Ot(pt,lt,xt+="",0)!=xt.length)return null;if("Q"in pt)return new Date(pt.Q);if("s"in pt)return new Date(1e3*pt.s+("L"in pt?pt.L:0));if(!kt||"Z"in pt||(pt.Z=0),"p"in pt&&(pt.H=pt.H%12+12*pt.p),void 0===pt.m&&(pt.m="q"in pt?pt.q:0),"V"in pt){if(pt.V<1||pt.V>53)return null;"w"in pt||(pt.w=1),"Z"in pt?(vt=(U=Gc(Vo(pt.y,0,1))).getUTCDay(),U=vt>4||0===vt?Zo.ceil(U):Zo(U),U=$o.offset(U,7*(pt.V-1)),pt.y=U.getUTCFullYear(),pt.m=U.getUTCMonth(),pt.d=U.getUTCDate()+(pt.w+6)%7):(vt=(U=Hc(Vo(pt.y,0,1))).getDay(),U=vt>4||0===vt?Uo.ceil(U):Uo(U),U=Xo.offset(U,7*(pt.V-1)),pt.y=U.getFullYear(),pt.m=U.getMonth(),pt.d=U.getDate()+(pt.w+6)%7)}else("W"in pt||"U"in pt)&&("w"in pt||(pt.w="u"in pt?pt.u%7:"W"in pt?1:0),vt="Z"in pt?Gc(Vo(pt.y,0,1)).getUTCDay():Hc(Vo(pt.y,0,1)).getDay(),pt.m=0,pt.d="W"in pt?(pt.w+6)%7+7*pt.W-(vt+5)%7:pt.w+7*pt.U-(vt+6)%7);return"Z"in pt?(pt.H+=pt.Z/100|0,pt.M+=pt.Z%100,Gc(pt)):Hc(pt)}}function Ot(lt,kt,xt,U){for(var vt,pt,Tt=0,Nt=kt.length,Qt=xt.length;Tt<Nt;){if(U>=Qt)return-1;if(37===(vt=kt.charCodeAt(Tt++))){if(vt=kt.charAt(Tt++),!(pt=ot[vt in ep?kt.charAt(Tt++):vt])||(U=pt(lt,xt,U))<0)return-1}else if(vt!=xt.charCodeAt(U++))return-1}return U}return X.x=ft(a,X),X.X=ft(u,X),X.c=ft(i,X),Q.x=ft(a,Q),Q.X=ft(u,Q),Q.c=ft(i,Q),{format:function(lt){var kt=ft(lt+="",X);return kt.toString=function(){return lt},kt},parse:function(lt){var kt=bt(lt+="",!1);return kt.toString=function(){return lt},kt},utcFormat:function(lt){var kt=ft(lt+="",Q);return kt.toString=function(){return lt},kt},utcParse:function(lt){var kt=bt(lt+="",!0);return kt.toString=function(){return lt},kt}}}var $a,ep={"-":"",_:" ",0:"0"},li=/^\s*\d+/,Tv=/^%/,Cv=/[\\^$*+?|[\]().{}]/g;function Cn(t,i,a){var u=t<0?"-":"",c=(u?-t:t)+"",d=c.length;return u+(d<a?new Array(a-d+1).join(i)+c:c)}function Av(t){return t.replace(Cv,"\\$&")}function ts(t){return new RegExp("^(?:"+t.map(Av).join("|")+")","i")}function es(t){for(var i={},a=-1,u=t.length;++a<u;)i[t[a].toLowerCase()]=a;return i}function kv(t,i,a){var u=li.exec(i.slice(a,a+1));return u?(t.w=+u[0],a+u[0].length):-1}function Pv(t,i,a){var u=li.exec(i.slice(a,a+1));return u?(t.u=+u[0],a+u[0].length):-1}function Mv(t,i,a){var u=li.exec(i.slice(a,a+2));return u?(t.U=+u[0],a+u[0].length):-1}function Dv(t,i,a){var u=li.exec(i.slice(a,a+2));return u?(t.V=+u[0],a+u[0].length):-1}function Ev(t,i,a){var u=li.exec(i.slice(a,a+2));return u?(t.W=+u[0],a+u[0].length):-1}function Lv(t,i,a){var u=li.exec(i.slice(a,a+4));return u?(t.y=+u[0],a+u[0].length):-1}function Iv(t,i,a){var u=li.exec(i.slice(a,a+2));return u?(t.y=+u[0]+(+u[0]>68?1900:2e3),a+u[0].length):-1}function Nv(t,i,a){var u=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(i.slice(a,a+6));return u?(t.Z=u[1]?0:-(u[2]+(u[3]||"00")),a+u[0].length):-1}function Ov(t,i,a){var u=li.exec(i.slice(a,a+1));return u?(t.q=3*u[0]-3,a+u[0].length):-1}function Rv(t,i,a){var u=li.exec(i.slice(a,a+2));return u?(t.m=u[0]-1,a+u[0].length):-1}function np(t,i,a){var u=li.exec(i.slice(a,a+2));return u?(t.d=+u[0],a+u[0].length):-1}function zv(t,i,a){var u=li.exec(i.slice(a,a+3));return u?(t.m=0,t.d=+u[0],a+u[0].length):-1}function ip(t,i,a){var u=li.exec(i.slice(a,a+2));return u?(t.H=+u[0],a+u[0].length):-1}function Fv(t,i,a){var u=li.exec(i.slice(a,a+2));return u?(t.M=+u[0],a+u[0].length):-1}function Hv(t,i,a){var u=li.exec(i.slice(a,a+2));return u?(t.S=+u[0],a+u[0].length):-1}function Gv(t,i,a){var u=li.exec(i.slice(a,a+3));return u?(t.L=+u[0],a+u[0].length):-1}function Bv(t,i,a){var u=li.exec(i.slice(a,a+6));return u?(t.L=Math.floor(u[0]/1e3),a+u[0].length):-1}function jv(t,i,a){var u=Tv.exec(i.slice(a,a+1));return u?a+u[0].length:-1}function Wv(t,i,a){var u=li.exec(i.slice(a));return u?(t.Q=+u[0],a+u[0].length):-1}function Yv(t,i,a){var u=li.exec(i.slice(a));return u?(t.s=+u[0],a+u[0].length):-1}function rp(t,i){return Cn(t.getDate(),i,2)}function Xv(t,i){return Cn(t.getHours(),i,2)}function qv(t,i){return Cn(t.getHours()%12||12,i,2)}function Uv(t,i){return Cn(1+Xo.count(Ar(t),t),i,3)}function ap(t,i){return Cn(t.getMilliseconds(),i,3)}function Kv(t,i){return ap(t,i)+"000"}function $v(t,i){return Cn(t.getMonth()+1,i,2)}function Qv(t,i){return Cn(t.getMinutes(),i,2)}function Zv(t,i){return Cn(t.getSeconds(),i,2)}function Jv(t){var i=t.getDay();return 0===i?7:i}function Vv(t,i){return Cn(qo.count(Ar(t)-1,t),i,2)}function t_(t,i){var a=t.getDay();return t=a>=4||0===a?Ko(t):Ko.ceil(t),Cn(Ko.count(Ar(t),t)+(4===Ar(t).getDay()),i,2)}function e_(t){return t.getDay()}function n_(t,i){return Cn(Uo.count(Ar(t)-1,t),i,2)}function i_(t,i){return Cn(t.getFullYear()%100,i,2)}function r_(t,i){return Cn(t.getFullYear()%1e4,i,4)}function a_(t){var i=t.getTimezoneOffset();return(i>0?"-":(i*=-1,"+"))+Cn(i/60|0,"0",2)+Cn(i%60,"0",2)}function op(t,i){return Cn(t.getUTCDate(),i,2)}function o_(t,i){return Cn(t.getUTCHours(),i,2)}function s_(t,i){return Cn(t.getUTCHours()%12||12,i,2)}function u_(t,i){return Cn(1+$o.count(kr(t),t),i,3)}function sp(t,i){return Cn(t.getUTCMilliseconds(),i,3)}function l_(t,i){return sp(t,i)+"000"}function c_(t,i){return Cn(t.getUTCMonth()+1,i,2)}function h_(t,i){return Cn(t.getUTCMinutes(),i,2)}function d_(t,i){return Cn(t.getUTCSeconds(),i,2)}function f_(t){var i=t.getUTCDay();return 0===i?7:i}function p_(t,i){return Cn(Qo.count(kr(t)-1,t),i,2)}function g_(t,i){var a=t.getUTCDay();return t=a>=4||0===a?Jo(t):Jo.ceil(t),Cn(Jo.count(kr(t),t)+(4===kr(t).getUTCDay()),i,2)}function m_(t){return t.getUTCDay()}function v_(t,i){return Cn(Zo.count(kr(t)-1,t),i,2)}function __(t,i){return Cn(t.getUTCFullYear()%100,i,2)}function y_(t,i){return Cn(t.getUTCFullYear()%1e4,i,4)}function b_(){return"+0000"}function up(){return"%"}function lp(t){return+t}function cp(t){return Math.floor(+t/1e3)}function hp(t){return $a=tp(t),r.timeFormat=$a.format,r.timeParse=$a.parse,r.utcFormat=$a.utcFormat,r.utcParse=$a.utcParse,$a}hp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var x_=Date.prototype.toISOString?function(t){return t.toISOString()}:r.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),w_=+new Date("2000-01-01T00:00:00.000Z")?function(t){var i=new Date(t);return isNaN(i)?null:i}:r.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),is=6e4,rs=60*is,as=24*rs,dp=30*as,Bc=365*as;function T_(t){return new Date(t)}function C_(t){return t instanceof Date?+t:+new Date(+t)}function jc(t,i,a,u,c,d,m,g,_){var b=Lf(gi,gi),S=b.invert,P=b.domain,T=_(".%L"),I=_(":%S"),N=_("%I:%M"),F=_("%I %p"),B=_("%a %d"),z=_("%b %d"),q=_("%B"),X=_("%Y"),Q=[[m,1,1e3],[m,5,5e3],[m,15,15e3],[m,30,3e4],[d,1,is],[d,5,5*is],[d,15,15*is],[d,30,30*is],[c,1,rs],[c,3,3*rs],[c,6,6*rs],[c,12,12*rs],[u,1,as],[u,2,2*as],[a,1,6048e5],[i,1,dp],[i,3,3*dp],[t,1,Bc]];function ot(bt){return(m(bt)<bt?T:d(bt)<bt?I:c(bt)<bt?N:u(bt)<bt?F:i(bt)<bt?a(bt)<bt?B:z:t(bt)<bt?q:X)(bt)}function ft(bt,Ot,lt,kt){if(null==bt&&(bt=10),"number"==typeof bt){var xt=Math.abs(lt-Ot)/bt,U=wn(function(vt){return vt[2]}).right(Q,xt);U===Q.length?(kt=re(Ot/Bc,lt/Bc,bt),bt=t):U?(kt=(U=Q[xt/Q[U-1][2]<Q[U][2]/xt?U-1:U])[1],bt=U[0]):(kt=Math.max(re(Ot,lt,bt),1),bt=g)}return null==kt?bt:bt.every(kt)}return b.invert=function(bt){return new Date(S(bt))},b.domain=function(bt){return arguments.length?P(Nu.call(bt,C_)):P().map(T_)},b.ticks=function(bt,Ot){var lt,kt=P(),xt=kt[0],U=kt[kt.length-1],vt=U<xt;return vt&&(lt=xt,xt=U,U=lt),lt=(lt=ft(bt,xt,U,Ot))?lt.range(xt,U+1):[],vt?lt.reverse():lt},b.tickFormat=function(bt,Ot){return null==Ot?ot:_(Ot)},b.nice=function(bt,Ot){var lt=P();return(bt=ft(bt,lt[0],lt[lt.length-1],Ot))?P(Nf(lt,bt)):b},b.copy=function(){return Wo(b,jc(t,i,a,u,c,d,m,g,_))},b}function Ru(){var t,i,a,u,c,d=0,m=1,g=gi,_=!1;function b(S){return isNaN(S=+S)?c:g(0===a?.5:(S=(u(S)-t)*a,_?Math.max(0,Math.min(1,S)):S))}return b.domain=function(S){return arguments.length?(t=u(d=+S[0]),i=u(m=+S[1]),a=t===i?0:1/(i-t),b):[d,m]},b.clamp=function(S){return arguments.length?(_=!!S,b):_},b.interpolator=function(S){return arguments.length?(g=S,b):g},b.unknown=function(S){return arguments.length?(c=S,b):c},function(S){return u=S,t=S(d),i=S(m),a=t===i?0:1/(i-t),b}}function $r(t,i){return i.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Wc(){var t=Mc(Ru());return t.copy=function(){return $r(t,Wc()).exponent(t.exponent())},Cr.apply(t,arguments)}function zu(){var t,i,a,u,c,d,m,g=0,_=.5,b=1,S=gi,P=!1;function T(I){return isNaN(I=+I)?m:(I=.5+((I=+d(I))-i)*(I<i?u:c),S(P?Math.max(0,Math.min(1,I)):I))}return T.domain=function(I){return arguments.length?(t=d(g=+I[0]),i=d(_=+I[1]),a=d(b=+I[2]),u=t===i?0:.5/(i-t),c=i===a?0:.5/(a-i),T):[g,_,b]},T.clamp=function(I){return arguments.length?(P=!!I,T):P},T.interpolator=function(I){return arguments.length?(S=I,T):S},T.unknown=function(I){return arguments.length?(m=I,T):m},function(I){return d=I,t=I(g),i=I(_),a=I(b),u=t===i?0:.5/(i-t),c=i===a?0:.5/(a-i),T}}function Yc(){var t=Mc(zu());return t.copy=function(){return $r(t,Yc()).exponent(t.exponent())},Cr.apply(t,arguments)}function $e(t){for(var i=t.length/6|0,a=new Array(i),u=0;u<i;)a[u]="#"+t.slice(6*u,6*++u);return a}var A_=$e("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),k_=$e("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),P_=$e("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),M_=$e("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),D_=$e("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),E_=$e("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),L_=$e("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),I_=$e("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),N_=$e("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),O_=$e("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Pn(t){return Bn(t[t.length-1])}var fp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map($e),R_=Pn(fp),pp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map($e),z_=Pn(pp),gp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map($e),F_=Pn(gp),mp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map($e),H_=Pn(mp),vp=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map($e),G_=Pn(vp),_p=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map($e),B_=Pn(_p),yp=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map($e),j_=Pn(yp),bp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map($e),W_=Pn(bp),xp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map($e),Y_=Pn(xp),wp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map($e),X_=Pn(wp),Sp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map($e),q_=Pn(Sp),Tp=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map($e),U_=Pn(Tp),Cp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map($e),K_=Pn(Cp),Ap=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map($e),$_=Pn(Ap),kp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map($e),Q_=Pn(kp),Pp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map($e),Z_=Pn(Pp),Mp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map($e),J_=Pn(Mp),Dp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map($e),V_=Pn(Dp),Ep=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map($e),ty=Pn(Ep),Lp=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map($e),ey=Pn(Lp),Ip=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map($e),ny=Pn(Ip),Np=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map($e),iy=Pn(Np),Op=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map($e),ry=Pn(Op),Rp=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map($e),ay=Pn(Rp),zp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map($e),oy=Pn(zp),Fp=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map($e),sy=Pn(Fp),Hp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map($e),uy=Pn(Hp),ly=Hi(W(300,.5,0),W(-240,.5,1)),cy=Hi(W(-100,.75,.35),W(80,1.5,.8)),hy=Hi(W(260,.75,.35),W(80,1.5,.8)),Fu=W(),Hu=Ir(),dy=Math.PI/3,fy=2*Math.PI/3;function Gu(t){var i=t.length;return function(a){return t[Math.max(0,Math.min(i-1,Math.floor(a*i)))]}}var py=Gu($e("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),gy=Gu($e("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),my=Gu($e("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),vy=Gu($e("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Je(t){return function(){return t}}var Gp=Math.abs,wi=Math.atan2,wa=Math.cos,_y=Math.max,Xc=Math.min,dr=Math.sin,Qa=Math.sqrt,Si=1e-12,Qr=Math.PI,Bu=Qr/2,Zr=2*Qr;function Bp(t){return t>=1?Bu:t<=-1?-Bu:Math.asin(t)}function yy(t){return t.innerRadius}function by(t){return t.outerRadius}function xy(t){return t.startAngle}function wy(t){return t.endAngle}function Sy(t){return t&&t.padAngle}function ju(t,i,a,u,c,d,m){var g=t-a,_=i-u,b=(m?d:-d)/Qa(g*g+_*_),S=b*_,P=-b*g,T=t+S,I=i+P,N=a+S,F=u+P,B=(T+N)/2,z=(I+F)/2,q=N-T,X=F-I,Q=q*q+X*X,ot=c-d,ft=T*F-N*I,bt=(X<0?-1:1)*Qa(_y(0,ot*ot*Q-ft*ft)),Ot=(ft*X-q*bt)/Q,lt=(-ft*q-X*bt)/Q,kt=(ft*X+q*bt)/Q,xt=(-ft*q+X*bt)/Q,U=Ot-B,vt=lt-z,pt=kt-B,Tt=xt-z;return U*U+vt*vt>pt*pt+Tt*Tt&&(Ot=kt,lt=xt),{cx:Ot,cy:lt,x01:-S,y01:-P,x11:Ot*(c/ot-1),y11:lt*(c/ot-1)}}function jp(t){this._context=t}function Wu(t){return new jp(t)}function qc(t){return t[0]}function Uc(t){return t[1]}function Kc(){var t=qc,i=Uc,a=Je(!0),u=null,c=Wu,d=null;function m(g){var _,b,S,P=g.length,T=!1;for(null==u&&(d=c(S=Yr())),_=0;_<=P;++_)!(_<P&&a(b=g[_],_,g))===T&&((T=!T)?d.lineStart():d.lineEnd()),T&&d.point(+t(b,_,g),+i(b,_,g));if(S)return d=null,S+""||null}return m.x=function(g){return arguments.length?(t="function"==typeof g?g:Je(+g),m):t},m.y=function(g){return arguments.length?(i="function"==typeof g?g:Je(+g),m):i},m.defined=function(g){return arguments.length?(a="function"==typeof g?g:Je(!!g),m):a},m.curve=function(g){return arguments.length?(c=g,null!=u&&(d=c(u)),m):c},m.context=function(g){return arguments.length?(null==g?u=d=null:d=c(u=g),m):u},m}function Wp(){var t=qc,i=null,a=Je(0),u=Uc,c=Je(!0),d=null,m=Wu,g=null;function _(S){var P,T,I,N,F,B=S.length,z=!1,q=new Array(B),X=new Array(B);for(null==d&&(g=m(F=Yr())),P=0;P<=B;++P){if(!(P<B&&c(N=S[P],P,S))===z)if(z=!z)T=P,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),I=P-1;I>=T;--I)g.point(q[I],X[I]);g.lineEnd(),g.areaEnd()}z&&(q[P]=+t(N,P,S),X[P]=+a(N,P,S),g.point(i?+i(N,P,S):q[P],u?+u(N,P,S):X[P]))}if(F)return g=null,F+""||null}function b(){return Kc().defined(c).curve(m).context(d)}return _.x=function(S){return arguments.length?(t="function"==typeof S?S:Je(+S),i=null,_):t},_.x0=function(S){return arguments.length?(t="function"==typeof S?S:Je(+S),_):t},_.x1=function(S){return arguments.length?(i=null==S?null:"function"==typeof S?S:Je(+S),_):i},_.y=function(S){return arguments.length?(a="function"==typeof S?S:Je(+S),u=null,_):a},_.y0=function(S){return arguments.length?(a="function"==typeof S?S:Je(+S),_):a},_.y1=function(S){return arguments.length?(u=null==S?null:"function"==typeof S?S:Je(+S),_):u},_.lineX0=_.lineY0=function(){return b().x(t).y(a)},_.lineY1=function(){return b().x(t).y(u)},_.lineX1=function(){return b().x(i).y(a)},_.defined=function(S){return arguments.length?(c="function"==typeof S?S:Je(!!S),_):c},_.curve=function(S){return arguments.length?(m=S,null!=d&&(g=m(d)),_):m},_.context=function(S){return arguments.length?(null==S?d=g=null:g=m(d=S),_):d},_}function Ty(t,i){return i<t?-1:i>t?1:i>=t?0:NaN}function Cy(t){return t}jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:this._context.lineTo(t,i)}}};var Yp=$c(Wu);function Xp(t){this._curve=t}function $c(t){function i(a){return new Xp(t(a))}return i._curve=t,i}function os(t){var i=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(a){return arguments.length?i($c(a)):i()._curve},t}function qp(){return os(Kc().curve(Yp))}function Up(){var t=Wp().curve(Yp),i=t.curve,a=t.lineX0,u=t.lineX1,c=t.lineY0,d=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return os(a())},delete t.lineX0,t.lineEndAngle=function(){return os(u())},delete t.lineX1,t.lineInnerRadius=function(){return os(c())},delete t.lineY0,t.lineOuterRadius=function(){return os(d())},delete t.lineY1,t.curve=function(m){return arguments.length?i($c(m)):i()._curve},t}function ss(t,i){return[(i=+i)*Math.cos(t-=Math.PI/2),i*Math.sin(t)]}Xp.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,i){this._curve.point(i*Math.sin(t),i*-Math.cos(t))}};var Qc=Array.prototype.slice;function Ay(t){return t.source}function ky(t){return t.target}function Zc(t){var i=Ay,a=ky,u=qc,c=Uc,d=null;function m(){var g,_=Qc.call(arguments),b=i.apply(this,_),S=a.apply(this,_);if(d||(d=g=Yr()),t(d,+u.apply(this,(_[0]=b,_)),+c.apply(this,_),+u.apply(this,(_[0]=S,_)),+c.apply(this,_)),g)return d=null,g+""||null}return m.source=function(g){return arguments.length?(i=g,m):i},m.target=function(g){return arguments.length?(a=g,m):a},m.x=function(g){return arguments.length?(u="function"==typeof g?g:Je(+g),m):u},m.y=function(g){return arguments.length?(c="function"==typeof g?g:Je(+g),m):c},m.context=function(g){return arguments.length?(d=null==g?null:g,m):d},m}function Py(t,i,a,u,c){t.moveTo(i,a),t.bezierCurveTo(i=(i+u)/2,a,i,c,u,c)}function My(t,i,a,u,c){t.moveTo(i,a),t.bezierCurveTo(i,a=(a+c)/2,u,a,u,c)}function Dy(t,i,a,u,c){var d=ss(i,a),m=ss(i,a=(a+c)/2),g=ss(u,a),_=ss(u,c);t.moveTo(d[0],d[1]),t.bezierCurveTo(m[0],m[1],g[0],g[1],_[0],_[1])}var Jc={draw:function(t,i){var a=Math.sqrt(i/Qr);t.moveTo(a,0),t.arc(0,0,a,0,Zr)}},Kp={draw:function(t,i){var a=Math.sqrt(i/5)/2;t.moveTo(-3*a,-a),t.lineTo(-a,-a),t.lineTo(-a,-3*a),t.lineTo(a,-3*a),t.lineTo(a,-a),t.lineTo(3*a,-a),t.lineTo(3*a,a),t.lineTo(a,a),t.lineTo(a,3*a),t.lineTo(-a,3*a),t.lineTo(-a,a),t.lineTo(-3*a,a),t.closePath()}},$p=Math.sqrt(1/3),Ey=2*$p,Qp={draw:function(t,i){var a=Math.sqrt(i/Ey),u=a*$p;t.moveTo(0,-a),t.lineTo(u,0),t.lineTo(0,a),t.lineTo(-u,0),t.closePath()}},Zp=Math.sin(Qr/10)/Math.sin(7*Qr/10),Ly=Math.sin(Zr/10)*Zp,Iy=-Math.cos(Zr/10)*Zp,Jp={draw:function(t,i){var a=Math.sqrt(.8908130915292852*i),u=Ly*a,c=Iy*a;t.moveTo(0,-a),t.lineTo(u,c);for(var d=1;d<5;++d){var m=Zr*d/5,g=Math.cos(m),_=Math.sin(m);t.lineTo(_*a,-g*a),t.lineTo(g*u-_*c,_*u+g*c)}t.closePath()}},Vp={draw:function(t,i){var a=Math.sqrt(i),u=-a/2;t.rect(u,u,a,a)}},Vc=Math.sqrt(3),tg={draw:function(t,i){var a=-Math.sqrt(i/(3*Vc));t.moveTo(0,2*a),t.lineTo(-Vc*a,-a),t.lineTo(Vc*a,-a),t.closePath()}},er=Math.sqrt(3)/2,th=1/Math.sqrt(12),Ny=3*(th/2+1),eg={draw:function(t,i){var a=Math.sqrt(i/Ny),u=a/2,c=a*th,d=u,m=a*th+a,g=-d,_=m;t.moveTo(u,c),t.lineTo(d,m),t.lineTo(g,_),t.lineTo(-.5*u-er*c,er*u+-.5*c),t.lineTo(-.5*d-er*m,er*d+-.5*m),t.lineTo(-.5*g-er*_,er*g+-.5*_),t.lineTo(-.5*u+er*c,-.5*c-er*u),t.lineTo(-.5*d+er*m,-.5*m-er*d),t.lineTo(-.5*g+er*_,-.5*_-er*g),t.closePath()}},Oy=[Jc,Kp,Qp,Vp,Jp,tg,eg];function Jr(){}function Yu(t,i,a){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+i)/6,(t._y0+4*t._y1+a)/6)}function Xu(t){this._context=t}function ng(t){this._context=t}function ig(t){this._context=t}function rg(t,i){this._basis=new Xu(t),this._beta=i}Xu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yu(this,t,i)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}},ng.prototype={areaStart:Jr,areaEnd:Jr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._x2=t,this._y2=i;break;case 1:this._point=2,this._x3=t,this._y3=i;break;case 2:this._point=3,this._x4=t,this._y4=i,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+i)/6);break;default:Yu(this,t,i)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}},ig.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+t)/6,u=(this._y0+4*this._y1+i)/6;this._line?this._context.lineTo(a,u):this._context.moveTo(a,u);break;case 3:this._point=4;default:Yu(this,t,i)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}},rg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,i=this._y,a=t.length-1;if(a>0)for(var u,c=t[0],d=i[0],m=t[a]-c,g=i[a]-d,_=-1;++_<=a;)this._basis.point(this._beta*t[_]+(1-this._beta)*(c+(u=_/a)*m),this._beta*i[_]+(1-this._beta)*(d+u*g));this._x=this._y=null,this._basis.lineEnd()},point:function(t,i){this._x.push(+t),this._y.push(+i)}};var Ry=function t(i){function a(u){return 1===i?new Xu(u):new rg(u,i)}return a.beta=function(u){return t(+u)},a}(.85);function qu(t,i,a){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-i),t._y2+t._k*(t._y1-a),t._x2,t._y2)}function eh(t,i){this._context=t,this._k=(1-i)/6}eh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:qu(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2,this._x1=t,this._y1=i;break;case 2:this._point=3;default:qu(this,t,i)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var zy=function t(i){function a(u){return new eh(u,i)}return a.tension=function(u){return t(+u)},a}(0);function nh(t,i){this._context=t,this._k=(1-i)/6}nh.prototype={areaStart:Jr,areaEnd:Jr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=i);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:qu(this,t,i)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var Fy=function t(i){function a(u){return new nh(u,i)}return a.tension=function(u){return t(+u)},a}(0);function ih(t,i){this._context=t,this._k=(1-i)/6}ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qu(this,t,i)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var Hy=function t(i){function a(u){return new ih(u,i)}return a.tension=function(u){return t(+u)},a}(0);function rh(t,i,a){var u=t._x1,c=t._y1,d=t._x2,m=t._y2;if(t._l01_a>Si){var g=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,_=3*t._l01_a*(t._l01_a+t._l12_a);u=(u*g-t._x0*t._l12_2a+t._x2*t._l01_2a)/_,c=(c*g-t._y0*t._l12_2a+t._y2*t._l01_2a)/_}if(t._l23_a>Si){var b=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,S=3*t._l23_a*(t._l23_a+t._l12_a);d=(d*b+t._x1*t._l23_2a-i*t._l12_2a)/S,m=(m*b+t._y1*t._l23_2a-a*t._l12_2a)/S}t._context.bezierCurveTo(u,c,d,m,t._x2,t._y2)}function ag(t,i){this._context=t,this._alpha=i}ag.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){if(t=+t,i=+i,this._point){var a=this._x2-t,u=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+u*u,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3;default:rh(this,t,i)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var Gy=function t(i){function a(u){return i?new ag(u,i):new eh(u,0)}return a.alpha=function(u){return t(+u)},a}(.5);function og(t,i){this._context=t,this._alpha=i}og.prototype={areaStart:Jr,areaEnd:Jr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,i){if(t=+t,i=+i,this._point){var a=this._x2-t,u=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+u*u,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=i);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:rh(this,t,i)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var By=function t(i){function a(u){return i?new og(u,i):new nh(u,0)}return a.alpha=function(u){return t(+u)},a}(.5);function sg(t,i){this._context=t,this._alpha=i}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){if(t=+t,i=+i,this._point){var a=this._x2-t,u=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+u*u,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rh(this,t,i)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var jy=function t(i){function a(u){return i?new sg(u,i):new ih(u,0)}return a.alpha=function(u){return t(+u)},a}(.5);function ug(t){this._context=t}function lg(t){return t<0?-1:1}function cg(t,i,a){var u=t._x1-t._x0,c=i-t._x1,d=(t._y1-t._y0)/(u||c<0&&-0),m=(a-t._y1)/(c||u<0&&-0),g=(d*c+m*u)/(u+c);return(lg(d)+lg(m))*Math.min(Math.abs(d),Math.abs(m),.5*Math.abs(g))||0}function hg(t,i){var a=t._x1-t._x0;return a?(3*(t._y1-t._y0)/a-i)/2:i}function ah(t,i,a){var u=t._x0,d=t._x1,m=t._y1,g=(d-u)/3;t._context.bezierCurveTo(u+g,t._y0+g*i,d-g,m-g*a,d,m)}function Uu(t){this._context=t}function dg(t){this._context=new fg(t)}function fg(t){this._context=t}function pg(t){this._context=t}function gg(t){var i,a,u=t.length-1,c=new Array(u),d=new Array(u),m=new Array(u);for(c[0]=0,d[0]=2,m[0]=t[0]+2*t[1],i=1;i<u-1;++i)c[i]=1,d[i]=4,m[i]=4*t[i]+2*t[i+1];for(c[u-1]=2,d[u-1]=7,m[u-1]=8*t[u-1]+t[u],i=1;i<u;++i)d[i]-=a=c[i]/d[i-1],m[i]-=a*m[i-1];for(c[u-1]=m[u-1]/d[u-1],i=u-2;i>=0;--i)c[i]=(m[i]-c[i+1])/d[i];for(d[u-1]=(t[u]+c[u-1])/2,i=0;i<u-1;++i)d[i]=2*t[i+1]-c[i+1];return[c,d]}function Ku(t,i){this._context=t,this._t=i}function Za(t,i){if((c=t.length)>1)for(var a,u,c,d=1,m=t[i[0]],g=m.length;d<c;++d)for(u=m,m=t[i[d]],a=0;a<g;++a)m[a][1]+=m[a][0]=isNaN(u[a][1])?u[a][0]:u[a][1]}function Ja(t){for(var i=t.length,a=new Array(i);--i>=0;)a[i]=i;return a}function Wy(t,i){return t[i]}function mg(t){var i=t.map(Yy);return Ja(t).sort(function(a,u){return i[a]-i[u]})}function Yy(t){for(var i,a=-1,u=0,c=t.length,d=-1/0;++a<c;)(i=+t[a][1])>d&&(d=i,u=a);return u}function vg(t){var i=t.map(_g);return Ja(t).sort(function(a,u){return i[a]-i[u]})}function _g(t){for(var i,a=0,u=-1,c=t.length;++u<c;)(i=+t[u][1])&&(a+=i);return a}function yg(t){return function(){return t}}function Xy(t){return t[0]}function qy(t){return t[1]}function $u(){this._=null}function Qu(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function us(t,i){var a=i,u=i.R,c=a.U;c?c.L===a?c.L=u:c.R=u:t._=u,u.U=c,a.U=u,a.R=u.L,a.R&&(a.R.U=a),u.L=a}function ls(t,i){var a=i,u=i.L,c=a.U;c?c.L===a?c.L=u:c.R=u:t._=u,u.U=c,a.U=u,a.L=u.R,a.L&&(a.L.U=a),u.R=a}function bg(t){for(;t.L;)t=t.L;return t}function cs(t,i,a,u){var c=[null,null],d=Ti.push(c)-1;return c.left=t,c.right=i,a&&Zu(c,t,i,a),u&&Zu(c,i,t,u),Ui[t.index].halfedges.push(d),Ui[i.index].halfedges.push(d),c}function hs(t,i,a){var u=[i,a];return u.left=t,u}function Zu(t,i,a,u){t[0]||t[1]?t.left===a?t[1]=u:t[0]=u:(t[0]=u,t.left=i,t.right=a)}function Uy(t,i,a,u,c){var d,m=t[0],g=t[1],_=m[0],b=m[1],S=0,P=1,T=g[0]-_,I=g[1]-b;if(d=i-_,T||!(d>0)){if(d/=T,T<0){if(d<S)return;d<P&&(P=d)}else if(T>0){if(d>P)return;d>S&&(S=d)}if(d=u-_,T||!(d<0)){if(d/=T,T<0){if(d>P)return;d>S&&(S=d)}else if(T>0){if(d<S)return;d<P&&(P=d)}if(d=a-b,I||!(d>0)){if(d/=I,I<0){if(d<S)return;d<P&&(P=d)}else if(I>0){if(d>P)return;d>S&&(S=d)}if(d=c-b,I||!(d<0)){if(d/=I,I<0){if(d>P)return;d>S&&(S=d)}else if(I>0){if(d<S)return;d<P&&(P=d)}return!(S>0||P<1)||(S>0&&(t[0]=[_+S*T,b+S*I]),P<1&&(t[1]=[_+P*T,b+P*I]),!0)}}}}}function Ky(t,i,a,u,c){var d=t[1];if(d)return!0;var m,g,_=t[0],b=t.left,S=t.right,P=b[0],T=b[1],I=S[0],N=S[1],F=(P+I)/2;if(N===T){if(F<i||F>=u)return;if(P>I){if(_){if(_[1]>=c)return}else _=[F,a];d=[F,c]}else{if(_){if(_[1]<a)return}else _=[F,c];d=[F,a]}}else if(g=(T+N)/2-(m=(P-I)/(N-T))*F,m<-1||m>1)if(P>I){if(_){if(_[1]>=c)return}else _=[(a-g)/m,a];d=[(c-g)/m,c]}else{if(_){if(_[1]<a)return}else _=[(c-g)/m,c];d=[(a-g)/m,a]}else if(T<N){if(_){if(_[0]>=u)return}else _=[i,m*i+g];d=[u,m*u+g]}else{if(_){if(_[0]<i)return}else _=[u,m*u+g];d=[i,m*i+g]}return t[0]=_,t[1]=d,!0}function $y(t,i){var a=t.site,u=i.left,c=i.right;return a===c&&(c=u,u=a),c?Math.atan2(c[1]-u[1],c[0]-u[0]):(a===u?(u=i[1],c=i[0]):(u=i[0],c=i[1]),Math.atan2(u[0]-c[0],c[1]-u[1]))}function xg(t,i){return i[+(i.left!==t.site)]}function Qy(t,i){return i[+(i.left===t.site)]}ug.prototype={areaStart:Jr,areaEnd:Jr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,i){t=+t,i=+i,this._point?this._context.lineTo(t,i):(this._point=1,this._context.moveTo(t,i))}},Uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ah(this,this._t0,hg(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){var a=NaN;if(i=+i,(t=+t)!==this._x1||i!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,ah(this,hg(this,a=cg(this,t,i)),a);break;default:ah(this,this._t0,a=cg(this,t,i))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i,this._t0=a}}},(dg.prototype=Object.create(Uu.prototype)).point=function(t,i){Uu.prototype.point.call(this,i,t)},fg.prototype={moveTo:function(t,i){this._context.moveTo(i,t)},closePath:function(){this._context.closePath()},lineTo:function(t,i){this._context.lineTo(i,t)},bezierCurveTo:function(t,i,a,u,c,d){this._context.bezierCurveTo(i,t,u,a,d,c)}},pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,i=this._y,a=t.length;if(a)if(this._line?this._context.lineTo(t[0],i[0]):this._context.moveTo(t[0],i[0]),2===a)this._context.lineTo(t[1],i[1]);else for(var u=gg(t),c=gg(i),d=0,m=1;m<a;++d,++m)this._context.bezierCurveTo(u[0][d],c[0][d],u[1][d],c[1][d],t[m],i[m]);(this._line||0!==this._line&&1===a)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,i){this._x.push(+t),this._y.push(+i)}},Ku.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(t,i);else{var a=this._x*(1-this._t)+t*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,i)}}this._x=t,this._y=i}},$u.prototype={constructor:$u,insert:function(t,i){var a,u,c;if(t){if(i.P=t,i.N=t.N,t.N&&(t.N.P=i),t.N=i,t.R){for(t=t.R;t.L;)t=t.L;t.L=i}else t.R=i;a=t}else this._?(t=bg(this._),i.P=null,i.N=t,t.P=t.L=i,a=t):(i.P=i.N=null,this._=i,a=null);for(i.L=i.R=null,i.U=a,i.C=!0,t=i;a&&a.C;)a===(u=a.U).L?(c=u.R)&&c.C?(a.C=c.C=!1,u.C=!0,t=u):(t===a.R&&(us(this,a),a=(t=a).U),a.C=!1,u.C=!0,ls(this,u)):(c=u.L)&&c.C?(a.C=c.C=!1,u.C=!0,t=u):(t===a.L&&(ls(this,a),a=(t=a).U),a.C=!1,u.C=!0,us(this,u)),a=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var i,a,u,c=t.U,d=t.L,m=t.R;if(a=d?m?bg(m):d:m,c?c.L===t?c.L=a:c.R=a:this._=a,d&&m?(u=a.C,a.C=t.C,a.L=d,d.U=a,a!==m?(c=a.U,a.U=t.U,c.L=t=a.R,a.R=m,m.U=a):(a.U=c,c=a,t=a.R)):(u=t.C,t=a),t&&(t.U=c),!u)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===c.L){if((i=c.R).C&&(i.C=!1,c.C=!0,us(this,c),i=c.R),i.L&&i.L.C||i.R&&i.R.C){i.R&&i.R.C||(i.L.C=!1,i.C=!0,ls(this,i),i=c.R),i.C=c.C,c.C=i.R.C=!1,us(this,c),t=this._;break}}else if((i=c.L).C&&(i.C=!1,c.C=!0,ls(this,c),i=c.L),i.L&&i.L.C||i.R&&i.R.C){i.L&&i.L.C||(i.R.C=!1,i.C=!0,us(this,i),i=c.L),i.C=c.C,c.C=i.L.C=!1,ls(this,c),t=this._;break}i.C=!0,t=c,c=c.U}while(!t.C);t&&(t.C=!1)}}};var oh,wg=[];function Zy(){Qu(this),this.x=this.y=this.arc=this.site=this.cy=null}function Va(t){var i=t.P,a=t.N;if(i&&a){var u=i.site,c=t.site,d=a.site;if(u!==d){var m=c[0],g=c[1],_=u[0]-m,b=u[1]-g,S=d[0]-m,P=d[1]-g,T=2*(_*P-b*S);if(!(T>=-n1)){var I=_*_+b*b,N=S*S+P*P,F=(P*I-b*N)/T,B=(_*N-S*I)/T,z=wg.pop()||new Zy;z.arc=t,z.site=c,z.x=F+m,z.y=(z.cy=B+g)+Math.sqrt(F*F+B*B),t.circle=z;for(var q=null,X=ds._;X;)if(z.y<X.y||z.y===X.y&&z.x<=X.x){if(!X.L){q=X.P;break}X=X.L}else{if(!X.R){q=X;break}X=X.R}ds.insert(q,z),q||(oh=z)}}}}function to(t){var i=t.circle;i&&(i.P||(oh=i.N),ds.remove(i),wg.push(i),Qu(i),t.circle=null)}var Sg=[];function Jy(){Qu(this),this.edge=this.site=this.circle=null}function Tg(t){var i=Sg.pop()||new Jy;return i.site=t,i}function sh(t){to(t),eo.remove(t),Sg.push(t),Qu(t)}function Vy(t){var i=t.circle,a=i.x,u=i.cy,c=[a,u],d=t.P,m=t.N,g=[t];sh(t);for(var _=d;_.circle&&Math.abs(a-_.circle.x)<An&&Math.abs(u-_.circle.cy)<An;)d=_.P,g.unshift(_),sh(_),_=d;g.unshift(_),to(_);for(var b=m;b.circle&&Math.abs(a-b.circle.x)<An&&Math.abs(u-b.circle.cy)<An;)m=b.N,g.push(b),sh(b),b=m;g.push(b),to(b);var S,P=g.length;for(S=1;S<P;++S)Zu((b=g[S]).edge,(_=g[S-1]).site,b.site,c);(b=g[P-1]).edge=cs((_=g[0]).site,b.site,null,c),Va(_),Va(b)}function t1(t){for(var i,a,u,c,d=t[0],m=t[1],g=eo._;g;)if((u=Cg(g,m)-d)>An)g=g.L;else{if(!((c=d-e1(g,m))>An)){u>-An?(i=g.P,a=g):c>-An?(i=g,a=g.N):i=a=g;break}if(!g.R){i=g;break}g=g.R}var ot;Ui[(ot=t).index]={site:ot,halfedges:[]};var _=Tg(t);if(eo.insert(i,_),i||a){if(i===a)return to(i),a=Tg(i.site),eo.insert(_,a),_.edge=a.edge=cs(i.site,_.site),Va(i),void Va(a);if(a){to(i),to(a);var b=i.site,S=b[0],P=b[1],T=t[0]-S,I=t[1]-P,N=a.site,F=N[0]-S,B=N[1]-P,z=2*(T*B-I*F),q=T*T+I*I,X=F*F+B*B,Q=[(B*q-I*X)/z+S,(T*X-F*q)/z+P];Zu(a.edge,b,N,Q),_.edge=cs(b,t,null,Q),a.edge=cs(t,N,null,Q),Va(i),Va(a)}else _.edge=cs(i.site,_.site)}}function Cg(t,i){var a=t.site,u=a[0],c=a[1],d=c-i;if(!d)return u;var m=t.P;if(!m)return-1/0;var g=(a=m.site)[0],_=a[1],b=_-i;if(!b)return g;var S=g-u,P=1/d-1/b,T=S/b;return P?(-T+Math.sqrt(T*T-2*P*(S*S/(-2*b)-_+b/2+c-d/2)))/P+u:(u+g)/2}function e1(t,i){var a=t.N;if(a)return Cg(a,i);var u=t.site;return u[1]===i?u[0]:1/0}var eo,Ui,ds,Ti,An=1e-6,n1=1e-12;function i1(t,i,a){return(t[0]-a[0])*(i[1]-t[1])-(t[0]-i[0])*(a[1]-t[1])}function r1(t,i){return i[1]-t[1]||i[0]-t[0]}function uh(t,i){var a,u,c,d=t.sort(r1).pop();for(Ti=[],Ui=new Array(t.length),eo=new $u,ds=new $u;;)if(c=oh,d&&(!c||d[1]<c.y||d[1]===c.y&&d[0]<c.x))d[0]===a&&d[1]===u||(t1(d),a=d[0],u=d[1]),d=t.pop();else{if(!c)break;Vy(c.arc)}if(function(){for(var S,P,T,I,N=0,F=Ui.length;N<F;++N)if((S=Ui[N])&&(I=(P=S.halfedges).length)){var B=new Array(I),z=new Array(I);for(T=0;T<I;++T)B[T]=T,z[T]=$y(S,Ti[P[T]]);for(B.sort(function(q,X){return z[X]-z[q]}),T=0;T<I;++T)z[T]=P[B[T]];for(T=0;T<I;++T)P[T]=z[T]}}(),i){var m=+i[0][0],g=+i[0][1],_=+i[1][0],b=+i[1][1];(function(S,P,T,I){for(var N,F=Ti.length;F--;)Ky(N=Ti[F],S,P,T,I)&&Uy(N,S,P,T,I)&&(Math.abs(N[0][0]-N[1][0])>An||Math.abs(N[0][1]-N[1][1])>An)||delete Ti[F]})(m,g,_,b),function(S,P,T,I){var N,F,B,z,q,X,Q,ot,ft,bt,Ot,lt,kt=Ui.length,xt=!0;for(N=0;N<kt;++N)if(F=Ui[N]){for(B=F.site,z=(q=F.halfedges).length;z--;)Ti[q[z]]||q.splice(z,1);for(z=0,X=q.length;z<X;)Ot=(bt=Qy(F,Ti[q[z]]))[0],lt=bt[1],ot=(Q=xg(F,Ti[q[++z%X]]))[0],ft=Q[1],(Math.abs(Ot-ot)>An||Math.abs(lt-ft)>An)&&(q.splice(z,0,Ti.push(hs(B,bt,Math.abs(Ot-S)<An&&I-lt>An?[S,Math.abs(ot-S)<An?ft:I]:Math.abs(lt-I)<An&&T-Ot>An?[Math.abs(ft-I)<An?ot:T,I]:Math.abs(Ot-T)<An&&lt-P>An?[T,Math.abs(ot-T)<An?ft:P]:Math.abs(lt-P)<An&&Ot-S>An?[Math.abs(ft-P)<An?ot:S,P]:null))-1),++X);X&&(xt=!1)}if(xt){var U,vt,pt,Tt=1/0;for(N=0,xt=null;N<kt;++N)(F=Ui[N])&&(pt=(U=(B=F.site)[0]-S)*U+(vt=B[1]-P)*vt)<Tt&&(Tt=pt,xt=F);if(xt){var Nt=[S,P],Qt=[S,I],Te=[T,I],Ce=[T,P];xt.halfedges.push(Ti.push(hs(B=xt.site,Nt,Qt))-1,Ti.push(hs(B,Qt,Te))-1,Ti.push(hs(B,Te,Ce))-1,Ti.push(hs(B,Ce,Nt))-1)}}for(N=0;N<kt;++N)(F=Ui[N])&&(F.halfedges.length||delete Ui[N])}(m,g,_,b)}this.edges=Ti,this.cells=Ui,eo=ds=Ti=Ui=null}function Ju(t){return function(){return t}}function a1(t,i,a){this.target=t,this.type=i,this.transform=a}function Pr(t,i,a){this.k=t,this.x=i,this.y=a}uh.prototype={constructor:uh,polygons:function(){var t=this.edges;return this.cells.map(function(i){var a=i.halfedges.map(function(u){return xg(i,t[u])});return a.data=i.site.data,a})},triangles:function(){var t=[],i=this.edges;return this.cells.forEach(function(a,u){if(d=(c=a.halfedges).length)for(var c,d,m,g=a.site,_=-1,b=i[c[d-1]],S=b.left===g?b.right:b.left;++_<d;)m=S,S=(b=i[c[_]]).left===g?b.right:b.left,m&&S&&u<m.index&&u<S.index&&i1(g,m,S)<0&&t.push([g.data,m.data,S.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,i,a){for(var u,c,d=this,m=d._found||0,g=d.cells.length;!(c=d.cells[m]);)if(++m>=g)return null;var _=t-c.site[0],b=i-c.site[1],S=_*_+b*b;do{c=d.cells[u=m],m=null,c.halfedges.forEach(function(P){var T=d.edges[P],I=T.left;if(I!==c.site&&I||(I=T.right)){var N=t-I[0],F=i-I[1],B=N*N+F*F;B<S&&(S=B,m=I.index)}})}while(null!==m);return d._found=u,null==a||S<=a*a?c.site:null}},Pr.prototype={constructor:Pr,scale:function(t){return 1===t?this:new Pr(this.k*t,this.x,this.y)},translate:function(t,i){return 0===t&0===i?this:new Pr(this.k,this.x+this.k*t,this.y+this.k*i)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vu=new Pr(1,0,0);function Ag(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Vu;return t.__zoom}function lh(){r.event.stopImmediatePropagation()}function fs(){r.event.preventDefault(),r.event.stopImmediatePropagation()}function o1(){return!r.event.ctrlKey&&!r.event.button}function s1(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function kg(){return this.__zoom||Vu}function u1(){return-r.event.deltaY*(1===r.event.deltaMode?.05:r.event.deltaMode?1:.002)}function l1(){return navigator.maxTouchPoints||"ontouchstart"in this}function c1(t,i,a){var u=t.invertX(i[0][0])-a[0][0],c=t.invertX(i[1][0])-a[1][0],d=t.invertY(i[0][1])-a[0][1],m=t.invertY(i[1][1])-a[1][1];return t.translate(c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c),m>d?(d+m)/2:Math.min(0,d)||Math.max(0,m))}Ag.prototype=Pr.prototype,r.FormatSpecifier=Ws,r.active=function(t,i){var a,u,c=t.__transition;if(c)for(u in i=null==i?null:i+"",c)if((a=c[u]).state>1&&a.name===i)return new Tn([[t]],Xg,i,+u);return null},r.arc=function(){var t=yy,i=by,a=Je(0),u=null,c=xy,d=wy,m=Sy,g=null;function _(){var b,S,fr,P=+t.apply(this,arguments),T=+i.apply(this,arguments),I=c.apply(this,arguments)-Bu,N=d.apply(this,arguments)-Bu,F=Gp(N-I),B=N>I;if(g||(g=b=Yr()),T<P&&(S=T,T=P,P=S),T>Si)if(F>Zr-Si)g.moveTo(T*wa(I),T*dr(I)),g.arc(0,0,T,I,N,!B),P>Si&&(g.moveTo(P*wa(N),P*dr(N)),g.arc(0,0,P,N,I,B));else{var z,q,X=I,Q=N,ot=I,ft=N,bt=F,Ot=F,lt=m.apply(this,arguments)/2,kt=lt>Si&&(u?+u.apply(this,arguments):Qa(P*P+T*T)),xt=Xc(Gp(T-P)/2,+a.apply(this,arguments)),U=xt,vt=xt;if(kt>Si){var pt=Bp(kt/P*dr(lt)),Tt=Bp(kt/T*dr(lt));(bt-=2*pt)>Si?(ot+=pt*=B?1:-1,ft-=pt):(bt=0,ot=ft=(I+N)/2),(Ot-=2*Tt)>Si?(X+=Tt*=B?1:-1,Q-=Tt):(Ot=0,X=Q=(I+N)/2)}var Nt=T*wa(X),Qt=T*dr(X),Te=P*wa(ft),Ce=P*dr(ft);if(xt>Si){var Xe,te=T*wa(Q),Ve=T*dr(Q),en=P*wa(ot),fe=P*dr(ot);if(F<Qr&&(Xe=function(fr,Dr,tl,el,Er,ps,Kn,h1){var Pg=tl-fr,Mg=el-Dr,Dg=Kn-Er,Eg=h1-ps,gs=Eg*Pg-Dg*Mg;if(!(gs*gs<Si))return[fr+(gs=(Dg*(Dr-ps)-Eg*(fr-Er))/gs)*Pg,Dr+gs*Mg]}(Nt,Qt,en,fe,te,Ve,Te,Ce))){var Oe=Nt-Xe[0],Hn=Qt-Xe[1],mi=te-Xe[0],Mr=Ve-Xe[1],Vr=1/dr(((fr=(Oe*mi+Hn*Mr)/(Qa(Oe*Oe+Hn*Hn)*Qa(mi*mi+Mr*Mr)))>1?0:fr<-1?Qr:Math.acos(fr))/2),ta=Qa(Xe[0]*Xe[0]+Xe[1]*Xe[1]);U=Xc(xt,(P-ta)/(Vr-1)),vt=Xc(xt,(T-ta)/(Vr+1))}}Ot>Si?vt>Si?(z=ju(en,fe,Nt,Qt,T,vt,B),q=ju(te,Ve,Te,Ce,T,vt,B),g.moveTo(z.cx+z.x01,z.cy+z.y01),vt<xt?g.arc(z.cx,z.cy,vt,wi(z.y01,z.x01),wi(q.y01,q.x01),!B):(g.arc(z.cx,z.cy,vt,wi(z.y01,z.x01),wi(z.y11,z.x11),!B),g.arc(0,0,T,wi(z.cy+z.y11,z.cx+z.x11),wi(q.cy+q.y11,q.cx+q.x11),!B),g.arc(q.cx,q.cy,vt,wi(q.y11,q.x11),wi(q.y01,q.x01),!B))):(g.moveTo(Nt,Qt),g.arc(0,0,T,X,Q,!B)):g.moveTo(Nt,Qt),P>Si&&bt>Si?U>Si?(z=ju(Te,Ce,te,Ve,P,-U,B),q=ju(Nt,Qt,en,fe,P,-U,B),g.lineTo(z.cx+z.x01,z.cy+z.y01),U<xt?g.arc(z.cx,z.cy,U,wi(z.y01,z.x01),wi(q.y01,q.x01),!B):(g.arc(z.cx,z.cy,U,wi(z.y01,z.x01),wi(z.y11,z.x11),!B),g.arc(0,0,P,wi(z.cy+z.y11,z.cx+z.x11),wi(q.cy+q.y11,q.cx+q.x11),B),g.arc(q.cx,q.cy,U,wi(q.y11,q.x11),wi(q.y01,q.x01),!B))):g.arc(0,0,P,ft,ot,B):g.lineTo(Te,Ce)}else g.moveTo(0,0);if(g.closePath(),b)return g=null,b+""||null}return _.centroid=function(){var b=(+t.apply(this,arguments)+ +i.apply(this,arguments))/2,S=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2-Qr/2;return[wa(S)*b,dr(S)*b]},_.innerRadius=function(b){return arguments.length?(t="function"==typeof b?b:Je(+b),_):t},_.outerRadius=function(b){return arguments.length?(i="function"==typeof b?b:Je(+b),_):i},_.cornerRadius=function(b){return arguments.length?(a="function"==typeof b?b:Je(+b),_):a},_.padRadius=function(b){return arguments.length?(u=null==b?null:"function"==typeof b?b:Je(+b),_):u},_.startAngle=function(b){return arguments.length?(c="function"==typeof b?b:Je(+b),_):c},_.endAngle=function(b){return arguments.length?(d="function"==typeof b?b:Je(+b),_):d},_.padAngle=function(b){return arguments.length?(m="function"==typeof b?b:Je(+b),_):m},_.context=function(b){return arguments.length?(g=null==b?null:b,_):g},_},r.area=Wp,r.areaRadial=Up,r.ascending=Ht,r.autoType=function(t){for(var i in t){var a,u,c=t[i].trim();if(c)if("true"===c)c=!0;else if("false"===c)c=!1;else if("NaN"===c)c=NaN;else if(isNaN(a=+c)){if(!(u=c.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Dm&&u[4]&&!u[7]&&(c=c.replace(/-/g,"/").replace(/T/," ")),c=new Date(c)}else c=a;else c=null;t[i]=c}return t},r.axisBottom=function(t){return tt(3,t)},r.axisLeft=function(t){return tt(4,t)},r.axisRight=function(t){return tt(2,t)},r.axisTop=function(t){return tt(1,t)},r.bisect=pe,r.bisectLeft=Ct,r.bisectRight=pe,r.bisector=wn,r.blob=function(t,i){return fetch(t,i).then(Em)},r.brush=function(){return fl(Ug)},r.brushSelection=function(t){var i=t.__brush;return i?i.dim.output(i.selection):null},r.brushX=function(){return fl(Ns)},r.brushY=function(){return fl(Os)},r.buffer=function(t,i){return fetch(t,i).then(Lm)},r.chord=function(){var t=0,i=null,a=null,u=null;function c(d){var m,g,_,b,S,P,T=d.length,I=[],N=Vt(T),F=[],B=[],z=B.groups=new Array(T),q=new Array(T*T);for(m=0,S=-1;++S<T;){for(g=0,P=-1;++P<T;)g+=d[S][P];I.push(g),F.push(Vt(T)),m+=g}for(i&&N.sort(function(kt,xt){return i(I[kt],I[xt])}),a&&F.forEach(function(kt,xt){kt.sort(function(U,vt){return a(d[xt][U],d[xt][vt])})}),b=(m=Th(0,Sh-t*T)/m)?t:Sh/T,g=0,S=-1;++S<T;){for(_=g,P=-1;++P<T;){var X=N[S],Q=F[X][P],ot=d[X][Q],ft=g,bt=g+=ot*m;q[Q*T+X]={index:X,subindex:Q,startAngle:ft,endAngle:bt,value:ot}}z[X]={index:X,startAngle:_,endAngle:g,value:I[X]},g+=b}for(S=-1;++S<T;)for(P=S-1;++P<T;){var Ot=q[P*T+S],lt=q[S*T+P];(Ot.value||lt.value)&&B.push(Ot.value<lt.value?{source:lt,target:Ot}:{source:Ot,target:lt})}return u?B.sort(u):B}return c.padAngle=function(d){return arguments.length?(t=Th(0,d),c):t},c.sortGroups=function(d){return arguments.length?(i=d,c):i},c.sortSubgroups=function(d){return arguments.length?(a=d,c):a},c.sortChords=function(d){return arguments.length?(null==d?u=null:(u=Vg(d))._=d,c):u&&u._},c},r.clientPoint=Ae,r.cluster=function(){var t=C0,i=1,a=1,u=!1;function c(d){var m,g=0;d.eachAfter(function(T){var N,I=T.children;I?(T.x=(N=I).reduce(A0,0)/N.length,T.y=function(N){return 1+N.reduce(k0,0)}(I)):(T.x=m?g+=t(T,m):0,T.y=0,m=T)});var _=function(T){for(var I;I=T.children;)T=I[0];return T}(d),b=function(T){for(var I;I=T.children;)T=I[I.length-1];return T}(d),S=_.x-t(_,b)/2,P=b.x+t(b,_)/2;return d.eachAfter(u?function(T){T.x=(T.x-d.x)*i,T.y=(d.y-T.y)*a}:function(T){T.x=(T.x-S)/(P-S)*i,T.y=(1-(d.y?T.y/d.y:1))*a})}return c.separation=function(d){return arguments.length?(t=d,c):t},c.size=function(d){return arguments.length?(u=!1,i=+d[0],a=+d[1],c):u?null:[i,a]},c.nodeSize=function(d){return arguments.length?(u=!0,i=+d[0],a=+d[1],c):u?[i,a]:null},c},r.color=or,r.contourDensity=function(){var t=pm,i=gm,a=mm,u=960,c=500,d=20,m=2,g=3*d,_=u+2*g>>m,b=c+2*g>>m,S=Xr(20);function P(z){var q=new Float32Array(_*b),X=new Float32Array(_*b);z.forEach(function(ft,bt,Ot){var lt=+t(ft,bt,Ot)+g>>m,kt=+i(ft,bt,Ot)+g>>m,xt=+a(ft,bt,Ot);lt>=0&&lt<_&&kt>=0&&kt<b&&(q[lt+kt*_]+=xt)}),_l({width:_,height:b,data:q},{width:_,height:b,data:X},d>>m),yl({width:_,height:b,data:X},{width:_,height:b,data:q},d>>m),_l({width:_,height:b,data:q},{width:_,height:b,data:X},d>>m),yl({width:_,height:b,data:X},{width:_,height:b,data:q},d>>m),_l({width:_,height:b,data:q},{width:_,height:b,data:X},d>>m),yl({width:_,height:b,data:X},{width:_,height:b,data:q},d>>m);var Q=S(q);if(!Array.isArray(Q)){var ot=gn(q);Q=re(0,ot,Q),(Q=Vt(0,Math.floor(ot/Q)*Q,Q)).shift()}return Mh().thresholds(Q).size([_,b])(q).map(T)}function T(z){return z.value*=Math.pow(2,-2*m),z.coordinates.forEach(I),z}function I(z){z.forEach(N)}function N(z){z.forEach(F)}function F(z){z[0]=z[0]*Math.pow(2,m)-g,z[1]=z[1]*Math.pow(2,m)-g}function B(){return _=u+2*(g=3*d)>>m,b=c+2*g>>m,P}return P.x=function(z){return arguments.length?(t="function"==typeof z?z:Xr(+z),P):t},P.y=function(z){return arguments.length?(i="function"==typeof z?z:Xr(+z),P):i},P.weight=function(z){return arguments.length?(a="function"==typeof z?z:Xr(+z),P):a},P.size=function(z){if(!arguments.length)return[u,c];var q=Math.ceil(z[0]),X=Math.ceil(z[1]);if(!(q>=0||q>=0))throw new Error("invalid size");return u=q,c=X,B()},P.cellSize=function(z){if(!arguments.length)return 1<<m;if(!((z=+z)>=1))throw new Error("invalid cell size");return m=Math.floor(Math.log(z)/Math.LN2),B()},P.thresholds=function(z){return arguments.length?(S="function"==typeof z?z:Array.isArray(z)?Xr(Ph.call(z)):Xr(z),P):S},P.bandwidth=function(z){if(!arguments.length)return Math.sqrt(d*(d+1));if(!((z=+z)>=0))throw new Error("invalid bandwidth");return d=Math.round((Math.sqrt(4*z*z+1)-1)/2),B()},P},r.contours=Mh,r.create=function(t){return ge(Bt(t).call(document.documentElement))},r.creator=Bt,r.cross=function(t,i,a){var u,c,d,m,g=t.length,_=i.length,b=new Array(g*_);for(null==a&&(a=je),u=d=0;u<g;++u)for(m=t[u],c=0;c<_;++c,++d)b[d]=a(m,i[c]);return b},r.csv=Nm,r.csvFormat=ym,r.csvFormatBody=bm,r.csvFormatRow=wm,r.csvFormatRows=xm,r.csvFormatValue=Sm,r.csvParse=Ih,r.csvParseRows=_m,r.cubehelix=W,r.curveBasis=function(t){return new Xu(t)},r.curveBasisClosed=function(t){return new ng(t)},r.curveBasisOpen=function(t){return new ig(t)},r.curveBundle=Ry,r.curveCardinal=zy,r.curveCardinalClosed=Fy,r.curveCardinalOpen=Hy,r.curveCatmullRom=Gy,r.curveCatmullRomClosed=By,r.curveCatmullRomOpen=jy,r.curveLinear=Wu,r.curveLinearClosed=function(t){return new ug(t)},r.curveMonotoneX=function(t){return new Uu(t)},r.curveMonotoneY=function(t){return new dg(t)},r.curveNatural=function(t){return new pg(t)},r.curveStep=function(t){return new Ku(t,.5)},r.curveStepAfter=function(t){return new Ku(t,1)},r.curveStepBefore=function(t){return new Ku(t,0)},r.customEvent=we,r.descending=function(t,i){return i<t?-1:i>t?1:i>=t?0:NaN},r.deviation=sn,r.dispatch=J,r.drag=function(){var t,i,a,u,c=ea,d=Ni,m=Oi,g=vi,_={},b=J("start","drag","end"),S=0,P=0;function T(Q){Q.on("mousedown.drag",I).filter(g).on("touchstart.drag",B).on("touchmove.drag",z).on("touchend.drag touchcancel.drag",q).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function I(){if(!u&&c.apply(this,arguments)){var Q=X("mouse",d.apply(this,arguments),fn,this,arguments);Q&&(ge(r.event.view).on("mousemove.drag",N,!0).on("mouseup.drag",F,!0),Xn(r.event.view),Gn(),a=!1,t=r.event.clientX,i=r.event.clientY,Q("start"))}}function N(){if(Ln(),!a){var Q=r.event.clientX-t,ot=r.event.clientY-i;a=Q*Q+ot*ot>P}_.mouse("drag")}function F(){ge(r.event.view).on("mousemove.drag mouseup.drag",null),un(r.event.view,a),Ln(),_.mouse("end")}function B(){if(c.apply(this,arguments)){var Q,ot,ft=r.event.changedTouches,bt=d.apply(this,arguments),Ot=ft.length;for(Q=0;Q<Ot;++Q)(ot=X(ft[Q].identifier,bt,Ke,this,arguments))&&(Gn(),ot("start"))}}function z(){var Q,ot,ft=r.event.changedTouches,bt=ft.length;for(Q=0;Q<bt;++Q)(ot=_[ft[Q].identifier])&&(Ln(),ot("drag"))}function q(){var Q,ot,ft=r.event.changedTouches,bt=ft.length;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),Q=0;Q<bt;++Q)(ot=_[ft[Q].identifier])&&(Gn(),ot("end"))}function X(Q,ot,ft,bt,Ot){var lt,kt,xt,U=ft(ot,Q),vt=b.copy();if(we(new ti(T,"beforestart",lt,Q,S,U[0],U[1],0,0,vt),function(){return null!=(r.event.subject=lt=m.apply(bt,Ot))&&(kt=lt.x-U[0]||0,xt=lt.y-U[1]||0,!0)}))return function pt(Tt){var Nt,Qt=U;switch(Tt){case"start":_[Q]=pt,Nt=S++;break;case"end":delete _[Q],--S;case"drag":U=ft(ot,Q),Nt=S}we(new ti(T,Tt,lt,Q,Nt,U[0]+kt,U[1]+xt,U[0]-Qt[0],U[1]-Qt[1],vt),vt.apply,vt,[Tt,bt,Ot])}}return T.filter=function(Q){return arguments.length?(c="function"==typeof Q?Q:Vn(!!Q),T):c},T.container=function(Q){return arguments.length?(d="function"==typeof Q?Q:Vn(Q),T):d},T.subject=function(Q){return arguments.length?(m="function"==typeof Q?Q:Vn(Q),T):m},T.touchable=function(Q){return arguments.length?(g="function"==typeof Q?Q:Vn(!!Q),T):g},T.on=function(){var Q=b.on.apply(b,arguments);return Q===b?T:Q},T.clickDistance=function(Q){return arguments.length?(P=(Q=+Q)*Q,T):Math.sqrt(P)},T},r.dragDisable=Xn,r.dragEnable=un,r.dsv=function(t,i,a,u){3===arguments.length&&"function"==typeof a&&(u=a,a=void 0);var c=Hs(t);return Gs(i,a).then(function(d){return c.parse(d,u)})},r.dsvFormat=Hs,r.easeBack=fh,r.easeBackIn=Gg,r.easeBackInOut=fh,r.easeBackOut=Bg,r.easeBounce=yo,r.easeBounceIn=function(t){return 1-yo(1-t)},r.easeBounceInOut=function(t){return((t*=2)<=1?1-yo(1-t):yo(t-1)+1)/2},r.easeBounceOut=yo,r.easeCircle=dh,r.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},r.easeCircleInOut=dh,r.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},r.easeCubic=Nn,r.easeCubicIn=function(t){return t*t*t},r.easeCubicInOut=Nn,r.easeCubicOut=function(t){return--t*t*t+1},r.easeElastic=ph,r.easeElasticIn=jg,r.easeElasticInOut=Wg,r.easeElasticOut=ph,r.easeExp=hh,r.easeExpIn=function(t){return Math.pow(2,10*t-10)},r.easeExpInOut=hh,r.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},r.easeLinear=function(t){return+t},r.easePoly=vo,r.easePolyIn=Yi,r.easePolyInOut=vo,r.easePolyOut=Na,r.easeQuad=ii,r.easeQuadIn=function(t){return t*t},r.easeQuadInOut=ii,r.easeQuadOut=function(t){return t*(2-t)},r.easeSin=ch,r.easeSinIn=function(t){return 1-Math.cos(t*Ls)},r.easeSinInOut=ch,r.easeSinOut=function(t){return Math.sin(t*Ls)},r.entries=function(t){var i=[];for(var a in t)i.push({key:a,value:t[a]});return i},r.extent=On,r.forceCenter=function(t,i){var a;function u(){var c,d,m=a.length,g=0,_=0;for(c=0;c<m;++c)g+=(d=a[c]).x,_+=d.y;for(g=g/m-t,_=_/m-i,c=0;c<m;++c)(d=a[c]).x-=g,d.y-=_}return null==t&&(t=0),null==i&&(i=0),u.initialize=function(c){a=c},u.x=function(c){return arguments.length?(t=+c,u):t},u.y=function(c){return arguments.length?(i=+c,u):i},u},r.forceCollide=function(t){var i,a,u=1,c=1;function d(){for(var _,b,S,P,T,I,N,F=i.length,B=0;B<c;++B)for(b=Bs(i,jm,Wm).visitAfter(m),_=0;_<F;++_)N=(I=a[(S=i[_]).index])*I,P=S.x+S.vx,T=S.y+S.vy,b.visit(z);function z(q,X,Q,ot,ft){var bt=q.data,Ot=q.r,lt=I+Ot;if(!bt)return X>P+lt||ot<P-lt||Q>T+lt||ft<T-lt;if(bt.index>S.index){var kt=P-bt.x-bt.vx,xt=T-bt.y-bt.vy,U=kt*kt+xt*xt;U<lt*lt&&(0===kt&&(U+=(kt=qr())*kt),0===xt&&(U+=(xt=qr())*xt),U=(lt-(U=Math.sqrt(U)))/U*u,S.vx+=(kt*=U)*(lt=(Ot*=Ot)/(N+Ot)),S.vy+=(xt*=U)*lt,bt.vx-=kt*(lt=1-lt),bt.vy-=xt*lt)}}}function m(_){if(_.data)return _.r=a[_.data.index];for(var b=_.r=0;b<4;++b)_[b]&&_[b].r>_.r&&(_.r=_[b].r)}function g(){if(i){var _,b,S=i.length;for(a=new Array(S),_=0;_<S;++_)a[(b=i[_]).index]=+t(b,_,i)}}return"function"!=typeof t&&(t=ri(null==t?1:+t)),d.initialize=function(_){i=_,g()},d.iterations=function(_){return arguments.length?(c=+_,d):c},d.strength=function(_){return arguments.length?(u=+_,d):u},d.radius=function(_){return arguments.length?(t="function"==typeof _?_:ri(+_),g(),d):t},d},r.forceLink=function(t){var i,a,u,c,d,m=Ym,g=function(N){return 1/Math.min(c[N.source.index],c[N.target.index])},_=ri(30),b=1;function S(N){for(var F=0,B=t.length;F<b;++F)for(var z,q,X,Q,ot,ft,bt,Ot=0;Ot<B;++Ot)q=(z=t[Ot]).source,Q=(X=z.target).x+X.vx-q.x-q.vx||qr(),ot=X.y+X.vy-q.y-q.vy||qr(),Q*=ft=((ft=Math.sqrt(Q*Q+ot*ot))-a[Ot])/ft*N*i[Ot],ot*=ft,X.vx-=Q*(bt=d[Ot]),X.vy-=ot*bt,q.vx+=Q*(bt=1-bt),q.vy+=ot*bt}function P(){if(u){var N,F,B=u.length,z=t.length,q=br(u,m);for(N=0,c=new Array(B);N<z;++N)(F=t[N]).index=N,"object"!=typeof F.source&&(F.source=Fh(q,F.source)),"object"!=typeof F.target&&(F.target=Fh(q,F.target)),c[F.source.index]=(c[F.source.index]||0)+1,c[F.target.index]=(c[F.target.index]||0)+1;for(N=0,d=new Array(z);N<z;++N)d[N]=c[(F=t[N]).source.index]/(c[F.source.index]+c[F.target.index]);i=new Array(z),T(),a=new Array(z),I()}}function T(){if(u)for(var N=0,F=t.length;N<F;++N)i[N]=+g(t[N],N,t)}function I(){if(u)for(var N=0,F=t.length;N<F;++N)a[N]=+_(t[N],N,t)}return null==t&&(t=[]),S.initialize=function(N){u=N,P()},S.links=function(N){return arguments.length?(t=N,P(),S):t},S.id=function(N){return arguments.length?(m=N,S):m},S.iterations=function(N){return arguments.length?(b=+N,S):b},S.strength=function(N){return arguments.length?(g="function"==typeof N?N:ri(+N),T(),S):g},S.distance=function(N){return arguments.length?(_="function"==typeof N?N:ri(+N),I(),S):_},S},r.forceManyBody=function(){var t,i,a,u,c=ri(-30),d=1,m=1/0,g=.81;function _(T){var I,N=t.length,F=Bs(t,Xm,qm).visitAfter(S);for(a=T,I=0;I<N;++I)i=t[I],F.visit(P)}function b(){if(t){var T,I,N=t.length;for(u=new Array(N),T=0;T<N;++T)u[(I=t[T]).index]=+c(I,T,t)}}function S(T){var I,N,F,B,z,q=0,X=0;if(T.length){for(F=B=z=0;z<4;++z)(I=T[z])&&(N=Math.abs(I.value))&&(q+=I.value,X+=N,F+=N*I.x,B+=N*I.y);T.x=F/X,T.y=B/X}else{(I=T).x=I.data.x,I.y=I.data.y;do{q+=u[I.data.index]}while(I=I.next)}T.value=q}function P(T,I,N,F){if(!T.value)return!0;var B=T.x-i.x,z=T.y-i.y,q=F-I,X=B*B+z*z;if(q*q/g<X)return X<m&&(0===B&&(X+=(B=qr())*B),0===z&&(X+=(z=qr())*z),X<d&&(X=Math.sqrt(d*X)),i.vx+=B*T.value*a/X,i.vy+=z*T.value*a/X),!0;if(!(T.length||X>=m)){(T.data!==i||T.next)&&(0===B&&(X+=(B=qr())*B),0===z&&(X+=(z=qr())*z),X<d&&(X=Math.sqrt(d*X)));do{T.data!==i&&(i.vx+=B*(q=u[T.data.index]*a/X),i.vy+=z*q)}while(T=T.next)}}return _.initialize=function(T){t=T,b()},_.strength=function(T){return arguments.length?(c="function"==typeof T?T:ri(+T),b(),_):c},_.distanceMin=function(T){return arguments.length?(d=T*T,_):Math.sqrt(d)},_.distanceMax=function(T){return arguments.length?(m=T*T,_):Math.sqrt(m)},_.theta=function(T){return arguments.length?(g=T*T,_):Math.sqrt(g)},_},r.forceRadial=function(t,i,a){var u,c,d,m=ri(.1);function g(b){for(var S=0,P=u.length;S<P;++S){var T=u[S],I=T.x-i||1e-6,N=T.y-a||1e-6,F=Math.sqrt(I*I+N*N),B=(d[S]-F)*c[S]*b/F;T.vx+=I*B,T.vy+=N*B}}function _(){if(u){var b,S=u.length;for(c=new Array(S),d=new Array(S),b=0;b<S;++b)d[b]=+t(u[b],b,u),c[b]=isNaN(d[b])?0:+m(u[b],b,u)}}return"function"!=typeof t&&(t=ri(+t)),null==i&&(i=0),null==a&&(a=0),g.initialize=function(b){u=b,_()},g.strength=function(b){return arguments.length?(m="function"==typeof b?b:ri(+b),_(),g):m},g.radius=function(b){return arguments.length?(t="function"==typeof b?b:ri(+b),_(),g):t},g.x=function(b){return arguments.length?(i=+b,g):i},g.y=function(b){return arguments.length?(a=+b,g):a},g},r.forceSimulation=function(t){var i,a=1,u=.001,c=1-Math.pow(u,1/300),d=0,m=.6,g=br(),_=Ji(S),b=J("tick","end");function S(){P(),b.call("tick",i),a<u&&(_.stop(),b.call("end",i))}function P(N){var F,B,z=t.length;void 0===N&&(N=1);for(var q=0;q<N;++q)for(a+=(d-a)*c,g.each(function(X){X(a)}),F=0;F<z;++F)null==(B=t[F]).fx?B.x+=B.vx*=m:(B.x=B.fx,B.vx=0),null==B.fy?B.y+=B.vy*=m:(B.y=B.fy,B.vy=0);return i}function T(){for(var N,F=0,B=t.length;F<B;++F){if((N=t[F]).index=F,null!=N.fx&&(N.x=N.fx),null!=N.fy&&(N.y=N.fy),isNaN(N.x)||isNaN(N.y)){var z=10*Math.sqrt(F),q=F*Km;N.x=z*Math.cos(q),N.y=z*Math.sin(q)}(isNaN(N.vx)||isNaN(N.vy))&&(N.vx=N.vy=0)}}function I(N){return N.initialize&&N.initialize(t),N}return null==t&&(t=[]),T(),i={tick:P,restart:function(){return _.restart(S),i},stop:function(){return _.stop(),i},nodes:function(N){return arguments.length?(t=N,T(),g.each(I),i):t},alpha:function(N){return arguments.length?(a=+N,i):a},alphaMin:function(N){return arguments.length?(u=+N,i):u},alphaDecay:function(N){return arguments.length?(c=+N,i):+c},alphaTarget:function(N){return arguments.length?(d=+N,i):d},velocityDecay:function(N){return arguments.length?(m=1-N,i):1-m},force:function(N,F){return arguments.length>1?(null==F?g.remove(N):g.set(N,I(F)),i):g.get(N)},find:function(N,F,B){var z,q,X,Q,ot,ft=0,bt=t.length;for(null==B?B=1/0:B*=B,ft=0;ft<bt;++ft)(X=(z=N-(Q=t[ft]).x)*z+(q=F-Q.y)*q)<B&&(ot=Q,B=X);return ot},on:function(N,F){return arguments.length>1?(b.on(N,F),i):b.on(N)}}},r.forceX=function(t){var i,a,u,c=ri(.1);function d(g){for(var _,b=0,S=i.length;b<S;++b)(_=i[b]).vx+=(u[b]-_.x)*a[b]*g}function m(){if(i){var g,_=i.length;for(a=new Array(_),u=new Array(_),g=0;g<_;++g)a[g]=isNaN(u[g]=+t(i[g],g,i))?0:+c(i[g],g,i)}}return"function"!=typeof t&&(t=ri(null==t?0:+t)),d.initialize=function(g){i=g,m()},d.strength=function(g){return arguments.length?(c="function"==typeof g?g:ri(+g),m(),d):c},d.x=function(g){return arguments.length?(t="function"==typeof g?g:ri(+g),m(),d):t},d},r.forceY=function(t){var i,a,u,c=ri(.1);function d(g){for(var _,b=0,S=i.length;b<S;++b)(_=i[b]).vy+=(u[b]-_.y)*a[b]*g}function m(){if(i){var g,_=i.length;for(a=new Array(_),u=new Array(_),g=0;g<_;++g)a[g]=isNaN(u[g]=+t(i[g],g,i))?0:+c(i[g],g,i)}}return"function"!=typeof t&&(t=ri(null==t?0:+t)),d.initialize=function(g){i=g,m()},d.strength=function(g){return arguments.length?(c="function"==typeof g?g:ri(+g),m(),d):c},d.y=function(g){return arguments.length?(t="function"==typeof g?g:ri(+g),m(),d):t},d},r.formatDefaultLocale=qh,r.formatLocale=Xh,r.formatSpecifier=wo,r.geoAlbers=af,r.geoAlbersUsa=function(){var t,i,a,u,c,d,m=af(),g=Au().rotate([154,0]).center([-2,58.5]).parallels([55,65]),_=Au().rotate([157,0]).center([-3,19.9]).parallels([8,18]),b={point:function(T,I){d=[T,I]}};function S(T){var I=T[0],N=T[1];return d=null,a.point(I,N),d||(u.point(I,N),d)||(c.point(I,N),d)}function P(){return t=i=null,S}return S.invert=function(T){var I=m.scale(),N=m.translate(),F=(T[0]-N[0])/I,B=(T[1]-N[1])/I;return(B>=.12&&B<.234&&F>=-.425&&F<-.214?g:B>=.166&&B<.234&&F>=-.214&&F<-.115?_:m).invert(T)},S.stream=function(T){return t&&i===T?t:(I=[m.stream(i=T),g.stream(T),_.stream(T)],N=I.length,t={point:function(F,B){for(var z=-1;++z<N;)I[z].point(F,B)},sphere:function(){for(var F=-1;++F<N;)I[F].sphere()},lineStart:function(){for(var F=-1;++F<N;)I[F].lineStart()},lineEnd:function(){for(var F=-1;++F<N;)I[F].lineEnd()},polygonStart:function(){for(var F=-1;++F<N;)I[F].polygonStart()},polygonEnd:function(){for(var F=-1;++F<N;)I[F].polygonEnd()}});var I,N},S.precision=function(T){return arguments.length?(m.precision(T),g.precision(T),_.precision(T),P()):m.precision()},S.scale=function(T){return arguments.length?(m.scale(T),g.scale(.35*T),_.scale(T),S.translate(m.translate())):m.scale()},S.translate=function(T){if(!arguments.length)return m.translate();var I=m.scale(),N=+T[0],F=+T[1];return a=m.translate(T).clipExtent([[N-.455*I,F-.238*I],[N+.455*I,F+.238*I]]).stream(b),u=g.translate([N-.307*I,F+.201*I]).clipExtent([[N-.425*I+Se,F+.12*I+Se],[N-.214*I-Se,F+.234*I-Se]]).stream(b),c=_.translate([N-.205*I,F+.212*I]).clipExtent([[N-.214*I+Se,F+.166*I+Se],[N-.115*I-Se,F+.234*I-Se]]).stream(b),P()},S.fitExtent=function(T,I){return Cu(S,T,I)},S.fitSize=function(T,I){return rc(S,T,I)},S.fitWidth=function(T,I){return ac(S,T,I)},S.fitHeight=function(T,I){return oc(S,T,I)},S.scale(1070)},r.geoArea=function(t){return Vs.reset(),ir(t,ur),2*Vs},r.geoAzimuthalEqualArea=function(){return hr(lc).scale(124.75).clipAngle(179.999)},r.geoAzimuthalEqualAreaRaw=lc,r.geoAzimuthalEquidistant=function(){return hr(cc).scale(79.4188).clipAngle(179.999)},r.geoAzimuthalEquidistantRaw=cc,r.geoBounds=function(t){var i,a,u,c,d,m,g;if(Xi=Yn=-(Fn=ji=1/0),Kr=[],ir(t,Sr),a=Kr.length){for(Kr.sort(e0),i=1,d=[u=Kr[0]];i<a;++i)pd(u,(c=Kr[i])[0])||pd(u,c[1])?(qi(u[0],c[1])>qi(u[0],u[1])&&(u[1]=c[1]),qi(c[0],u[1])>qi(u[0],u[1])&&(u[0]=c[0])):d.push(u=c);for(m=-1/0,i=0,u=d[a=d.length-1];i<=a;u=c,++i)(g=qi(u[1],(c=d[i])[0]))>m&&(m=g,Fn=c[0],Yn=u[1])}return Kr=wr=null,Fn===1/0||ji===1/0?[[NaN,NaN],[NaN,NaN]]:[[Fn,ji],[Yn,Xi]]},r.geoCentroid=function(t){ru=au=ou=su=uu=lu=cu=hu=Ll=Il=Nl=0,ir(t,rr);var i=Ll,a=Il,u=Nl,c=i*i+a*a+u*u;return c<Us&&(i=lu,a=cu,u=hu,au<Se&&(i=ou,a=su,u=uu),(c=i*i+a*a+u*u)<Us)?[NaN,NaN]:[Mi(a,i)*kn,Di(u/Jn(c))*kn]},r.geoCircle=function(){var t,i,a=ja([0,0]),u=ja(90),c=ja(6),d={point:function(g,_){t.push(g=i(g,_)),g[0]*=kn,g[1]*=kn}};function m(){var g=a.apply(this,arguments),_=u.apply(this,arguments)*ke,b=c.apply(this,arguments)*ke;return t=[],i=Hl(-g[0]*ke,-g[1]*ke,0).invert,wd(d,_,b,1),g={type:"Polygon",coordinates:[t]},t=i=null,g}return m.center=function(g){return arguments.length?(a="function"==typeof g?g:ja([+g[0],+g[1]]),m):a},m.radius=function(g){return arguments.length?(u="function"==typeof g?g:ja(+g),m):u},m.precision=function(g){return arguments.length?(c="function"==typeof g?g:ja(+g),m):c},m},r.geoClipAntimeridian=jl,r.geoClipCircle=Md,r.geoClipExtent=function(){var t,i,a,u=0,c=0,d=960,m=500;return a={stream:function(g){return t&&i===g?t:t=gu(u,c,d,m)(i=g)},extent:function(g){return arguments.length?(u=+g[0][0],c=+g[0][1],d=+g[1][0],m=+g[1][1],t=i=null,a):[[u,c],[d,m]]}}},r.geoClipRectangle=gu,r.geoConicConformal=function(){return uc(uf).scale(109.5).parallels([30,30])},r.geoConicConformalRaw=uf,r.geoConicEqualArea=Au,r.geoConicEqualAreaRaw=rf,r.geoConicEquidistant=function(){return uc(lf).scale(131.154).center([0,13.9389])},r.geoConicEquidistantRaw=lf,r.geoContains=function(t,i){return(t&&Ed.hasOwnProperty(t.type)?Ed[t.type]:yu)(t,i)},r.geoDistance=_u,r.geoEqualEarth=function(){return hr(hc).scale(177.158)},r.geoEqualEarthRaw=hc,r.geoEquirectangular=function(){return hr(Ro).scale(152.63)},r.geoEquirectangularRaw=Ro,r.geoGnomonic=function(){return hr(dc).scale(144.049).clipAngle(60)},r.geoGnomonicRaw=dc,r.geoGraticule=Hd,r.geoGraticule10=function(){return Hd()()},r.geoIdentity=function(){var t,i,a,u,c,d,m,g=1,_=0,b=0,S=1,P=1,T=0,I=null,N=1,F=1,B=Io({point:function(Q,ot){var ft=X([Q,ot]);this.stream.point(ft[0],ft[1])}}),z=Ao;function q(){return N=g*S,F=g*P,d=m=null,X}function X(Q){var ot=Q[0]*N,ft=Q[1]*F;if(T){var bt=ft*t-ot*i;ot=ot*t+ft*i,ft=bt}return[ot+_,ft+b]}return X.invert=function(Q){var ot=Q[0]-_,ft=Q[1]-b;if(T){var bt=ft*t+ot*i;ot=ot*t-ft*i,ft=bt}return[ot/N,ft/F]},X.stream=function(Q){return d&&m===Q?d:d=B(z(m=Q))},X.postclip=function(Q){return arguments.length?(z=Q,I=a=u=c=null,q()):z},X.clipExtent=function(Q){return arguments.length?(z=null==Q?(I=a=u=c=null,Ao):gu(I=+Q[0][0],a=+Q[0][1],u=+Q[1][0],c=+Q[1][1]),q()):null==I?null:[[I,a],[u,c]]},X.scale=function(Q){return arguments.length?(g=+Q,q()):g},X.translate=function(Q){return arguments.length?(_=+Q[0],b=+Q[1],q()):[_,b]},X.angle=function(Q){return arguments.length?(i=oe(T=Q%360*ke),t=me(T),q()):T*kn},X.reflectX=function(Q){return arguments.length?(S=Q?-1:1,q()):S<0},X.reflectY=function(Q){return arguments.length?(P=Q?-1:1,q()):P<0},X.fitExtent=function(Q,ot){return Cu(X,Q,ot)},X.fitSize=function(Q,ot){return rc(X,Q,ot)},X.fitWidth=function(Q,ot){return ac(X,Q,ot)},X.fitHeight=function(Q,ot){return oc(X,Q,ot)},X},r.geoInterpolate=function(t,i){var a=t[0]*ke,u=t[1]*ke,c=i[0]*ke,d=i[1]*ke,m=me(u),g=oe(u),_=me(d),b=oe(d),S=m*me(a),P=m*oe(a),T=_*me(c),I=_*oe(c),N=2*Di(Jn(Vh(d-u)+m*_*Vh(c-a))),F=oe(N),B=N?function(z){var q=oe(z*=N)/F,X=oe(N-z)/F,Q=X*S+q*T,ot=X*P+q*I,ft=X*g+q*b;return[Mi(ot,Q)*kn,Mi(ft,Jn(Q*Q+ot*ot))*kn]}:function(){return[a*kn,u*kn]};return B.distance=N,B},r.geoLength=Dd,r.geoMercator=function(){return sf(Oo).scale(961/Pi)},r.geoMercatorRaw=Oo,r.geoNaturalEarth1=function(){return hr(fc).scale(175.295)},r.geoNaturalEarth1Raw=fc,r.geoOrthographic=function(){return hr(pc).scale(249.5).clipAngle(90+Se)},r.geoOrthographicRaw=pc,r.geoPath=function(t,i){var a,u,c=4.5;function d(m){return m&&("function"==typeof c&&u.pointRadius(+c.apply(this,arguments)),ir(m,a(u))),u.result()}return d.area=function(m){return ir(m,a(Tr)),Tr.result()},d.measure=function(m){return ir(m,a(Lo)),Lo.result()},d.bounds=function(m){return ir(m,a(wu)),wu.result()},d.centroid=function(m){return ir(m,a(tr)),tr.result()},d.projection=function(m){return arguments.length?(a=null==m?(t=null,Ao):(t=m).stream,d):t},d.context=function(m){return arguments.length?(u=null==m?(i=null,new Jd):new Kd(i=m),"function"!=typeof c&&u.pointRadius(c),d):i},d.pointRadius=function(m){return arguments.length?(c="function"==typeof m?m:(u.pointRadius(+m),+m),d):c},d.projection(t).context(i)},r.geoProjection=hr,r.geoProjectionMutator=sc,r.geoRotation=xd,r.geoStereographic=function(){return hr(gc).scale(250).clipAngle(142)},r.geoStereographicRaw=gc,r.geoStream=ir,r.geoTransform=function(t){return{stream:Io(t)}},r.geoTransverseMercator=function(){var t=sf(mc),i=t.center,a=t.rotate;return t.center=function(u){return arguments.length?i([-u[1],u[0]]):[(u=i())[1],-u[0]]},t.rotate=function(u){return arguments.length?a([u[0],u[1],u.length>2?u[2]+90:90]):[(u=a())[0],u[1],u[2]-90]},a([0,0,90]).scale(159.155)},r.geoTransverseMercatorRaw=mc,r.gray=function(t,i){return new Ri(t,0,0,null==i?1:i)},r.hcl=aa,r.hierarchy=vc,r.histogram=function(){var t=dn,i=On,a=ve;function u(c){var d,m,g=c.length,_=new Array(g);for(d=0;d<g;++d)_[d]=t(c[d],d,c);var b=i(_),S=b[0],P=b[1],T=a(_,S,P);Array.isArray(T)||(T=re(S,P,T),T=Vt(Math.ceil(S/T)*T,P,T));for(var I=T.length;T[0]<=S;)T.shift(),--I;for(;T[I-1]>P;)T.pop(),--I;var N,F=new Array(I+1);for(d=0;d<=I;++d)(N=F[d]=[]).x0=d>0?T[d-1]:S,N.x1=d<I?T[d]:P;for(d=0;d<g;++d)S<=(m=_[d])&&m<=P&&F[pe(T,m,0,I)].push(c[d]);return F}return u.value=function(c){return arguments.length?(t="function"==typeof c?c:he(c),u):t},u.domain=function(c){return arguments.length?(i="function"==typeof c?c:he([c[0],c[1]]),u):i},u.thresholds=function(c){return arguments.length?(a="function"==typeof c?c:Array.isArray(c)?he(Pe.call(c)):he(c),u):a},u},r.hsl=ia,r.html=Fm,r.image=function(t,i){return new Promise(function(a,u){var c=new Image;for(var d in i)c[d]=i[d];c.onerror=u,c.onload=function(){a(c)},c.src=t})},r.interpolate=Qi,r.interpolateArray=function(t,i){return(Fe(i)?pn:ci)(t,i)},r.interpolateBasis=_t,r.interpolateBasisClosed=It,r.interpolateBlues=iy,r.interpolateBrBG=R_,r.interpolateBuGn=X_,r.interpolateBuPu=q_,r.interpolateCividis=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},r.interpolateCool=hy,r.interpolateCubehelix=fo,r.interpolateCubehelixDefault=ly,r.interpolateCubehelixLong=Hi,r.interpolateDate=an,r.interpolateDiscrete=function(t){var i=t.length;return function(a){return t[Math.max(0,Math.min(i-1,Math.floor(a*i)))]}},r.interpolateGnBu=U_,r.interpolateGreens=ry,r.interpolateGreys=ay,r.interpolateHcl=rl,r.interpolateHclLong=oa,r.interpolateHsl=Ma,r.interpolateHslLong=il,r.interpolateHue=function(t,i){var a=Lt(+t,+i);return function(u){var c=a(u);return c-360*Math.floor(c/360)}},r.interpolateInferno=my,r.interpolateLab=function(t,i){var a=Jt((t=Rr(t)).l,(i=Rr(i)).l),u=Jt(t.a,i.a),c=Jt(t.b,i.b),d=Jt(t.opacity,i.opacity);return function(m){return t.l=a(m),t.a=u(m),t.b=c(m),t.opacity=d(m),t+""}},r.interpolateMagma=gy,r.interpolateNumber=on,r.interpolateNumberArray=pn,r.interpolateObject=zr,r.interpolateOrRd=K_,r.interpolateOranges=uy,r.interpolatePRGn=z_,r.interpolatePiYG=F_,r.interpolatePlasma=vy,r.interpolatePuBu=Q_,r.interpolatePuBuGn=$_,r.interpolatePuOr=H_,r.interpolatePuRd=Z_,r.interpolatePurples=oy,r.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var i=Math.abs(t-.5);return Fu.h=360*t-100,Fu.s=1.5-1.5*i,Fu.l=.8-.9*i,Fu+""},r.interpolateRdBu=G_,r.interpolateRdGy=B_,r.interpolateRdPu=J_,r.interpolateRdYlBu=j_,r.interpolateRdYlGn=W_,r.interpolateReds=sy,r.interpolateRgb=ie,r.interpolateRgbBasis=Bn,r.interpolateRgbBasisClosed=Ci,r.interpolateRound=di,r.interpolateSinebow=function(t){var i;return t=(.5-t)*Math.PI,Hu.r=255*(i=Math.sin(t))*i,Hu.g=255*(i=Math.sin(t+dy))*i,Hu.b=255*(i=Math.sin(t+fy))*i,Hu+""},r.interpolateSpectral=Y_,r.interpolateString=nr,r.interpolateTransformCss=jn,r.interpolateTransformSvg=bi,r.interpolateTurbo=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},r.interpolateViridis=py,r.interpolateWarm=cy,r.interpolateYlGn=ty,r.interpolateYlGnBu=V_,r.interpolateYlOrBr=ey,r.interpolateYlOrRd=ny,r.interpolateZoom=Ps,r.interrupt=xe,r.interval=function(t,i,a){var u=new jr,c=i;return null==i?(u.restart(t,i,a),u):(i=+i,a=null==a?Br():+a,u.restart(function d(m){m+=c,u.restart(d,c+=i,a),t(m)},i,a),u)},r.isoFormat=x_,r.isoParse=w_,r.json=function(t,i){return fetch(t,i).then(Rm)},r.keys=function(t){var i=[];for(var a in t)i.push(a);return i},r.lab=Rr,r.lch=function(t,i,a,u){return 1===arguments.length?co(t):new zi(a,i,t,null==u?1:u)},r.line=Kc,r.lineRadial=qp,r.linkHorizontal=function(){return Zc(Py)},r.linkRadial=function(){var t=Zc(Dy);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},r.linkVertical=function(){return Zc(My)},r.local=In,r.map=br,r.matcher=$t,r.max=gn,r.mean=function(t,i){var a,u=t.length,c=u,d=-1,m=0;if(null==i)for(;++d<u;)isNaN(a=We(t[d]))?--c:m+=a;else for(;++d<u;)isNaN(a=We(i(t[d],d,t)))?--c:m+=a;if(c)return m/c},r.median=function(t,i){var a,u=t.length,c=-1,d=[];if(null==i)for(;++c<u;)isNaN(a=We(t[c]))||d.push(a);else for(;++c<u;)isNaN(a=We(i(t[c],c,t)))||d.push(a);return Ue(d.sort(Ht),.5)},r.merge=ae,r.min=et,r.mouse=fn,r.namespace=yt,r.namespaces=Et,r.nest=function(){var t,i,a,u=[],c=[];function d(m,g,_,b){if(g>=u.length)return null!=t&&m.sort(t),null!=i?i(m):m;for(var S,P,T,I=-1,N=m.length,F=u[g++],B=br(),z=_();++I<N;)(T=B.get(S=F(P=m[I])+""))?T.push(P):B.set(S,[P]);return B.each(function(q,X){b(z,X,d(q,g,_,b))}),z}return a={object:function(m){return d(m,0,sm,um)},map:function(m){return d(m,0,Ch,Ah)},entries:function(m){return function g(_,b){if(++b>u.length)return _;var S,P=c[b-1];return null!=i&&b>=u.length?S=_.entries():(S=[],_.each(function(T,I){S.push({key:I,values:g(T,b)})})),null!=P?S.sort(function(T,I){return P(T.key,I.key)}):S}(d(m,0,Ch,Ah),0)},key:function(m){return u.push(m),a},sortKeys:function(m){return c[u.length-1]=m,a},sortValues:function(m){return t=m,a},rollup:function(m){return i=m,a}}},r.now=Br,r.pack=function(){var t=null,i=1,a=1,u=ga;function c(d){return d.x=i/2,d.y=a/2,t?d.eachBefore(_f(t)).eachAfter(yc(u,.5)).eachBefore(yf(1)):d.eachBefore(_f(O0)).eachAfter(yc(ga,1)).eachAfter(yc(u,d.r/Math.min(i,a))).eachBefore(yf(Math.min(i,a)/(2*d.r))),d}return c.radius=function(d){return arguments.length?(t=N0(d),c):t},c.size=function(d){return arguments.length?(i=+d[0],a=+d[1],c):[i,a]},c.padding=function(d){return arguments.length?(u="function"==typeof d?d:Ua(+d),c):u},c},r.packEnclose=hf,r.packSiblings=function(t){return vf(t),t},r.pairs=function(t,i){null==i&&(i=je);for(var a=0,u=t.length-1,c=t[0],d=new Array(u<0?0:u);a<u;)d[a]=i(c,c=t[++a]);return d},r.partition=function(){var t=1,i=1,a=0,u=!1;function c(d){var g,_,m=d.height+1;return d.x0=d.y0=a,d.x1=t,d.y1=i/m,d.eachBefore((g=i,_=m,function(b){b.children&&jo(b,b.x0,g*(b.depth+1)/_,b.x1,g*(b.depth+2)/_);var S=b.x0,P=b.y0,T=b.x1-a,I=b.y1-a;T<S&&(S=T=(S+T)/2),I<P&&(P=I=(P+I)/2),b.x0=S,b.y0=P,b.x1=T,b.y1=I})),u&&d.eachBefore(bf),d}return c.round=function(d){return arguments.length?(u=!!d,c):u},c.size=function(d){return arguments.length?(t=+d[0],i=+d[1],c):[t,i]},c.padding=function(d){return arguments.length?(a=+d,c):a},c},r.path=Yr,r.permute=function(t,i){for(var a=i.length,u=new Array(a);a--;)u[a]=t[i[a]];return u},r.pie=function(){var t=Cy,i=Ty,a=null,u=Je(0),c=Je(Zr),d=Je(0);function m(g){var _,b,S,P,T,I=g.length,N=0,F=new Array(I),B=new Array(I),z=+u.apply(this,arguments),q=Math.min(Zr,Math.max(-Zr,c.apply(this,arguments)-z)),X=Math.min(Math.abs(q)/I,d.apply(this,arguments)),Q=X*(q<0?-1:1);for(_=0;_<I;++_)(T=B[F[_]=_]=+t(g[_],_,g))>0&&(N+=T);for(null!=i?F.sort(function(ot,ft){return i(B[ot],B[ft])}):null!=a&&F.sort(function(ot,ft){return a(g[ot],g[ft])}),_=0,S=N?(q-I*Q)/N:0;_<I;++_,z=P)P=z+((T=B[b=F[_]])>0?T*S:0)+Q,B[b]={data:g[b],index:_,value:T,startAngle:z,endAngle:P,padAngle:X};return B}return m.value=function(g){return arguments.length?(t="function"==typeof g?g:Je(+g),m):t},m.sortValues=function(g){return arguments.length?(i=g,a=null,m):i},m.sort=function(g){return arguments.length?(a=g,i=null,m):a},m.startAngle=function(g){return arguments.length?(u="function"==typeof g?g:Je(+g),m):u},m.endAngle=function(g){return arguments.length?(c="function"==typeof g?g:Je(+g),m):c},m.padAngle=function(g){return arguments.length?(d="function"==typeof g?g:Je(+g),m):d},m},r.piecewise=function(t,i){for(var a=0,u=i.length-1,c=i[0],d=new Array(u<0?0:u);a<u;)d[a]=t(c,c=i[++a]);return function(m){var g=Math.max(0,Math.min(u-1,Math.floor(m*=u)));return d[g](m-g)}},r.pointRadial=ss,r.polygonArea=function(t){for(var i,a=-1,u=t.length,c=t[u-1],d=0;++a<u;)d+=(i=c)[1]*(c=t[a])[0]-i[0]*c[1];return d/2},r.polygonCentroid=function(t){for(var i,a,u=-1,c=t.length,d=0,m=0,g=t[c-1],_=0;++u<c;)_+=a=(i=g)[0]*(g=t[u])[1]-g[0]*i[1],d+=(i[0]+g[0])*a,m+=(i[1]+g[1])*a;return[d/(_*=3),m/_]},r.polygonContains=function(t,i){for(var a,u,c=t.length,d=t[c-1],m=i[0],g=i[1],_=d[0],b=d[1],S=!1,P=0;P<c;++P)a=(d=t[P])[0],(u=d[1])>g!=b>g&&m<(_-a)*(g-u)/(b-u)+a&&(S=!S),_=a,b=u;return S},r.polygonHull=function(t){if((a=t.length)<3)return null;var i,a,u=new Array(a),c=new Array(a);for(i=0;i<a;++i)u[i]=[+t[i][0],+t[i][1],i];for(u.sort(Y0),i=0;i<a;++i)c[i]=[u[i][0],-u[i][1]];var d=Af(u),m=Af(c),g=m[0]===d[0],_=m[m.length-1]===d[d.length-1],b=[];for(i=d.length-1;i>=0;--i)b.push(t[u[d[i]][2]]);for(i=+g;i<m.length-_;++i)b.push(t[u[m[i]][2]]);return b},r.polygonLength=function(t){for(var i,a,u=-1,c=t.length,d=t[c-1],m=d[0],g=d[1],_=0;++u<c;)i=m,a=g,i-=m=(d=t[u])[0],a-=g=d[1],_+=Math.sqrt(i*i+a*a);return _},r.precisionFixed=Uh,r.precisionPrefix=Kh,r.precisionRound=$h,r.quadtree=Bs,r.quantile=Ue,r.quantize=function(t,i){for(var a=new Array(i),u=0;u<i;++u)a[u]=t(u/(i-1));return a},r.radialArea=Up,r.radialLine=qp,r.randomBates=U0,r.randomExponential=K0,r.randomIrwinHall=Pf,r.randomLogNormal=q0,r.randomNormal=kf,r.randomUniform=X0,r.range=Vt,r.rgb=Ir,r.ribbon=function(){var t=nm,i=im,a=rm,u=am,c=om,d=null;function m(){var g,_=tm.call(arguments),b=t.apply(this,_),S=i.apply(this,_),P=+a.apply(this,(_[0]=b,_)),T=u.apply(this,_)-Rs,I=c.apply(this,_)-Rs,N=P*bh(T),F=P*xh(T),B=+a.apply(this,(_[0]=S,_)),z=u.apply(this,_)-Rs,q=c.apply(this,_)-Rs;if(d||(d=g=Yr()),d.moveTo(N,F),d.arc(0,0,P,T,I),T===z&&I===q||(d.quadraticCurveTo(0,0,B*bh(z),B*xh(z)),d.arc(0,0,B,z,q)),d.quadraticCurveTo(0,0,N,F),d.closePath(),g)return d=null,g+""||null}return m.radius=function(g){return arguments.length?(a="function"==typeof g?g:pl(+g),m):a},m.startAngle=function(g){return arguments.length?(u="function"==typeof g?g:pl(+g),m):u},m.endAngle=function(g){return arguments.length?(c="function"==typeof g?g:pl(+g),m):c},m.source=function(g){return arguments.length?(t=g,m):t},m.target=function(g){return arguments.length?(i=g,m):i},m.context=function(g){return arguments.length?(d=null==g?null:g,m):d},m},r.scaleBand=Tc,r.scaleDiverging=function t(){var i=va(zu()(gi));return i.copy=function(){return $r(i,t())},Cr.apply(i,arguments)},r.scaleDivergingLog=function t(){var i=kc(zu()).domain([.1,1,10]);return i.copy=function(){return $r(i,t()).base(i.base())},Cr.apply(i,arguments)},r.scaleDivergingPow=Yc,r.scaleDivergingSqrt=function(){return Yc.apply(null,arguments).exponent(.5)},r.scaleDivergingSymlog=function t(){var i=Pc(zu());return i.copy=function(){return $r(i,t()).constant(i.constant())},Cr.apply(i,arguments)},r.scaleIdentity=function t(i){var a;function u(c){return isNaN(c=+c)?a:c}return u.invert=u,u.domain=u.range=function(c){return arguments.length?(i=Nu.call(c,Cc),u):i.slice()},u.unknown=function(c){return arguments.length?(a=c,u):a},u.copy=function(){return t(i).unknown(a)},i=arguments.length?Nu.call(i,Cc):[0,1],va(u)},r.scaleImplicit=wc,r.scaleLinear=function t(){var i=Lf(gi,gi);return i.copy=function(){return Wo(i,t())},ar.apply(i,arguments),va(i)},r.scaleLog=function t(){var i=kc(Ou()).domain([1,10]);return i.copy=function(){return Wo(i,t()).base(i.base())},ar.apply(i,arguments),i},r.scaleOrdinal=Sc,r.scalePoint=function(){return function t(i){var a=i.copy;return i.padding=i.paddingOuter,delete i.paddingInner,delete i.paddingOuter,i.copy=function(){return t(a())},i}(Tc.apply(null,arguments).paddingInner(1))},r.scalePow=Dc,r.scaleQuantile=function t(){var i,a=[],u=[],c=[];function d(){var g=0,_=Math.max(1,u.length);for(c=new Array(_-1);++g<_;)c[g-1]=Ue(a,g/_);return m}function m(g){return isNaN(g=+g)?i:u[pe(c,g)]}return m.invertExtent=function(g){var _=u.indexOf(g);return _<0?[NaN,NaN]:[_>0?c[_-1]:a[0],_<c.length?c[_]:a[a.length-1]]},m.domain=function(g){if(!arguments.length)return a.slice();a=[];for(var _,b=0,S=g.length;b<S;++b)null==(_=g[b])||isNaN(_=+_)||a.push(_);return a.sort(Ht),d()},m.range=function(g){return arguments.length?(u=ma.call(g),d()):u.slice()},m.unknown=function(g){return arguments.length?(i=g,m):i},m.quantiles=function(){return c.slice()},m.copy=function(){return t().domain(a).range(u).unknown(i)},ar.apply(m,arguments)},r.scaleQuantize=function t(){var i,a=0,u=1,c=1,d=[.5],m=[0,1];function g(b){return b<=b?m[pe(d,b,0,c)]:i}function _(){var b=-1;for(d=new Array(c);++b<c;)d[b]=((b+1)*u-(b-c)*a)/(c+1);return g}return g.domain=function(b){return arguments.length?(a=+b[0],u=+b[1],_()):[a,u]},g.range=function(b){return arguments.length?(c=(m=ma.call(b)).length-1,_()):m.slice()},g.invertExtent=function(b){var S=m.indexOf(b);return S<0?[NaN,NaN]:S<1?[a,d[0]]:S>=c?[d[c-1],u]:[d[S-1],d[S]]},g.unknown=function(b){return arguments.length&&(i=b),g},g.thresholds=function(){return d.slice()},g.copy=function(){return t().domain([a,u]).range(m).unknown(i)},ar.apply(va(g),arguments)},r.scaleSequential=function t(){var i=va(Ru()(gi));return i.copy=function(){return $r(i,t())},Cr.apply(i,arguments)},r.scaleSequentialLog=function t(){var i=kc(Ru()).domain([1,10]);return i.copy=function(){return $r(i,t()).base(i.base())},Cr.apply(i,arguments)},r.scaleSequentialPow=Wc,r.scaleSequentialQuantile=function t(){var i=[],a=gi;function u(c){if(!isNaN(c=+c))return a((pe(i,c)-1)/(i.length-1))}return u.domain=function(c){if(!arguments.length)return i.slice();i=[];for(var d,m=0,g=c.length;m<g;++m)null==(d=c[m])||isNaN(d=+d)||i.push(d);return i.sort(Ht),u},u.interpolator=function(c){return arguments.length?(a=c,u):a},u.copy=function(){return t(a).domain(i)},Cr.apply(u,arguments)},r.scaleSequentialSqrt=function(){return Wc.apply(null,arguments).exponent(.5)},r.scaleSequentialSymlog=function t(){var i=Pc(Ru());return i.copy=function(){return $r(i,t()).constant(i.constant())},Cr.apply(i,arguments)},r.scaleSqrt=function(){return Dc.apply(null,arguments).exponent(.5)},r.scaleSymlog=function t(){var i=Pc(Ou());return i.copy=function(){return Wo(i,t()).constant(i.constant())},ar.apply(i,arguments)},r.scaleThreshold=function t(){var i,a=[.5],u=[0,1],c=1;function d(m){return m<=m?u[pe(a,m,0,c)]:i}return d.domain=function(m){return arguments.length?(a=ma.call(m),c=Math.min(a.length,u.length-1),d):a.slice()},d.range=function(m){return arguments.length?(u=ma.call(m),c=Math.min(a.length,u.length-1),d):u.slice()},d.invertExtent=function(m){var g=u.indexOf(m);return[a[g-1],a[g]]},d.unknown=function(m){return arguments.length?(i=m,d):i},d.copy=function(){return t().domain(a).range(u).unknown(i)},ar.apply(d,arguments)},r.scaleTime=function(){return ar.apply(jc(Ar,Oc,qo,Xo,Nc,Ic,Yo,_a,r.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},r.scaleUtc=function(){return ar.apply(jc(kr,Fc,Qo,$o,zc,Rc,Yo,_a,r.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},r.scan=function(t,i){if(a=t.length){var a,u,c=0,d=0,m=t[d];for(null==i&&(i=Ht);++c<a;)(i(u=t[c],m)<0||0!==i(m,m))&&(m=u,d=c);return 0===i(m,m)?d:void 0}},r.schemeAccent=k_,r.schemeBlues=Np,r.schemeBrBG=fp,r.schemeBuGn=wp,r.schemeBuPu=Sp,r.schemeCategory10=A_,r.schemeDark2=P_,r.schemeGnBu=Tp,r.schemeGreens=Op,r.schemeGreys=Rp,r.schemeOrRd=Cp,r.schemeOranges=Hp,r.schemePRGn=pp,r.schemePaired=M_,r.schemePastel1=D_,r.schemePastel2=E_,r.schemePiYG=gp,r.schemePuBu=kp,r.schemePuBuGn=Ap,r.schemePuOr=mp,r.schemePuRd=Pp,r.schemePurples=zp,r.schemeRdBu=vp,r.schemeRdGy=_p,r.schemeRdPu=Mp,r.schemeRdYlBu=yp,r.schemeRdYlGn=bp,r.schemeReds=Fp,r.schemeSet1=L_,r.schemeSet2=I_,r.schemeSet3=N_,r.schemeSpectral=xp,r.schemeTableau10=O_,r.schemeYlGn=Ep,r.schemeYlGnBu=Dp,r.schemeYlOrBr=Lp,r.schemeYlOrRd=Ip,r.select=ge,r.selectAll=function(t){return"string"==typeof t?new He([document.querySelectorAll(t)],[document.documentElement]):new He([null==t?[]:t],yn)},r.selection=de,r.selector=Kt,r.selectorAll=se,r.set=kh,r.shuffle=function(t,i,a){for(var u,c,d=(null==a?t.length:a)-(i=null==i?0:+i);d;)c=Math.random()*d--|0,u=t[d+i],t[d+i]=t[c+i],t[c+i]=u;return t},r.stack=function(){var t=Je([]),i=Ja,a=Za,u=Wy;function c(d){var m,g,_=t.apply(this,arguments),b=d.length,S=_.length,P=new Array(S);for(m=0;m<S;++m){for(var T,I=_[m],N=P[m]=new Array(b),F=0;F<b;++F)N[F]=T=[0,+u(d[F],I,F,d)],T.data=d[F];N.key=I}for(m=0,g=i(P);m<S;++m)P[g[m]].index=m;return a(P,g),P}return c.keys=function(d){return arguments.length?(t="function"==typeof d?d:Je(Qc.call(d)),c):t},c.value=function(d){return arguments.length?(u="function"==typeof d?d:Je(+d),c):u},c.order=function(d){return arguments.length?(i=null==d?Ja:"function"==typeof d?d:Je(Qc.call(d)),c):i},c.offset=function(d){return arguments.length?(a=null==d?Za:d,c):a},c},r.stackOffsetDiverging=function(t,i){if((g=t.length)>0)for(var a,u,c,d,m,g,_=0,b=t[i[0]].length;_<b;++_)for(d=m=0,a=0;a<g;++a)(c=(u=t[i[a]][_])[1]-u[0])>0?(u[0]=d,u[1]=d+=c):c<0?(u[1]=m,u[0]=m+=c):(u[0]=0,u[1]=c)},r.stackOffsetExpand=function(t,i){if((u=t.length)>0){for(var a,u,c,d=0,m=t[0].length;d<m;++d){for(c=a=0;a<u;++a)c+=t[a][d][1]||0;if(c)for(a=0;a<u;++a)t[a][d][1]/=c}Za(t,i)}},r.stackOffsetNone=Za,r.stackOffsetSilhouette=function(t,i){if((a=t.length)>0){for(var a,u=0,c=t[i[0]],d=c.length;u<d;++u){for(var m=0,g=0;m<a;++m)g+=t[m][u][1]||0;c[u][1]+=c[u][0]=-g/2}Za(t,i)}},r.stackOffsetWiggle=function(t,i){if((c=t.length)>0&&(u=(a=t[i[0]]).length)>0){for(var a,u,c,d=0,m=1;m<u;++m){for(var g=0,_=0,b=0;g<c;++g){for(var S=t[i[g]],P=S[m][1]||0,T=(P-(S[m-1][1]||0))/2,I=0;I<g;++I){var N=t[i[I]];T+=(N[m][1]||0)-(N[m-1][1]||0)}_+=P,b+=T*P}a[m-1][1]+=a[m-1][0]=d,_&&(d-=b/_)}a[m-1][1]+=a[m-1][0]=d,Za(t,i)}},r.stackOrderAppearance=mg,r.stackOrderAscending=vg,r.stackOrderDescending=function(t){return vg(t).reverse()},r.stackOrderInsideOut=function(t){var i,a,u=t.length,c=t.map(_g),d=mg(t),m=0,g=0,_=[],b=[];for(i=0;i<u;++i)a=d[i],m<g?(m+=c[a],_.push(a)):(g+=c[a],b.push(a));return b.reverse().concat(_)},r.stackOrderNone=Ja,r.stackOrderReverse=function(t){return Ja(t).reverse()},r.stratify=function(){var t=z0,i=F0;function a(u){var c,d,m,g,_,b,S,P=u.length,T=new Array(P),I={};for(d=0;d<P;++d)_=T[d]=new qa(c=u[d]),null!=(b=t(c,d,u))&&(b+="")&&(I[S="$"+(_.id=b)]=S in I?wf:_);for(d=0;d<P;++d)if(_=T[d],null!=(b=i(u[d],d,u))&&(b+="")){if(!(g=I["$"+b]))throw new Error("missing: "+b);if(g===wf)throw new Error("ambiguous: "+b);g.children?g.children.push(_):g.children=[_],_.parent=g}else{if(m)throw new Error("multiple roots");m=_}if(!m)throw new Error("no root");if(m.parent=R0,m.eachBefore(function(N){N.depth=N.parent.depth+1,--P}).eachBefore(cf),m.parent=null,P>0)throw new Error("cycle");return m}return a.id=function(u){return arguments.length?(t=Eu(u),a):t},a.parentId=function(u){return arguments.length?(i=Eu(u),a):i},a},r.style=Ee,r.sum=function(t,i){var a,u=t.length,c=-1,d=0;if(null==i)for(;++c<u;)(a=+t[c])&&(d+=a);else for(;++c<u;)(a=+i(t[c],c,t))&&(d+=a);return d},r.svg=Hm,r.symbol=function(){var t=Je(Jc),i=Je(64),a=null;function u(){var c;if(a||(a=c=Yr()),t.apply(this,arguments).draw(a,+i.apply(this,arguments)),c)return a=null,c+""||null}return u.type=function(c){return arguments.length?(t="function"==typeof c?c:Je(c),u):t},u.size=function(c){return arguments.length?(i="function"==typeof c?c:Je(+c),u):i},u.context=function(c){return arguments.length?(a=null==c?null:c,u):a},u},r.symbolCircle=Jc,r.symbolCross=Kp,r.symbolDiamond=Qp,r.symbolSquare=Vp,r.symbolStar=Jp,r.symbolTriangle=tg,r.symbolWye=eg,r.symbols=Oy,r.text=Gs,r.thresholdFreedmanDiaconis=function(t,i,a){return t=ue.call(t,We).sort(Ht),Math.ceil((a-i)/(2*(Ue(t,.75)-Ue(t,.25))*Math.pow(t.length,-1/3)))},r.thresholdScott=function(t,i,a){return Math.ceil((a-i)/(3.5*sn(t)*Math.pow(t.length,-1/3)))},r.thresholdSturges=ve,r.tickFormat=If,r.tickIncrement=L,r.tickStep=re,r.ticks=$,r.timeDay=Xo,r.timeDays=rv,r.timeFormatDefaultLocale=hp,r.timeFormatLocale=tp,r.timeFriday=qf,r.timeFridays=lv,r.timeHour=Nc,r.timeHours=iv,r.timeInterval=ai,r.timeMillisecond=_a,r.timeMilliseconds=Bf,r.timeMinute=Ic,r.timeMinutes=nv,r.timeMonday=Uo,r.timeMondays=av,r.timeMonth=Oc,r.timeMonths=hv,r.timeSaturday=Uf,r.timeSaturdays=cv,r.timeSecond=Yo,r.timeSeconds=Wf,r.timeSunday=qo,r.timeSundays=Kf,r.timeThursday=Ko,r.timeThursdays=uv,r.timeTuesday=Yf,r.timeTuesdays=ov,r.timeWednesday=Xf,r.timeWednesdays=sv,r.timeWeek=qo,r.timeWeeks=Kf,r.timeYear=Ar,r.timeYears=dv,r.timeout=ua,r.timer=Ji,r.timerFlush=Da,r.touch=Ke,r.touches=function(t,i){null==i&&(i=Ye().touches);for(var a=0,u=i?i.length:0,c=new Array(u);a<u;++a)c[a]=Ae(t,i[a]);return c},r.transition=ui,r.transpose=nt,r.tree=function(){var t=H0,i=1,a=1,u=null;function c(_){var b=function(z){for(var q,X,Q,ot,ft,bt=new Lu(z,0),Ot=[bt];q=Ot.pop();)if(Q=q._.children)for(q.children=new Array(ft=Q.length),ot=ft-1;ot>=0;--ot)Ot.push(X=q.children[ot]=new Lu(Q[ot],ot)),X.parent=q;return(bt.parent=new Lu(null,0)).children=[bt],bt}(_);if(b.eachAfter(d),b.parent.m=-b.z,b.eachBefore(m),u)_.eachBefore(g);else{var S=_,P=_,T=_;_.eachBefore(function(z){z.x<S.x&&(S=z),z.x>P.x&&(P=z),z.depth>T.depth&&(T=z)});var I=S===P?1:t(S,P)/2,N=I-S.x,F=i/(P.x+I+N),B=a/(T.depth||1);_.eachBefore(function(z){z.x=(z.x+N)*F,z.y=z.depth*B})}return _}function d(_){var b=_.children,S=_.parent.children,P=_.i?S[_.i-1]:null;if(b){!function(I){for(var N,F=0,B=0,z=I.children,q=z.length;--q>=0;)(N=z[q]).z+=F,N.m+=F,F+=N.s+(B+=N.c)}(_);var T=(b[0].z+b[b.length-1].z)/2;P?(_.z=P.z+t(_._,P._),_.m=_.z-T):_.z=T}else P&&(_.z=P.z+t(_._,P._));_.parent.A=function(I,N,F){if(N){for(var B,z=I,q=I,X=N,Q=z.parent.children[0],ot=z.m,ft=q.m,bt=X.m,Ot=Q.m;X=xc(X),z=bc(z),X&&z;)Q=bc(Q),(q=xc(q)).a=I,(B=X.z+bt-z.z-ot+t(X._,z._))>0&&(G0(B0(X,I,F),I,B),ot+=B,ft+=B),bt+=X.m,ot+=z.m,Ot+=Q.m,ft+=q.m;X&&!xc(q)&&(q.t=X,q.m+=bt-ft),z&&!bc(Q)&&(Q.t=z,Q.m+=ot-Ot,F=I)}return F}(_,P,_.parent.A||S[0])}function m(_){_._.x=_.z+_.parent.m,_.m+=_.parent.m}function g(_){_.x*=i,_.y=_.depth*a}return c.separation=function(_){return arguments.length?(t=_,c):t},c.size=function(_){return arguments.length?(u=!1,i=+_[0],a=+_[1],c):u?null:[i,a]},c.nodeSize=function(_){return arguments.length?(u=!0,i=+_[0],a=+_[1],c):u?[i,a]:null},c},r.treemap=function(){var t=Cf,i=!1,a=1,u=1,c=[0],d=ga,m=ga,g=ga,_=ga,b=ga;function S(T){return T.x0=T.y0=0,T.x1=a,T.y1=u,T.eachBefore(P),c=[0],i&&T.eachBefore(bf),T}function P(T){var I=c[T.depth],N=T.x0+I,F=T.y0+I,B=T.x1-I,z=T.y1-I;B<N&&(N=B=(N+B)/2),z<F&&(F=z=(F+z)/2),T.x0=N,T.y0=F,T.x1=B,T.y1=z,T.children&&(I=c[T.depth+1]=d(T)/2,N+=b(T)-I,F+=m(T)-I,(B-=g(T)-I)<N&&(N=B=(N+B)/2),(z-=_(T)-I)<F&&(F=z=(F+z)/2),t(T,N,F,B,z))}return S.round=function(T){return arguments.length?(i=!!T,S):i},S.size=function(T){return arguments.length?(a=+T[0],u=+T[1],S):[a,u]},S.tile=function(T){return arguments.length?(t=Eu(T),S):t},S.padding=function(T){return arguments.length?S.paddingInner(T).paddingOuter(T):S.paddingInner()},S.paddingInner=function(T){return arguments.length?(d="function"==typeof T?T:Ua(+T),S):d},S.paddingOuter=function(T){return arguments.length?S.paddingTop(T).paddingRight(T).paddingBottom(T).paddingLeft(T):S.paddingTop()},S.paddingTop=function(T){return arguments.length?(m="function"==typeof T?T:Ua(+T),S):m},S.paddingRight=function(T){return arguments.length?(g="function"==typeof T?T:Ua(+T),S):g},S.paddingBottom=function(T){return arguments.length?(_="function"==typeof T?T:Ua(+T),S):_},S.paddingLeft=function(T){return arguments.length?(b="function"==typeof T?T:Ua(+T),S):b},S},r.treemapBinary=function(t,i,a,u,c){var d,m,g=t.children,_=g.length,b=new Array(_+1);for(b[0]=m=d=0;d<_;++d)b[d+1]=m+=g[d].value;!function S(P,T,I,N,F,B,z){if(P>=T-1){var q=g[P];return q.x0=N,q.y0=F,q.x1=B,void(q.y1=z)}for(var X=b[P],Q=I/2+X,ot=P+1,ft=T-1;ot<ft;){var bt=ot+ft>>>1;b[bt]<Q?ot=bt+1:ft=bt}Q-b[ot-1]<b[ot]-Q&&P+1<ot&&--ot;var Ot=b[ot]-X,lt=I-Ot;if(B-N>z-F){var kt=(N*lt+B*Ot)/I;S(P,ot,Ot,N,F,kt,z),S(ot,T,lt,kt,F,B,z)}else{var xt=(F*lt+z*Ot)/I;S(P,ot,Ot,N,F,B,xt),S(ot,T,lt,N,xt,B,z)}}(0,_,t.value,i,a,u,c)},r.treemapDice=jo,r.treemapResquarify=j0,r.treemapSlice=Iu,r.treemapSliceDice=function(t,i,a,u,c){(1&t.depth?Iu:jo)(t,i,a,u,c)},r.treemapSquarify=Cf,r.tsv=Om,r.tsvFormat=Cm,r.tsvFormatBody=Am,r.tsvFormatRow=Pm,r.tsvFormatRows=km,r.tsvFormatValue=Mm,r.tsvParse=Nh,r.tsvParseRows=Tm,r.utcDay=$o,r.utcDays=gv,r.utcFriday=Zf,r.utcFridays=bv,r.utcHour=zc,r.utcHours=pv,r.utcMillisecond=_a,r.utcMilliseconds=Bf,r.utcMinute=Rc,r.utcMinutes=fv,r.utcMonday=Zo,r.utcMondays=mv,r.utcMonth=Fc,r.utcMonths=wv,r.utcSaturday=Jf,r.utcSaturdays=xv,r.utcSecond=Yo,r.utcSeconds=Wf,r.utcSunday=Qo,r.utcSundays=Vf,r.utcThursday=Jo,r.utcThursdays=yv,r.utcTuesday=$f,r.utcTuesdays=vv,r.utcWednesday=Qf,r.utcWednesdays=_v,r.utcWeek=Qo,r.utcWeeks=Vf,r.utcYear=kr,r.utcYears=Sv,r.values=function(t){var i=[];for(var a in t)i.push(t[a]);return i},r.variance=Re,r.version="5.16.0",r.voronoi=function(){var t=Xy,i=qy,a=null;function u(c){return new uh(c.map(function(d,m){var g=[Math.round(t(d,m,c)/An)*An,Math.round(i(d,m,c)/An)*An];return g.index=m,g.data=d,g}),a)}return u.polygons=function(c){return u(c).polygons()},u.links=function(c){return u(c).links()},u.triangles=function(c){return u(c).triangles()},u.x=function(c){return arguments.length?(t="function"==typeof c?c:yg(+c),u):t},u.y=function(c){return arguments.length?(i="function"==typeof c?c:yg(+c),u):i},u.extent=function(c){return arguments.length?(a=null==c?null:[[+c[0][0],+c[0][1]],[+c[1][0],+c[1][1]]],u):a&&[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},u.size=function(c){return arguments.length?(a=null==c?null:[[0,0],[+c[0],+c[1]]],u):a&&[a[1][0]-a[0][0],a[1][1]-a[0][1]]},u},r.window=De,r.xml=zm,r.zip=function(){return nt(arguments)},r.zoom=function(){var t,i,a=o1,u=s1,c=c1,d=u1,m=l1,g=[0,1/0],_=[[-1/0,-1/0],[1/0,1/0]],b=250,S=Ps,P=J("start","zoom","end"),T=500,N=0;function F(U){U.property("__zoom",kg).on("wheel.zoom",ft).on("mousedown.zoom",bt).on("dblclick.zoom",Ot).filter(m).on("touchstart.zoom",lt).on("touchmove.zoom",kt).on("touchend.zoom touchcancel.zoom",xt).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function B(U,vt){return(vt=Math.max(g[0],Math.min(g[1],vt)))===U.k?U:new Pr(vt,U.x,U.y)}function z(U,vt,pt){var Tt=vt[0]-pt[0]*U.k,Nt=vt[1]-pt[1]*U.k;return Tt===U.x&&Nt===U.y?U:new Pr(U.k,Tt,Nt)}function q(U){return[(+U[0][0]+ +U[1][0])/2,(+U[0][1]+ +U[1][1])/2]}function X(U,vt,pt){U.on("start.zoom",function(){Q(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){Q(this,arguments).end()}).tween("zoom",function(){var Tt=this,Nt=arguments,Qt=Q(Tt,Nt),Te=u.apply(Tt,Nt),Ce=null==pt?q(Te):"function"==typeof pt?pt.apply(Tt,Nt):pt,Xe=Math.max(Te[1][0]-Te[0][0],Te[1][1]-Te[0][1]),te=Tt.__zoom,Ve="function"==typeof vt?vt.apply(Tt,Nt):vt,en=S(te.invert(Ce).concat(Xe/te.k),Ve.invert(Ce).concat(Xe/Ve.k));return function(fe){if(1===fe)fe=Ve;else{var Oe=en(fe),Hn=Xe/Oe[2];fe=new Pr(Hn,Ce[0]-Oe[0]*Hn,Ce[1]-Oe[1]*Hn)}Qt.zoom(null,fe)}})}function Q(U,vt,pt){return!pt&&U.__zooming||new ot(U,vt)}function ot(U,vt){this.that=U,this.args=vt,this.active=0,this.extent=u.apply(U,vt),this.taps=0}function ft(){if(a.apply(this,arguments)){var U=Q(this,arguments),vt=this.__zoom,pt=Math.max(g[0],Math.min(g[1],vt.k*Math.pow(2,d.apply(this,arguments)))),Tt=fn(this);if(U.wheel)U.mouse[0][0]===Tt[0]&&U.mouse[0][1]===Tt[1]||(U.mouse[1]=vt.invert(U.mouse[0]=Tt)),clearTimeout(U.wheel);else{if(vt.k===pt)return;U.mouse=[Tt,vt.invert(Tt)],xe(this),U.start()}fs(),U.wheel=setTimeout(function(){U.wheel=null,U.end()},150),U.zoom("mouse",c(z(B(vt,pt),U.mouse[0],U.mouse[1]),U.extent,_))}}function bt(){if(!i&&a.apply(this,arguments)){var U=Q(this,arguments,!0),vt=ge(r.event.view).on("mousemove.zoom",function(){if(fs(),!U.moved){var Qt=r.event.clientX-Tt,Te=r.event.clientY-Nt;U.moved=Qt*Qt+Te*Te>N}U.zoom("mouse",c(z(U.that.__zoom,U.mouse[0]=fn(U.that),U.mouse[1]),U.extent,_))},!0).on("mouseup.zoom",function(){vt.on("mousemove.zoom mouseup.zoom",null),un(r.event.view,U.moved),fs(),U.end()},!0),pt=fn(this),Tt=r.event.clientX,Nt=r.event.clientY;Xn(r.event.view),lh(),U.mouse=[pt,this.__zoom.invert(pt)],xe(this),U.start()}}function Ot(){if(a.apply(this,arguments)){var U=this.__zoom,vt=fn(this),pt=U.invert(vt),Tt=U.k*(r.event.shiftKey?.5:2),Nt=c(z(B(U,Tt),vt,pt),u.apply(this,arguments),_);fs(),b>0?ge(this).transition().duration(b).call(X,Nt,vt):ge(this).call(F.transform,Nt)}}function lt(){if(a.apply(this,arguments)){var U,vt,pt,Tt,Nt=r.event.touches,Qt=Nt.length,Te=Q(this,arguments,r.event.changedTouches.length===Qt);for(lh(),vt=0;vt<Qt;++vt)Tt=[Tt=Ke(this,Nt,(pt=Nt[vt]).identifier),this.__zoom.invert(Tt),pt.identifier],Te.touch0?Te.touch1||Te.touch0[2]===Tt[2]||(Te.touch1=Tt,Te.taps=0):(Te.touch0=Tt,U=!0,Te.taps=1+!!t);t&&(t=clearTimeout(t)),U&&(Te.taps<2&&(t=setTimeout(function(){t=null},T)),xe(this),Te.start())}}function kt(){if(this.__zooming){var U,vt,pt,Tt,Nt=Q(this,arguments),Qt=r.event.changedTouches,Te=Qt.length;for(fs(),t&&(t=clearTimeout(t)),Nt.taps=0,U=0;U<Te;++U)pt=Ke(this,Qt,(vt=Qt[U]).identifier),Nt.touch0&&Nt.touch0[2]===vt.identifier?Nt.touch0[0]=pt:Nt.touch1&&Nt.touch1[2]===vt.identifier&&(Nt.touch1[0]=pt);if(vt=Nt.that.__zoom,Nt.touch1){var Ce=Nt.touch0[0],Xe=Nt.touch0[1],te=Nt.touch1[0],Ve=Nt.touch1[1],en=(en=te[0]-Ce[0])*en+(en=te[1]-Ce[1])*en,fe=(fe=Ve[0]-Xe[0])*fe+(fe=Ve[1]-Xe[1])*fe;vt=B(vt,Math.sqrt(en/fe)),pt=[(Ce[0]+te[0])/2,(Ce[1]+te[1])/2],Tt=[(Xe[0]+Ve[0])/2,(Xe[1]+Ve[1])/2]}else{if(!Nt.touch0)return;pt=Nt.touch0[0],Tt=Nt.touch0[1]}Nt.zoom("touch",c(z(vt,pt,Tt),Nt.extent,_))}}function xt(){if(this.__zooming){var U,vt,pt=Q(this,arguments),Tt=r.event.changedTouches,Nt=Tt.length;for(lh(),i&&clearTimeout(i),i=setTimeout(function(){i=null},T),U=0;U<Nt;++U)vt=Tt[U],pt.touch0&&pt.touch0[2]===vt.identifier?delete pt.touch0:pt.touch1&&pt.touch1[2]===vt.identifier&&delete pt.touch1;if(pt.touch1&&!pt.touch0&&(pt.touch0=pt.touch1,delete pt.touch1),pt.touch0)pt.touch0[1]=this.__zoom.invert(pt.touch0[0]);else if(pt.end(),2===pt.taps){var Qt=ge(this).on("dblclick.zoom");Qt&&Qt.apply(this,arguments)}}}return F.transform=function(U,vt,pt){var Tt=U.selection?U.selection():U;Tt.property("__zoom",kg),U!==Tt?X(U,vt,pt):Tt.interrupt().each(function(){Q(this,arguments).start().zoom(null,"function"==typeof vt?vt.apply(this,arguments):vt).end()})},F.scaleBy=function(U,vt,pt){F.scaleTo(U,function(){var Tt=this.__zoom.k,Nt="function"==typeof vt?vt.apply(this,arguments):vt;return Tt*Nt},pt)},F.scaleTo=function(U,vt,pt){F.transform(U,function(){var Tt=u.apply(this,arguments),Nt=this.__zoom,Qt=null==pt?q(Tt):"function"==typeof pt?pt.apply(this,arguments):pt,Te=Nt.invert(Qt),Ce="function"==typeof vt?vt.apply(this,arguments):vt;return c(z(B(Nt,Ce),Qt,Te),Tt,_)},pt)},F.translateBy=function(U,vt,pt){F.transform(U,function(){return c(this.__zoom.translate("function"==typeof vt?vt.apply(this,arguments):vt,"function"==typeof pt?pt.apply(this,arguments):pt),u.apply(this,arguments),_)})},F.translateTo=function(U,vt,pt,Tt){F.transform(U,function(){var Nt=u.apply(this,arguments),Qt=this.__zoom,Te=null==Tt?q(Nt):"function"==typeof Tt?Tt.apply(this,arguments):Tt;return c(Vu.translate(Te[0],Te[1]).scale(Qt.k).translate("function"==typeof vt?-vt.apply(this,arguments):-vt,"function"==typeof pt?-pt.apply(this,arguments):-pt),Nt,_)},Tt)},ot.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(U,vt){return this.mouse&&"mouse"!==U&&(this.mouse[1]=vt.invert(this.mouse[0])),this.touch0&&"touch"!==U&&(this.touch0[1]=vt.invert(this.touch0[0])),this.touch1&&"touch"!==U&&(this.touch1[1]=vt.invert(this.touch1[0])),this.that.__zoom=vt,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(U){we(new a1(F,U,this.that.__zoom),P.apply,P,[U,this.that,this.args])}},F.wheelDelta=function(U){return arguments.length?(d="function"==typeof U?U:Ju(+U),F):d},F.filter=function(U){return arguments.length?(a="function"==typeof U?U:Ju(!!U),F):a},F.touchable=function(U){return arguments.length?(m="function"==typeof U?U:Ju(!!U),F):m},F.extent=function(U){return arguments.length?(u="function"==typeof U?U:Ju([[+U[0][0],+U[0][1]],[+U[1][0],+U[1][1]]]),F):u},F.scaleExtent=function(U){return arguments.length?(g[0]=+U[0],g[1]=+U[1],F):[g[0],g[1]]},F.translateExtent=function(U){return arguments.length?(_[0][0]=+U[0][0],_[1][0]=+U[1][0],_[0][1]=+U[0][1],_[1][1]=+U[1][1],F):[[_[0][0],_[0][1]],[_[1][0],_[1][1]]]},F.constrain=function(U){return arguments.length?(c=U,F):c},F.duration=function(U){return arguments.length?(b=+U,F):b},F.interpolate=function(U){return arguments.length?(S=U,F):S},F.on=function(){var U=P.on.apply(P,arguments);return U===P?F:U},F.clickDistance=function(U){return arguments.length?(N=(U=+U)*U,F):Math.sqrt(N)},F},r.zoomIdentity=Vu,r.zoomTransform=Ag,Object.defineProperty(r,"__esModule",{value:!0})}),function(r,Ht){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Ht():"function"==typeof define&&define.amd?define(Ht):(r=r||self).c3=Ht()}(this,function(){"use strict";function r(n){var s=this;s.d3=window.d3?window.d3:"undefined"!=typeof require?require("d3"):void 0,s.api=n,s.config=s.getDefaultConfig(),s.data={},s.cache={},s.axes={}}function Ht(n){this.internal=new r(this),this.internal.loadConfig(n),this.internal.beforeInit(n),this.internal.init(),this.internal.afterInit(n),function s(h,f,w){Object.keys(h).forEach(function(C){f[C]=h[C].bind(w),0<Object.keys(h[C]).length&&s(h[C],f[C],w)})}(Ht.prototype,this,this)}function wn(n){return Math.ceil(n)+.5}function Sn(n){return 10*Math.ceil(n/10)}function pe(n){return n[1]-n[0]}function Ct(n,s,h){return qe(n[s])?n[s]:h}function je(n){var s=Vt(n),h=[n.pathSegList.getItem(0),n.pathSegList.getItem(1)];return{x:h[0].x,y:Math.min(h[0].y,h[1].y),width:s.width,height:s.height}}function We(n){return Array.isArray(n)}function Re(n){return null==n||_e(n)&&0===n.length||"object"==typeof n&&0===Object.keys(n).length}function sn(n){return"function"==typeof n}function On(n){return"number"==typeof n}function _n(n){return void 0===n}function Pe(n){return n||0===n}function ue(n){return!Re(n)}function he(n){return"string"==typeof n?n.replace(/</g,"&lt;").replace(/>/g,"&gt;"):n}function dn(n){var s=function(h){void 0===h&&(h=window.navigator.userAgent);var f=h.indexOf("MSIE ");return 0<f?parseInt(h.substring(f+5,h.indexOf(".",f)),10):0<(f=h.indexOf("Trident/"))&&(f=h.indexOf("rv:"),parseInt(h.substring(f+3,h.indexOf(".",f)),10))}();return void 0===n?!!s:n===s}var Vt=function(n){try{return n.getBBox()}catch(s){return{x:0,y:0,width:0,height:0}}},qe=function(n){return void 0!==n},_e=function(n){return"string"==typeof n};function ze(n,s){var h=this;h.component=n,h.params=s||{},h.d3=n.d3,h.scale=h.d3.scaleLinear(),h.orient="bottom",h.innerTickSize=6,h.outerTickSize=this.params.withOuterTick?6:0,h.tickPadding=3,h.tickValues=null,h.tickOffset=0,h.tickCulling=!0,h.tickTextRotate=h.params.tickTextRotate,h.axis=h.generateAxis()}ze.prototype.axisX=function(n,s,h){n.attr("transform",function(f){return"translate("+Math.ceil(s(f)+h)+", 0)"})},ze.prototype.axisY=function(n,s){n.attr("transform",function(h){return"translate(0,"+Math.ceil(s(h))+")"})},ze.prototype.scaleExtent=function(n){var s=n[0],h=n[n.length-1];return s<h?[s,h]:[h,s]},ze.prototype.generateTicks=function(n){var s,h,f=[];if(n.ticks)return n.ticks.apply(n,this.tickArguments);for(h=n.domain(),s=Math.ceil(h[0]);s<h[1];s++)f.push(s);return 0<f.length&&0<f[0]&&f.unshift(f[0]-(f[1]-f[0])),f},ze.prototype.copyScale=function(){var n,s=this.scale.copy();return this.params.isCategory&&(n=this.scale.domain(),s.domain([n[0],n[1]-1])),s},ze.prototype.textFormatted=function(n){var s=this.tickFormat?this.tickFormat(n):n;return void 0!==s?s:""},ze.prototype.updateRange=function(){var n=this;return n.range=n.scale.rangeExtent?n.scale.rangeExtent():n.scaleExtent(n.scale.range()),n.range},ze.prototype.updateTickTextCharSize=function(n){var s=this;if(s.tickTextCharSize)return s.tickTextCharSize;var h={h:11.5,w:5.5};return n.select("text").text(function(f){return s.textFormatted(f)}).each(function(f){var w=Vt(this),C=s.textFormatted(f),E=w.height,M=C?w.width/C.length:void 0;E&&M&&(h.h=E,h.w=M)}).text(""),s.tickTextCharSize=h},ze.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient},ze.prototype.tspanData=function(n,s,h){var f=this,w=f.params.tickMultiline?f.splitTickText(n,h):[].concat(f.textFormatted(n));return f.params.tickMultiline&&0<f.params.tickMultilineMax&&(w=f.ellipsify(w,f.params.tickMultilineMax)),w.map(function(C){return{index:s,splitted:C,length:w.length}})},ze.prototype.splitTickText=function(n,s){var h,f,C=this,E=C.textFormatted(n),M=C.params.tickWidth;return"[object Array]"===Object.prototype.toString.call(E)?E:((!M||M<=0)&&(M=C.isVertical()?95:C.params.isCategory?Math.ceil(s(1)-s(0))-12:110),function G(H,V){f=void 0;for(var tt=1;tt<V.length;tt++)if(" "===V.charAt(tt)&&(f=tt),h=V.substr(0,tt+1),M<C.tickTextCharSize.w*h.length)return G(H.concat(V.substr(0,f||tt)),V.slice(f?f+1:tt));return H.concat(V)}([],E+""))},ze.prototype.ellipsify=function(n,s){if(n.length<=s)return n;for(var h=n.slice(0,s),f=3,w=s-1;0<=w;w--){var C=h[w].length;if(h[w]=h[w].substr(0,C-f).padEnd(C,"."),(f-=C)<=0)break}return h},ze.prototype.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},ze.prototype.lineY2=function(n){var s=this,h=s.scale(n)+(s.tickCentered?0:s.tickOffset);return s.range[0]<h&&h<s.range[1]?s.innerTickSize:0},ze.prototype.textY=function(){var n=this.tickTextRotate;return n?11.5-n/15*2.5*(0<n?1:-1):this.tickLength},ze.prototype.textTransform=function(){var n=this.tickTextRotate;return n?"rotate("+n+")":""},ze.prototype.textTextAnchor=function(){var n=this.tickTextRotate;return n?0<n?"start":"end":"middle"},ze.prototype.tspanDx=function(){var n=this.tickTextRotate;return n?8*Math.sin(Math.PI*(n/180)):0},ze.prototype.tspanDy=function(n,s){var h=this.tickTextCharSize.h;return 0===s&&(h=this.isVertical()?-(this.tickTextCharSize.h/2*(n.length-1)-3):".71em"),h},ze.prototype.generateAxis=function(){var n=this,s=n.d3,h=n.params;function f(w,C){var E;return w.each(function(){var M,G,H,V=f.g=s.select(this),tt=this.__chart__||n.scale,ht=this.__chart__=n.copyScale(),J=n.tickValues?n.tickValues:n.generateTicks(ht),mt=V.selectAll(".tick").data(J,ht),At=mt.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),Dt=mt.exit().remove(),at=mt.merge(At);h.isCategory?(n.tickOffset=Math.ceil((ht(1)-ht(0))/2),G=n.tickCentered?0:n.tickOffset,H=n.tickCentered?n.tickOffset:0):n.tickOffset=G=0,n.updateRange(),n.updateTickLength(),n.updateTickTextCharSize(V.select(".tick"));var ne=at.select("line").merge(At.append("line")),Et=at.select("text").merge(At.append("text")),yt=at.selectAll("text").selectAll("tspan").data(function($t,jt){return n.tspanData($t,jt,ht)}),Bt=yt.enter().append("tspan").merge(yt).text(function($t){return $t.splitted});yt.exit().remove();var le,Kt,Ft=V.selectAll(".domain").data([0]),se=Ft.enter().append("path").merge(Ft).attr("class","domain");switch(n.orient){case"bottom":M=n.axisX,ne.attr("x1",G).attr("x2",G).attr("y2",function($t,jt){return n.lineY2($t,jt)}),Et.attr("x",0).attr("y",function($t,jt){return n.textY($t,jt)}).attr("transform",function($t,jt){return n.textTransform($t,jt)}).style("text-anchor",function($t,jt){return n.textTextAnchor($t,jt)}),Bt.attr("x",0).attr("dy",function($t,jt){return n.tspanDy($t,jt)}).attr("dx",function($t,jt){return n.tspanDx($t,jt)}),se.attr("d","M"+n.range[0]+","+n.outerTickSize+"V0H"+n.range[1]+"V"+n.outerTickSize);break;case"top":M=n.axisX,ne.attr("x1",G).attr("x2",G).attr("y2",function($t,jt){return-1*n.lineY2($t,jt)}),Et.attr("x",0).attr("y",function($t,jt){return-1*n.textY($t,jt)-(h.isCategory?2:n.tickLength-2)}).attr("transform",function($t,jt){return n.textTransform($t,jt)}).style("text-anchor",function($t,jt){return n.textTextAnchor($t,jt)}),Bt.attr("x",0).attr("dy",function($t,jt){return n.tspanDy($t,jt)}).attr("dx",function($t,jt){return n.tspanDx($t,jt)}),se.attr("d","M"+n.range[0]+","+-n.outerTickSize+"V0H"+n.range[1]+"V"+-n.outerTickSize);break;case"left":M=n.axisY,ne.attr("x2",-n.innerTickSize).attr("y1",H).attr("y2",H),Et.attr("x",-n.tickLength).attr("y",n.tickOffset).style("text-anchor","end"),Bt.attr("x",-n.tickLength).attr("dy",function($t,jt){return n.tspanDy($t,jt)}),se.attr("d","M"+-n.outerTickSize+","+n.range[0]+"H0V"+n.range[1]+"H"+-n.outerTickSize);break;case"right":M=n.axisY,ne.attr("x2",n.innerTickSize).attr("y1",H).attr("y2",H),Et.attr("x",n.tickLength).attr("y",n.tickOffset).style("text-anchor","start"),Bt.attr("x",n.tickLength).attr("dy",function($t,jt){return n.tspanDy($t,jt)}),se.attr("d","M"+n.outerTickSize+","+n.range[0]+"H0V"+n.range[1]+"H"+n.outerTickSize)}ht.rangeBand?(Kt=(le=ht).rangeBand()/2,tt=ht=function($t){return le($t)+Kt}):tt.rangeBand?tt=ht:Dt.call(M,ht,n.tickOffset),At.call(M,tt,n.tickOffset),E=(C?at.transition(C):at).style("opacity",1).call(M,ht,n.tickOffset)}),E}return f.scale=function(w){return arguments.length?(n.scale=w,f):n.scale},f.orient=function(w){return arguments.length?(n.orient=w in{top:1,right:1,bottom:1,left:1}?w+"":"bottom",f):n.orient},f.tickFormat=function(w){return arguments.length?(n.tickFormat=w,f):n.tickFormat},f.tickCentered=function(w){return arguments.length?(n.tickCentered=w,f):n.tickCentered},f.tickOffset=function(){return n.tickOffset},f.tickInterval=function(){var w=h.isCategory?2*n.tickOffset:(f.g.select("path.domain").node().getTotalLength()-2*n.outerTickSize)/f.g.selectAll("line").size();return w===1/0?0:w},f.ticks=function(){return arguments.length?(n.tickArguments=arguments,f):n.tickArguments},f.tickCulling=function(w){return arguments.length?(n.tickCulling=w,f):n.tickCulling},f.tickValues=function(w){if("function"==typeof w)n.tickValues=function(){return w(n.scale.domain())};else{if(!arguments.length)return n.tickValues;n.tickValues=w}return f},f};var $={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},L=function(n){this.owner=n,this.d3=n.d3,this.internal=ze},re=L;re.prototype.init=function(){var n=this.owner,s=n.config,h=n.main;n.axes.x=h.append("g").attr("class",$.axis+" "+$.axisX).attr("clip-path",s.axis_x_inner?"":n.clipPathForXAxis).attr("transform",n.getTranslate("x")).style("visibility",s.axis_x_show?"visible":"hidden"),n.axes.x.append("text").attr("class",$.axisXLabel).attr("transform",s.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),n.axes.y=h.append("g").attr("class",$.axis+" "+$.axisY).attr("clip-path",s.axis_y_inner?"":n.clipPathForYAxis).attr("transform",n.getTranslate("y")).style("visibility",s.axis_y_show?"visible":"hidden"),n.axes.y.append("text").attr("class",$.axisYLabel).attr("transform",s.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),n.axes.y2=h.append("g").attr("class",$.axis+" "+$.axisY2).attr("transform",n.getTranslate("y2")).style("visibility",s.axis_y2_show?"visible":"hidden"),n.axes.y2.append("text").attr("class",$.axisY2Label).attr("transform",s.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},re.prototype.getXAxis=function(n,s,h,f,w,C,E){var M=this.owner,G=M.config,H={isCategory:M.isCategorized(),withOuterTick:w,tickMultiline:G.axis_x_tick_multiline,tickMultilineMax:G.axis_x_tick_multiline?Number(G.axis_x_tick_multilineMax):0,tickWidth:G.axis_x_tick_width,tickTextRotate:E?0:G.axis_x_tick_rotate,withoutTransition:C},V=new this.internal(this,H).axis.scale(n).orient(s);return M.isTimeSeries()&&f&&"function"!=typeof f&&(f=f.map(function(tt){return M.parseDate(tt)})),V.tickFormat(h).tickValues(f),M.isCategorized()&&(V.tickCentered(G.axis_x_tick_centered),Re(G.axis_x_tick_culling)&&(G.axis_x_tick_culling=!1)),V},re.prototype.updateXAxisTickValues=function(n,s){var h,f=this.owner,w=f.config;return(w.axis_x_tick_fit||w.axis_x_tick_count)&&(h=this.generateTickValues(f.mapTargetsToUniqueXs(n),w.axis_x_tick_count,f.isTimeSeries())),s?s.tickValues(h):(f.xAxis.tickValues(h),f.subXAxis.tickValues(h)),h},re.prototype.getYAxis=function(n,s,h,f,w,C,E){var M=this.owner,G=M.config,H=G["axis_"+n+"_tick_format"];!H&&M.isAxisNormalized(n)&&(H=function(tt){return tt+"%"});var V=new this.internal(this,{withOuterTick:w,withoutTransition:C,tickTextRotate:E?0:G.axis_y_tick_rotate}).axis.scale(s).orient(h);return H&&V.tickFormat(H),M.isTimeSeriesY()?V.ticks(G.axis_y_tick_time_type,G.axis_y_tick_time_interval):V.tickValues(f),V},re.prototype.getId=function(n){var s=this.owner.config;return n in s.data_axes?s.data_axes[n]:"y"},re.prototype.getXAxisTickFormat=function(){var n=this.owner,s=n.config,h=n.isTimeSeries()?n.defaultAxisTimeFormat:n.isCategorized()?n.categoryName:function(f){return f};return s.axis_x_tick_format&&(sn(s.axis_x_tick_format)?h=s.axis_x_tick_format:n.isTimeSeries()&&(h=function(f){return f?n.axisTimeFormat(s.axis_x_tick_format)(f):""})),sn(h)?function(f){return h.call(n,f)}:h},re.prototype.getTickValues=function(n,s){return n||(s?s.tickValues():void 0)},re.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},re.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},re.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},re.prototype.getLabelOptionByAxisId=function(n){var s,h=this.owner.config;return"y"===n?s=h.axis_y_label:"y2"===n?s=h.axis_y2_label:"x"===n&&(s=h.axis_x_label),s},re.prototype.getLabelText=function(n){var s=this.getLabelOptionByAxisId(n);return _e(s)?s:s?s.text:null},re.prototype.setLabelText=function(n,s){var h=this.owner.config,f=this.getLabelOptionByAxisId(n);_e(f)?"y"===n?h.axis_y_label=s:"y2"===n?h.axis_y2_label=s:"x"===n&&(h.axis_x_label=s):f&&(f.text=s)},re.prototype.getLabelPosition=function(n,s){var h=this.getLabelOptionByAxisId(n),f=h&&"object"==typeof h&&h.position?h.position:s;return{isInner:0<=f.indexOf("inner"),isOuter:0<=f.indexOf("outer"),isLeft:0<=f.indexOf("left"),isCenter:0<=f.indexOf("center"),isRight:0<=f.indexOf("right"),isTop:0<=f.indexOf("top"),isMiddle:0<=f.indexOf("middle"),isBottom:0<=f.indexOf("bottom")}},re.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},re.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},re.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},re.prototype.getLabelPositionById=function(n){return"y2"===n?this.getY2AxisLabelPosition():"y"===n?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},re.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},re.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},re.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},re.prototype.xForAxisLabel=function(n,s){var h=this.owner;return n?s.isLeft?0:s.isCenter?h.width/2:h.width:s.isBottom?-h.height:s.isMiddle?-h.height/2:0},re.prototype.dxForAxisLabel=function(n,s){return n?s.isLeft?"0.5em":s.isRight?"-0.5em":"0":s.isTop?"-0.5em":s.isBottom?"0.5em":"0"},re.prototype.textAnchorForAxisLabel=function(n,s){return n?s.isLeft?"start":s.isCenter?"middle":"end":s.isBottom?"start":s.isMiddle?"middle":"end"},re.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},re.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},re.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},re.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},re.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},re.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},re.prototype.dyForXAxisLabel=function(){var n=this.owner,s=n.config,h=this.getXAxisLabelPosition();return s.axis_rotated?h.isInner?"1.2em":-25-(n.config.axis_x_inner?0:this.getMaxTickWidth("x")):h.isInner?"-0.5em":n.getHorizontalAxisHeight("x")-10},re.prototype.dyForYAxisLabel=function(){var n=this.owner,s=this.getYAxisLabelPosition();return n.config.axis_rotated?s.isInner?"-0.5em":"3em":s.isInner?"1.2em":-10-(n.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},re.prototype.dyForY2AxisLabel=function(){var n=this.owner,s=this.getY2AxisLabelPosition();return n.config.axis_rotated?s.isInner?"1.2em":"-2.2em":s.isInner?"-0.5em":15+(n.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},re.prototype.textAnchorForXAxisLabel=function(){return this.textAnchorForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},re.prototype.textAnchorForYAxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},re.prototype.textAnchorForY2AxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},re.prototype.getMaxTickWidth=function(n,s){var h,f,w,C,E=this.owner,M=0;return s&&E.currentMaxTickWidths[n]||(E.svg&&(h=E.filterTargetsToShow(E.data.targets),"y"===n?(f=E.y.copy().domain(E.getYDomain(h,"y")),w=this.getYAxis(n,f,E.yOrient,E.yAxisTickValues,!1,!0,!0)):"y2"===n?(f=E.y2.copy().domain(E.getYDomain(h,"y2")),w=this.getYAxis(n,f,E.y2Orient,E.y2AxisTickValues,!1,!0,!0)):(f=E.x.copy().domain(E.getXDomain(h)),w=this.getXAxis(f,E.xOrient,E.xAxisTickFormat,E.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(h,w)),(C=E.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(w).each(function(){E.d3.select(this).selectAll("text").each(function(){var G=Vt(this);M<G.width&&(M=G.width)}),C.remove()})),E.currentMaxTickWidths[n]=M<=0?E.currentMaxTickWidths[n]:M),E.currentMaxTickWidths[n]},re.prototype.updateLabels=function(n){var s=this.owner,h=s.main.select("."+$.axisX+" ."+$.axisXLabel),f=s.main.select("."+$.axisY+" ."+$.axisYLabel),w=s.main.select("."+$.axisY2+" ."+$.axisY2Label);(n?h.transition():h).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(n?f.transition():f).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(n?w.transition():w).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},re.prototype.getPadding=function(n,s,h,f){var w="number"==typeof n?n:n[s];return Pe(w)?"ratio"===n.unit?n[s]*f:this.convertPixelsToAxisPadding(w,f):h},re.prototype.convertPixelsToAxisPadding=function(n,s){var h=this.owner;return s*(n/(h.config.axis_rotated?h.width:h.height))},re.prototype.generateTickValues=function(n,s,h){var f,w,C,E,M,G,H,V=n;if(s)if(1===(f=sn(s)?s():s))V=[n[0]];else if(2===f)V=[n[0],n[n.length-1]];else if(2<f){for(M=((C=n[n.length-1])-(w=n[0]))/(1+(E=f-2)),V=[w],G=0;G<E;G++)H=+w+M*(G+1),V.push(h?new Date(H):H);V.push(C)}return h||(V=V.sort(function(tt,ht){return tt-ht})),V},re.prototype.generateTransitions=function(n){var s=this.owner.axes;return{axisX:n?s.x.transition().duration(n):s.x,axisY:n?s.y.transition().duration(n):s.y,axisY2:n?s.y2.transition().duration(n):s.y2,axisSubX:n?s.subx.transition().duration(n):s.subx}},re.prototype.redraw=function(n,s){var h=this.owner,f=n?h.d3.transition().duration(n):null;h.axes.x.style("opacity",s?0:1).call(h.xAxis,f),h.axes.y.style("opacity",s?0:1).call(h.yAxis,f),h.axes.y2.style("opacity",s?0:1).call(h.y2Axis,f),h.axes.subx.style("opacity",s?0:1).call(h.subXAxis,f)};var ve={version:"0.7.20",chart:{fn:Ht.prototype,internal:{fn:r.prototype,axis:{fn:L.prototype,internal:{fn:ze.prototype}}}},generate:function(n){return new Ht(n)}};function Ue(n,s,h){var f=[.01,10];function w(C){return h(s(C))}return s||(s=n.scaleLinear()).range(f),h||((h=n.scaleLog()).domain(f),h.nice()),w.domain=function(C){return arguments.length?(s.domain(C),w):s.domain()},w.range=function(C){return arguments.length?(h.range(C),w):h.range()},w.ticks=function(C){return function(E,M,G){var H,V,tt,ht;if(arguments.length<3)G=10;else if(0===G)return[];ht=(M-E)/(V=G-1),tt=E,(H=new Array(G))[0]=Math.pow(10,tt);for(var J=1;J<V;J++)tt+=ht,H[J]=Math.pow(10,tt);return H[V]=Math.pow(10,M),H}(-2,1,C||10).map(function(E){return s.invert(E)})},w.copy=function(){return Ue(n,s.copy(),h.copy())},w}function gn(n){return n/Math.pow(10,Math.ceil(Math.log(n)/Math.LN10-1e-12))==1}r.prototype.beforeInit=function(){},r.prototype.afterInit=function(){},r.prototype.init=function(){var n=this,s=n.config;if(n.initParams(),s.data_url)n.convertUrlToData(s.data_url,s.data_mimeType,s.data_headers,s.data_keys,n.initWithData);else if(s.data_json)n.initWithData(n.convertJsonToData(s.data_json,s.data_keys));else if(s.data_rows)n.initWithData(n.convertRowsToData(s.data_rows));else{if(!s.data_columns)throw Error("url or json or rows or columns is required.");n.initWithData(n.convertColumnsToData(s.data_columns))}},r.prototype.initParams=function(){var n=this,s=n.d3,h=n.config;n.clipId="c3-"+(new Date).valueOf()+"-clip",n.clipIdForXAxis=n.clipId+"-xaxis",n.clipIdForYAxis=n.clipId+"-yaxis",n.clipIdForGrid=n.clipId+"-grid",n.clipIdForSubchart=n.clipId+"-subchart",n.clipPath=n.getClipPath(n.clipId),n.clipPathForXAxis=n.getClipPath(n.clipIdForXAxis),n.clipPathForYAxis=n.getClipPath(n.clipIdForYAxis),n.clipPathForGrid=n.getClipPath(n.clipIdForGrid),n.clipPathForSubchart=n.getClipPath(n.clipIdForSubchart),n.dragStart=null,n.dragging=!1,n.flowing=!1,n.cancelClick=!1,n.mouseover=void 0,n.transiting=!1,n.color=n.generateColor(),n.levelColor=n.generateLevelColor(),n.dataTimeParse=(h.data_xLocaltime?s.timeParse:s.utcParse)(n.config.data_xFormat),n.axisTimeFormat=h.axis_x_localtime?s.timeFormat:s.utcFormat,n.defaultAxisTimeFormat=function(f){return(f.getMilliseconds()?s.timeFormat(".%L"):f.getSeconds()?s.timeFormat(":%S"):f.getMinutes()?s.timeFormat("%I:%M"):f.getHours()?s.timeFormat("%I %p"):f.getDay()&&1!==f.getDate()||1!==f.getDate()||f.getMonth()?s.timeFormat("%-m/%-d"):s.timeFormat("%Y/%-m/%-d"))(f)},n.hiddenTargetIds=[],n.hiddenLegendIds=[],n.focusedTargetIds=[],n.defocusedTargetIds=[],n.xOrient=h.axis_rotated?h.axis_x_inner?"right":"left":h.axis_x_inner?"top":"bottom",n.yOrient=h.axis_rotated?h.axis_y_inner?"top":"bottom":h.axis_y_inner?"right":"left",n.y2Orient=h.axis_rotated?h.axis_y2_inner?"bottom":"top":h.axis_y2_inner?"left":"right",n.subXOrient=h.axis_rotated?"left":"bottom",n.isLegendRight="right"===h.legend_position,n.isLegendInset="inset"===h.legend_position,n.isLegendTop="top-left"===h.legend_inset_anchor||"top-right"===h.legend_inset_anchor,n.isLegendLeft="top-left"===h.legend_inset_anchor||"bottom-left"===h.legend_inset_anchor,n.legendStep=0,n.legendItemWidth=0,n.legendItemHeight=0,n.currentMaxTickWidths={x:0,y:0,y2:0},n.rotated_padding_left=30,n.rotated_padding_right=h.axis_rotated&&!h.axis_x_show?0:30,n.rotated_padding_top=5,n.withoutFadeIn={},n.intervalForObserveInserted=void 0,n.axes.subx=s.selectAll([])},r.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},r.prototype.initWithData=function(n){var s,h,f=this,w=f.d3,C=f.config,E=!0;f.axis=new L(f),f.selectChart=C.bindto?"function"==typeof C.bindto.node?C.bindto:w.select(C.bindto):w.selectAll([]),f.selectChart.empty()&&(f.selectChart=w.select(document.createElement("div")).style("opacity",0),f.observeInserted(f.selectChart),E=!1),f.selectChart.html("").classed("c3",!0),f.data.xs={},f.data.targets=f.convertDataToTargets(n),C.data_filter&&(f.data.targets=f.data.targets.filter(C.data_filter)),C.data_hide&&f.addHiddenTargetIds(!0===C.data_hide?f.mapToIds(f.data.targets):C.data_hide),C.legend_hide&&f.addHiddenLegendIds(!0===C.legend_hide?f.mapToIds(f.data.targets):C.legend_hide),f.isStanfordGraphType()&&f.initStanfordData(),f.updateSizes(),f.updateScales(),f.x.domain(w.extent(f.getXDomain(f.data.targets))),f.y.domain(f.getYDomain(f.data.targets,"y")),f.y2.domain(f.getYDomain(f.data.targets,"y2")),f.subX.domain(f.x.domain()),f.subY.domain(f.y.domain()),f.subY2.domain(f.y2.domain()),f.orgXDomain=f.x.domain(),f.svg=f.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return C.onmouseover.call(f)}).on("mouseleave",function(){return C.onmouseout.call(f)}),f.config.svg_classname&&f.svg.attr("class",f.config.svg_classname),s=f.svg.append("defs"),f.clipChart=f.appendClip(s,f.clipId),f.clipXAxis=f.appendClip(s,f.clipIdForXAxis),f.clipYAxis=f.appendClip(s,f.clipIdForYAxis),f.clipGrid=f.appendClip(s,f.clipIdForGrid),f.clipSubchart=f.appendClip(s,f.clipIdForSubchart),f.updateSvgSize(),h=f.main=f.svg.append("g").attr("transform",f.getTranslate("main")),f.initPie&&f.initPie(),f.initDragZoom&&f.initDragZoom(),C.subchart_show&&f.initSubchart&&f.initSubchart(),f.initTooltip&&f.initTooltip(),f.initLegend&&f.initLegend(),f.initTitle&&f.initTitle(),f.initZoom&&f.initZoom(),f.isStanfordGraphType()&&f.drawColorScale(),C.subchart_show&&f.initSubchartBrush&&f.initSubchartBrush(),h.append("text").attr("class",$.text+" "+$.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),f.initRegion(),f.initGrid(),h.append("g").attr("clip-path",f.clipPath).attr("class",$.chart),C.grid_lines_front&&f.initGridLines(),f.initStanfordElements(),f.initEventRect(),f.initChartElements(),f.axis.init(),f.updateTargets(f.data.targets),C.axis_x_selection&&f.brush.selectionAsValue(f.getDefaultSelection()),E&&(f.updateDimension(),f.config.oninit.call(f),f.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),f.bindResize(),f.bindWindowFocus(),f.api.element=f.selectChart.node()},r.prototype.smoothLines=function(n,s){var h=this;"grid"===s&&n.each(function(){var f=h.d3.select(this),w=f.attr("x1"),C=f.attr("x2"),E=f.attr("y1"),M=f.attr("y2");f.attr({x1:Math.ceil(w),x2:Math.ceil(C),y1:Math.ceil(E),y2:Math.ceil(M)})})},r.prototype.updateSizes=function(){var n=this,s=n.config,h=n.legend?n.getLegendHeight():0,f=n.legend?n.getLegendWidth():0,w=n.isLegendRight||n.isLegendInset?0:h,C=n.hasArcType(),E=s.axis_rotated||C?0:n.getHorizontalAxisHeight("x"),M=s.axis_rotated||C?0:n.getHorizontalAxisHeight("x",!0),G=s.subchart_show&&!C?s.subchart_size_height+M:0;n.currentWidth=n.getCurrentWidth(),n.currentHeight=n.getCurrentHeight(),n.margin=s.axis_rotated?{top:n.getHorizontalAxisHeight("y2")+n.getCurrentPaddingTop(),right:C?0:n.getCurrentPaddingRight(),bottom:n.getHorizontalAxisHeight("y")+w+n.getCurrentPaddingBottom(),left:G+(C?0:n.getCurrentPaddingLeft())}:{top:4+n.getCurrentPaddingTop(),right:C?0:n.getCurrentPaddingRight(),bottom:E+G+w+n.getCurrentPaddingBottom(),left:C?0:n.getCurrentPaddingLeft()},n.margin2=s.axis_rotated?{top:n.margin.top,right:NaN,bottom:20+w,left:n.rotated_padding_left}:{top:n.currentHeight-G-w,right:NaN,bottom:M+w,left:n.margin.left},n.margin3={top:0,right:NaN,bottom:0,left:0},n.updateSizeForLegend&&n.updateSizeForLegend(h,f),n.width=n.currentWidth-n.margin.left-n.margin.right,n.height=n.currentHeight-n.margin.top-n.margin.bottom,n.width<0&&(n.width=0),n.height<0&&(n.height=0),n.width2=s.axis_rotated?n.margin.left-n.rotated_padding_left-n.rotated_padding_right:n.width,n.height2=s.axis_rotated?n.height:n.currentHeight-n.margin2.top-n.margin2.bottom,n.width2<0&&(n.width2=0),n.height2<0&&(n.height2=0),n.arcWidth=n.width-(n.isLegendRight?f+10:0),n.arcHeight=n.height-(n.isLegendRight?0:10),n.hasType("gauge")&&!s.gauge_fullCircle&&(n.arcHeight+=n.height-n.getGaugeLabelHeight()),n.updateRadius&&n.updateRadius(),n.isLegendRight&&C&&(n.margin3.left=n.arcWidth/2+1.1*n.radiusExpanded)},r.prototype.updateTargets=function(n){var s=this,h=s.config;s.updateTargetsForText(n),s.updateTargetsForBar(n),s.updateTargetsForLine(n),s.hasArcType()&&s.updateTargetsForArc&&s.updateTargetsForArc(n),h.subchart_show&&s.updateTargetsForSubchart&&s.updateTargetsForSubchart(n),s.showTargets()},r.prototype.showTargets=function(){var n=this;n.svg.selectAll("."+$.target).filter(function(s){return n.isTargetToShow(s.id)}).transition().duration(n.config.transition_duration).style("opacity",1)},r.prototype.redraw=function(n,s){var h,f,w,C,E,M,G,H,V,tt,ht,J,mt,At,Dt,at=this,ne=at.main,Et=at.d3,yt=at.config,Bt=at.getShapeIndices(at.isAreaType),le=at.getShapeIndices(at.isBarType),Kt=at.getShapeIndices(at.isLineType),Ft=at.hasArcType(),se=at.filterTargetsToShow(at.data.targets),$t=at.xv.bind(at),jt=Ct(n=n||{},"withY",!0),Ne=Ct(n,"withSubchart",!0),ye=Ct(n,"withTransition",!0),mn=Ct(n,"withTransform",!1),nn=Ct(n,"withUpdateXDomain",!1),Me=Ct(n,"withUpdateOrgXDomain",!1),De=Ct(n,"withTrimXDomain",!0),Ee=Ct(n,"withUpdateXAxis",nn),Xt=Ct(n,"withLegend",!1),e=Ct(n,"withEventRect",!0),o=Ct(n,"withDimension",!0),l=Ct(n,"withTransitionForExit",ye),v=Ct(n,"withTransitionForAxis",ye),y=ye?yt.transition_duration:0,k=l?y:0,O=v?y:0;if(s=s||at.axis.generateTransitions(O),Xt&&yt.legend_show?at.updateLegend(at.mapToIds(at.data.targets),n,s):o&&at.updateDimension(!0),at.isCategorized()&&0===se.length&&at.x.domain([0,at.axes.x.selectAll(".tick").size()]),se.length?(at.updateXDomain(se,nn,Me,De),yt.axis_x_tick_values||(tt=at.axis.updateXAxisTickValues(se))):(at.xAxis.tickValues([]),at.subXAxis.tickValues([])),yt.zoom_rescale&&!n.flow&&(mt=at.x.orgDomain()),at.y.domain(at.getYDomain(se,"y",mt)),at.y2.domain(at.getYDomain(se,"y2",mt)),!yt.axis_y_tick_values&&yt.axis_y_tick_count&&at.yAxis.tickValues(at.axis.generateTickValues(at.y.domain(),yt.axis_y_tick_count)),!yt.axis_y2_tick_values&&yt.axis_y2_tick_count&&at.y2Axis.tickValues(at.axis.generateTickValues(at.y2.domain(),yt.axis_y2_tick_count)),at.axis.redraw(O,Ft),at.axis.updateLabels(ye),(nn||Ee)&&se.length)if(yt.axis_x_tick_culling&&tt){for(ht=1;ht<tt.length;ht++)if(tt.length/ht<yt.axis_x_tick_culling_max){J=ht;break}at.svg.selectAll("."+$.axisX+" .tick text").each(function(Y){var Z=tt.indexOf(Y);0<=Z&&Et.select(this).style("display",Z%J?"none":"block")})}else at.svg.selectAll("."+$.axisX+" .tick text").style("display","block");h=at.generateDrawArea?at.generateDrawArea(Bt,!1):void 0,f=at.generateDrawBar?at.generateDrawBar(le):void 0,w=at.generateDrawLine?at.generateDrawLine(Kt,!1):void 0,C=at.generateXYForText(Bt,le,Kt,!0),E=at.generateXYForText(Bt,le,Kt,!1),at.updateCircleY(),At=(at.config.axis_rotated?at.circleY:at.circleX).bind(at),Dt=(at.config.axis_rotated?at.circleX:at.circleY).bind(at),jt&&(at.subY.domain(at.getYDomain(se,"y")),at.subY2.domain(at.getYDomain(se,"y2"))),at.updateXgridFocus(),ne.select("text."+$.text+"."+$.empty).attr("x",at.width/2).attr("y",at.height/2).text(yt.data_empty_label_text).transition().style("opacity",se.length?0:1),e&&at.redrawEventRect(),at.updateGrid(y),at.updateStanfordElements(y),at.updateRegion(y),at.updateBar(k),at.updateLine(k),at.updateArea(k),at.updateCircle(At,Dt),at.hasDataLabel()&&at.updateText(C,E,k),at.redrawTitle&&at.redrawTitle(),at.redrawArc&&at.redrawArc(y,k,mn),yt.subchart_show&&at.redrawSubchart&&at.redrawSubchart(Ne,s,y,k,Bt,le,Kt),at.isStanfordGraphType()&&at.drawColorScale(),ne.selectAll("."+$.selectedCircles).filter(at.isBarType.bind(at)).selectAll("circle").remove(),n.flow&&(H=at.generateFlow({targets:se,flow:n.flow,duration:n.flow.duration,drawBar:f,drawLine:w,drawArea:h,cx:At,cy:Dt,xv:$t,xForText:C,yForText:E})),y&&at.isTabVisible()?(V=Et.transition().duration(y),M=[],[at.redrawBar(f,!0,V),at.redrawLine(w,!0,V),at.redrawArea(h,!0,V),at.redrawCircle(At,Dt,!0,V),at.redrawText(C,E,n.flow,!0,V),at.redrawRegion(!0,V),at.redrawGrid(!0,V)].forEach(function(Y){Y.forEach(function(Z){M.push(Z)})}),G=at.generateWait(),M.forEach(function(Y){G.add(Y)}),G(function(){H&&H(),yt.onrendered&&yt.onrendered.call(at)})):(at.redrawBar(f),at.redrawLine(w),at.redrawArea(h),at.redrawCircle(At,Dt),at.redrawText(C,E,n.flow),at.redrawRegion(),at.redrawGrid(),H&&H(),yt.onrendered&&yt.onrendered.call(at)),at.mapToIds(at.data.targets).forEach(function(Y){at.withoutFadeIn[Y]=!0})},r.prototype.updateAndRedraw=function(n){var s,h=this,f=h.config;(n=n||{}).withTransition=Ct(n,"withTransition",!0),n.withTransform=Ct(n,"withTransform",!1),n.withLegend=Ct(n,"withLegend",!1),n.withUpdateXDomain=Ct(n,"withUpdateXDomain",!0),n.withUpdateOrgXDomain=Ct(n,"withUpdateOrgXDomain",!0),n.withTransitionForExit=!1,n.withTransitionForTransform=Ct(n,"withTransitionForTransform",n.withTransition),h.updateSizes(),n.withLegend&&f.legend_show||(s=h.axis.generateTransitions(n.withTransitionForAxis?f.transition_duration:0),h.updateScales(),h.updateSvgSize(),h.transformAll(n.withTransitionForTransform,s)),h.redraw(n,s)},r.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},r.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},r.prototype.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")},r.prototype.isCustomX=function(){var n=this.config;return!this.isTimeSeries()&&(n.data_x||ue(n.data_xs))},r.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},r.prototype.getTranslate=function(n){var s,h,f=this,w=f.config;return"main"===n?(s=wn(f.margin.left),h=wn(f.margin.top)):"context"===n?(s=wn(f.margin2.left),h=wn(f.margin2.top)):"legend"===n?(s=f.margin3.left,h=f.margin3.top):"x"===n?(s=0,h=w.axis_rotated?0:f.height):"y"===n?(s=0,h=w.axis_rotated?f.height:0):"y2"===n?(s=w.axis_rotated?0:f.width,h=w.axis_rotated?1:0):"subx"===n?(s=0,h=w.axis_rotated?0:f.height2):"arc"===n&&(s=f.arcWidth/2,h=f.arcHeight/2-(f.hasType("gauge")?6:0)),"translate("+s+","+h+")"},r.prototype.initialOpacity=function(n){return null!==n.value&&this.withoutFadeIn[n.id]?1:0},r.prototype.initialOpacityForCircle=function(n){return null!==n.value&&this.withoutFadeIn[n.id]?this.opacityForCircle(n):0},r.prototype.opacityForCircle=function(n){var s=(sn(this.config.point_show)?this.config.point_show(n):this.config.point_show)||this.isStanfordType(n)?1:0;return Pe(n.value)?this.isScatterType(n)?.5:s:0},r.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},r.prototype.xx=function(n){return n?this.x(n.x):null},r.prototype.xvCustom=function(n,s){var h=this,f=s?n[s]:n.value;return h.isTimeSeries()?f=h.parseDate(n.value):h.isCategorized()&&"string"==typeof n.value&&(f=h.config.axis_x_categories.indexOf(n.value)),Math.ceil(h.x(f))},r.prototype.yvCustom=function(n,s){return Math.ceil((n.axis&&"y2"===n.axis?this.y2:this.y)(s?n[s]:n.value))},r.prototype.xv=function(n){var s=this,h=n.value;return s.isTimeSeries()?h=s.parseDate(n.value):s.isCategorized()&&"string"==typeof n.value&&(h=s.config.axis_x_categories.indexOf(n.value)),Math.ceil(s.x(h))},r.prototype.yv=function(n){return Math.ceil((n.axis&&"y2"===n.axis?this.y2:this.y)(n.value))},r.prototype.subxx=function(n){return n?this.subX(n.x):null},r.prototype.transformMain=function(n,s){var h,f,w,C=this;s&&s.axisX?h=s.axisX:(h=C.main.select("."+$.axisX),n&&(h=h.transition())),s&&s.axisY?f=s.axisY:(f=C.main.select("."+$.axisY),n&&(f=f.transition())),s&&s.axisY2?w=s.axisY2:(w=C.main.select("."+$.axisY2),n&&(w=w.transition())),(n?C.main.transition():C.main).attr("transform",C.getTranslate("main")),h.attr("transform",C.getTranslate("x")),f.attr("transform",C.getTranslate("y")),w.attr("transform",C.getTranslate("y2")),C.main.select("."+$.chartArcs).attr("transform",C.getTranslate("arc"))},r.prototype.transformAll=function(n,s){var h=this;h.transformMain(n,s),h.config.subchart_show&&h.transformContext(n,s),h.legend&&h.transformLegend(n)},r.prototype.updateSvgSize=function(){var n=this,s=n.svg.select("."+$.brush+" .overlay");n.svg.attr("width",n.currentWidth).attr("height",n.currentHeight),n.svg.selectAll(["#"+n.clipId,"#"+n.clipIdForGrid]).select("rect").attr("width",n.width).attr("height",n.height),n.svg.select("#"+n.clipIdForXAxis).select("rect").attr("x",n.getXAxisClipX.bind(n)).attr("y",n.getXAxisClipY.bind(n)).attr("width",n.getXAxisClipWidth.bind(n)).attr("height",n.getXAxisClipHeight.bind(n)),n.svg.select("#"+n.clipIdForYAxis).select("rect").attr("x",n.getYAxisClipX.bind(n)).attr("y",n.getYAxisClipY.bind(n)).attr("width",n.getYAxisClipWidth.bind(n)).attr("height",n.getYAxisClipHeight.bind(n)),n.svg.select("#"+n.clipIdForSubchart).select("rect").attr("width",n.width).attr("height",s.size()&&s.attr("height")||0),n.selectChart.style("max-height",n.currentHeight+"px")},r.prototype.updateDimension=function(n){var s=this;n||(s.config.axis_rotated?(s.axes.x.call(s.xAxis),s.axes.subx.call(s.subXAxis)):(s.axes.y.call(s.yAxis),s.axes.y2.call(s.y2Axis))),s.updateSizes(),s.updateScales(),s.updateSvgSize(),s.transformAll(!1)},r.prototype.observeInserted=function(n){var s,h=this;"undefined"!=typeof MutationObserver?(s=new MutationObserver(function(f){f.forEach(function(w){"childList"===w.type&&w.previousSibling&&(s.disconnect(),h.intervalForObserveInserted=window.setInterval(function(){n.node().parentNode&&(window.clearInterval(h.intervalForObserveInserted),h.updateDimension(),h.brush&&h.brush.update(),h.config.oninit.call(h),h.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),n.transition().style("opacity",1))},10))})})).observe(n.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},r.prototype.bindResize=function(){var n=this,s=n.config;n.resizeFunction=n.generateResize(),n.resizeFunction.add(function(){s.onresize.call(n)}),s.resize_auto&&n.resizeFunction.add(function(){void 0!==n.resizeTimeout&&window.clearTimeout(n.resizeTimeout),n.resizeTimeout=window.setTimeout(function(){delete n.resizeTimeout,n.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),n.brush&&n.brush.update()},100)}),n.resizeFunction.add(function(){s.onresized.call(n)}),n.resizeIfElementDisplayed=function(){null!=n.api&&n.api.element.offsetParent&&n.resizeFunction()},window.addEventListener("resize",n.resizeIfElementDisplayed,!1)},r.prototype.bindWindowFocus=function(){var n=this;this.windowFocusHandler||(this.windowFocusHandler=function(){n.redraw()},window.addEventListener("focus",this.windowFocusHandler))},r.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},r.prototype.generateResize=function(){var n=[];function s(){n.forEach(function(h){h()})}return s.add=function(h){n.push(h)},s.remove=function(h){for(var f=0;f<n.length;f++)if(n[f]===h){n.splice(f,1);break}},s},r.prototype.endall=function(n,s){var h=0;n.each(function(){++h}).on("end",function(){--h||s.apply(this,arguments)})},r.prototype.generateWait=function(){function n(f){var w=setInterval(function(){var C;s.isTabVisible()&&(C=0,h.forEach(function(E){if(E.empty())C+=1;else try{E.transition()}catch(M){C+=1}}),C===h.length&&(clearInterval(w),f&&f()))},50)}var s=this,h=[];return n.add=function(f){h.push(f)},n},r.prototype.parseDate=function(n){var s;return n instanceof Date?s=n:"string"==typeof n?s=this.dataTimeParse(n):"object"!=typeof n&&("number"!=typeof n||isNaN(n))||(s=new Date(+n)),s&&!isNaN(+s)||window.console.error("Failed to parse x '"+n+"' to Date object"),s},r.prototype.isTabVisible=function(){return!document.hidden},r.prototype.getPathBox=je,r.prototype.CLASS=$,"SVGPathSeg"in window||(window.SVGPathSeg=function(n,s,h){this.pathSegType=n,this.pathSegTypeAsLetter=s,this._owningPathSegList=h},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",n)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(n,s,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",n),this._x=s,this._y=h},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(n,s,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",n),this._x=s,this._y=h},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(n,s,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",n),this._x=s,this._y=h},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(n,s,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",n),this._x=s,this._y=h},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(n,s,h,f,w,C,E){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",n),this._x=s,this._y=h,this._x1=f,this._y1=w,this._x2=C,this._y2=E},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(n,s,h,f,w,C,E){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",n),this._x=s,this._y=h,this._x1=f,this._y1=w,this._x2=C,this._y2=E},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(n,s,h,f,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",n),this._x=s,this._y=h,this._x1=f,this._y1=w},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(n,s,h,f,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",n),this._x=s,this._y=h,this._x1=f,this._y1=w},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(n,s,h,f,w,C,E,M){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",n),this._x=s,this._y=h,this._r1=f,this._r2=w,this._angle=C,this._largeArcFlag=E,this._sweepFlag=M},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(n,s,h,f,w,C,E,M){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",n),this._x=s,this._y=h,this._r1=f,this._r2=w,this._angle=C,this._largeArcFlag=E,this._sweepFlag=M},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(n,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",n),this._x=s},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(n,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",n),this._x=s},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(n,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",n),this._y=s},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(n,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",n),this._y=s},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(n,s,h,f,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",n),this._x=s,this._y=h,this._x2=f,this._y2=w},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(n,s,h,f,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",n),this._x=s,this._y=h,this._x2=f,this._y2=w},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(n,s,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",n),this._x=s,this._y=h},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(n,s,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",n),this._x=s,this._y=h},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(n,s){return new window.SVGPathSegMovetoAbs(void 0,n,s)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(n,s){return new window.SVGPathSegMovetoRel(void 0,n,s)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(n,s){return new window.SVGPathSegLinetoAbs(void 0,n,s)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(n,s){return new window.SVGPathSegLinetoRel(void 0,n,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(n,s,h,f,w,C){return new window.SVGPathSegCurvetoCubicAbs(void 0,n,s,h,f,w,C)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(n,s,h,f,w,C){return new window.SVGPathSegCurvetoCubicRel(void 0,n,s,h,f,w,C)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(n,s,h,f){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,n,s,h,f)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(n,s,h,f){return new window.SVGPathSegCurvetoQuadraticRel(void 0,n,s,h,f)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(n,s,h,f,w,C,E){return new window.SVGPathSegArcAbs(void 0,n,s,h,f,w,C,E)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(n,s,h,f,w,C,E){return new window.SVGPathSegArcRel(void 0,n,s,h,f,w,C,E)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(n){return new window.SVGPathSegLinetoHorizontalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(n){return new window.SVGPathSegLinetoHorizontalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(n){return new window.SVGPathSegLinetoVerticalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(n){return new window.SVGPathSegLinetoVerticalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(n,s,h,f){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,n,s,h,f)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(n,s,h,f){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,n,s,h,f)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(n,s){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,n,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(n,s){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,n,s)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(n){if(void 0===n||!isFinite(n))throw"Invalid arguments.";var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d",this.getAttribute("d"));var h=s.pathSegList.numberOfItems-1;if(h<=0)return 0;do{if(s.pathSegList.removeItem(h),n>s.getTotalLength())break;h--}while(0<h);return h})),"SVGPathSegList"in window||(window.SVGPathSegList=function(n){this._pathElement=n,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(n){var s;this._pathElement&&(s=!1,n.forEach(function(h){"d"==h.attributeName&&(s=!0)}),s&&(this._list=this._parsePath(this._pathElement.getAttribute("d"))))},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(n){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(n){n._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(n){return this._checkPathSynchronizedToList(),this._list=[n],(n._owningPathSegList=this)._writeListToPath(),n},window.SVGPathSegList.prototype._checkValidIndex=function(n){if(isNaN(n)||n<0||n>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(n){return this._checkPathSynchronizedToList(),this._checkValidIndex(n),this._list[n]},window.SVGPathSegList.prototype.insertItemBefore=function(n,s){return this._checkPathSynchronizedToList(),s>this.numberOfItems&&(s=this.numberOfItems),n._owningPathSegList&&(n=n.clone()),this._list.splice(s,0,n),(n._owningPathSegList=this)._writeListToPath(),n},window.SVGPathSegList.prototype.replaceItem=function(n,s){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._checkValidIndex(s),((this._list[s]=n)._owningPathSegList=this)._writeListToPath(),n},window.SVGPathSegList.prototype.removeItem=function(n){this._checkPathSynchronizedToList(),this._checkValidIndex(n);var s=this._list[n];return this._list.splice(n,1),this._writeListToPath(),s},window.SVGPathSegList.prototype.appendItem=function(n){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._list.push(n),(n._owningPathSegList=this)._writeListToPath(),n},window.SVGPathSegList._pathSegArrayAsString=function(n){var s="",h=!0;return n.forEach(function(f){h?(h=!1,s+=f._asPathString()):s+=" "+f._asPathString()}),s},window.SVGPathSegList.prototype._parsePath=function(n){if(!n||0==n.length)return[];function s(){this.pathSegList=[]}var h=this;function f(M){this._string=M,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()}s.prototype.appendSegment=function(M){this.pathSegList.push(M)},f.prototype._isCurrentSpace=function(){var M=this._string[this._currentIndex];return M<=" "&&(" "==M||"\n"==M||"\t"==M||"\r"==M||"\f"==M)},f.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},f.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},f.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},f.prototype.peekSegmentType=function(){return this._pathSegTypeFromChar(this._string[this._currentIndex])},f.prototype._pathSegTypeFromChar=function(M){switch(M){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},f.prototype._nextCommandHelper=function(M,G){return("+"==M||"-"==M||"."==M||"0"<=M&&M<="9")&&G!=window.SVGPathSeg.PATHSEG_CLOSEPATH?G==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:G==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:G:window.SVGPathSeg.PATHSEG_UNKNOWN},f.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var M=this.peekSegmentType();return M==window.SVGPathSeg.PATHSEG_MOVETO_ABS||M==window.SVGPathSeg.PATHSEG_MOVETO_REL},f.prototype._parseNumber=function(){var M=0,G=0,H=1,V=0,tt=1,ht=1,J=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,tt=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))&&"."!=this._string.charAt(this._currentIndex))){for(var mt=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=mt)for(var At=this._currentIndex-1,Dt=1;mt<=At;)G+=Dt*(this._string.charAt(At--)-"0"),Dt*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)H*=10,V+=(this._string.charAt(this._currentIndex)-"0")/H,this._currentIndex+=1}if(this._currentIndex!=J&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,ht=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)M*=10,M+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var at=G+V;if(at*=tt,M&&(at*=Math.pow(10,ht*M)),J!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),at}},f.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var M=!1,G=this._string.charAt(this._currentIndex++);if("0"==G)M=!1;else{if("1"!=G)return;M=!0}return this._skipOptionalSpacesOrDelimiter(),M}},f.prototype.parseSegment=function(){var M=this._string[this._currentIndex],G=this._pathSegTypeFromChar(M);if(G==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(G=this._nextCommandHelper(M,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=G){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(h,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(h,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(h,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(h,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(h);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var H={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(h,H.x,H.y,H.x1,H.y1,H.x2,H.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return H={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(h,H.x,H.y,H.x1,H.y1,H.x2,H.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return H={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(h,H.x,H.y,H.x2,H.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return H={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(h,H.x,H.y,H.x2,H.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return H={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(h,H.x,H.y,H.x1,H.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return H={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(h,H.x,H.y,H.x1,H.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return H={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(h,H.x,H.y,H.x1,H.y1,H.arcAngle,H.arcLarge,H.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return H={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(h,H.x,H.y,H.x1,H.y1,H.arcAngle,H.arcLarge,H.arcSweep);default:throw"Unknown path seg type."}};var w=new s,C=new f(n);if(!C.initialCommandIsMoveTo())return[];for(;C.hasMoreData();){var E=C.parseSegment();if(!E)return[];w.appendSegment(E)}return w.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(n,s){return n>>=0,s=String(void 0!==s?s:" "),this.length>n?String(this):((n-=this.length)>s.length&&(s+=s.repeat(n/s.length)),String(this)+s.slice(0,n))}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(n,s){if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(n),f=1;f<arguments.length;f++){var w=arguments[f];if(null!=w)for(var C in w)Object.prototype.hasOwnProperty.call(w,C)&&(h[C]=w[C])}return h},writable:!0,configurable:!0}),(Ht.prototype.axis=function(){}).labels=function(n){var s=this.internal;arguments.length&&(Object.keys(n).forEach(function(h){s.axis.setLabelText(h,n[h])}),s.axis.updateLabels())},Ht.prototype.axis.max=function(n){var s=this.internal,h=s.config;if(!arguments.length)return{x:h.axis_x_max,y:h.axis_y_max,y2:h.axis_y2_max};"object"==typeof n?(Pe(n.x)&&(h.axis_x_max=n.x),Pe(n.y)&&(h.axis_y_max=n.y),Pe(n.y2)&&(h.axis_y2_max=n.y2)):h.axis_y_max=h.axis_y2_max=n,s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},Ht.prototype.axis.min=function(n){var s=this.internal,h=s.config;if(!arguments.length)return{x:h.axis_x_min,y:h.axis_y_min,y2:h.axis_y2_min};"object"==typeof n?(Pe(n.x)&&(h.axis_x_min=n.x),Pe(n.y)&&(h.axis_y_min=n.y),Pe(n.y2)&&(h.axis_y2_min=n.y2)):h.axis_y_min=h.axis_y2_min=n,s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},Ht.prototype.axis.range=function(n){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};qe(n.max)&&this.axis.max(n.max),qe(n.min)&&this.axis.min(n.min)},Ht.prototype.axis.types=function(n){var s=this.internal;if(void 0===n)return{y:s.config.axis_y_type,y2:s.config.axis_y2_type};qe(n.y)&&(s.config.axis_y_type=n.y),qe(n.y2)&&(s.config.axis_y2_type=n.y2),s.updateScales(),s.redraw()},Ht.prototype.category=function(n,s){var h=this.internal,f=h.config;return 1<arguments.length&&(f.axis_x_categories[n]=s,h.redraw()),f.axis_x_categories[n]},Ht.prototype.categories=function(n){var s=this.internal,h=s.config;return arguments.length&&(h.axis_x_categories=n,s.redraw()),h.axis_x_categories},Ht.prototype.resize=function(n){var s=this.internal.config;s.size_width=n?n.width:null,s.size_height=n?n.height:null,this.flush()},Ht.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},Ht.prototype.destroy=function(){var n=this.internal;return window.clearInterval(n.intervalForObserveInserted),void 0!==n.resizeTimeout&&window.clearTimeout(n.resizeTimeout),window.removeEventListener("resize",n.resizeIfElementDisplayed),n.resizeFunction.remove(),n.unbindWindowFocus(),n.selectChart.classed("c3",!1).html(""),Object.keys(n).forEach(function(s){n[s]=null}),null},Ht.prototype.color=function(n){return this.internal.color(n)},(Ht.prototype.data=function(n){var s=this.internal.data.targets;return void 0===n?s:s.filter(function(h){return 0<=[].concat(n).indexOf(h.id)})}).shown=function(n){return this.internal.filterTargetsToShow(this.data(n))},Ht.prototype.data.values=function(n,s){void 0===s&&(s=!0);var h,f=null;return!n||(h=this.data(n))&&We(h)&&(f=h.reduce(function(w,C){var E=C.values.map(function(M){return M.value});return s?w=w.concat(E):w.push(E),w},[])),f},Ht.prototype.data.names=function(n){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",n)},Ht.prototype.data.colors=function(n){return this.internal.updateDataAttributes("colors",n)},Ht.prototype.data.axes=function(n){return this.internal.updateDataAttributes("axes",n)},Ht.prototype.data.stackNormalized=function(n){if(void 0===n)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!n,this.internal.redraw()},(Ht.prototype.donut=function(){}).padAngle=function(n){if(void 0===n)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=n,this.flush()},Ht.prototype.flow=function(n){var s,h,f,w,C,E,M,G=this.internal,H=[],V=G.getMaxDataCount(),tt=0,ht=0;if(n.json)h=G.convertJsonToData(n.json,n.keys);else if(n.rows)h=G.convertRowsToData(n.rows);else{if(!n.columns)return;h=G.convertColumnsToData(n.columns)}s=G.convertDataToTargets(h,!0),G.data.targets.forEach(function(J){for(var mt,At=!1,Dt=0;Dt<s.length;Dt++)if(J.id===s[Dt].id){for(At=!0,J.values[J.values.length-1]&&(ht=J.values[J.values.length-1].index+1),tt=s[Dt].values.length,mt=0;mt<tt;mt++)s[Dt].values[mt].index=ht+mt,G.isTimeSeries()||(s[Dt].values[mt].x=ht+mt);J.values=J.values.concat(s[Dt].values),s.splice(Dt,1);break}At||H.push(J.id)}),G.data.targets.forEach(function(J){for(var mt,At=0;At<H.length;At++)if(J.id===H[At])for(ht=J.values[J.values.length-1].index+1,mt=0;mt<tt;mt++)J.values.push({id:J.id,index:ht+mt,x:G.isTimeSeries()?G.getOtherTargetX(ht+mt):ht+mt,value:null})}),G.data.targets.length&&s.forEach(function(J){for(var mt=[],At=G.data.targets[0].values[0].index;At<ht;At++)mt.push({id:J.id,index:At,x:G.isTimeSeries()?G.getOtherTargetX(At):At,value:null});J.values.forEach(function(Dt){Dt.index+=ht,G.isTimeSeries()||(Dt.x+=ht)}),J.values=mt.concat(J.values)}),G.data.targets=G.data.targets.concat(s),G.getMaxDataCount(),C=(w=G.data.targets[0]).values[0],qe(n.to)?(tt=0,M=G.isTimeSeries()?G.parseDate(n.to):n.to,w.values.forEach(function(J){J.x<M&&tt++})):qe(n.length)&&(tt=n.length),V?1===V&&G.isTimeSeries()&&(E=(w.values[w.values.length-1].x-C.x)/2,f=[new Date(C.x-E),new Date(+C.x+E)],G.updateXDomain(null,!0,!0,!1,f)):(E=G.isTimeSeries()?1<w.values.length?w.values[w.values.length-1].x-C.x:C.x-G.getXDomain(G.data.targets)[0]:1,G.updateXDomain(null,!0,!0,!1,f=[C.x-E,C.x])),G.updateTargets(G.data.targets),G.redraw({flow:{index:C.index,length:tt,duration:Pe(n.duration)?n.duration:G.config.transition_duration,done:n.done,orgDataCount:V},withLegend:!0,withTransition:1<V,withTrimXDomain:!1,withUpdateXAxis:!0})},r.prototype.generateFlow=function(n){var s=this,h=s.config,f=s.d3;return function(){var w,C,E,M,G,H,V,tt,ht,J,mt=n.targets,At=n.flow,Dt=n.drawBar,at=n.drawLine,ne=n.drawArea,Et=n.cx,yt=n.cy,Bt=n.xv,le=n.xForText,Kt=n.yForText,Ft=n.duration,se=At.index,$t=At.length,jt=s.getValueOnIndex(s.data.targets[0].values,se),Ne=s.getValueOnIndex(s.data.targets[0].values,se+$t),ye=s.x.domain(),mn=At.duration||Ft,nn=At.done||function(){},Me=s.generateWait();s.flowing=!0,s.data.targets.forEach(function(Ee){Ee.values.splice(0,$t)}),C=s.updateXDomain(mt,!0,!0),s.updateXGrid&&s.updateXGrid(!0),E=s.xgrid||f.selectAll([]),M=s.xgridLines||f.selectAll([]),G=s.mainRegion||f.selectAll([]),H=s.mainText||f.selectAll([]),V=s.mainBar||f.selectAll([]),tt=s.mainLine||f.selectAll([]),ht=s.mainArea||f.selectAll([]),J=s.mainCircle||f.selectAll([]),w="translate("+(At.orgDataCount?1===At.orgDataCount||(jt&&jt.x)===(Ne&&Ne.x)||s.isTimeSeries()?s.x(ye[0])-s.x(C[0]):s.x(jt.x)-s.x(Ne.x):1!==s.data.targets[0].values.length?s.x(ye[0])-s.x(C[0]):s.isTimeSeries()?(jt=s.getValueOnIndex(s.data.targets[0].values,0),Ne=s.getValueOnIndex(s.data.targets[0].values,s.data.targets[0].values.length-1),s.x(jt.x)-s.x(Ne.x)):pe(C)/2)+",0) scale("+pe(ye)/pe(C)+",1)",s.hideXGridFocus();var De=f.transition().ease(f.easeLinear).duration(mn);Me.add(s.xAxis(s.axes.x,De)),Me.add(V.transition(De).attr("transform",w)),Me.add(tt.transition(De).attr("transform",w)),Me.add(ht.transition(De).attr("transform",w)),Me.add(J.transition(De).attr("transform",w)),Me.add(H.transition(De).attr("transform",w)),Me.add(G.filter(s.isRegionOnX).transition(De).attr("transform",w)),Me.add(E.transition(De).attr("transform",w)),Me.add(M.transition(De).attr("transform",w)),Me(function(){var Ee,Xt=[],e=[];if($t){for(Ee=0;Ee<$t;Ee++)Xt.push("."+$.shape+"-"+(se+Ee)),e.push("."+$.text+"-"+(se+Ee));s.svg.selectAll("."+$.shapes).selectAll(Xt).remove(),s.svg.selectAll("."+$.texts).selectAll(e).remove(),s.svg.select("."+$.xgrid).remove()}E.attr("transform",null).attr("x1",s.xgridAttr.x1).attr("x2",s.xgridAttr.x2).attr("y1",s.xgridAttr.y1).attr("y2",s.xgridAttr.y2).style("opacity",s.xgridAttr.opacity),M.attr("transform",null),M.select("line").attr("x1",h.axis_rotated?0:Bt).attr("x2",h.axis_rotated?s.width:Bt),M.select("text").attr("x",h.axis_rotated?s.width:0).attr("y",Bt),V.attr("transform",null).attr("d",Dt),tt.attr("transform",null).attr("d",at),ht.attr("transform",null).attr("d",ne),J.attr("transform",null).attr("cx",Et).attr("cy",yt),H.attr("transform",null).attr("x",le).attr("y",Kt).style("fill-opacity",s.opacityForText.bind(s)),G.attr("transform",null),G.filter(s.isRegionOnX).attr("x",s.regionX.bind(s)).attr("width",s.regionWidth.bind(s)),nn(),s.flowing=!1})}},Ht.prototype.focus=function(n){var s,h=this.internal;n=h.mapToTargetIds(n),s=h.svg.selectAll(h.selectorTargets(n.filter(h.isTargetToShow,h))),this.revert(),this.defocus(),s.classed($.focused,!0).classed($.defocused,!1),h.hasArcType()&&h.expandArc(n),h.toggleFocusLegend(n,!0),h.focusedTargetIds=n,h.defocusedTargetIds=h.defocusedTargetIds.filter(function(f){return n.indexOf(f)<0})},Ht.prototype.defocus=function(n){var s=this.internal;n=s.mapToTargetIds(n),s.svg.selectAll(s.selectorTargets(n.filter(s.isTargetToShow,s))).classed($.focused,!1).classed($.defocused,!0),s.hasArcType()&&s.unexpandArc(n),s.toggleFocusLegend(n,!1),s.focusedTargetIds=s.focusedTargetIds.filter(function(h){return n.indexOf(h)<0}),s.defocusedTargetIds=n},Ht.prototype.revert=function(n){var s=this.internal;n=s.mapToTargetIds(n),s.svg.selectAll(s.selectorTargets(n)).classed($.focused,!1).classed($.defocused,!1),s.hasArcType()&&s.unexpandArc(n),s.config.legend_show&&(s.showLegend(n.filter(s.isLegendToShow.bind(s))),s.legend.selectAll(s.selectorLegends(n)).filter(function(){return s.d3.select(this).classed($.legendItemFocused)}).classed($.legendItemFocused,!1)),s.focusedTargetIds=[],s.defocusedTargetIds=[]},(Ht.prototype.xgrids=function(n){var s=this.internal,h=s.config;return n&&(h.grid_x_lines=n,s.redrawWithoutRescale()),h.grid_x_lines}).add=function(n){return this.xgrids(this.internal.config.grid_x_lines.concat(n||[]))},Ht.prototype.xgrids.remove=function(n){this.internal.removeGridLines(n,!0)},(Ht.prototype.ygrids=function(n){var s=this.internal,h=s.config;return n&&(h.grid_y_lines=n,s.redrawWithoutRescale()),h.grid_y_lines}).add=function(n){return this.ygrids(this.internal.config.grid_y_lines.concat(n||[]))},Ht.prototype.ygrids.remove=function(n){this.internal.removeGridLines(n,!1)},Ht.prototype.groups=function(n){var s=this.internal,h=s.config;return _n(n)||(h.data_groups=n,s.redraw()),h.data_groups},(Ht.prototype.legend=function(){}).show=function(n){var s=this.internal;s.showLegend(s.mapToTargetIds(n)),s.updateAndRedraw({withLegend:!0})},Ht.prototype.legend.hide=function(n){var s=this.internal;s.hideLegend(s.mapToTargetIds(n)),s.updateAndRedraw({withLegend:!1})},Ht.prototype.load=function(n){var s=this.internal,h=s.config;n.xs&&s.addXs(n.xs),"names"in n&&Ht.prototype.data.names.bind(this)(n.names),"classes"in n&&Object.keys(n.classes).forEach(function(f){h.data_classes[f]=n.classes[f]}),"categories"in n&&s.isCategorized()&&(h.axis_x_categories=n.categories),"axes"in n&&Object.keys(n.axes).forEach(function(f){h.data_axes[f]=n.axes[f]}),"colors"in n&&Object.keys(n.colors).forEach(function(f){h.data_colors[f]=n.colors[f]}),"cacheIds"in n&&s.hasCaches(n.cacheIds)?s.load(s.getCaches(n.cacheIds),n.done):n.unload?s.unload(s.mapToTargetIds(!0===n.unload?null:n.unload),function(){s.loadFromArgs(n)}):s.loadFromArgs(n)},Ht.prototype.unload=function(n){var s=this.internal;(n=n||{})instanceof Array?n={ids:n}:"string"==typeof n&&(n={ids:[n]}),s.unload(s.mapToTargetIds(n.ids),function(){s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.done&&n.done()})},(Ht.prototype.pie=function(){}).padAngle=function(n){if(void 0===n)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=n,this.flush()},(Ht.prototype.regions=function(n){var s=this.internal,h=s.config;return n&&(h.regions=n,s.redrawWithoutRescale()),h.regions}).add=function(n){var s=this.internal,h=s.config;return n&&(h.regions=h.regions.concat(n),s.redrawWithoutRescale()),h.regions},Ht.prototype.regions.remove=function(n){var s=this.internal,h=s.config,f=Ct(n=n||{},"duration",h.transition_duration),w=Ct(n,"classes",[$.region]),C=s.main.select("."+$.regions).selectAll(w.map(function(E){return"."+E}));return(f?C.transition().duration(f):C).style("opacity",0).remove(),h.regions=h.regions.filter(function(E){var M=!1;return!E.class||(E.class.split(" ").forEach(function(G){0<=w.indexOf(G)&&(M=!0)}),!M)}),h.regions},Ht.prototype.selected=function(n){var s=this.internal,h=s.d3;return s.main.selectAll("."+$.shapes+s.getTargetSelectorSuffix(n)).selectAll("."+$.shape).filter(function(){return h.select(this).classed($.SELECTED)}).nodes().map(function(f){var w=f.__data__;return w.data?w.data:w})},Ht.prototype.select=function(n,s,h){var f=this.internal,w=f.d3,C=f.config;C.data_selection_enabled&&f.main.selectAll("."+$.shapes).selectAll("."+$.shape).each(function(E,M){var G=w.select(this),H=E.data?E.data.id:E.id,V=f.getToggle(this,E).bind(f),tt=C.data_selection_grouped||!n||0<=n.indexOf(H),ht=!s||0<=s.indexOf(M),J=G.classed($.SELECTED);G.classed($.line)||G.classed($.area)||(tt&&ht?C.data_selection_isselectable(E)&&!J&&V(!0,G.classed($.SELECTED,!0),E,M):qe(h)&&h&&J&&V(!1,G.classed($.SELECTED,!1),E,M))})},Ht.prototype.unselect=function(n,s){var h=this.internal,f=h.d3,w=h.config;w.data_selection_enabled&&h.main.selectAll("."+$.shapes).selectAll("."+$.shape).each(function(C,E){var M=f.select(this),G=C.data?C.data.id:C.id,H=h.getToggle(this,C).bind(h),V=w.data_selection_grouped||!n||0<=n.indexOf(G),tt=!s||0<=s.indexOf(E),ht=M.classed($.SELECTED);M.classed($.line)||M.classed($.area)||V&&tt&&w.data_selection_isselectable(C)&&ht&&H(!1,M.classed($.SELECTED,!1),C,E)})},Ht.prototype.show=function(n,s){var h,f=this.internal;n=f.mapToTargetIds(n),s=s||{},f.removeHiddenTargetIds(n),(h=f.svg.selectAll(f.selectorTargets(n))).transition().style("display",dn()?"block":"initial","important").style("opacity",1,"important").call(f.endall,function(){h.style("opacity",null).style("opacity",1)}),s.withLegend&&f.showLegend(n),f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},Ht.prototype.hide=function(n,s){var h,f=this.internal;n=f.mapToTargetIds(n),s=s||{},f.addHiddenTargetIds(n),(h=f.svg.selectAll(f.selectorTargets(n))).transition().style("opacity",0,"important").call(f.endall,function(){h.style("opacity",null).style("opacity",0),h.style("display","none")}),s.withLegend&&f.hideLegend(n),f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},Ht.prototype.toggle=function(n,s){var h=this,f=this.internal;f.mapToTargetIds(n).forEach(function(w){f.isTargetToShow(w)?h.hide(w,s):h.show(w,s)})},(Ht.prototype.subchart=function(){}).isShown=function(){return this.internal.config.subchart_show},Ht.prototype.subchart.show=function(){var n=this.internal;n.config.subchart_show||(n.config.subchart_show=!0,n.initSubchart(),n.updateDimension(),n.initSubchartBrush(),n.updateTargetsForSubchart(n.getTargets()),n.mapToIds(n.data.targets).forEach(function(s){n.withoutFadeIn[s]=!1}),n.updateAndRedraw(),n.showTargets())},Ht.prototype.subchart.hide=function(){var n=this.internal;n.config.subchart_show&&(n.config.subchart_show=!1,n.removeSubchart(),n.redraw())},(Ht.prototype.tooltip=function(){}).show=function(n){var s,h,f=this.internal,w=n.mouse?n.mouse:(n.data?h=n.data:void 0!==n.x&&(s=n.id?f.data.targets.filter(function(C){return C.id===n.id}):f.data.targets,h=f.filterByX(s,n.x).slice(0,1)[0]),h?f.getMousePosition(h):null);f.dispatchEvent("mousemove",w),f.config.tooltip_onshow.call(f,h)},Ht.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},Ht.prototype.transform=function(n,s){var h=this.internal,f=0<=["pie","donut"].indexOf(n)?{withTransform:!0}:null;h.transformTo(s,n,f)},r.prototype.transformTo=function(n,s,h){var f=this,w=!f.hasArcType(),C=h||{withTransitionForAxis:w};C.withTransitionForTransform=!1,f.transiting=!1,f.setTargetType(n,s),f.updateTargets(f.data.targets),f.updateAndRedraw(C)},Ht.prototype.x=function(n){var s=this.internal;return arguments.length&&(s.updateTargetX(s.data.targets,n),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),s.data.xs},Ht.prototype.xs=function(n){var s=this.internal;return arguments.length&&(s.updateTargetXs(s.data.targets,n),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),s.data.xs},(Ht.prototype.zoom=function(n){var s=this.internal;return n?(s.isTimeSeries()&&(n=n.map(function(h){return s.parseDate(h)})),s.config.subchart_show?s.brush.selectionAsValue(n,!0):(s.updateXDomain(null,!0,!1,!1,n),s.redraw({withY:s.config.zoom_rescale,withSubchart:!1})),s.config.zoom_onzoom.call(this,s.x.orgDomain()),n):s.x.domain()}).enable=function(n){var s=this.internal;s.config.zoom_enabled=n,s.updateAndRedraw()},Ht.prototype.unzoom=function(){var n=this.internal;n.config.subchart_show?n.brush.clear():(n.updateXDomain(null,!0,!1,!1,n.subX.domain()),n.redraw({withY:n.config.zoom_rescale,withSubchart:!1}))},Ht.prototype.zoom.max=function(n){var s=this.internal,h=s.config;if(0!==n&&!n)return h.zoom_x_max;h.zoom_x_max=s.d3.max([s.orgXDomain[1],n])},Ht.prototype.zoom.min=function(n){var s=this.internal,h=s.config;if(0!==n&&!n)return h.zoom_x_min;h.zoom_x_min=s.d3.min([s.orgXDomain[0],n])},Ht.prototype.zoom.range=function(n){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};qe(n.max)&&this.domain.max(n.max),qe(n.min)&&this.domain.min(n.min)},r.prototype.initPie=function(){var n=this;n.pie=n.d3.pie().padAngle(this.getPadAngle.bind(this)).value(function(w){return w.values.reduce(function(C,E){return C+E.value},0)});var h,f=n.getOrderFunction();f&&(n.isOrderAsc()||n.isOrderDesc())&&(h=f,f=function(w,C){return-1*h(w,C)}),n.pie.sort(f||null)},r.prototype.updateRadius=function(){var n=this,s=n.config,h=s.gauge_width||s.donut_width,f=n.filterTargetsToShow(n.data.targets).length*n.config.gauge_arcs_minWidth;n.radiusExpanded=Math.min(n.arcWidth,n.arcHeight)/2*(n.hasType("gauge")?.85:1),n.radius=.95*n.radiusExpanded,n.innerRadiusRatio=h?(n.radius-h)/n.radius:.6,n.innerRadius=n.hasType("donut")||n.hasType("gauge")?n.radius*n.innerRadiusRatio:0,n.gaugeArcWidth=h||(f<=n.radius-n.innerRadius?n.radius-n.innerRadius:f<=n.radius?f:n.radius)},r.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},r.prototype.updateArc=function(){var n=this;n.svgArc=n.getSvgArc(),n.svgArcExpanded=n.getSvgArcExpanded(),n.svgArcExpandedSub=n.getSvgArcExpanded(.98)},r.prototype.updateAngle=function(n){var s,h,f,w,C=this,E=C.config,M=!1,G=0;return E?(C.pie(C.filterTargetsToShow(C.data.targets)).forEach(function(H){M||H.data.id!==n.data.id||(M=!0,(n=H).index=G),G++}),isNaN(n.startAngle)&&(n.startAngle=0),isNaN(n.endAngle)&&(n.endAngle=n.startAngle),C.isGaugeType(n.data)&&(s=E.gauge_min,h=E.gauge_max,f=Math.PI*(E.gauge_fullCircle?2:1)/(h-s),w=n.value<s?0:n.value<h?n.value-s:h-s,n.startAngle=E.gauge_startingAngle,n.endAngle=n.startAngle+f*w),M?n:null):null},r.prototype.getSvgArc=function(){function n(C,E){var M;return E?w(C):(M=s.updateAngle(C))?w(M):"M 0 0"}var s=this,h=s.hasType("gauge"),f=s.gaugeArcWidth/s.filterTargetsToShow(s.data.targets).length,w=s.d3.arc().outerRadius(function(C){return h?s.radius-f*C.index:s.radius}).innerRadius(function(C){return h?s.radius-f*(C.index+1):s.innerRadius});return n.centroid=w.centroid,n},r.prototype.getSvgArcExpanded=function(n){n=n||1;var s=this,h=s.hasType("gauge"),f=s.gaugeArcWidth/s.filterTargetsToShow(s.data.targets).length,w=Math.min(s.radiusExpanded*n-s.radius,.8*f-100*(1-n)),C=s.d3.arc().outerRadius(function(E){return h?s.radius-f*E.index+w:s.radiusExpanded*n}).innerRadius(function(E){return h?s.radius-f*(E.index+1):s.innerRadius});return function(E){var M=s.updateAngle(E);return M?C(M):"M 0 0"}},r.prototype.getArc=function(n,s,h){return h||this.isArcType(n.data)?this.svgArc(n,s):"M 0 0"},r.prototype.transformForArcLabel=function(n){var s,h,f,w,C,E,M=this,G=M.config,H=M.updateAngle(n),V="",tt=M.hasType("gauge");return H&&!tt?(s=this.svgArc.centroid(H),C=isNaN(s[0])?0:s[0],E=isNaN(s[1])?0:s[1],h=Math.sqrt(C*C+E*E),V="translate("+C*(f=M.hasType("donut")&&G.donut_label_ratio?sn(G.donut_label_ratio)?G.donut_label_ratio(n,M.radius,h):G.donut_label_ratio:M.hasType("pie")&&G.pie_label_ratio?sn(G.pie_label_ratio)?G.pie_label_ratio(n,M.radius,h):G.pie_label_ratio:M.radius&&h?(.375<36/M.radius?1.175-36/M.radius:.8)*M.radius/h:0)+","+E*f+")"):H&&tt&&1<M.filterTargetsToShow(M.data.targets).length&&(w=Math.sin(H.endAngle-Math.PI/2),V="translate("+(C=Math.cos(H.endAngle-Math.PI/2)*(M.radiusExpanded+25))+","+(E=w*(M.radiusExpanded+15-Math.abs(10*w))+3)+")"),V},r.prototype.getArcRatio=function(n){return this.getRatio("arc",n)},r.prototype.convertToArcData=function(n){return this.addName({id:n.data.id,value:n.value,ratio:this.getRatio("arc",n),index:n.index})},r.prototype.textForArcLabel=function(n){var s,h,f,w,C,E=this;return E.shouldShowArcLabel()?(h=(s=E.updateAngle(n))?s.value:null,f=E.getRatio("arc",s),w=n.data.id,E.hasType("gauge")||E.meetsArcLabelThreshold(f)?(C=E.getArcLabelFormat())?C(h,f,w):E.defaultArcValueFormat(h,f):""):""},r.prototype.textForGaugeMinMax=function(n,s){var h=this.getGaugeLabelExtents();return h?h(n,s):n},r.prototype.expandArc=function(n){var s,h=this;h.transiting?s=window.setInterval(function(){h.transiting||(window.clearInterval(s),0<h.legend.selectAll(".c3-legend-item-focused").size()&&h.expandArc(n))},10):(n=h.mapToTargetIds(n),h.svg.selectAll(h.selectorTargets(n,"."+$.chartArc)).each(function(f){h.shouldExpand(f.data.id)&&h.d3.select(this).selectAll("path").transition().duration(h.expandDuration(f.data.id)).attr("d",h.svgArcExpanded).transition().duration(2*h.expandDuration(f.data.id)).attr("d",h.svgArcExpandedSub).each(function(w){h.isDonutType(w.data)})}))},r.prototype.unexpandArc=function(n){var s=this;s.transiting||(n=s.mapToTargetIds(n),s.svg.selectAll(s.selectorTargets(n,"."+$.chartArc)).selectAll("path").transition().duration(function(h){return s.expandDuration(h.data.id)}).attr("d",s.svgArc),s.svg.selectAll("."+$.arc))},r.prototype.expandDuration=function(n){var s=this.config;return this.isDonutType(n)?s.donut_expand_duration:this.isGaugeType(n)?s.gauge_expand_duration:this.isPieType(n)?s.pie_expand_duration:50},r.prototype.shouldExpand=function(n){var s=this.config;return this.isDonutType(n)&&s.donut_expand||this.isGaugeType(n)&&s.gauge_expand||this.isPieType(n)&&s.pie_expand},r.prototype.shouldShowArcLabel=function(){var n=this.config,s=!0;return this.hasType("donut")?s=n.donut_label_show:this.hasType("pie")&&(s=n.pie_label_show),s},r.prototype.meetsArcLabelThreshold=function(n){var s=this.config;return(this.hasType("donut")?s.donut_label_threshold:s.pie_label_threshold)<=n},r.prototype.getArcLabelFormat=function(){var n=this.config,s=n.pie_label_format;return this.hasType("gauge")?s=n.gauge_label_format:this.hasType("donut")&&(s=n.donut_label_format),s},r.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},r.prototype.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},r.prototype.updateTargetsForArc=function(n){var s=this,h=s.main,f=s.classChartArc.bind(s),w=s.classArcs.bind(s),C=s.classFocus.bind(s),E=h.select("."+$.chartArcs).selectAll("."+$.chartArc).data(s.pie(n)).attr("class",function(M){return f(M)+C(M.data)}).enter().append("g").attr("class",f);E.append("g").attr("class",w),E.append("text").attr("dy",s.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},r.prototype.initArc=function(){var n=this;n.arcs=n.main.select("."+$.chart).append("g").attr("class",$.chartArcs).attr("transform",n.getTranslate("arc")),n.arcs.append("text").attr("class",$.chartArcsTitle).style("text-anchor","middle").text(n.getArcTitle())},r.prototype.redrawArc=function(n,s,h){var f,w,C,E,M=this,G=M.d3,H=M.config,V=M.main,tt=M.hasType("gauge"),ht=V.selectAll("."+$.arcs).selectAll("."+$.arc).data(M.arcData.bind(M)),J=ht.enter().append("path").attr("class",M.classArc.bind(M)).style("fill",function(mt){return M.color(mt.data)}).style("cursor",function(mt){return H.interaction_enabled&&H.data_selection_isselectable(mt)?"pointer":null}).each(function(mt){M.isGaugeType(mt.data)&&(mt.startAngle=mt.endAngle=H.gauge_startingAngle),this._current=mt}).merge(ht);tt&&(w=(f=V.selectAll("."+$.arcs).selectAll("."+$.arcLabelLine).data(M.arcData.bind(M))).enter().append("rect").attr("class",function(mt){return $.arcLabelLine+" "+$.target+" "+$.target+"-"+mt.data.id}).merge(f),1===M.filterTargetsToShow(M.data.targets).length?w.style("display","none"):w.style("fill",function(mt){return M.levelColor?M.levelColor(mt.data.values.reduce(function(At,Dt){return At+Dt.value},0)):M.color(mt.data)}).style("display",H.gauge_labelLine_show?"":"none").each(function(mt){var At,Dt,at,ne,Et,yt=0,Bt=0,le=0,Kt="";M.hiddenTargetIds.indexOf(mt.data.id)<0&&(At=M.updateAngle(mt),Dt=M.gaugeArcWidth/M.filterTargetsToShow(M.data.targets).length*(At.index+1),Et=(at=At.endAngle-Math.PI/2)-(0==(ne=M.radius-Dt)?0:1/ne),yt=M.radiusExpanded-M.radius+Dt,Bt=Math.cos(Et)*ne,le=Math.sin(Et)*ne,Kt="rotate("+180*at/Math.PI+", "+Bt+", "+le+")"),G.select(this).attr("x",Bt).attr("y",le).attr("width",yt).attr("height",2).attr("transform",Kt).style("stroke-dasharray","0, "+(yt+2)+", 0")})),J.attr("transform",function(mt){return!M.isGaugeType(mt.data)&&h?"scale(0)":""}).on("mouseover",H.interaction_enabled?function(mt){var At,Dt;M.transiting||(At=M.updateAngle(mt))&&(Dt=M.convertToArcData(At),M.expandArc(At.data.id),M.api.focus(At.data.id),M.toggleFocusLegend(At.data.id,!0),M.config.data_onmouseover(Dt,this))}:null).on("mousemove",H.interaction_enabled?function(mt){var At,Dt=M.updateAngle(mt);Dt&&(At=[M.convertToArcData(Dt)],M.showTooltip(At,this))}:null).on("mouseout",H.interaction_enabled?function(mt){var At,Dt;M.transiting||(At=M.updateAngle(mt))&&(Dt=M.convertToArcData(At),M.unexpandArc(At.data.id),M.api.revert(),M.revertLegend(),M.hideTooltip(),M.config.data_onmouseout(Dt,this))}:null).on("click",H.interaction_enabled?function(mt,At){var Dt,at=M.updateAngle(mt);at&&(Dt=M.convertToArcData(at),M.toggleShape&&M.toggleShape(this,Dt,At),M.config.data_onclick.call(M.api,Dt,this))}:null).each(function(){M.transiting=!0}).transition().duration(n).attrTween("d",function(mt){var At,Dt=M.updateAngle(mt);return Dt?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),At=G.interpolate(this._current,Dt),this._current=At(0),function(at){if(null===M.config)return"M 0 0";var ne=At(at);return ne.data=mt.data,M.getArc(ne,!0)}):function(){return"M 0 0"}}).attr("transform",h?"scale(1)":"").style("fill",function(mt){return M.levelColor?M.levelColor(mt.data.values.reduce(function(At,Dt){return At+Dt.value},0)):M.color(mt.data.id)}).call(M.endall,function(){M.transiting=!1}),ht.exit().transition().duration(s).style("opacity",0).remove(),V.selectAll("."+$.chartArc).select("text").style("opacity",0).attr("class",function(mt){return M.isGaugeType(mt.data)?$.gaugeValue:""}).text(M.textForArcLabel.bind(M)).attr("transform",M.transformForArcLabel.bind(M)).style("font-size",function(mt){return M.isGaugeType(mt.data)&&1===M.filterTargetsToShow(M.data.targets).length?Math.round(M.radius/5)+"px":""}).transition().duration(n).style("opacity",function(mt){return M.isTargetToShow(mt.data.id)&&M.isArcType(mt.data)?1:0}),V.select("."+$.chartArcsTitle).style("opacity",M.hasType("donut")||tt?1:0),tt&&(C=0,(E=M.arcs.select("g."+$.chartArcsBackground).selectAll("path."+$.chartArcsBackground).data(M.data.targets)).enter().append("path").attr("class",function(mt,At){return $.chartArcsBackground+" "+$.chartArcsBackground+"-"+At}).merge(E).attr("d",function(mt){if(0<=M.hiddenTargetIds.indexOf(mt.id))return"M 0 0";var At={data:[{value:H.gauge_max}],startAngle:H.gauge_startingAngle,endAngle:-1*H.gauge_startingAngle*(H.gauge_fullCircle?Math.PI:1),index:C++};return M.getArc(At,!0,!0)}),E.exit().remove(),M.arcs.select("."+$.chartArcsGaugeUnit).attr("dy",".75em").text(H.gauge_label_show?H.gauge_units:""),M.arcs.select("."+$.chartArcsGaugeMin).attr("dx",-1*(M.innerRadius+(M.radius-M.innerRadius)/(H.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(H.gauge_label_show?M.textForGaugeMinMax(H.gauge_min,!1):""),M.arcs.select("."+$.chartArcsGaugeMax).attr("dx",M.innerRadius+(M.radius-M.innerRadius)/(H.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(H.gauge_label_show?M.textForGaugeMinMax(H.gauge_max,!0):""))},r.prototype.initGauge=function(){var n=this.arcs;this.hasType("gauge")&&(n.append("g").attr("class",$.chartArcsBackground),n.append("text").attr("class",$.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),n.append("text").attr("class",$.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),n.append("text").attr("class",$.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},r.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},r.prototype.addToCache=function(n,s){this.cache["$"+n]=s},r.prototype.getFromCache=function(n){return this.cache["$"+n]},r.prototype.resetCache=function(){var n=this;Object.keys(this.cache).filter(function(s){return/^\$/.test(s)}).forEach(function(s){delete n.cache[s]})},r.prototype.hasCaches=function(n){for(var s=0;s<n.length;s++)if(!(n[s]in this.cache))return!1;return!0},r.prototype.addCache=function(n,s){this.cache[n]=this.cloneTarget(s)},r.prototype.getCaches=function(n){for(var s=[],h=0;h<n.length;h++)n[h]in this.cache&&s.push(this.cloneTarget(this.cache[n[h]]));return s},r.prototype.categoryName=function(n){var s=this.config;return n<s.axis_x_categories.length?s.axis_x_categories[n]:n},r.prototype.generateTargetClass=function(n){return n||0===n?("-"+n).replace(/\s/g,"-"):""},r.prototype.generateClass=function(n,s){return" "+n+" "+n+this.generateTargetClass(s)},r.prototype.classText=function(n){return this.generateClass($.text,n.index)},r.prototype.classTexts=function(n){return this.generateClass($.texts,n.id)},r.prototype.classShape=function(n){return this.generateClass($.shape,n.index)},r.prototype.classShapes=function(n){return this.generateClass($.shapes,n.id)},r.prototype.classLine=function(n){return this.classShape(n)+this.generateClass($.line,n.id)},r.prototype.classLines=function(n){return this.classShapes(n)+this.generateClass($.lines,n.id)},r.prototype.classCircle=function(n){return this.classShape(n)+this.generateClass($.circle,n.index)},r.prototype.classCircles=function(n){return this.classShapes(n)+this.generateClass($.circles,n.id)},r.prototype.classBar=function(n){return this.classShape(n)+this.generateClass($.bar,n.index)},r.prototype.classBars=function(n){return this.classShapes(n)+this.generateClass($.bars,n.id)},r.prototype.classArc=function(n){return this.classShape(n.data)+this.generateClass($.arc,n.data.id)},r.prototype.classArcs=function(n){return this.classShapes(n.data)+this.generateClass($.arcs,n.data.id)},r.prototype.classArea=function(n){return this.classShape(n)+this.generateClass($.area,n.id)},r.prototype.classAreas=function(n){return this.classShapes(n)+this.generateClass($.areas,n.id)},r.prototype.classRegion=function(n,s){return this.generateClass($.region,s)+" "+("class"in n?n.class:"")},r.prototype.classEvent=function(n){return this.generateClass($.eventRect,n.index)},r.prototype.classTarget=function(n){var s=this.config.data_classes[n],h=s?" "+$.target+"-"+s:"";return this.generateClass($.target,n)+h},r.prototype.classFocus=function(n){return this.classFocused(n)+this.classDefocused(n)},r.prototype.classFocused=function(n){return" "+(0<=this.focusedTargetIds.indexOf(n.id)?$.focused:"")},r.prototype.classDefocused=function(n){return" "+(0<=this.defocusedTargetIds.indexOf(n.id)?$.defocused:"")},r.prototype.classChartText=function(n){return $.chartText+this.classTarget(n.id)},r.prototype.classChartLine=function(n){return $.chartLine+this.classTarget(n.id)},r.prototype.classChartBar=function(n){return $.chartBar+this.classTarget(n.id)},r.prototype.classChartArc=function(n){return $.chartArc+this.classTarget(n.data.id)},r.prototype.getTargetSelectorSuffix=function(n){var s=this.generateTargetClass(n);return window.CSS&&window.CSS.escape?window.CSS.escape(s):s.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},r.prototype.selectorTarget=function(n,s){return(s||"")+"."+$.target+this.getTargetSelectorSuffix(n)},r.prototype.selectorTargets=function(n,s){var h=this;return(n=n||[]).length?n.map(function(f){return h.selectorTarget(f,s)}):null},r.prototype.selectorLegend=function(n){return"."+$.legendItem+this.getTargetSelectorSuffix(n)},r.prototype.selectorLegends=function(n){var s=this;return n&&n.length?n.map(function(h){return s.selectorLegend(h)}):null},r.prototype.getClipPath=function(n){return"url("+(dn(9)?"":document.URL.split("#")[0])+"#"+n+")"},r.prototype.appendClip=function(n,s){return n.append("clipPath").attr("id",s).append("rect")},r.prototype.getAxisClipX=function(n){var s=Math.max(30,this.margin.left);return n?-(1+s):-(s-1)},r.prototype.getAxisClipY=function(n){return n?-20:-this.margin.top},r.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},r.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},r.prototype.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},r.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},r.prototype.getAxisClipWidth=function(n){var s=Math.max(30,this.margin.left),h=Math.max(30,this.margin.right);return n?this.width+2+s+h:this.margin.left+20},r.prototype.getAxisClipHeight=function(n){return(n?this.margin.bottom:this.margin.top+this.height)+20},r.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},r.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},r.prototype.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},r.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},r.prototype.generateColor=function(){var n=this.config,s=this.d3,h=n.data_colors,f=ue(n.color_pattern)?n.color_pattern:s.schemeCategory10,w=n.data_color,C=[];return function(E){var M,G=E.id||E.data&&E.data.id||E;return h[G]instanceof Function?M=h[G](E):h[G]?M=h[G]:(C.indexOf(G)<0&&C.push(G),M=f[C.indexOf(G)%f.length],h[G]=M),w instanceof Function?w(M,E):M}},r.prototype.generateLevelColor=function(){var n=this.config,s=n.color_pattern,h=n.color_threshold,f="value"===h.unit,w=h.values&&h.values.length?h.values:[],C=h.max||100;return ue(h)&&ue(s)?function(E){for(var M=s[s.length-1],G=0;G<w.length;G++)if((f?E:100*E/C)<w[G]){M=s[G];break}return M}:null},r.prototype.getDefaultConfig=function(){var n={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(s){return s},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(s,h,f,w){return this.getTooltipContent?this.getTooltipContent(s,h,f,w):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(s){n[s]=this.additionalConfig[s]},this),n},r.prototype.additionalConfig={},r.prototype.loadConfig=function(n){var s,h,f,w=this.config;Object.keys(w).forEach(function(C){s=n,h=C.split("_"),f=function E(){var M=h.shift();return M&&s&&"object"==typeof s&&M in s?(s=s[M],E()):M?void 0:s}(),qe(f)&&(w[C]=f)})},r.prototype.convertUrlToData=function(n,s,h,f,w){var C,E=this,M=s||"csv",G="json"===M?(C=E.d3.json,E.convertJsonToData):(C="tsv"===M?E.d3.tsv:E.d3.csv,E.convertXsvToData);C(n,h).then(function(H){w.call(E,G.call(E,H,f))}).catch(function(H){throw H})},r.prototype.convertXsvToData=function(n){var s=n.columns;return 0===n.length?{keys:s,rows:[s.reduce(function(h,f){var w;return Object.assign(h,((w={})[f]=null,w))},{})]}:{keys:s,rows:[].concat(n)}},r.prototype.convertJsonToData=function(n,s){var h,f=this,w=[];return s?(s.x?(h=s.value.concat(s.x),f.config.data_x=s.x):h=s.value,w.push(h),n.forEach(function(E){var M=[];h.forEach(function(G){var H=f.findValueInJson(E,G);_n(H)&&(H=null),M.push(H)}),w.push(M)}),f.convertRowsToData(w)):(Object.keys(n).forEach(function(E){w.push([E].concat(n[E]))}),f.convertColumnsToData(w))},r.prototype.findValueInJson=function(n,s){if(s in n)return n[s];for(var h=(s=(s=s.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),f=0;f<h.length;++f){var w=h[f];if(!(w in n))return;n=n[w]}return n},r.prototype.convertRowsToData=function(n){for(var s=[],h=n[0],f=1;f<n.length;f++){for(var w={},C=0;C<n[f].length;C++){if(_n(n[f][C]))throw new Error("Source data is missing a component at ("+f+","+C+")!");w[h[C]]=n[f][C]}s.push(w)}return{keys:h,rows:s}},r.prototype.convertColumnsToData=function(n){for(var s=[],h=[],f=0;f<n.length;f++){for(var w=n[f][0],C=1;C<n[f].length;C++){if(_n(s[C-1])&&(s[C-1]={}),_n(n[f][C]))throw new Error("Source data is missing a component at ("+f+","+C+")!");s[C-1][w]=n[f][C]}h.push(w)}return{keys:h,rows:s}},r.prototype.convertDataToTargets=function(n,s){var h,f,w,C,E,M=this,G=M.config;if(We(n)?C=Object.keys(n[0]):(C=n.keys,n=n.rows),w=C.filter(M.isX,M),M.isStanfordGraphType()){if(E=C.filter(M.isEpochs,M),f=C.filter(M.isNotXAndNotEpochs,M),1!==w.length||1!==E.length||1!==f.length)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams")}else f=C.filter(M.isNotX,M);return f.forEach(function(H){var V=M.getXKey(H);M.isCustomX()||M.isTimeSeries()?0<=w.indexOf(V)?M.data.xs[H]=(s&&M.data.xs[H]?M.data.xs[H]:[]).concat(n.map(function(tt){return tt[V]}).filter(Pe).map(function(tt,ht){return M.generateTargetX(tt,H,ht)})):G.data_x?M.data.xs[H]=M.getOtherTargetXs():ue(G.data_xs)&&(M.data.xs[H]=M.getXValuesOfXKey(V,M.data.targets)):M.data.xs[H]=n.map(function(tt,ht){return ht})}),f.forEach(function(H){if(!M.data.xs[H])throw new Error('x is not defined for id = "'+H+'".')}),(h=f.map(function(H,V){var tt=G.data_idConverter(H);return{id:tt,id_org:H,values:n.map(function(ht,J){var mt,At,Dt=ht[M.getXKey(H)],at=null===ht[H]||isNaN(ht[H])?null:+ht[H];return M.isCustomX()&&M.isCategorized()&&!_n(Dt)?(0===V&&0===J&&(G.axis_x_categories=[]),-1===(mt=G.axis_x_categories.indexOf(Dt))&&(mt=G.axis_x_categories.length,G.axis_x_categories.push(Dt))):mt=M.generateTargetX(Dt,H,J),(_n(ht[H])||M.data.xs[H].length<=J)&&(mt=void 0),At={x:mt,value:at,id:tt},M.isStanfordGraphType()&&(At.epochs=ht[E]),At}).filter(function(ht){return qe(ht.x)})}})).forEach(function(H){var V;G.data_xSort&&(H.values=H.values.sort(function(tt,ht){return(tt.x||0===tt.x?tt.x:1/0)-(ht.x||0===ht.x?ht.x:1/0)})),V=0,H.values.forEach(function(tt){tt.index=V++}),M.data.xs[H.id].sort(function(tt,ht){return tt-ht})}),M.hasNegativeValue=M.hasNegativeValueInTargets(h),M.hasPositiveValue=M.hasPositiveValueInTargets(h),G.data_type&&M.setTargetType(M.mapToIds(h).filter(function(H){return!(H in G.data_types)}),G.data_type),h.forEach(function(H){M.addCache(H.id_org,H)}),h},r.prototype.isEpochs=function(n){var s=this.config;return s.data_epochs&&n===s.data_epochs},r.prototype.isX=function(n){var s,h,f,w=this.config;return w.data_x&&n===w.data_x||ue(w.data_xs)&&(s=w.data_xs,h=n,f=!1,Object.keys(s).forEach(function(C){s[C]===h&&(f=!0)}),f)},r.prototype.isNotX=function(n){return!this.isX(n)},r.prototype.isNotXAndNotEpochs=function(n){return!this.isX(n)&&!this.isEpochs(n)},r.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&0<this.config.data_groups.length},r.prototype.isAxisNormalized=function(n){var s=this;return!!s.isStackNormalized()&&s.data.targets.filter(function(h){return s.axis.getId(h.id)===n}).some(function(h){return s.isTargetNormalized(h.id)})},r.prototype.isTargetNormalized=function(n){return this.isStackNormalized()&&this.config.data_groups.some(function(s){return s.includes(n)})},r.prototype.getXKey=function(n){var s=this.config;return s.data_x?s.data_x:ue(s.data_xs)?s.data_xs[n]:null},r.prototype.getTotalPerIndex=function(n){var s=this;if(!s.isStackNormalized())return null;var h=s.getFromCache("getTotalPerIndex");if(void 0!==h)return h[n];var f={y:[],y2:[]};return s.data.targets.filter(function(w){return s.isTargetNormalized(w.id)}).filter(function(w){return s.isTargetToShow(w.id)}).forEach(function(w){var C=f[s.axis.getId(w.id)];w.values.forEach(function(E,M){C[M]||(C[M]=0),C[M]+=On(E.value)?E.value:0})}),s.addToCache("getTotalPerIndex",f),f[n]},r.prototype.getTotalDataSum=function(){var n=this,s=n.getFromCache("getTotalDataSum");if(void 0!==s)return s;var h,f=(h=n.data.targets.filter(function(w){return n.isTargetToShow(w.id)}).map(function(w){return w.values}),(Array.isArray(h)?[].concat.apply([],h):[]).map(function(w){return w.value}).reduce(function(w,C){return w+C},0));return n.addToCache("getTotalDataSum",f),f},r.prototype.getXValuesOfXKey=function(n,s){var h,f=this;return(s&&ue(s)?f.mapToIds(s):[]).forEach(function(w){f.getXKey(w)===n&&(h=f.data.xs[w])}),h},r.prototype.getXValue=function(n,s){return n in this.data.xs&&this.data.xs[n]&&Pe(this.data.xs[n][s])?this.data.xs[n][s]:s},r.prototype.getOtherTargetXs=function(){var n=Object.keys(this.data.xs);return n.length?this.data.xs[n[0]]:null},r.prototype.getOtherTargetX=function(n){var s=this.getOtherTargetXs();return s&&n<s.length?s[n]:null},r.prototype.addXs=function(n){var s=this;Object.keys(n).forEach(function(h){s.config.data_xs[h]=n[h]})},r.prototype.addName=function(n){var s;return n&&(n.name=void 0!==(s=this.config.data_names[n.id])?s:n.id),n},r.prototype.getValueOnIndex=function(n,s){var h=n.filter(function(f){return f.index===s});return h.length?h[0]:null},r.prototype.updateTargetX=function(n,s){var h=this;n.forEach(function(f){f.values.forEach(function(w,C){w.x=h.generateTargetX(s[C],f.id,C)}),h.data.xs[f.id]=s})},r.prototype.updateTargetXs=function(n,s){var h=this;n.forEach(function(f){s[f.id]&&h.updateTargetX([f],s[f.id])})},r.prototype.generateTargetX=function(n,s,h){var f=this;return f.isTimeSeries()?f.parseDate(n||f.getXValue(s,h)):f.isCustomX()&&!f.isCategorized()?Pe(n)?+n:f.getXValue(s,h):h},r.prototype.cloneTarget=function(n){return{id:n.id,id_org:n.id_org,values:n.values.map(function(s){return{x:s.x,value:s.value,id:s.id}})}},r.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(n){return n.values.length})},r.prototype.mapToIds=function(n){return n.map(function(s){return s.id})},r.prototype.mapToTargetIds=function(n){return n?[].concat(n):this.mapToIds(this.data.targets)},r.prototype.hasTarget=function(n,s){for(var h=this.mapToIds(n),f=0;f<h.length;f++)if(h[f]===s)return!0;return!1},r.prototype.isTargetToShow=function(n){return this.hiddenTargetIds.indexOf(n)<0},r.prototype.isLegendToShow=function(n){return this.hiddenLegendIds.indexOf(n)<0},r.prototype.getTargetsToShow=function(){return this.filterTargetsToShow(this.data.targets)},r.prototype.filterTargetsToShow=function(n){var s=this;return n.filter(function(h){return s.isTargetToShow(h.id)})},r.prototype.getTargets=function(){return this.data.targets},r.prototype.mapTargetsToUniqueXs=function(n){var s=this.d3.set(this.d3.merge(n.map(function(h){return h.values.map(function(f){return+f.x})}))).values();return(s=this.isTimeSeries()?s.map(function(h){return new Date(+h)}):s.map(function(h){return+h})).sort(function(h,f){return h<f?-1:f<h?1:f<=h?0:NaN})},r.prototype.addHiddenTargetIds=function(n){n=n instanceof Array?n:new Array(n);for(var s=0;s<n.length;s++)this.hiddenTargetIds.indexOf(n[s])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(n[s]));this.resetCache()},r.prototype.removeHiddenTargetIds=function(n){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(s){return n.indexOf(s)<0}),this.resetCache()},r.prototype.addHiddenLegendIds=function(n){n=n instanceof Array?n:new Array(n);for(var s=0;s<n.length;s++)this.hiddenLegendIds.indexOf(n[s])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(n[s]))},r.prototype.removeHiddenLegendIds=function(n){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(s){return n.indexOf(s)<0})},r.prototype.getValuesAsIdKeyed=function(n){var s={};return n.forEach(function(h){s[h.id]=[],h.values.forEach(function(f){s[h.id].push(f.value)})}),s},r.prototype.checkValueInTargets=function(n,s){for(var h,f,w=Object.keys(n),C=0;C<w.length;C++)for(f=n[w[C]].values,h=0;h<f.length;h++)if(s(f[h].value))return!0;return!1},r.prototype.hasNegativeValueInTargets=function(n){return this.checkValueInTargets(n,function(s){return s<0})},r.prototype.hasPositiveValueInTargets=function(n){return this.checkValueInTargets(n,function(s){return 0<s})},r.prototype.isOrderDesc=function(){var n=this.config;return"string"==typeof n.data_order&&"desc"===n.data_order.toLowerCase()},r.prototype.isOrderAsc=function(){var n=this.config;return"string"==typeof n.data_order&&"asc"===n.data_order.toLowerCase()},r.prototype.getOrderFunction=function(){var n=this.config,s=this.isOrderAsc(),h=this.isOrderDesc();if(s||h){var f=function(C,E){return C+Math.abs(E.value)};return function(C,E){var M=C.values.reduce(f,0),G=E.values.reduce(f,0);return s?G-M:M-G}}if(sn(n.data_order))return n.data_order;if(We(n.data_order)){var w=n.data_order;return function(C,E){return w.indexOf(C.id)-w.indexOf(E.id)}}},r.prototype.orderTargets=function(n){var s=this.getOrderFunction();return s&&n.sort(s),n},r.prototype.filterByIndex=function(n,s){return this.d3.merge(n.map(function(h){return h.values.filter(function(f){return f.index===s})}))},r.prototype.filterByX=function(n,s){return this.d3.merge(n.map(function(h){return h.values})).filter(function(h){return h.x-s==0})},r.prototype.filterRemoveNull=function(n){return n.filter(function(s){return Pe(s.value)})},r.prototype.filterByXDomain=function(n,s){return n.map(function(h){return{id:h.id,id_org:h.id_org,values:h.values.filter(function(f){return s[0]<=f.x&&f.x<=s[1]})}})},r.prototype.hasDataLabel=function(){var n=this.config;return!("boolean"!=typeof n.data_labels||!n.data_labels)||!("object"!=typeof n.data_labels||!ue(n.data_labels))},r.prototype.getDataLabelLength=function(n,s,h){var f=this,w=[0,0];return f.selectChart.select("svg").selectAll(".dummy").data([n,s]).enter().append("text").text(function(C){return f.dataLabelFormat(C.id)(C)}).each(function(C,E){w[E]=1.3*Vt(this)[h]}).remove(),w},r.prototype.isNoneArc=function(n){return this.hasTarget(this.data.targets,n.id)},r.prototype.isArc=function(n){return"data"in n&&this.hasTarget(this.data.targets,n.data.id)},r.prototype.findClosestFromTargets=function(n,s){var h=this,f=n.map(function(w){return h.findClosest(w.values,s,h.config.tooltip_horizontal?h.horizontalDistance.bind(h):h.dist.bind(h),h.config.point_sensitivity)}).filter(function(w){return w});return 0===f.length?void 0:1===f.length?f[0]:h.findClosest(f,s,h.dist.bind(h))},r.prototype.findClosestFromTargetsByX=function(n,s){var h,f;return n.forEach(function(w){w.values.forEach(function(C){var E=Math.abs(s-C.x);(void 0===f||E<f)&&(h=C,f=E)})}),h},r.prototype.findClosest=function(n,s,h,f){void 0===f&&(f=1/0);var w,C=this;return n.filter(function(E){return E&&C.isBarType(E.id)}).forEach(function(E){var M;w||(M=C.main.select("."+$.bars+C.getTargetSelectorSuffix(E.id)+" ."+$.bar+"-"+E.index).node(),C.isWithinBar(s,M)&&(w=E))}),n.filter(function(E){return E&&!C.isBarType(E.id)}).forEach(function(E){var M=h(E,s);M<f&&(f=M,w=E)}),w},r.prototype.dist=function(n,s){var h=this.config,f=h.axis_rotated?1:0,w=h.axis_rotated?0:1,C=this.circleY(n,n.index),E=this.x(n.x);return Math.sqrt(Math.pow(E-s[f],2)+Math.pow(C-s[w],2))},r.prototype.horizontalDistance=function(n,s){var h=this.config.axis_rotated?1:0,f=this.x(n.x);return Math.abs(f-s[h])},r.prototype.convertValuesToStep=function(n){var s,h=[].concat(n);if(!this.isCategorized())return n;for(s=n.length+1;0<s;s--)h[s]=h[s-1];return h[0]={x:h[0].x-1,value:h[0].value,id:h[0].id},h[n.length+1]={x:h[n.length].x+1,value:h[n.length].value,id:h[n.length].id},h},r.prototype.getRatio=function(n,s,h){void 0===h&&(h=!1);var f,w=this,C=w.api,E=0;return s&&C.data.shown.call(C).length&&(E=s.ratio||s.value,"arc"===n?E=w.hasType("gauge")?(s.endAngle-s.startAngle)/(Math.PI*(w.config.gauge_fullCircle?2:1)):(f=w.getTotalDataSum(),s.value/f):"index"===n&&(f=w.getTotalPerIndex(w.axis.getId(s.id)),s.ratio=On(s.value)&&f&&0<f[s.index]?s.value/f[s.index]:0,E=s.ratio)),h&&E?100*E:E},r.prototype.updateDataAttributes=function(n,s){var h=this.config["data_"+n];return void 0===s||(Object.keys(s).forEach(function(f){h[f]=s[f]}),this.redraw({withLegend:!0})),h},r.prototype.load=function(n,s){var h=this;n&&(s.filter&&(n=n.filter(s.filter)),(s.type||s.types)&&n.forEach(function(f){h.setTargetType(f.id,s.types&&s.types[f.id]?s.types[f.id]:s.type)}),h.data.targets.forEach(function(f){for(var w=0;w<n.length;w++)if(f.id===n[w].id){f.values=n[w].values,n.splice(w,1);break}}),h.data.targets=h.data.targets.concat(n)),h.updateTargets(h.data.targets),h.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),s.done&&s.done()},r.prototype.loadFromArgs=function(n){var s=this;s.resetCache(),n.data?s.load(s.convertDataToTargets(n.data),n):n.url?s.convertUrlToData(n.url,n.mimeType,n.headers,n.keys,function(h){s.load(s.convertDataToTargets(h),n)}):s.load(n.json?s.convertDataToTargets(s.convertJsonToData(n.json,n.keys)):n.rows?s.convertDataToTargets(s.convertRowsToData(n.rows)):n.columns?s.convertDataToTargets(s.convertColumnsToData(n.columns)):null,n)},r.prototype.unload=function(n,s){var h=this;h.resetCache(),s=s||function(){},(n=n.filter(function(f){return h.hasTarget(h.data.targets,f)}))&&0!==n.length?(h.svg.selectAll(n.map(function(f){return h.selectorTarget(f)})).transition().style("opacity",0).remove().call(h.endall,s),n.forEach(function(f){h.withoutFadeIn[f]=!1,h.legend&&h.legend.selectAll("."+$.legendItem+h.getTargetSelectorSuffix(f)).remove(),h.data.targets=h.data.targets.filter(function(w){return w.id!==f})})):s()},r.prototype.getYDomainMin=function(n){var s,h,f,w,C,E,M=this,G=M.config,H=M.mapToIds(n),V=M.getValuesAsIdKeyed(n);if(0<G.data_groups.length)for(E=M.hasNegativeValueInTargets(n),s=0;s<G.data_groups.length;s++)if(0!==(w=G.data_groups[s].filter(function(tt){return 0<=H.indexOf(tt)})).length)for(f=w[0],E&&V[f]&&V[f].forEach(function(tt,ht){V[f][ht]=tt<0?tt:0}),h=1;h<w.length;h++)V[C=w[h]]&&V[C].forEach(function(tt,ht){M.axis.getId(C)!==M.axis.getId(f)||!V[f]||E&&0<+tt||(V[f][ht]+=+tt)});return M.d3.min(Object.keys(V).map(function(tt){return M.d3.min(V[tt])}))},r.prototype.getYDomainMax=function(n){var s,h,f,w,C,E,M=this,G=M.config,H=M.mapToIds(n),V=M.getValuesAsIdKeyed(n);if(0<G.data_groups.length)for(E=M.hasPositiveValueInTargets(n),s=0;s<G.data_groups.length;s++)if(0!==(w=G.data_groups[s].filter(function(tt){return 0<=H.indexOf(tt)})).length)for(f=w[0],E&&V[f]&&V[f].forEach(function(tt,ht){V[f][ht]=0<tt?tt:0}),h=1;h<w.length;h++)V[C=w[h]]&&V[C].forEach(function(tt,ht){M.axis.getId(C)!==M.axis.getId(f)||!V[f]||E&&+tt<0||(V[f][ht]+=+tt)});return M.d3.max(Object.keys(V).map(function(tt){return M.d3.max(V[tt])}))},r.prototype.getYDomain=function(n,s,h){var f=this,w=f.config;if(f.isAxisNormalized(s))return[0,100];var C,E,M,G,H,V,tt,ht,J,mt,At,Dt=n.filter(function(jt){return f.axis.getId(jt.id)===s}),at=h?f.filterByXDomain(Dt,h):Dt,ne="y2"===s?w.axis_y2_min:w.axis_y_min,Et="y2"===s?w.axis_y2_max:w.axis_y_max,yt=f.getYDomainMin(at),Bt=f.getYDomainMax(at),le="y2"===s?w.axis_y2_center:w.axis_y_center,Kt=f.hasType("bar",at)&&w.bar_zerobased||f.hasType("area",at)&&w.area_zerobased,Ft="y2"===s?w.axis_y2_inverted:w.axis_y_inverted,se=f.hasDataLabel()&&w.axis_rotated,$t=f.hasDataLabel()&&!w.axis_rotated;return yt=Pe(ne)?ne:!Pe(Et)||yt<Et?yt:Et-10,Bt=Pe(Et)?Et:!Pe(ne)||ne<Bt?Bt:ne+10,0===at.length?"y2"===s?f.y2.domain():f.y.domain():(isNaN(yt)&&(yt=0),isNaN(Bt)&&(Bt=yt),yt===Bt&&(yt<0?Bt=0:yt=0),J=0<=yt&&0<=Bt,mt=yt<=0&&Bt<=0,(Pe(ne)&&J||Pe(Et)&&mt)&&(Kt=!1),Kt&&(J&&(yt=0),mt&&(Bt=0)),M=G=.1*(E=Math.abs(Bt-yt)),void 0!==le&&(Bt=le+(H=Math.max(Math.abs(yt),Math.abs(Bt))),yt=le-H),se?(V=f.getDataLabelLength(yt,Bt,"width"),tt=pe(f.y.range()),M+=E*((ht=[V[0]/tt,V[1]/tt])[1]/(1-ht[0]-ht[1])),G+=E*(ht[0]/(1-ht[0]-ht[1]))):$t&&(V=f.getDataLabelLength(yt,Bt,"height"),M+=(At=f.getY(w["axis_"+s+"_type"],[0,w.axis_rotated?f.width:f.height],[0,E]))(V[1]),G+=At(V[0])),"y"===s&&ue(w.axis_y_padding)&&(M=f.axis.getPadding(w.axis_y_padding,"top",M,E),G=f.axis.getPadding(w.axis_y_padding,"bottom",G,E)),"y2"===s&&ue(w.axis_y2_padding)&&(M=f.axis.getPadding(w.axis_y2_padding,"top",M,E),G=f.axis.getPadding(w.axis_y2_padding,"bottom",G,E)),Kt&&(J&&(G=yt),mt&&(M=-Bt)),C=[yt-G,Bt+M],Ft?C.reverse():C)},r.prototype.getXDomainMin=function(n){var s=this,h=s.config;return qe(h.axis_x_min)?s.isTimeSeries()?this.parseDate(h.axis_x_min):h.axis_x_min:s.d3.min(n,function(f){return s.d3.min(f.values,function(w){return w.x})})},r.prototype.getXDomainMax=function(n){var s=this,h=s.config;return qe(h.axis_x_max)?s.isTimeSeries()?this.parseDate(h.axis_x_max):h.axis_x_max:s.d3.max(n,function(f){return s.d3.max(f.values,function(w){return w.x})})},r.prototype.getXDomainPadding=function(n){var s,h,f,w=this.config,C=n[1]-n[0],E=this.isCategorized()?0:this.hasType("bar")?1<(s=this.getMaxDataCount())?C/(s-1)/2:.5:.01*C;return"object"==typeof w.axis_x_padding&&ue(w.axis_x_padding)?(h=Pe(w.axis_x_padding.left)?w.axis_x_padding.left:E,f=Pe(w.axis_x_padding.right)?w.axis_x_padding.right:E):h=f="number"==typeof w.axis_x_padding?w.axis_x_padding:E,{left:h,right:f}},r.prototype.getXDomain=function(n){var s=this,h=[s.getXDomainMin(n),s.getXDomainMax(n)],f=h[0],w=h[1],C=s.getXDomainPadding(h),E=0,M=0;return f-w!=0||s.isCategorized()||(w=s.isTimeSeries()?(f=new Date(.5*f.getTime()),new Date(1.5*w.getTime())):(f=0===f?1:.5*f,0===w?-1:1.5*w)),!f&&0!==f||(E=s.isTimeSeries()?new Date(f.getTime()-C.left):f-C.left),!w&&0!==w||(M=s.isTimeSeries()?new Date(w.getTime()+C.right):w+C.right),[E,M]},r.prototype.updateXDomain=function(n,s,h,f,w){var C=this,E=C.config;return h&&(C.x.domain(w||C.d3.extent(C.getXDomain(n))),C.orgXDomain=C.x.domain(),E.zoom_enabled&&C.zoom.update(),C.subX.domain(C.x.domain()),C.brush&&C.brush.updateScale(C.subX)),s&&C.x.domain(w||(!C.brush||C.brush.empty()?C.orgXDomain:C.brush.selectionAsValue())),f&&C.x.domain(C.trimXDomain(C.x.orgDomain())),C.x.domain()},r.prototype.trimXDomain=function(n){var s=this.getZoomDomain(),h=s[0],f=s[1];return n[0]<=h&&(n[1]=h-n[0]+ +n[1],n[0]=h),f<=n[1]&&(n[0]=n[0]-(n[1]-f),n[1]=f),n},r.prototype.drag=function(n){var s,h,f,w,C,E,M,G,H=this,V=H.config,tt=H.main,ht=H.d3;H.hasArcType()||V.data_selection_enabled&&V.data_selection_multiple&&(s=H.dragStart[0],h=H.dragStart[1],f=n[0],w=n[1],C=Math.min(s,f),E=Math.max(s,f),M=V.data_selection_grouped?H.margin.top:Math.min(h,w),G=V.data_selection_grouped?H.height:Math.max(h,w),tt.select("."+$.dragarea).attr("x",C).attr("y",M).attr("width",E-C).attr("height",G-M),tt.selectAll("."+$.shapes).selectAll("."+$.shape).each(function(J,mt){if(V.data_selection_isselectable(J)){var At,Dt,Et,yt,Bt=ht.select(this),le=Bt.classed($.SELECTED),Kt=Bt.classed($.INCLUDED),Ft=!1;if(Bt.classed($.circle))At=+Bt.attr("cx"),Dt=+Bt.attr("cy"),Et=H.togglePoint,Ft=C<At&&At<E&&M<Dt&&Dt<G;else{if(!Bt.classed($.bar))return;At=(yt=je(this)).x,Dt=yt.y,Et=H.togglePath,Ft=!(E<At||At+yt.width<C||G<Dt||Dt+yt.height<M)}Ft^Kt&&(Bt.classed($.INCLUDED,!Kt),Bt.classed($.SELECTED,!le),Et.call(H,!le,Bt,J,mt))}}))},r.prototype.dragstart=function(n){var s=this,h=s.config;s.hasArcType()||h.data_selection_enabled&&(s.dragStart=n,s.main.select("."+$.chart).append("rect").attr("class",$.dragarea).style("opacity",.1),s.dragging=!0)},r.prototype.dragend=function(){var n=this,s=n.config;n.hasArcType()||s.data_selection_enabled&&(n.main.select("."+$.dragarea).transition().duration(100).style("opacity",0).remove(),n.main.selectAll("."+$.shape).classed($.INCLUDED,!1),n.dragging=!1)},r.prototype.getYFormat=function(n){var s=this,h=n&&!s.hasType("gauge")?s.defaultArcValueFormat:s.yFormat,f=n&&!s.hasType("gauge")?s.defaultArcValueFormat:s.y2Format;return function(w,C,E){return("y2"===s.axis.getId(E)?f:h).call(s,w,C)}},r.prototype.yFormat=function(n){var s=this.config;return(s.axis_y_tick_format?s.axis_y_tick_format:this.defaultValueFormat)(n)},r.prototype.y2Format=function(n){var s=this.config;return(s.axis_y2_tick_format?s.axis_y2_tick_format:this.defaultValueFormat)(n)},r.prototype.defaultValueFormat=function(n){return Pe(n)?+n:""},r.prototype.defaultArcValueFormat=function(n,s){return(100*s).toFixed(1)+"%"},r.prototype.dataLabelFormat=function(n){function s(w){return Pe(w)?+w:""}var h=this.config.data_labels;return"function"==typeof h.format?h.format:"object"==typeof h.format?h.format[n]?!0===h.format[n]?s:h.format[n]:function(){return""}:s},r.prototype.initGrid=function(){var n=this,s=n.config,h=n.d3;n.grid=n.main.append("g").attr("clip-path",n.clipPathForGrid).attr("class",$.grid),s.grid_x_show&&n.grid.append("g").attr("class",$.xgrids),s.grid_y_show&&n.grid.append("g").attr("class",$.ygrids),s.grid_focus_show&&n.grid.append("g").attr("class",$.xgridFocus).append("line").attr("class",$.xgridFocus),n.xgrid=h.selectAll([]),s.grid_lines_front||n.initGridLines()},r.prototype.initGridLines=function(){var n=this,s=n.d3;n.gridLines=n.main.append("g").attr("clip-path",n.clipPathForGrid).attr("class",$.grid+" "+$.gridLines),n.gridLines.append("g").attr("class",$.xgridLines),n.gridLines.append("g").attr("class",$.ygridLines),n.xgridLines=s.selectAll([])},r.prototype.updateXGrid=function(n){var s=this,h=s.config,f=s.d3,w=s.generateGridData(h.grid_x_type,s.x),C=s.isCategorized()?s.xAxis.tickOffset():0;s.xgridAttr=h.axis_rotated?{x1:0,x2:s.width,y1:function(G){return s.x(G)-C},y2:function(G){return s.x(G)-C}}:{x1:function(G){return s.x(G)+C},x2:function(G){return s.x(G)+C},y1:0,y2:s.height},s.xgridAttr.opacity=function(){return+f.select(this).attr(h.axis_rotated?"y1":"x1")===(h.axis_rotated?s.height:0)?0:1};var E=s.main.select("."+$.xgrids).selectAll("."+$.xgrid).data(w),M=E.enter().append("line").attr("class",$.xgrid).attr("x1",s.xgridAttr.x1).attr("x2",s.xgridAttr.x2).attr("y1",s.xgridAttr.y1).attr("y2",s.xgridAttr.y2).style("opacity",0);s.xgrid=M.merge(E),n||s.xgrid.attr("x1",s.xgridAttr.x1).attr("x2",s.xgridAttr.x2).attr("y1",s.xgridAttr.y1).attr("y2",s.xgridAttr.y2).style("opacity",s.xgridAttr.opacity),E.exit().remove()},r.prototype.updateYGrid=function(){var n=this,s=n.config,h=n.yAxis.tickValues()||n.y.ticks(s.grid_y_ticks),f=n.main.select("."+$.ygrids).selectAll("."+$.ygrid).data(h),w=f.enter().append("line").attr("class",$.ygrid);n.ygrid=w.merge(f),n.ygrid.attr("x1",s.axis_rotated?n.y:0).attr("x2",s.axis_rotated?n.y:n.width).attr("y1",s.axis_rotated?0:n.y).attr("y2",s.axis_rotated?n.height:n.y),f.exit().remove(),n.smoothLines(n.ygrid,"grid")},r.prototype.gridTextAnchor=function(n){return n.position?n.position:"end"},r.prototype.gridTextDx=function(n){return"start"===n.position?4:"middle"===n.position?0:-4},r.prototype.xGridTextX=function(n){return"start"===n.position?-this.height:"middle"===n.position?-this.height/2:0},r.prototype.yGridTextX=function(n){return"start"===n.position?0:"middle"===n.position?this.width/2:this.width},r.prototype.updateGrid=function(n){var s,h,f,w,C=this,E=C.main,M=C.config,G=C.xv.bind(C),H=C.yv.bind(C),V=C.xGridTextX.bind(C),tt=C.yGridTextX.bind(C);C.grid.style("visibility",C.hasArcType()?"hidden":"visible"),E.select("line."+$.xgridFocus).style("visibility","hidden"),M.grid_x_show&&C.updateXGrid(),(h=(s=E.select("."+$.xgridLines).selectAll("."+$.xgridLine).data(M.grid_x_lines)).enter().append("g").attr("class",function(ht){return $.xgridLine+(ht.class?" "+ht.class:"")})).append("line").attr("x1",M.axis_rotated?0:G).attr("x2",M.axis_rotated?C.width:G).attr("y1",M.axis_rotated?G:0).attr("y2",M.axis_rotated?G:C.height).style("opacity",0),h.append("text").attr("text-anchor",C.gridTextAnchor).attr("transform",M.axis_rotated?"":"rotate(-90)").attr("x",M.axis_rotated?tt:V).attr("y",G).attr("dx",C.gridTextDx).attr("dy",-5).style("opacity",0),C.xgridLines=h.merge(s),s.exit().transition().duration(n).style("opacity",0).remove(),M.grid_y_show&&C.updateYGrid(),(w=(f=E.select("."+$.ygridLines).selectAll("."+$.ygridLine).data(M.grid_y_lines)).enter().append("g").attr("class",function(ht){return $.ygridLine+(ht.class?" "+ht.class:"")})).append("line").attr("x1",M.axis_rotated?H:0).attr("x2",M.axis_rotated?H:C.width).attr("y1",M.axis_rotated?0:H).attr("y2",M.axis_rotated?C.height:H).style("opacity",0),w.append("text").attr("text-anchor",C.gridTextAnchor).attr("transform",M.axis_rotated?"rotate(-90)":"").attr("x",M.axis_rotated?V:tt).attr("y",H).attr("dx",C.gridTextDx).attr("dy",-5).style("opacity",0),C.ygridLines=w.merge(f),C.ygridLines.select("line").transition().duration(n).attr("x1",M.axis_rotated?H:0).attr("x2",M.axis_rotated?H:C.width).attr("y1",M.axis_rotated?0:H).attr("y2",M.axis_rotated?C.height:H).style("opacity",1),C.ygridLines.select("text").transition().duration(n).attr("x",M.axis_rotated?C.xGridTextX.bind(C):C.yGridTextX.bind(C)).attr("y",H).text(function(ht){return ht.text}).style("opacity",1),f.exit().transition().duration(n).style("opacity",0).remove()},r.prototype.redrawGrid=function(n,s){var h=this,f=h.config,w=h.xv.bind(h),C=h.xgridLines.select("line"),E=h.xgridLines.select("text");return[(n?C.transition(s):C).attr("x1",f.axis_rotated?0:w).attr("x2",f.axis_rotated?h.width:w).attr("y1",f.axis_rotated?w:0).attr("y2",f.axis_rotated?w:h.height).style("opacity",1),(n?E.transition(s):E).attr("x",f.axis_rotated?h.yGridTextX.bind(h):h.xGridTextX.bind(h)).attr("y",w).text(function(M){return M.text}).style("opacity",1)]},r.prototype.showXGridFocus=function(n){var s=this,h=s.config,f=n.filter(function(E){return E&&Pe(E.value)}),w=s.main.selectAll("line."+$.xgridFocus),C=s.xx.bind(s);h.tooltip_show&&(s.hasType("stanford")||s.hasArcType()||(w.style("visibility","visible").data([f[0]]).attr(h.axis_rotated?"y1":"x1",C).attr(h.axis_rotated?"y2":"x2",C),s.smoothLines(w,"grid")))},r.prototype.hideXGridFocus=function(){this.main.select("line."+$.xgridFocus).style("visibility","hidden")},r.prototype.updateXgridFocus=function(){var n=this.config;this.main.select("line."+$.xgridFocus).attr("x1",n.axis_rotated?0:-10).attr("x2",n.axis_rotated?this.width:-10).attr("y1",n.axis_rotated?-10:0).attr("y2",n.axis_rotated?-10:this.height)},r.prototype.generateGridData=function(n,s){var h,f,w,C,E=[],M=this.main.select("."+$.axisX).selectAll(".tick").size();if("year"===n)for(f=(h=this.getXDomain())[0].getFullYear(),w=h[1].getFullYear(),C=f;C<=w;C++)E.push(new Date(C+"-01-01 00:00:00"));else(E=s.ticks(10)).length>M&&(E=E.filter(function(G){return(""+G).indexOf(".")<0}));return E},r.prototype.getGridFilterToRemove=function(n){return n?function(s){var h=!1;return[].concat(n).forEach(function(f){("value"in f&&s.value===f.value||"class"in f&&s.class===f.class)&&(h=!0)}),h}:function(){return!0}},r.prototype.removeGridLines=function(n,s){function h(M){return!w(M)}var f=this.config,w=this.getGridFilterToRemove(n),E=s?$.xgridLine:$.ygridLine;this.main.select("."+(s?$.xgridLines:$.ygridLines)).selectAll("."+E).filter(w).transition().duration(f.transition_duration).style("opacity",0).remove(),s?f.grid_x_lines=f.grid_x_lines.filter(h):f.grid_y_lines=f.grid_y_lines.filter(h)},r.prototype.initEventRect=function(){var n=this,s=n.config;n.main.select("."+$.chart).append("g").attr("class",$.eventRects).style("fill-opacity",0),n.eventRect=n.main.select("."+$.eventRects).append("rect").attr("class",$.eventRect),s.zoom_enabled&&n.zoom&&(n.eventRect.call(n.zoom).on("dblclick.zoom",null),s.zoom_initialRange&&n.eventRect.transition().duration(0).call(n.zoom.transform,n.zoomTransform(s.zoom_initialRange)))},r.prototype.redrawEventRect=function(){var n=this,s=n.d3,h=n.config;function f(){n.svg.select("."+$.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}function w(E,M){return M&&(n.isBarType(M.id)||n.dist(M,E)<h.point_sensitivity)}function C(E){return E?n.addName(Object.assign({},E)):null}n.main.select("."+$.eventRects).style("cursor",h.zoom_enabled?h.axis_rotated?"ns-resize":"ew-resize":null),n.eventRect.attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).on("mouseout",h.interaction_enabled?function(){h&&(n.hasArcType()||(n.mouseover&&(h.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),f()))}:null).on("mousemove",h.interaction_enabled?function(){if(!n.dragging){var E=n.getTargetsToShow();if(!n.hasArcType(E)){var M,H,V=s.mouse(this),tt=C(n.findClosestFromTargets(E,V)),ht=w(V,tt);if(!n.mouseover||tt&&tt.id===n.mouseover.id&&tt.index===n.mouseover.index||(h.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),tt&&!n.mouseover&&(h.data_onmouseover.call(n.api,tt),n.mouseover=tt),n.svg.select("."+$.eventRect).style("cursor",ht?"pointer":null),!h.tooltip_grouped||n.hasType("stanford",E)?tt&&(M=[tt]):(H=tt||n.findClosestFromTargetsByX(E,n.x.invert(h.axis_rotated?V[1]:V[0])))&&(M=n.filterByX(E,H.x)),!M||0===M.length)return f();M=M.map(C),n.showTooltip(M,this),h.point_focus_expand_enabled&&(n.unexpandCircles(),M.forEach(function(J){n.expandCircles(J.index,J.id,!1)})),n.unexpandBars(),M.forEach(function(J){n.expandBars(J.index,J.id,!1)}),n.showXGridFocus(M)}}}:null).on("click",h.interaction_enabled?function(){var E,M,G,H=n.getTargetsToShow();n.hasArcType(H)||w(E=s.mouse(this),M=C(n.findClosestFromTargets(H,E)))&&((!h.data_selection_grouped||n.isStanfordType(M)?[M]:n.filterByX(H,M.x)).forEach(function(V){n.main.selectAll("."+$.shapes+n.getTargetSelectorSuffix(V.id)).selectAll("."+$.shape+"-"+V.index).each(function(){(h.data_selection_grouped||n.isWithinShape(this,V))&&n.toggleShape(this,V,V.index)})}),M&&(G=n.main.selectAll("."+$.shapes+n.getTargetSelectorSuffix(M.id)).select("."+$.shape+"-"+M.index),h.data_onclick.call(n.api,M,G.node())))}:null).call(h.interaction_enabled&&h.data_selection_draggable&&n.drag?s.drag().on("drag",function(){n.drag(s.mouse(this))}).on("start",function(){n.dragstart(s.mouse(this))}).on("end",function(){n.dragend()}):function(){})},r.prototype.getMousePosition=function(n){return[this.x(n.x),this.getYScale(n.id)(n.value)]},r.prototype.dispatchEvent=function(n,s){var f=this.main.select("."+$.eventRect).node(),w=f.getBoundingClientRect(),C=w.left+(s?s[0]:0),E=w.top+(s?s[1]:0),M=document.createEvent("MouseEvents");M.initMouseEvent(n,!0,!0,window,0,C,E,C,E,!1,!1,!1,!1,0,null),f.dispatchEvent(M)},r.prototype.initLegend=function(){var n=this;if(n.legendItemTextBox={},n.legendHasRendered=!1,n.legend=n.svg.append("g").attr("transform",n.getTranslate("legend")),!n.config.legend_show)return n.legend.style("visibility","hidden"),void(n.hiddenLegendIds=n.mapToIds(n.data.targets));n.updateLegendWithDefaults()},r.prototype.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},r.prototype.updateSizeForLegend=function(n,s){var h=this,f=h.config,w={top:h.isLegendTop?h.getCurrentPaddingTop()+f.legend_inset_y+5.5:h.currentHeight-n-h.getCurrentPaddingBottom()-f.legend_inset_y,left:h.isLegendLeft?h.getCurrentPaddingLeft()+f.legend_inset_x+.5:h.currentWidth-s-h.getCurrentPaddingRight()-f.legend_inset_x+.5};h.margin3={top:h.isLegendRight?0:h.isLegendInset?w.top:h.currentHeight-n,right:NaN,bottom:0,left:h.isLegendRight?h.currentWidth-s:h.isLegendInset?w.left:0}},r.prototype.transformLegend=function(n){(n?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},r.prototype.updateLegendStep=function(n){this.legendStep=n},r.prototype.updateLegendItemWidth=function(n){this.legendItemWidth=n},r.prototype.updateLegendItemHeight=function(n){this.legendItemHeight=n},r.prototype.getLegendWidth=function(){var n=this;return n.config.legend_show?n.isLegendRight||n.isLegendInset?n.legendItemWidth*(n.legendStep+1):n.currentWidth:0},r.prototype.getLegendHeight=function(){var n=this,s=0;return n.config.legend_show&&(s=n.isLegendRight?n.currentHeight:Math.max(20,n.legendItemHeight)*(n.legendStep+1)),s},r.prototype.opacityForLegend=function(n){return n.classed($.legendItemHidden)?null:1},r.prototype.opacityForUnfocusedLegend=function(n){return n.classed($.legendItemHidden)?null:.3},r.prototype.toggleFocusLegend=function(n,s){var h=this;n=h.mapToTargetIds(n),h.legend.selectAll("."+$.legendItem).filter(function(f){return 0<=n.indexOf(f)}).classed($.legendItemFocused,s).transition().duration(100).style("opacity",function(){return(s?h.opacityForLegend:h.opacityForUnfocusedLegend).call(h,h.d3.select(this))})},r.prototype.revertLegend=function(){var n=this,s=n.d3;n.legend.selectAll("."+$.legendItem).classed($.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return n.opacityForLegend(s.select(this))})},r.prototype.showLegend=function(n){var s=this,h=s.config;h.legend_show||(h.legend_show=!0,s.legend.style("visibility","visible"),s.legendHasRendered||s.updateLegendWithDefaults()),s.removeHiddenLegendIds(n),s.legend.selectAll(s.selectorLegends(n)).style("visibility","visible").transition().style("opacity",function(){return s.opacityForLegend(s.d3.select(this))})},r.prototype.hideLegend=function(n){var s=this,h=s.config;h.legend_show&&Re(n)&&(h.legend_show=!1,s.legend.style("visibility","hidden")),s.addHiddenLegendIds(n),s.legend.selectAll(s.selectorLegends(n)).style("opacity",0).style("visibility","hidden")},r.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},r.prototype.updateLegend=function(n,s,h){var f,w,C,E,M,G,H,V,tt,ht,J,mt,At,Dt,at,ne,Et=this,yt=Et.config,Kt=0,Ft=0,$t=yt.legend_item_tile_width+5,jt=0,Ne={},ye={},mn={},nn=[0],Me={},De=0;function Ee(Xt,e,o){var l,v,y,k,O=0===o,Y=o===n.length-1,Z=(y=Xt,Et.legendItemTextBox[k=e]||(Et.legendItemTextBox[k]=Et.getTextRect(y.textContent,$.legendItem,y)),Et.legendItemTextBox[k]),dt=Z.width+$t+(!Y||Et.isLegendRight||Et.isLegendInset?10:0)+yt.legend_padding,ct=Z.height+4,st=Et.isLegendRight||Et.isLegendInset?ct:dt,St=Et.isLegendRight||Et.isLegendInset?Et.getLegendHeight():Et.getLegendWidth();function Mt(qt,Wt){Wt||(l=(St-jt-st)/2)<10&&(l=(St-st)/2,jt=0,De++),Me[qt]=De,nn[De]=Et.isLegendInset?10:l,Ne[qt]=jt,jt+=st}O&&(Ft=Kt=De=jt=0),!yt.legend_show||Et.isLegendToShow(e)?(ye[e]=dt,mn[e]=ct,(!Kt||Kt<=dt)&&(Kt=dt),(!Ft||Ft<=ct)&&(Ft=ct),v=Et.isLegendRight||Et.isLegendInset?Ft:Kt,yt.legend_equally?(Object.keys(ye).forEach(function(qt){ye[qt]=Kt}),Object.keys(mn).forEach(function(qt){mn[qt]=Ft}),(l=(St-v*n.length)/2)<10?(De=jt=0,n.forEach(function(qt){Mt(qt)})):Mt(e,!0)):Mt(e)):ye[e]=mn[e]=Me[e]=Ne[e]=0}n=n.filter(function(Xt){return!qe(yt.data_names[Xt])||null!==yt.data_names[Xt]}),J=Ct(s=s||{},"withTransition",!0),mt=Ct(s,"withTransitionForTransform",!0),Et.isLegendInset&&Et.updateLegendStep(De=yt.legend_inset_step?yt.legend_inset_step:n.length),E=Et.isLegendRight?(f=function(Xt){return Kt*Me[Xt]},function(Xt){return nn[Me[Xt]]+Ne[Xt]}):Et.isLegendInset?(f=function(Xt){return Kt*Me[Xt]+10},function(Xt){return nn[Me[Xt]]+Ne[Xt]}):(f=function(Xt){return nn[Me[Xt]]+Ne[Xt]},function(Xt){return Ft*Me[Xt]}),w=function(Xt,e){return f(Xt,e)+4+yt.legend_item_tile_width},M=function(Xt,e){return E(Xt,e)+9},C=function(Xt,e){return f(Xt,e)},G=function(Xt,e){return E(Xt,e)-5},H=function(Xt,e){return f(Xt,e)-2},V=function(Xt,e){return f(Xt,e)-2+yt.legend_item_tile_width},tt=function(Xt,e){return E(Xt,e)+4},(ht=Et.legend.selectAll("."+$.legendItem).data(n).enter().append("g").attr("class",function(Xt){return Et.generateClass($.legendItem,Xt)}).style("visibility",function(Xt){return Et.isLegendToShow(Xt)?"visible":"hidden"}).style("cursor",function(){return yt.interaction_enabled?"pointer":"auto"}).on("click",yt.interaction_enabled?function(Xt){yt.legend_item_onclick?yt.legend_item_onclick.call(Et,Xt):Et.d3.event.altKey?(Et.api.hide(),Et.api.show(Xt)):(Et.api.toggle(Xt),Et.isTargetToShow(Xt)?Et.api.focus(Xt):Et.api.revert())}:null).on("mouseover",yt.interaction_enabled?function(Xt){yt.legend_item_onmouseover?yt.legend_item_onmouseover.call(Et,Xt):(Et.d3.select(this).classed($.legendItemFocused,!0),!Et.transiting&&Et.isTargetToShow(Xt)&&Et.api.focus(Xt))}:null).on("mouseout",yt.interaction_enabled?function(Xt){yt.legend_item_onmouseout?yt.legend_item_onmouseout.call(Et,Xt):(Et.d3.select(this).classed($.legendItemFocused,!1),Et.api.revert())}:null)).append("text").text(function(Xt){return qe(yt.data_names[Xt])?yt.data_names[Xt]:Xt}).each(function(Xt,e){Ee(this,Xt,e)}).style("pointer-events","none").attr("x",Et.isLegendRight||Et.isLegendInset?w:-200).attr("y",Et.isLegendRight||Et.isLegendInset?-200:M),ht.append("rect").attr("class",$.legendItemEvent).style("fill-opacity",0).attr("x",Et.isLegendRight||Et.isLegendInset?C:-200).attr("y",Et.isLegendRight||Et.isLegendInset?-200:G),ht.append("line").attr("class",$.legendItemTile).style("stroke",Et.color).style("pointer-events","none").attr("x1",Et.isLegendRight||Et.isLegendInset?H:-200).attr("y1",Et.isLegendRight||Et.isLegendInset?-200:tt).attr("x2",Et.isLegendRight||Et.isLegendInset?V:-200).attr("y2",Et.isLegendRight||Et.isLegendInset?-200:tt).attr("stroke-width",yt.legend_item_tile_height),ne=Et.legend.select("."+$.legendBackground+" rect"),Et.isLegendInset&&0<Kt&&0===ne.size()&&(ne=Et.legend.insert("g","."+$.legendItem).attr("class",$.legendBackground).append("rect")),At=Et.legend.selectAll("text").data(n).text(function(Xt){return qe(yt.data_names[Xt])?yt.data_names[Xt]:Xt}).each(function(Xt,e){Ee(this,Xt,e)}),(J?At.transition():At).attr("x",w).attr("y",M),Dt=Et.legend.selectAll("rect."+$.legendItemEvent).data(n),(J?Dt.transition():Dt).attr("width",function(Xt){return ye[Xt]}).attr("height",function(Xt){return mn[Xt]}).attr("x",C).attr("y",G),at=Et.legend.selectAll("line."+$.legendItemTile).data(n),(J?at.transition():at).style("stroke",Et.levelColor?function(Xt){return Et.levelColor(Et.cache[Xt].values.reduce(function(e,o){return e+o.value},0))}:Et.color).attr("x1",H).attr("y1",tt).attr("x2",V).attr("y2",tt),ne&&(J?ne.transition():ne).attr("height",Et.getLegendHeight()-12).attr("width",Kt*(De+1)+10),Et.legend.selectAll("."+$.legendItem).classed($.legendItemHidden,function(Xt){return!Et.isTargetToShow(Xt)}),Et.updateLegendItemWidth(Kt),Et.updateLegendItemHeight(Ft),Et.updateLegendStep(De),Et.updateSizes(),Et.updateScales(),Et.updateSvgSize(),Et.transformAll(mt,h),Et.legendHasRendered=!0},r.prototype.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",$.regions)},r.prototype.updateRegion=function(n){var s=this,h=s.config;s.region.style("visibility",s.hasArcType()?"hidden":"visible");var f=s.main.select("."+$.regions).selectAll("."+$.region).data(h.regions),w=f.enter().append("g");w.append("rect").attr("x",s.regionX.bind(s)).attr("y",s.regionY.bind(s)).attr("width",s.regionWidth.bind(s)).attr("height",s.regionHeight.bind(s)).style("fill-opacity",function(C){return Pe(C.opacity)?C.opacity:.1}),w.append("text").text(s.labelRegion.bind(s)),s.mainRegion=w.merge(f).attr("class",s.classRegion.bind(s)),f.exit().transition().duration(n).style("opacity",0).remove()},r.prototype.redrawRegion=function(n,s){var h=this,f=h.mainRegion,w=h.mainRegion.selectAll("text");return[(n?f.transition(s):f).attr("x",h.regionX.bind(h)).attr("y",h.regionY.bind(h)).attr("width",h.regionWidth.bind(h)).attr("height",h.regionHeight.bind(h)).style("fill-opacity",function(C){return Pe(C.opacity)?C.opacity:.1}),(n?w.transition(s):w).attr("x",h.labelOffsetX.bind(h)).attr("y",h.labelOffsetY.bind(h)).attr("transform",h.labelTransform.bind(h)).attr("style","text-anchor: left;")]},r.prototype.regionX=function(n){var s=this,h=s.config;return"y"===n.axis||"y2"===n.axis?h.axis_rotated&&"start"in n?("y"===n.axis?s.y:s.y2)(n.start):0:!h.axis_rotated&&"start"in n?s.x(s.isTimeSeries()?s.parseDate(n.start):n.start):0},r.prototype.regionY=function(n){var s=this,h=s.config;return"y"===n.axis||"y2"===n.axis?!h.axis_rotated&&"end"in n?("y"===n.axis?s.y:s.y2)(n.end):0:h.axis_rotated&&"start"in n?s.x(s.isTimeSeries()?s.parseDate(n.start):n.start):0},r.prototype.regionWidth=function(n){var s=this,h=s.config,f=s.regionX(n),C="y"===n.axis||"y2"===n.axis?h.axis_rotated&&"end"in n?("y"===n.axis?s.y:s.y2)(n.end):s.width:!h.axis_rotated&&"end"in n?s.x(s.isTimeSeries()?s.parseDate(n.end):n.end):s.width;return C<f?0:C-f},r.prototype.regionHeight=function(n){var s=this,h=s.config,f=this.regionY(n),C="y"===n.axis||"y2"===n.axis?!h.axis_rotated&&"start"in n?("y"===n.axis?s.y:s.y2)(n.start):s.height:h.axis_rotated&&"end"in n?s.x(s.isTimeSeries()?s.parseDate(n.end):n.end):s.height;return C<f?0:C-f},r.prototype.isRegionOnX=function(n){return!n.axis||"x"===n.axis},r.prototype.labelRegion=function(n){return"label"in n?n.label:""},r.prototype.labelTransform=function(n){return"vertical"in n&&n.vertical?"rotate(90)":""},r.prototype.labelOffsetX=function(n){var s="paddingX"in n?n.paddingX:3,h="paddingY"in n?n.paddingY:3;return"vertical"in n&&n.vertical?this.regionY(n)+h:this.regionX(n)+s},r.prototype.labelOffsetY=function(n){var s="paddingX"in n?n.paddingX:3,h="paddingY"in n?n.paddingY:3;return"vertical"in n&&n.vertical?-(this.regionX(n)+s):this.regionY(n)+10+h},r.prototype.getScale=function(n,s,h){return(h?this.d3.scaleTime():this.d3.scaleLinear()).range([n,s])},r.prototype.getX=function(n,s,h,f){var w,C=this.getScale(n,s,this.isTimeSeries()),E=h?C.domain(h):C;for(w in C=this.isCategorized()?(f=f||function(){return 0},function(M,G){var H=E(M)+f(M);return G?H:Math.ceil(H)}):function(M,G){var H=E(M);return G?H:Math.ceil(H)},E)C[w]=E[w];return C.orgDomain=function(){return E.domain()},this.isCategorized()&&(C.domain=function(M){return arguments.length?(E.domain(M),C):[(M=this.orgDomain())[0],M[1]+1]}),C},r.prototype.getY=function(n,s,h){var f;if("timeseries"===n||"time"===n)f=this.d3.scaleTime();else if("log"===n)f=Ue(this.d3);else{if("linear"!==n&&void 0!==n)throw new Error('Invalid Y axis type: "'+n+'"');f=this.d3.scaleLinear()}return s&&f.domain(s),h&&f.range(h),f},r.prototype.getYScale=function(n){return"y2"===this.axis.getId(n)?this.y2:this.y},r.prototype.getSubYScale=function(n){return"y2"===this.axis.getId(n)?this.subY2:this.subY},r.prototype.updateScales=function(){var n=this,s=n.config,h=!n.x;n.xMin=s.axis_rotated?1:0,n.xMax=s.axis_rotated?n.height:n.width,n.yMin=s.axis_rotated?0:n.height,n.yMax=s.axis_rotated?n.width:1,n.subXMin=n.xMin,n.subXMax=n.xMax,n.subYMin=s.axis_rotated?0:n.height2,n.subYMax=s.axis_rotated?n.width2:1,n.x=n.getX(n.xMin,n.xMax,h?void 0:n.x.orgDomain(),function(){return n.xAxis.tickOffset()}),n.y=n.getY(s.axis_y_type,h?s.axis_y_default:n.y.domain(),[n.yMin,n.yMax]),n.y2=n.getY(s.axis_y2_type,h?s.axis_y2_default:n.y2.domain(),[n.yMin,n.yMax]),n.subX=n.getX(n.xMin,n.xMax,n.orgXDomain,function(f){return f%1?0:n.subXAxis.tickOffset()}),n.subY=n.getY(s.axis_y_type,h?s.axis_y_default:n.subY.domain(),[n.subYMin,n.subYMax]),n.subY2=n.getY(s.axis_y2_type,h?s.axis_y2_default:n.subY2.domain(),[n.subYMin,n.subYMax]),n.xAxisTickFormat=n.axis.getXAxisTickFormat(),n.xAxisTickValues=n.axis.getXAxisTickValues(),n.yAxisTickValues=n.axis.getYAxisTickValues(),n.y2AxisTickValues=n.axis.getY2AxisTickValues(),n.xAxis=n.axis.getXAxis(n.x,n.xOrient,n.xAxisTickFormat,n.xAxisTickValues,s.axis_x_tick_outer),n.subXAxis=n.axis.getXAxis(n.subX,n.subXOrient,n.xAxisTickFormat,n.xAxisTickValues,s.axis_x_tick_outer),n.yAxis=n.axis.getYAxis("y",n.y,n.yOrient,n.yAxisTickValues,s.axis_y_tick_outer),n.y2Axis=n.axis.getYAxis("y2",n.y2,n.y2Orient,n.y2AxisTickValues,s.axis_y2_tick_outer),h||n.brush&&n.brush.updateScale(n.subX),n.updateArc&&n.updateArc()},r.prototype.selectPoint=function(n,s,h){var f=this,w=f.config,C=(w.axis_rotated?f.circleY:f.circleX).bind(f),E=(w.axis_rotated?f.circleX:f.circleY).bind(f),M=f.pointSelectR.bind(f);w.data_onselected.call(f.api,s,n.node()),f.main.select("."+$.selectedCircles+f.getTargetSelectorSuffix(s.id)).selectAll("."+$.selectedCircle+"-"+h).data([s]).enter().append("circle").attr("class",function(){return f.generateClass($.selectedCircle,h)}).attr("cx",C).attr("cy",E).attr("stroke",function(){return f.color(s)}).attr("r",function(G){return 1.4*f.pointSelectR(G)}).transition().duration(100).attr("r",M)},r.prototype.unselectPoint=function(n,s,h){this.config.data_onunselected.call(this.api,s,n.node()),this.main.select("."+$.selectedCircles+this.getTargetSelectorSuffix(s.id)).selectAll("."+$.selectedCircle+"-"+h).transition().duration(100).attr("r",0).remove()},r.prototype.togglePoint=function(n,s,h,f){n?this.selectPoint(s,h,f):this.unselectPoint(s,h,f)},r.prototype.selectPath=function(n,s){var h=this;h.config.data_onselected.call(h,s,n.node()),h.config.interaction_brighten&&n.transition().duration(100).style("fill",function(){return h.d3.rgb(h.color(s)).brighter(.75)})},r.prototype.unselectPath=function(n,s){var h=this;h.config.data_onunselected.call(h,s,n.node()),h.config.interaction_brighten&&n.transition().duration(100).style("fill",function(){return h.color(s)})},r.prototype.togglePath=function(n,s,h,f){n?this.selectPath(s,h,f):this.unselectPath(s,h,f)},r.prototype.getToggle=function(n,s){var h;return"circle"===n.nodeName?h=this.isStepType(s)?function(){}:this.togglePoint:"path"===n.nodeName&&(h=this.togglePath),h},r.prototype.toggleShape=function(n,s,h){var f=this,w=f.d3,C=f.config,E=w.select(n),M=E.classed($.SELECTED),G=f.getToggle(n,s).bind(f);C.data_selection_enabled&&C.data_selection_isselectable(s)&&(C.data_selection_multiple||f.main.selectAll("."+$.shapes+(C.data_selection_grouped?f.getTargetSelectorSuffix(s.id):"")).selectAll("."+$.shape).each(function(H,V){var tt=w.select(this);tt.classed($.SELECTED)&&G(!1,tt.classed($.SELECTED,!1),H,V)}),E.classed($.SELECTED,!M),G(!M,E,s,h))},r.prototype.initBar=function(){this.main.select("."+$.chart).append("g").attr("class",$.chartBars)},r.prototype.updateTargetsForBar=function(n){var s=this,h=s.config,f=s.classChartBar.bind(s),w=s.classBars.bind(s),C=s.classFocus.bind(s);s.main.select("."+$.chartBars).selectAll("."+$.chartBar).data(n).attr("class",function(E){return f(E)+C(E)}).enter().append("g").attr("class",f).style("pointer-events","none").append("g").attr("class",w).style("cursor",function(E){return h.data_selection_isselectable(E)?"pointer":null})},r.prototype.updateBar=function(n){function s(G){return h.color(G.id)}var h=this,f=h.barData.bind(h),w=h.classBar.bind(h),C=h.initialOpacity.bind(h),E=h.main.selectAll("."+$.bars).selectAll("."+$.bar).data(f),M=E.enter().append("path").attr("class",w).style("stroke",s).style("fill",s);h.mainBar=M.merge(E).style("opacity",C),E.exit().transition().duration(n).style("opacity",0)},r.prototype.redrawBar=function(n,s,h){var f=this;return[(s?this.mainBar.transition(h):this.mainBar).attr("d",n).style("stroke",this.color).style("fill",this.color).style("opacity",function(w){return f.isTargetToShow(w.id)?1:0})]},r.prototype.getBarW=function(n,s){var h=this.config,f="number"==typeof h.bar_width?h.bar_width:s?n.tickInterval()*h.bar_width_ratio/s:0;return h.bar_width_max&&f>h.bar_width_max?h.bar_width_max:f},r.prototype.getBars=function(n,s){return(s?this.main.selectAll("."+$.bars+this.getTargetSelectorSuffix(s)):this.main).selectAll("."+$.bar+(Pe(n)?"-"+n:""))},r.prototype.expandBars=function(n,s,h){h&&this.unexpandBars(),this.getBars(n,s).classed($.EXPANDED,!0)},r.prototype.unexpandBars=function(n){this.getBars(n).classed($.EXPANDED,!1)},r.prototype.generateDrawBar=function(n,s){var h=this.config,f=this.generateGetBarPoints(n,s);return function(w,C){var E=f(w,C),M=h.axis_rotated?1:0,G=h.axis_rotated?0:1;return"M "+E[0][M]+","+E[0][G]+" L"+E[1][M]+","+E[1][G]+" L"+E[2][M]+","+E[2][G]+" L"+E[3][M]+","+E[3][G]+" z"}},r.prototype.generateGetBarPoints=function(n,s){var h=this,w=n.__max__+1,C=h.getBarW(s?h.subXAxis:h.xAxis,w),E=h.getShapeX(C,w,n,!!s),M=h.getShapeY(!!s),G=h.getShapeOffset(h.isBarType,n,!!s),H=C*(h.config.bar_space/2),V=s?h.getSubYScale:h.getYScale;return function(tt,ht){var J=V.call(h,tt.id)(0),mt=G(tt,ht)||J,At=E(tt),Dt=M(tt);return h.config.axis_rotated&&(0<tt.value&&Dt<J||tt.value<0&&J<Dt)&&(Dt=J),[[At+H,mt],[At+H,Dt-=J-mt],[At+C-H,Dt],[At+C-H,mt]]}},r.prototype.isWithinBar=function(n,s){return h=n,void 0===(w=2)&&(w=0),(f=Vt(s)).x-w<h[0]&&h[0]<f.x+f.width+w&&f.y-w<h[1]&&h[1]<f.y+f.height+w;var h,f,w},r.prototype.getShapeIndices=function(n){var s,h,f=this.config,w={},C=0;return this.filterTargetsToShow(this.data.targets.filter(n,this)).forEach(function(E){for(s=0;s<f.data_groups.length;s++)if(!(f.data_groups[s].indexOf(E.id)<0))for(h=0;h<f.data_groups[s].length;h++)if(f.data_groups[s][h]in w){w[E.id]=w[f.data_groups[s][h]];break}_n(w[E.id])&&(w[E.id]=C++)}),w.__max__=C-1,w},r.prototype.getShapeX=function(n,s,h,f){var w=f?this.subX:this.x;return function(C){var E=C.id in h?h[C.id]:0;return C.x||0===C.x?w(C.x)-n*(s/2-E):0}},r.prototype.getShapeY=function(n){var s=this;return function(h){return(n?s.getSubYScale(h.id):s.getYScale(h.id))(s.isTargetNormalized(h.id)?s.getRatio("index",h,!0):h.value)}},r.prototype.getShapeOffset=function(n,s,h){var f=this,w=f.orderTargets(f.filterTargetsToShow(f.data.targets.filter(n,f))),C=w.map(function(E){return E.id});return function(E,M){var G=h?f.getSubYScale(E.id):f.getYScale(E.id),H=G(0),V=H;return w.forEach(function(tt){var ht=f.isStepType(E)?f.convertValuesToStep(tt.values):tt.values,J=f.isTargetNormalized(E.id),mt=ht.map(function(At){return J?f.getRatio("index",At,!0):At.value});tt.id!==E.id&&s[tt.id]===s[E.id]&&C.indexOf(tt.id)<C.indexOf(E.id)&&(!_n(ht[M])&&+ht[M].x==+E.x||(M=-1,ht.forEach(function(At,Dt){(At.x.constructor===Date?+At.x:At.x)===(E.x.constructor===Date?+E.x:E.x)&&(M=Dt)})),M in ht&&0<=ht[M].value*E.value&&(V+=G(mt[M])-H))}),V}},r.prototype.isWithinShape=function(n,s){var h,f=this,w=f.d3.select(n);return f.isTargetToShow(s.id)?"circle"===n.nodeName?h=f.isStepType(s)?f.isWithinStep(n,f.getYScale(s.id)(s.value)):f.isWithinCircle(n,1.5*f.pointSelectR(s)):"path"===n.nodeName&&(h=!w.classed($.bar)||f.isWithinBar(f.d3.mouse(n),n)):h=!1,h},r.prototype.getInterpolate=function(n){var s=this,h=s.d3,f={linear:h.curveLinear,"linear-closed":h.curveLinearClosed,basis:h.curveBasis,"basis-open":h.curveBasisOpen,"basis-closed":h.curveBasisClosed,bundle:h.curveBundle,cardinal:h.curveCardinal,"cardinal-open":h.curveCardinalOpen,"cardinal-closed":h.curveCardinalClosed,monotone:h.curveMonotoneX,step:h.curveStep,"step-before":h.curveStepBefore,"step-after":h.curveStepAfter};return s.isSplineType(n)?f[s.config.spline_interpolation_type]||f.cardinal:s.isStepType(n)?f[s.config.line_step_type]:f.linear},r.prototype.initLine=function(){this.main.select("."+$.chart).append("g").attr("class",$.chartLines)},r.prototype.updateTargetsForLine=function(n){var s=this,h=s.config,f=s.classChartLine.bind(s),w=s.classLines.bind(s),C=s.classAreas.bind(s),E=s.classCircles.bind(s),M=s.classFocus.bind(s),G=s.main.select("."+$.chartLines).selectAll("."+$.chartLine).data(n).attr("class",function(H){return f(H)+M(H)}).enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none");G.append("g").attr("class",w),G.append("g").attr("class",C),G.append("g").attr("class",function(H){return s.generateClass($.selectedCircles,H.id)}),G.append("g").attr("class",E).style("cursor",function(H){return h.data_selection_isselectable(H)?"pointer":null}),n.forEach(function(H){s.main.selectAll("."+$.selectedCircles+s.getTargetSelectorSuffix(H.id)).selectAll("."+$.selectedCircle).each(function(V){V.value=H.values[V.index].value})})},r.prototype.updateLine=function(n){var s=this,h=s.main.selectAll("."+$.lines).selectAll("."+$.line).data(s.lineData.bind(s)),f=h.enter().append("path").attr("class",s.classLine.bind(s)).style("stroke",s.color);s.mainLine=f.merge(h).style("opacity",s.initialOpacity.bind(s)).style("shape-rendering",function(w){return s.isStepType(w)?"crispEdges":""}).attr("transform",null),h.exit().transition().duration(n).style("opacity",0)},r.prototype.redrawLine=function(n,s,h){return[(s?this.mainLine.transition(h):this.mainLine).attr("d",n).style("stroke",this.color).style("opacity",1)]},r.prototype.generateDrawLine=function(n,s){function h(H){return(s?w.subxx:w.xx).call(w,H)}function f(H,V){return 0<C.data_groups.length?M(H,V)[0][1]:G.call(w,H.id)(H.value)}var w=this,C=w.config,E=w.d3.line(),M=w.generateGetLinePoints(n,s),G=s?w.getSubYScale:w.getYScale;return E=C.axis_rotated?E.x(f).y(h):E.x(h).y(f),C.line_connectNull||(E=E.defined(function(H){return null!=H.value})),function(H){var V=C.line_connectNull?w.filterRemoveNull(H.values):H.values,tt=s?w.subX:w.x,ht=G.call(w,H.id),J=0,mt=0;return(w.isLineType(H)?C.data_regions[H.id]?w.lineWithRegions(V,tt,ht,C.data_regions[H.id]):(w.isStepType(H)&&(V=w.convertValuesToStep(V)),E.curve(w.getInterpolate(H))(V)):(V[0]&&(J=tt(V[0].x),mt=ht(V[0].value)),C.axis_rotated?"M "+mt+" "+J:"M "+J+" "+mt))||"M 0 0"}},r.prototype.generateGetLinePoints=function(n,s){var h=this,f=h.config,C=h.getShapeX(0,n.__max__+1,n,!!s),E=h.getShapeY(!!s),M=h.getShapeOffset(h.isLineType,n,!!s),G=s?h.getSubYScale:h.getYScale;return function(H,V){var tt=G.call(h,H.id)(0),ht=M(H,V)||tt,J=C(H),mt=E(H);return f.axis_rotated&&(0<H.value&&mt<tt||H.value<0&&tt<mt)&&(mt=tt),[[J,mt-(tt-ht)],[J,mt-(tt-ht)],[J,mt-(tt-ht)],[J,mt-(tt-ht)]]}},r.prototype.lineWithRegions=function(n,s,h,f){var w,C,E,M,G,H,V,tt,ht,J,mt,At=this,Dt=At.config,at="M",ne=At.isCategorized()?.5:0,Et=[];if(qe(f))for(w=0;w<f.length;w++)Et[w]={},Et[w].start=_n(f[w].start)?n[0].x:At.isTimeSeries()?At.parseDate(f[w].start):f[w].start,Et[w].end=_n(f[w].end)?n[n.length-1].x:At.isTimeSeries()?At.parseDate(f[w].end):f[w].end;function yt(Bt){return"M"+Bt[0][0]+" "+Bt[0][1]+" "+Bt[1][0]+" "+Bt[1][1]}for(J=Dt.axis_rotated?function(Bt){return h(Bt.value)}:function(Bt){return s(Bt.x)},mt=Dt.axis_rotated?function(Bt){return s(Bt.x)}:function(Bt){return h(Bt.value)},E=At.isTimeSeries()?function(Bt,le,Kt,Ft){var se=Bt.x.getTime(),$t=le.x-Bt.x,jt=new Date(se+$t*Kt),Ne=new Date(se+$t*(Kt+Ft));return yt(Dt.axis_rotated?[[h(G(Kt)),s(jt)],[h(G(Kt+Ft)),s(Ne)]]:[[s(jt),h(G(Kt))],[s(Ne),h(G(Kt+Ft))]])}:function(Bt,le,Kt,Ft){return yt(Dt.axis_rotated?[[h(G(Kt),!0),s(M(Kt))],[h(G(Kt+Ft),!0),s(M(Kt+Ft))]]:[[s(M(Kt),!0),h(G(Kt))],[s(M(Kt+Ft),!0),h(G(Kt+Ft))]])},w=0;w<n.length;w++)if(_n(Et)||!function(Bt,le){for(var Kt=0;Kt<le.length;Kt++)if(le[Kt].start<Bt&&Bt<=le[Kt].end)return 1}(n[w].x,Et))at+=" "+J(n[w])+" "+mt(n[w]);else for(M=At.getScale(n[w-1].x+ne,n[w].x+ne,At.isTimeSeries()),G=At.getScale(n[w-1].value,n[w].value),H=s(n[w].x)-s(n[w-1].x),V=h(n[w].value)-h(n[w-1].value),ht=2*(tt=2/Math.sqrt(Math.pow(H,2)+Math.pow(V,2))),C=tt;C<=1;C+=ht)at+=E(n[w-1],n[w],C,tt);return at},r.prototype.updateArea=function(n){var s=this,h=s.d3,f=s.main.selectAll("."+$.areas).selectAll("."+$.area).data(s.lineData.bind(s)),w=f.enter().append("path").attr("class",s.classArea.bind(s)).style("fill",s.color).style("opacity",function(){return s.orgAreaOpacity=+h.select(this).style("opacity"),0});s.mainArea=w.merge(f).style("opacity",s.orgAreaOpacity),f.exit().transition().duration(n).style("opacity",0)},r.prototype.redrawArea=function(n,s,h){return[(s?this.mainArea.transition(h):this.mainArea).attr("d",n).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},r.prototype.generateDrawArea=function(n,s){function h(V){return(s?C.subxx:C.xx).call(C,V)}function f(V,tt){return 0<E.data_groups.length?G(V,tt)[0][1]:H.call(C,V.id)(C.getAreaBaseValue(V.id))}function w(V,tt){return 0<E.data_groups.length?G(V,tt)[1][1]:H.call(C,V.id)(V.value)}var C=this,E=C.config,M=C.d3.area(),G=C.generateGetAreaPoints(n,s),H=s?C.getSubYScale:C.getYScale;return M=E.axis_rotated?M.x0(f).x1(w).y(h):M.x(h).y0(E.area_above?0:f).y1(w),E.line_connectNull||(M=M.defined(function(V){return null!==V.value})),function(V){var tt=E.line_connectNull?C.filterRemoveNull(V.values):V.values,ht=0,J=0;return(C.isAreaType(V)?(C.isStepType(V)&&(tt=C.convertValuesToStep(tt)),M.curve(C.getInterpolate(V))(tt)):(tt[0]&&(ht=C.x(tt[0].x),J=C.getYScale(V.id)(tt[0].value)),E.axis_rotated?"M "+J+" "+ht:"M "+ht+" "+J))||"M 0 0"}},r.prototype.getAreaBaseValue=function(){return 0},r.prototype.generateGetAreaPoints=function(n,s){var h=this,f=h.config,C=h.getShapeX(0,n.__max__+1,n,!!s),E=h.getShapeY(!!s),M=h.getShapeOffset(h.isAreaType,n,!!s),G=s?h.getSubYScale:h.getYScale;return function(H,V){var tt=G.call(h,H.id)(0),ht=M(H,V)||tt,J=C(H),mt=E(H);return f.axis_rotated&&(0<H.value&&mt<tt||H.value<0&&tt<mt)&&(mt=tt),[[J,ht],[J,mt-(tt-ht)],[J,mt-(tt-ht)],[J,ht]]}},r.prototype.updateCircle=function(n,s){var h=this,f=h.main.selectAll("."+$.circles).selectAll("."+$.circle).data(h.lineOrScatterOrStanfordData.bind(h)),w=f.enter().append("circle").attr("shape-rendering",h.isStanfordGraphType()?"crispEdges":"").attr("class",h.classCircle.bind(h)).attr("cx",n).attr("cy",s).attr("r",h.pointR.bind(h)).style("color",h.isStanfordGraphType()?h.getStanfordPointColor.bind(h):h.color);h.mainCircle=w.merge(f).style("opacity",h.isStanfordGraphType()?1:h.initialOpacityForCircle.bind(h)),f.exit().style("opacity",0)},r.prototype.redrawCircle=function(n,s,h,f){var w=this,C=w.main.selectAll("."+$.selectedCircle);return[(h?w.mainCircle.transition(f):w.mainCircle).style("opacity",this.opacityForCircle.bind(w)).style("color",w.isStanfordGraphType()?w.getStanfordPointColor.bind(w):w.color).attr("cx",n).attr("cy",s),(h?C.transition(f):C).attr("cx",n).attr("cy",s)]},r.prototype.circleX=function(n){return n.x||0===n.x?this.x(n.x):null},r.prototype.updateCircleY=function(){var n,s,h=this;0<h.config.data_groups.length?(n=h.getShapeIndices(h.isLineType),s=h.generateGetLinePoints(n),h.circleY=function(f,w){return s(f,w)[0][1]}):h.circleY=function(f){return h.getYScale(f.id)(f.value)}},r.prototype.getCircles=function(n,s){return(s?this.main.selectAll("."+$.circles+this.getTargetSelectorSuffix(s)):this.main).selectAll("."+$.circle+(Pe(n)?"-"+n:""))},r.prototype.expandCircles=function(n,s,h){var f=this.pointExpandedR.bind(this);h&&this.unexpandCircles(),this.getCircles(n,s).classed($.EXPANDED,!0).attr("r",f)},r.prototype.unexpandCircles=function(n){var s=this,h=s.pointR.bind(s);s.getCircles(n).filter(function(){return s.d3.select(this).classed($.EXPANDED)}).classed($.EXPANDED,!1).attr("r",h)},r.prototype.pointR=function(n){var s=this.config;return this.isStepType(n)?0:sn(s.point_r)?s.point_r(n):s.point_r},r.prototype.pointExpandedR=function(n){var s=this.config;return s.point_focus_expand_enabled?sn(s.point_focus_expand_r)?s.point_focus_expand_r(n):s.point_focus_expand_r?s.point_focus_expand_r:1.75*this.pointR(n):this.pointR(n)},r.prototype.pointSelectR=function(n){var s=this.config;return sn(s.point_select_r)?s.point_select_r(n):s.point_select_r?s.point_select_r:4*this.pointR(n)},r.prototype.isWithinCircle=function(n,s){var h=this.d3,f=h.mouse(n),w=h.select(n),C=+w.attr("cx"),E=+w.attr("cy");return Math.sqrt(Math.pow(C-f[0],2)+Math.pow(E-f[1],2))<s},r.prototype.isWithinStep=function(n,s){return Math.abs(s-this.d3.mouse(n)[1])<30},r.prototype.getCurrentWidth=function(){var n=this.config;return n.size_width?n.size_width:this.getParentWidth()},r.prototype.getCurrentHeight=function(){var n=this.config,s=n.size_height?n.size_height:this.getParentHeight();return 0<s?s:320/(this.hasType("gauge")&&!n.gauge_fullCircle?2:1)},r.prototype.getCurrentPaddingTop=function(){var n=this.config,s=Pe(n.padding_top)?n.padding_top:0;return this.title&&this.title.node()&&(s+=this.getTitlePadding()),s},r.prototype.getCurrentPaddingBottom=function(){var n=this.config;return Pe(n.padding_bottom)?n.padding_bottom:0},r.prototype.getCurrentPaddingLeft=function(n){var s=this.config;return Pe(s.padding_left)?s.padding_left:s.axis_rotated?!s.axis_x_show||s.axis_x_inner?1:Math.max(Sn(this.getAxisWidthByAxisId("x",n)),40):!s.axis_y_show||s.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:Sn(this.getAxisWidthByAxisId("y",n))},r.prototype.getCurrentPaddingRight=function(){var n=this,s=n.config,h=0,f=n.isLegendRight?n.getLegendWidth()+20:0;return h=Pe(s.padding_right)?s.padding_right+1:s.axis_rotated?10+f:!s.axis_y2_show||s.axis_y2_inner?2+f+(n.axis.getY2AxisLabelPosition().isOuter?20:0):Sn(n.getAxisWidthByAxisId("y2"))+f,n.colorScale&&n.colorScale.node()&&(h+=n.getColorScalePadding()),h},r.prototype.getParentRectValue=function(n){for(var s,h=this.selectChart.node();h&&"BODY"!==h.tagName;){try{s=h.getBoundingClientRect()[n]}catch(f){"width"===n&&(s=h.offsetWidth)}if(s)break;h=h.parentNode}return s},r.prototype.getParentWidth=function(){return this.getParentRectValue("width")},r.prototype.getParentHeight=function(){var n=this.selectChart.style("height");return 0<n.indexOf("px")?+n.replace("px",""):0},r.prototype.getSvgLeft=function(n){var s=this,h=s.config,f=h.axis_rotated||!h.axis_rotated&&!h.axis_y_inner,C=s.main.select("."+(h.axis_rotated?$.axisX:$.axisY)).node(),E=C&&f?C.getBoundingClientRect():{right:0},M=s.selectChart.node().getBoundingClientRect(),G=s.hasArcType(),H=E.right-M.left-(G?0:s.getCurrentPaddingLeft(n));return 0<H?H:0},r.prototype.getAxisWidthByAxisId=function(n,s){var h=this.axis.getLabelPositionById(n);return this.axis.getMaxTickWidth(n,s)+(h.isInner?20:40)},r.prototype.getHorizontalAxisHeight=function(n,s){var h=this,f=h.config,w=30;return"x"!==n||(qe(s)&&s?f.subchart_axis_x_show:f.axis_x_show)?"x"===n&&f.axis_x_height?f.axis_x_height:"y"!==n||f.axis_y_show?"y2"!==n||f.axis_y2_show?("x"===n&&!f.axis_rotated&&f.axis_x_tick_rotate&&(w=30+h.axis.getMaxTickWidth(n)*Math.cos(Math.PI*(90-Math.abs(f.axis_x_tick_rotate))/180)),"y"===n&&f.axis_rotated&&f.axis_y_tick_rotate&&(w=30+h.axis.getMaxTickWidth(n)*Math.cos(Math.PI*(90-Math.abs(f.axis_y_tick_rotate))/180)),w+(h.axis.getLabelPositionById(n).isInner?0:10)+("y2"===n?-10:0)):h.rotated_padding_top:!f.legend_show||h.isLegendRight||h.isLegendInset?1:10:8},r.prototype.initBrush=function(n){var s=this,h=s.d3;return s.brush=(s.config.axis_rotated?h.brushY():h.brushX()).on("brush",function(){var f=h.event.sourceEvent;f&&"zoom"===f.type||s.redrawForBrush()}).on("end",function(){var f=h.event.sourceEvent;f&&"zoom"===f.type||s.brush.empty()&&f&&"end"!==f.type&&s.brush.clear()}),s.brush.updateExtent=function(){var f=this.scale.range();return this.extent(s.config.axis_rotated?[[0,f[0]],[s.width2,f[1]]]:[[f[0],0],[f[1],s.height2]]),this},s.brush.updateScale=function(f){return this.scale=f,this},s.brush.update=function(f){this.updateScale(f||s.subX).updateExtent(),s.context.select("."+$.brush).call(this)},s.brush.clear=function(){s.context.select("."+$.brush).call(s.brush.move,null)},s.brush.selection=function(){return h.brushSelection(s.context.select("."+$.brush).node())},s.brush.selectionAsValue=function(f,w){var C,E;return f?(s.context&&(C=[this.scale(f[0]),this.scale(f[1])],E=s.context.select("."+$.brush),w&&(E=E.transition()),s.brush.move(E,C)),[]):(C=s.brush.selection()||[0,0],[this.scale.invert(C[0]),this.scale.invert(C[1])])},s.brush.empty=function(){var f=s.brush.selection();return!f||f[0]===f[1]},s.brush.updateScale(n)},r.prototype.initSubchart=function(){var n=this,s=n.config,h=n.context=n.svg.append("g").attr("transform",n.getTranslate("context"));h.style("visibility","visible"),h.append("g").attr("clip-path",n.clipPathForSubchart).attr("class",$.chart),h.select("."+$.chart).append("g").attr("class",$.chartBars),h.select("."+$.chart).append("g").attr("class",$.chartLines),h.append("g").attr("clip-path",n.clipPath).attr("class",$.brush),n.axes.subx=h.append("g").attr("class",$.axisX).attr("transform",n.getTranslate("subx")).attr("clip-path",s.axis_rotated?"":n.clipPathForXAxis).style("visibility",s.subchart_axis_x_show?"visible":"hidden")},r.prototype.initSubchartBrush=function(){this.initBrush(this.subX).updateExtent(),this.context.select("."+$.brush).call(this.brush)},r.prototype.updateTargetsForSubchart=function(n){var s,h,f=this,w=f.context,C=f.config,E=f.classChartBar.bind(f),M=f.classBars.bind(f),G=f.classChartLine.bind(f),H=f.classLines.bind(f),V=f.classAreas.bind(f),tt=w.select("."+$.chartBars).selectAll("."+$.chartBar).data(n),ht=tt.enter().append("g").style("opacity",0);ht.merge(tt).attr("class",E),ht.append("g").attr("class",M),(s=(h=w.select("."+$.chartLines).selectAll("."+$.chartLine).data(n)).enter().append("g").style("opacity",0)).merge(h).attr("class",G),s.append("g").attr("class",H),s.append("g").attr("class",V),w.selectAll("."+$.brush+" rect").attr(C.axis_rotated?"width":"height",C.axis_rotated?f.width2:f.height2)},r.prototype.updateBarForSubchart=function(n){var s=this,h=s.context.selectAll("."+$.bars).selectAll("."+$.bar).data(s.barData.bind(s)),f=h.enter().append("path").attr("class",s.classBar.bind(s)).style("stroke","none").style("fill",s.color);h.exit().transition().duration(n).style("opacity",0).remove(),s.contextBar=f.merge(h).style("opacity",s.initialOpacity.bind(s))},r.prototype.redrawBarForSubchart=function(n,s,h){(s?this.contextBar.transition(Math.random().toString()).duration(h):this.contextBar).attr("d",n).style("opacity",1)},r.prototype.updateLineForSubchart=function(n){var s=this,h=s.context.selectAll("."+$.lines).selectAll("."+$.line).data(s.lineData.bind(s)),f=h.enter().append("path").attr("class",s.classLine.bind(s)).style("stroke",s.color);h.exit().transition().duration(n).style("opacity",0).remove(),s.contextLine=f.merge(h).style("opacity",s.initialOpacity.bind(s))},r.prototype.redrawLineForSubchart=function(n,s,h){(s?this.contextLine.transition(Math.random().toString()).duration(h):this.contextLine).attr("d",n).style("opacity",1)},r.prototype.updateAreaForSubchart=function(n){var s=this,h=s.d3,f=s.context.selectAll("."+$.areas).selectAll("."+$.area).data(s.lineData.bind(s)),w=f.enter().append("path").attr("class",s.classArea.bind(s)).style("fill",s.color).style("opacity",function(){return s.orgAreaOpacity=+h.select(this).style("opacity"),0});f.exit().transition().duration(n).style("opacity",0).remove(),s.contextArea=w.merge(f).style("opacity",0)},r.prototype.redrawAreaForSubchart=function(n,s,h){(s?this.contextArea.transition(Math.random().toString()).duration(h):this.contextArea).attr("d",n).style("fill",this.color).style("opacity",this.orgAreaOpacity)},r.prototype.redrawSubchart=function(n,s,h,f,w,C,E){var M,G,H,V=this,tt=V.d3;tt.event&&"zoom"===tt.event.type&&V.brush.selectionAsValue(V.x.orgDomain()),n&&(V.brush.empty()||V.brush.selectionAsValue(V.x.orgDomain()),M=V.generateDrawArea(w,!0),G=V.generateDrawBar(C,!0),H=V.generateDrawLine(E,!0),V.updateBarForSubchart(h),V.updateLineForSubchart(h),V.updateAreaForSubchart(h),V.redrawBarForSubchart(G,h,h),V.redrawLineForSubchart(H,h,h),V.redrawAreaForSubchart(M,h,h))},r.prototype.redrawForBrush=function(){var n,s=this,h=s.x,f=s.d3;s.redraw({withTransition:!1,withY:s.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),n=f.event.selection||s.brush.scale.range(),s.main.select("."+$.eventRect).call(s.zoom.transform,f.zoomIdentity.scale(s.width/(n[1]-n[0])).translate(-n[0],0)),s.config.subchart_onbrush.call(s.api,h.orgDomain())},r.prototype.transformContext=function(n,s){var h;s&&s.axisSubX?h=s.axisSubX:(h=this.context.select("."+$.axisX),n&&(h=h.transition())),this.context.attr("transform",this.getTranslate("context")),h.attr("transform",this.getTranslate("subx"))},r.prototype.getDefaultSelection=function(){var n=this,s=n.config,h=sn(s.axis_x_selection)?s.axis_x_selection(n.getXDomain(n.data.targets)):s.axis_x_selection;return n.isTimeSeries()&&(h=[n.parseDate(h[0]),n.parseDate(h[1])]),h},r.prototype.removeSubchart=function(){this.brush=null,this.context.remove(),this.context=null},r.prototype.initText=function(){this.main.select("."+$.chart).append("g").attr("class",$.chartTexts),this.mainText=this.d3.selectAll([])},r.prototype.updateTargetsForText=function(n){var s=this,h=s.classChartText.bind(s),f=s.classTexts.bind(s),w=s.classFocus.bind(s),C=s.main.select("."+$.chartTexts).selectAll("."+$.chartText).data(n),E=C.enter().append("g").attr("class",h).style("opacity",0).style("pointer-events","none");E.append("g").attr("class",f),E.merge(C).attr("class",function(M){return h(M)+w(M)})},r.prototype.updateText=function(n,s,h){var f=this,w=f.config,C=f.barOrLineData.bind(f),E=f.classText.bind(f),M=f.main.selectAll("."+$.texts).selectAll("."+$.text).data(C),G=M.enter().append("text").attr("class",E).attr("text-anchor",function(H){return w.axis_rotated?H.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",n).attr("y",s).style("fill",function(H){return f.color(H)}).style("fill-opacity",0);f.mainText=G.merge(M).text(function(H,V,tt){return f.dataLabelFormat(H.id)(H.value,H.id,V,tt)}),M.exit().transition().duration(h).style("fill-opacity",0).remove()},r.prototype.redrawText=function(n,s,h,f,w){return[(f?this.mainText.transition(w):this.mainText).attr("x",n).attr("y",s).style("fill",this.color).style("fill-opacity",h?0:this.opacityForText.bind(this))]},r.prototype.getTextRect=function(n,s,h){var f,w=this.d3.select("body").append("div").classed("c3",!0),C=w.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),E=this.d3.select(h).style("font");return C.selectAll(".dummy").data([n]).enter().append("text").classed(s||"",!0).style("font",E).text(n).each(function(){f=Vt(this)}),w.remove(),f},r.prototype.generateXYForText=function(n,s,h,f){var w=this,C=w.generateGetAreaPoints(n,!1),E=w.generateGetBarPoints(s,!1),M=w.generateGetLinePoints(h,!1),G=f?w.getXForText:w.getYForText;return function(H,V){var tt=w.isAreaType(H)?C:w.isBarType(H)?E:M;return G.call(w,tt(H,V),H,this)}},r.prototype.getXForText=function(n,s,h){var f,w=this,C=Vt(h),E=w.config.axis_rotated?(f=w.isBarType(s)?4:6,n[2][1]+f*(s.value<0?-1:1)):w.hasType("bar")?(n[2][0]+n[0][0])/2:n[0][0];return null===s.value&&(E>w.width?E=w.width-C.width:E<0&&(E=4)),E},r.prototype.getYForText=function(n,s,h){var f,w=this,C=Vt(h);return w.config.axis_rotated?f=(n[0][0]+n[2][0]+.6*C.height)/2:(f=n[2][1],s.value<0||0===s.value&&!w.hasPositiveValue?(f+=C.height,w.isBarType(s)&&w.isSafari()?f-=3:!w.isBarType(s)&&w.isChrome()&&(f+=3)):f+=w.isBarType(s)?-3:-6),null!==s.value||w.config.axis_rotated||(f<C.height?f=C.height:f>this.height&&(f=this.height-4)),f},r.prototype.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},r.prototype.redrawTitle=function(){var n=this;n.title.attr("x",n.xForTitle.bind(n)).attr("y",n.yForTitle.bind(n))},r.prototype.xForTitle=function(){var n=this,s=n.config,h=s.title_position||"left";return 0<=h.indexOf("right")?n.currentWidth-n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).width-s.title_padding.right:0<=h.indexOf("center")?Math.max((n.currentWidth-n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).width)/2,0):s.title_padding.left},r.prototype.yForTitle=function(){var n=this;return n.config.title_padding.top+n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).height},r.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},r.prototype.drawColorScale=function(){var n,s,h,f,w,C,E=this,M=E.d3,G=E.config,H=E.data.targets[0],V=isNaN(G.stanford_scaleWidth)?20:G.stanford_scaleWidth;if(V<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");s=M.range(G.stanford_padding.bottom,C=E.height-G.stanford_padding.bottom-G.stanford_padding.top,5),w=M.scaleSequential(H.colors).domain([s[s.length-1],s[0]]),E.colorScale&&E.colorScale.remove(),E.colorScale=E.svg.append("g").attr("width",50).attr("height",C).attr("class",$.colorScale),E.colorScale.append("g").attr("transform","translate(0, "+G.stanford_padding.top+")").selectAll("bars").data(s).enter().append("rect").attr("y",function(tt,ht){return 5*ht}).attr("x",0).attr("width",V).attr("height",5).attr("fill",function(tt){return w(tt)}),f=M.scaleLog().domain([H.minEpochs,H.maxEpochs]).range([s[0]+G.stanford_padding.top+s[s.length-1]+5-1,s[0]+G.stanford_padding.top]),h=M.axisRight(f),"pow10"===G.stanford_scaleFormat?h.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):sn(G.stanford_scaleFormat)?h.tickFormat(G.stanford_scaleFormat):h.tickFormat(M.format("d")),sn(G.stanford_scaleValues)&&h.tickValues(G.stanford_scaleValues(H.minEpochs,H.maxEpochs)),n=E.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+V+",0)").call(h),"pow10"===G.stanford_scaleFormat&&n.selectAll(".tick text").text(null).filter(gn).text(10).append("tspan").attr("dy","-.7em").text(function(tt){return Math.round(Math.log(tt)/Math.LN10)}),E.colorScale.attr("transform","translate("+(E.currentWidth-E.xForColorScale())+", 0)")},r.prototype.xForColorScale=function(){return this.config.stanford_padding.right+Vt(this.colorScale.node()).width},r.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+20},r.prototype.isStanfordGraphType=function(){return"stanford"===this.config.data_type},r.prototype.initStanfordData=function(){var n,s,h,f=this.d3,w=this.config,C=this.data.targets[0];if(C.values.sort(nt),n=C.values.map(function(E){return E.epochs}),h=isNaN(w.stanford_scaleMin)?f.min(n):w.stanford_scaleMin,(s=isNaN(w.stanford_scaleMax)?f.max(n):w.stanford_scaleMax)<h)throw Error("Number of minEpochs has to be smaller than maxEpochs");C.colors=sn(w.stanford_colors)?w.stanford_colors:f.interpolateHslLong(f.hsl(250,1,.5),f.hsl(0,1,.5)),C.colorscale=f.scaleSequentialLog(C.colors).domain([h,s]),C.minEpochs=h,C.maxEpochs=s},r.prototype.getStanfordPointColor=function(n){return this.data.targets[0].colorscale(n.epochs)},r.prototype.getCentroid=function(n){for(var s,h,f,w=ae(n),C=0,E=0,M=0,G=n.length-1;M<n.length;G=M,M+=1)C+=((h=n[M]).x+(f=n[G]).x)*(s=h.x*f.y-f.x*h.y),E+=(h.y+f.y)*s;return{x:C/(s=6*w),y:E/s}},r.prototype.getStanfordTooltipTitle=function(n){var s=this.axis.getLabelText("x"),h=this.axis.getLabelText("y");return"\n      <tr><th>"+(s?he(s):"x")+"</th><th class='value'>"+n.x+"</th></tr>\n      <tr><th>"+(h?he(h):"y")+"</th><th class='value'>"+n.value+"</th></tr>\n    "},r.prototype.countEpochsInRegion=function(n){var s=this.data.targets[0],h=s.values.reduce(function(w,C){return w+Number(C.epochs)},0),f=s.values.reduce(function(w,C){return et(C,n)?w+Number(C.epochs):w},0);return{value:f,percentage:0!==f?(f/h*100).toFixed(1):0}};var ae=function(n){for(var s,h,f=0,w=0,C=n.length-1;w<n.length;C=w,w+=1)f+=(s=n[w]).x*(h=n[C]).y,f-=s.y*h.x;return f/2},et=function(n,s){for(var h,f,w,E=n.x,M=n.value,G=!1,H=0,V=s.length-1;H<s.length;V=H++)h=s[H].x,M<(f=s[H].y)!=M<(w=s[V].y)&&E<(s[V].x-h)*(M-f)/(w-f)+h&&(G=!G);return G},nt=function(n,s){return n.epochs<s.epochs?-1:n.epochs>s.epochs?1:0};return r.prototype.initStanfordElements=function(){var n=this;n.stanfordElements=n.main.select("."+$.chart).append("g").attr("class",$.stanfordElements),n.stanfordElements.append("g").attr("class",$.stanfordLines),n.stanfordElements.append("g").attr("class",$.stanfordTexts),n.stanfordElements.append("g").attr("class",$.stanfordRegions)},r.prototype.updateStanfordElements=function(n){var s,h,f,w,C=this,E=C.main,M=C.config,G=C.xvCustom.bind(C),H=C.yvCustom.bind(C),V=C.countEpochsInRegion.bind(C),tt=E.select("."+$.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+$.stanfordLine).data(M.stanford_lines),ht=tt.enter().append("g").attr("class",function(J){return $.stanfordLine+(J.class?" "+J.class:"")});ht.append("line").attr("x1",function(J){return M.axis_rotated?H(J,"value_y1"):G(J,"value_x1")}).attr("x2",function(J){return M.axis_rotated?H(J,"value_y2"):G(J,"value_x2")}).attr("y1",function(J){return M.axis_rotated?G(J,"value_x1"):H(J,"value_y1")}).attr("y2",function(J){return M.axis_rotated?G(J,"value_x2"):H(J,"value_y2")}).style("opacity",0),C.stanfordLines=ht.merge(tt),C.stanfordLines.select("line").transition().duration(n).attr("x1",function(J){return M.axis_rotated?H(J,"value_y1"):G(J,"value_x1")}).attr("x2",function(J){return M.axis_rotated?H(J,"value_y2"):G(J,"value_x2")}).attr("y1",function(J){return M.axis_rotated?G(J,"value_x1"):H(J,"value_y1")}).attr("y2",function(J){return M.axis_rotated?G(J,"value_x2"):H(J,"value_y2")}).style("opacity",1),tt.exit().transition().duration(n).style("opacity",0).remove(),(w=(f=E.select("."+$.stanfordTexts).selectAll("."+$.stanfordText).data(M.stanford_texts)).enter().append("g").attr("class",function(J){return $.stanfordText+(J.class?" "+J.class:"")})).append("text").attr("x",function(J){return M.axis_rotated?H(J,"y"):G(J,"x")}).attr("y",function(J){return M.axis_rotated?G(J,"x"):H(J,"y")}).style("opacity",0),C.stanfordTexts=w.merge(f),C.stanfordTexts.select("text").transition().duration(n).attr("x",function(J){return M.axis_rotated?H(J,"y"):G(J,"x")}).attr("y",function(J){return M.axis_rotated?G(J,"x"):H(J,"y")}).text(function(J){return J.content}).style("opacity",1),f.exit().transition().duration(n).style("opacity",0).remove(),(h=(s=E.select("."+$.stanfordRegions).selectAll("."+$.stanfordRegion).data(M.stanford_regions)).enter().append("g").attr("class",function(J){return $.stanfordRegion+(J.class?" "+J.class:"")})).append("polygon").attr("points",function(J){return J.points.map(function(mt){return[M.axis_rotated?H(mt,"y"):G(mt,"x"),M.axis_rotated?G(mt,"x"):H(mt,"y")].join(",")}).join(" ")}).style("opacity",0),h.append("text").attr("x",function(J){return C.getCentroid(J.points).x}).attr("y",function(J){return C.getCentroid(J.points).y}).style("opacity",0),C.stanfordRegions=h.merge(s),C.stanfordRegions.select("polygon").transition().duration(n).attr("points",function(J){return J.points.map(function(mt){return[M.axis_rotated?H(mt,"y"):G(mt,"x"),M.axis_rotated?G(mt,"x"):H(mt,"y")].join(",")}).join(" ")}).style("opacity",function(J){return J.opacity?J.opacity:.2}),C.stanfordRegions.select("text").transition().duration(n).attr("x",function(J){return M.axis_rotated?H(C.getCentroid(J.points),"y"):G(C.getCentroid(J.points),"x")}).attr("y",function(J){return M.axis_rotated?G(C.getCentroid(J.points),"x"):H(C.getCentroid(J.points),"y")}).text(function(J){var mt,At,Dt;return J.text?(C.isStanfordGraphType()&&(mt=(Dt=V(J.points)).value,At=Dt.percentage),J.text(mt,At)):""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),s.exit().transition().duration(n).style("opacity",0).remove()},r.prototype.initTooltip=function(){var n,s=this,h=s.config;if(s.tooltip=s.selectChart.style("position","relative").append("div").attr("class",$.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),h.tooltip_init_show){if(s.isTimeSeries()&&_e(h.tooltip_init_x)){for(h.tooltip_init_x=s.parseDate(h.tooltip_init_x),n=0;n<s.data.targets[0].values.length&&s.data.targets[0].values[n].x-h.tooltip_init_x!=0;n++);h.tooltip_init_x=n}s.tooltip.html(h.tooltip_contents.call(s,s.data.targets.map(function(f){return s.addName(f.values[h.tooltip_init_x])}),s.axis.getXAxisTickFormat(),s.getYFormat(s.hasArcType()),s.color)),s.tooltip.style("top",h.tooltip_init_position.top).style("left",h.tooltip_init_position.left).style("display","block")}},r.prototype.getTooltipSortFunction=function(){var n=this,s=n.config;if(0!==s.data_groups.length&&void 0===s.tooltip_order){var h=n.orderTargets(n.data.targets).map(function(E){return E.id});return(n.isOrderAsc()||n.isOrderDesc())&&(h=h.reverse()),function(E,M){return h.indexOf(E.id)-h.indexOf(M.id)}}var f=s.tooltip_order;function w(E){return E?E.value:null}if(void 0===f&&(f=s.data_order),_e(f)&&"asc"===f.toLowerCase())return function(E,M){return w(E)-w(M)};if(_e(f)&&"desc"===f.toLowerCase())return function(E,M){return w(M)-w(E)};if(sn(f)){var C=f;return void 0===s.tooltip_order&&(C=function(E,M){return f(E?{id:E.id,values:[E]}:null,M?{id:M.id,values:[M]}:null)}),C}return We(f)?function(E,M){return f.indexOf(E.id)-f.indexOf(M.id)}:void 0},r.prototype.getTooltipContent=function(n,s,h,f){var w,C,E,M,G,H,V=this,tt=V.config,ht=tt.tooltip_format_title||s,J=tt.tooltip_format_name||function(Dt){return Dt},mt=(mt=tt.tooltip_format_value)||(V.isTargetNormalized(n.id)?function(Dt,at){return(100*at).toFixed(2)+"%"}:h),At=this.getTooltipSortFunction();for(At&&n.sort(At),C=0;C<n.length;C++)if(n[C]&&(n[C].value||0===n[C].value)){if(V.isStanfordGraphType())w||(E=V.getStanfordTooltipTitle(n[C]),w="<table class='"+V.CLASS.tooltip+"'>"+E),H=V.getStanfordPointColor(n[C]),G=he(tt.data_epochs),M=n[C].epochs;else if(w||(E=he(ht?ht(n[C].x,n[C].index):n[C].x),w="<table class='"+V.CLASS.tooltip+"'>"+(E||0===E?"<tr><th colspan='2'>"+E+"</th></tr>":"")),void 0!==(M=he(mt(n[C].value,n[C].ratio,n[C].id,n[C].index,n)))){if(null===n[C].name)continue;G=he(J(n[C].name,n[C].ratio,n[C].id,n[C].index)),H=V.levelColor?V.levelColor(n[C].value):f(n[C].id)}void 0!==M&&(w+="<tr class='"+V.CLASS.tooltipName+"-"+V.getTargetSelectorSuffix(n[C].id)+"'>",w+="<td class='name'><span style='background-color:"+H+"'></span>"+G+"</td>",w+="<td class='value'>"+M+"</td>",w+="</tr>")}return w+"</table>"},r.prototype.tooltipPosition=function(n,s,h,f){var w,C,E,M,G,H=this,V=H.config,tt=H.d3,ht=H.hasArcType(),J=tt.mouse(f);return ht?(C=(H.width-(H.isLegendRight?H.getLegendWidth():0))/2+J[0],M=(H.hasType("gauge")?H.height:H.height/2)+J[1]+20):(w=H.getSvgLeft(!0),M=V.axis_rotated?(E=(C=w+J[0]+100)+s,G=H.currentWidth-H.getCurrentPaddingRight(),H.x(n[0].x)+20):(E=(C=w+H.getCurrentPaddingLeft(!0)+H.x(n[0].x)+20)+s,G=w+H.currentWidth-H.getCurrentPaddingRight(),J[1]+15),G<E&&(C-=E-G+20),M+h>H.currentHeight&&(M-=h+30)),M<0&&(M=0),{top:M,left:C}},r.prototype.showTooltip=function(n,s){var h,f,w,C=this,E=C.config,M=C.hasArcType(),G=n.filter(function(V){return V&&Pe(V.value)}),H=E.tooltip_position||r.prototype.tooltipPosition;0!==G.length&&E.tooltip_show?(C.tooltip.html(E.tooltip_contents.call(C,n,C.axis.getXAxisTickFormat(),C.getYFormat(M),C.color)).style("display","block"),h=C.tooltip.property("offsetWidth"),f=C.tooltip.property("offsetHeight"),w=H.call(this,G,h,f,s),C.tooltip.style("top",w.top+"px").style("left",w.left+"px")):C.hideTooltip()},r.prototype.hideTooltip=function(){this.tooltip.style("display","none")},r.prototype.setTargetType=function(n,s){var h=this,f=h.config;h.mapToTargetIds(n).forEach(function(w){h.withoutFadeIn[w]=s===f.data_types[w],f.data_types[w]=s}),n||(f.data_type=s)},r.prototype.hasType=function(n,s){var h=this.config.data_types,f=!1;return(s=s||this.data.targets)&&s.length?s.forEach(function(w){var C=h[w.id];(C&&0<=C.indexOf(n)||!C&&"line"===n)&&(f=!0)}):Object.keys(h).length?Object.keys(h).forEach(function(w){h[w]===n&&(f=!0)}):f=this.config.data_type===n,f},r.prototype.hasArcType=function(n){return this.hasType("pie",n)||this.hasType("donut",n)||this.hasType("gauge",n)},r.prototype.isLineType=function(n){var s=this.config,h=_e(n)?n:n.id;return!s.data_types[h]||0<=["line","spline","area","area-spline","step","area-step"].indexOf(s.data_types[h])},r.prototype.isStepType=function(n){var s=_e(n)?n:n.id;return 0<=["step","area-step"].indexOf(this.config.data_types[s])},r.prototype.isSplineType=function(n){var s=_e(n)?n:n.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[s])},r.prototype.isAreaType=function(n){var s=_e(n)?n:n.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[s])},r.prototype.isBarType=function(n){var s=_e(n)?n:n.id;return"bar"===this.config.data_types[s]},r.prototype.isScatterType=function(n){var s=_e(n)?n:n.id;return"scatter"===this.config.data_types[s]},r.prototype.isStanfordType=function(n){var s=_e(n)?n:n.id;return"stanford"===this.config.data_types[s]},r.prototype.isPieType=function(n){var s=_e(n)?n:n.id;return"pie"===this.config.data_types[s]},r.prototype.isGaugeType=function(n){var s=_e(n)?n:n.id;return"gauge"===this.config.data_types[s]},r.prototype.isDonutType=function(n){var s=_e(n)?n:n.id;return"donut"===this.config.data_types[s]},r.prototype.isArcType=function(n){return this.isPieType(n)||this.isDonutType(n)||this.isGaugeType(n)},r.prototype.lineData=function(n){return this.isLineType(n)?[n]:[]},r.prototype.arcData=function(n){return this.isArcType(n.data)?[n]:[]},r.prototype.barData=function(n){return this.isBarType(n)?n.values:[]},r.prototype.lineOrScatterOrStanfordData=function(n){return this.isLineType(n)||this.isScatterType(n)||this.isStanfordType(n)?n.values:[]},r.prototype.barOrLineData=function(n){return this.isBarType(n)||this.isLineType(n)?n.values:[]},r.prototype.isSafari=function(){var n=window.navigator.userAgent;return 0<=n.indexOf("Safari")&&n.indexOf("Chrome")<0},r.prototype.isChrome=function(){return 0<=window.navigator.userAgent.indexOf("Chrome")},r.prototype.initZoom=function(){var n,s=this,h=s.d3,f=s.config;return s.zoom=h.zoom().on("start",function(){var w;"scroll"===f.zoom_type&&((w=h.event.sourceEvent)&&"brush"===w.type||(n=w,f.zoom_onzoomstart.call(s.api,w)))}).on("zoom",function(){var w;"scroll"===f.zoom_type&&((w=h.event.sourceEvent)&&"brush"===w.type||(s.redrawForZoom(),f.zoom_onzoom.call(s.api,s.x.orgDomain())))}).on("end",function(){var w;"scroll"===f.zoom_type&&((w=h.event.sourceEvent)&&"brush"===w.type||w&&n.clientX===w.clientX&&n.clientY===w.clientY||f.zoom_onzoomend.call(s.api,s.x.orgDomain()))}),s.zoom.updateDomain=function(){return h.event&&h.event.transform&&s.x.domain(f.axis_rotated&&"scroll"===f.zoom_type&&"mousemove"===h.event.sourceEvent.type?h.event.transform.rescaleY(s.subX).domain():h.event.transform.rescaleX(s.subX).domain()),this},s.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[s.width,s.height]]).extent([[0,0],[s.width,s.height]]),this},s.zoom.update=function(){return this.updateExtent().updateDomain()},s.zoom.updateExtent()},r.prototype.zoomTransform=function(n){var s=[this.x(n[0]),this.x(n[1])];return this.d3.zoomIdentity.scale(this.width/(s[1]-s[0])).translate(-s[0],0)},r.prototype.initDragZoom=function(){var n,s,h=this,f=h.d3,w=h.config,C=h.context=h.svg,E=h.margin.left+20.5,M=h.margin.top+.5;"drag"===w.zoom_type&&w.zoom_enabled&&(n=function(G){return G&&G.map(function(H){return h.x.invert(H)})},s=h.dragZoomBrush=f.brushX().on("start",function(){h.api.unzoom(),h.svg.select("."+$.dragZoom).classed("disabled",!1),w.zoom_onzoomstart.call(h.api,f.event.sourceEvent)}).on("brush",function(){w.zoom_onzoom.call(h.api,n(f.event.selection))}).on("end",function(){var G;null!=f.event.selection&&(G=n(f.event.selection),w.zoom_disableDefaultBehavior||h.api.zoom(G),h.svg.select("."+$.dragZoom).classed("disabled",!0),w.zoom_onzoomend.call(h.api,G))}),C.append("g").classed($.dragZoom,!0).attr("clip-path",h.clipPath).attr("transform","translate("+E+","+M+")").call(s))},r.prototype.getZoomDomain=function(){var n=this.config,s=this.d3;return[s.min([this.orgXDomain[0],n.zoom_x_min]),s.max([this.orgXDomain[1],n.zoom_x_max])]},r.prototype.redrawForZoom=function(){var n=this,s=n.d3,h=n.config,f=n.zoom,w=n.x;h.zoom_enabled&&0!==n.filterTargetsToShow(n.data.targets).length&&(f.update(),h.zoom_disableDefaultBehavior||(n.isCategorized()&&w.orgDomain()[0]===n.orgXDomain[0]&&w.domain([n.orgXDomain[0]-1e-10,w.orgDomain()[1]]),n.redraw({withTransition:!1,withY:h.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),s.event.sourceEvent&&"mousemove"===s.event.sourceEvent.type&&(n.cancelClick=!0)))},ve}),function(r,Ht){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=r.document?Ht(r,!0):function(wn){if(!wn.document)throw new Error("jQuery requires a window with a document");return Ht(wn)}:Ht(r)}("undefined"!=typeof window?window:this,function(r,Ht){"use strict";var wn=[],Sn=Object.getPrototypeOf,pe=wn.slice,Ct=wn.flat?function(p){return wn.flat.call(p)}:function(p){return wn.concat.apply([],p)},je=wn.push,We=wn.indexOf,Re={},sn=Re.toString,On=Re.hasOwnProperty,_n=On.toString,Pe=_n.call(Object),ue={},he=function(p){return"function"==typeof p&&"number"!=typeof p.nodeType&&"function"!=typeof p.item},dn=function(p){return null!=p&&p===p.window},Vt=r.document,qe={type:!0,src:!0,nonce:!0,noModule:!0};function _e(p,x,A){var D,R,j=(A=A||Vt).createElement("script");if(j.text=p,x)for(D in qe)(R=x[D]||x.getAttribute&&x.getAttribute(D))&&j.setAttribute(D,R);A.head.appendChild(j).parentNode.removeChild(j)}function ze(p){return null==p?p+"":"object"==typeof p||"function"==typeof p?Re[sn.call(p)]||"object":typeof p}var $="3.6.0",L=function(p,x){return new L.fn.init(p,x)};function re(p){var x=!!p&&"length"in p&&p.length,A=ze(p);return!he(p)&&!dn(p)&&("array"===A||0===x||"number"==typeof x&&0<x&&x-1 in p)}L.fn=L.prototype={jquery:$,constructor:L,length:0,toArray:function(){return pe.call(this)},get:function(p){return null==p?pe.call(this):p<0?this[p+this.length]:this[p]},pushStack:function(p){var x=L.merge(this.constructor(),p);return x.prevObject=this,x},each:function(p){return L.each(this,p)},map:function(p){return this.pushStack(L.map(this,function(x,A){return p.call(x,A,x)}))},slice:function(){return this.pushStack(pe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(L.grep(this,function(p,x){return(x+1)%2}))},odd:function(){return this.pushStack(L.grep(this,function(p,x){return x%2}))},eq:function(p){var x=this.length,A=+p+(p<0?x:0);return this.pushStack(0<=A&&A<x?[this[A]]:[])},end:function(){return this.prevObject||this.constructor()},push:je,sort:wn.sort,splice:wn.splice},L.extend=L.fn.extend=function(){var p,x,A,D,R,j,W=arguments[0]||{},it=1,ut=arguments.length,_t=!1;for("boolean"==typeof W&&(_t=W,W=arguments[it]||{},it++),"object"==typeof W||he(W)||(W={}),it===ut&&(W=this,it--);it<ut;it++)if(null!=(p=arguments[it]))for(x in p)D=p[x],"__proto__"!==x&&W!==D&&(_t&&D&&(L.isPlainObject(D)||(R=Array.isArray(D)))?(A=W[x],j=R&&!Array.isArray(A)?[]:R||L.isPlainObject(A)?A:{},R=!1,W[x]=L.extend(_t,j,D)):void 0!==D&&(W[x]=D));return W},L.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(p){throw new Error(p)},noop:function(){},isPlainObject:function(p){var x,A;return!(!p||"[object Object]"!==sn.call(p)||(x=Sn(p))&&("function"!=typeof(A=On.call(x,"constructor")&&x.constructor)||_n.call(A)!==Pe))},isEmptyObject:function(p){var x;for(x in p)return!1;return!0},globalEval:function(p,x,A){_e(p,{nonce:x&&x.nonce},A)},each:function(p,x){var A,D=0;if(re(p))for(A=p.length;D<A&&!1!==x.call(p[D],D,p[D]);D++);else for(D in p)if(!1===x.call(p[D],D,p[D]))break;return p},makeArray:function(p,x){var A=x||[];return null!=p&&(re(Object(p))?L.merge(A,"string"==typeof p?[p]:p):je.call(A,p)),A},inArray:function(p,x,A){return null==x?-1:We.call(x,p,A)},merge:function(p,x){for(var A=+x.length,D=0,R=p.length;D<A;D++)p[R++]=x[D];return p.length=R,p},grep:function(p,x,A){for(var D=[],R=0,j=p.length,W=!A;R<j;R++)!x(p[R],R)!==W&&D.push(p[R]);return D},map:function(p,x,A){var D,R,j=0,W=[];if(re(p))for(D=p.length;j<D;j++)null!=(R=x(p[j],j,A))&&W.push(R);else for(j in p)null!=(R=x(p[j],j,A))&&W.push(R);return Ct(W)},guid:1,support:ue}),"function"==typeof Symbol&&(L.fn[Symbol.iterator]=wn[Symbol.iterator]),L.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(p,x){Re["[object "+x+"]"]=x.toLowerCase()});var ve=function(p){var x,A,D,R,j,W,it,ut,_t,It,zt,Pt,Lt,ee,Jt,ie,Mn,Bn,Ci,pn="sizzle"+1*new Date,Fe=p.document,ci=0,an=0,on=vr(),zr=vr(),Fr=vr(),hi=vr(),nr=function(K,rt){return K===rt&&(zt=!0),0},Qi={}.hasOwnProperty,di=[],Zi=di.pop,_i=di.push,Dn=di.push,si=di.slice,yi=function(K,rt){for(var gt=0,Rt=K.length;gt<Rt;gt++)if(K[gt]===rt)return gt;return-1},Fi="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ge="[\\x20\\t\\r\\n\\f]",hn="(?:\\\\[\\da-fA-F]{1,6}"+Ge+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",jn="\\["+Ge+"*("+hn+")(?:"+Ge+"*([*^$|!~]?=)"+Ge+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+hn+"))|)"+Ge+"*\\]",bi=":("+hn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+jn+")*)|.*)\\)|)",En=new RegExp(Ge+"+","g"),fi=new RegExp("^"+Ge+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ge+"+$","g"),gr=new RegExp("^"+Ge+"*,"+Ge+"*"),Pa=new RegExp("^"+Ge+"*([>+~]|"+Ge+")"+Ge+"*"),ks=new RegExp(Ge+"|>"),Ps=new RegExp(bi),Ms=new RegExp("^"+hn+"$"),Ma={ID:new RegExp("^#("+hn+")"),CLASS:new RegExp("^\\.("+hn+")"),TAG:new RegExp("^("+hn+"|[*])"),ATTR:new RegExp("^"+jn),PSEUDO:new RegExp("^"+bi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ge+"*(even|odd|(([+-]|)(\\d*)n|)"+Ge+"*(?:([+-]|)"+Ge+"*(\\d+)|))"+Ge+"*\\)|)","i"),bool:new RegExp("^(?:"+Fi+")$","i"),needsContext:new RegExp("^"+Ge+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ge+"*((?:-\\d)?\\d*)"+Ge+"*\\)|)(?=[^-]|$)","i")},il=/HTML$/i,Ds=/^(?:input|select|textarea|button)$/i,rl=/^h\d$/i,oa=/^[^{]+\{\s*\[native \w/,Es=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fo=/[+~]/,Hi=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ge+"?|\\\\([^\\r\\n\\f])","g"),Gi=function(K,rt){var gt="0x"+K.slice(1)-65536;return rt||(gt<0?String.fromCharCode(gt+65536):String.fromCharCode(gt>>10|55296,1023&gt|56320))},Hr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,mr=function(K,rt){return rt?"\0"===K?"\ufffd":K.slice(0,-1)+"\\"+K.charCodeAt(K.length-1).toString(16)+" ":"\\"+K},Gr=function(){Pt()},sa=Wr(function(K){return!0===K.disabled&&"fieldset"===K.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Dn.apply(di=si.call(Fe.childNodes),Fe.childNodes)}catch(K){Dn={apply:di.length?function(rt,gt){_i.apply(rt,si.call(gt))}:function(rt,gt){for(var Rt=rt.length,wt=0;rt[Rt++]=gt[wt++];);rt.length=Rt-1}}}function bn(K,rt,gt,Rt){var wt,Gt,Yt,Ut,Zt,be,xe,Ie=rt&&rt.ownerDocument,Ze=rt?rt.nodeType:9;if(gt=gt||[],"string"!=typeof K||!K||1!==Ze&&9!==Ze&&11!==Ze)return gt;if(!Rt&&(Pt(rt),rt=rt||Lt,Jt)){if(11!==Ze&&(Zt=Es.exec(K)))if(wt=Zt[1]){if(9===Ze){if(!(Yt=rt.getElementById(wt)))return gt;if(Yt.id===wt)return gt.push(Yt),gt}else if(Ie&&(Yt=Ie.getElementById(wt))&&Ci(rt,Yt)&&Yt.id===wt)return gt.push(Yt),gt}else{if(Zt[2])return Dn.apply(gt,rt.getElementsByTagName(K)),gt;if((wt=Zt[3])&&A.getElementsByClassName&&rt.getElementsByClassName)return Dn.apply(gt,rt.getElementsByClassName(wt)),gt}if(A.qsa&&!hi[K+" "]&&(!ie||!ie.test(K))&&(1!==Ze||"object"!==rt.nodeName.toLowerCase())){if(xe=K,Ie=rt,1===Ze&&(ks.test(K)||Pa.test(K))){for((Ie=fo.test(K)&&Da(rt.parentNode)||rt)===rt&&A.scope||((Ut=rt.getAttribute("id"))?Ut=Ut.replace(Hr,mr):rt.setAttribute("id",Ut=pn)),Gt=(be=W(K)).length;Gt--;)be[Gt]=(Ut?"#"+Ut:":scope")+" "+Ea(be[Gt]);xe=be.join(",")}try{return Dn.apply(gt,Ie.querySelectorAll(xe)),gt}catch(Rn){hi(K,!0)}finally{Ut===pn&&rt.removeAttribute("id")}}}return ut(K.replace(fi,"$1"),rt,gt,Rt)}function vr(){var K=[];return function rt(gt,Rt){return K.push(gt+" ")>D.cacheLength&&delete rt[K.shift()],rt[gt+" "]=Rt}}function ni(K){return K[pn]=!0,K}function xi(K){var rt=Lt.createElement("fieldset");try{return!!K(rt)}catch(gt){return!1}finally{rt.parentNode&&rt.parentNode.removeChild(rt),rt=null}}function _r(K,rt){for(var gt=K.split("|"),Rt=gt.length;Rt--;)D.attrHandle[gt[Rt]]=rt}function po(K,rt){var gt=rt&&K,Rt=gt&&1===K.nodeType&&1===rt.nodeType&&K.sourceIndex-rt.sourceIndex;if(Rt)return Rt;if(gt)for(;gt=gt.nextSibling;)if(gt===rt)return-1;return K?1:-1}function Br(K){return function(rt){return"input"===rt.nodeName.toLowerCase()&&rt.type===K}}function al(K){return function(rt){var gt=rt.nodeName.toLowerCase();return("input"===gt||"button"===gt)&&rt.type===K}}function jr(K){return function(rt){return"form"in rt?rt.parentNode&&!1===rt.disabled?"label"in rt?"label"in rt.parentNode?rt.parentNode.disabled===K:rt.disabled===K:rt.isDisabled===K||rt.isDisabled!==!K&&sa(rt)===K:rt.disabled===K:"label"in rt&&rt.disabled===K}}function Ji(K){return ni(function(rt){return rt=+rt,ni(function(gt,Rt){for(var wt,Gt=K([],gt.length,rt),Yt=Gt.length;Yt--;)gt[wt=Gt[Yt]]&&(gt[wt]=!(Rt[wt]=gt[wt]))})})}function Da(K){return K&&void 0!==K.getElementsByTagName&&K}for(x in A=bn.support={},j=bn.isXML=function(K){var gt=K&&(K.ownerDocument||K).documentElement;return!il.test(K&&K.namespaceURI||gt&&gt.nodeName||"HTML")},Pt=bn.setDocument=function(K){var rt,gt,Rt=K?K.ownerDocument||K:Fe;return Rt!=Lt&&9===Rt.nodeType&&Rt.documentElement&&(ee=(Lt=Rt).documentElement,Jt=!j(Lt),Fe!=Lt&&(gt=Lt.defaultView)&&gt.top!==gt&&(gt.addEventListener?gt.addEventListener("unload",Gr,!1):gt.attachEvent&&gt.attachEvent("onunload",Gr)),A.scope=xi(function(wt){return ee.appendChild(wt).appendChild(Lt.createElement("div")),void 0!==wt.querySelectorAll&&!wt.querySelectorAll(":scope fieldset div").length}),A.attributes=xi(function(wt){return wt.className="i",!wt.getAttribute("className")}),A.getElementsByTagName=xi(function(wt){return wt.appendChild(Lt.createComment("")),!wt.getElementsByTagName("*").length}),A.getElementsByClassName=oa.test(Lt.getElementsByClassName),A.getById=xi(function(wt){return ee.appendChild(wt).id=pn,!Lt.getElementsByName||!Lt.getElementsByName(pn).length}),A.getById?(D.filter.ID=function(wt){var Gt=wt.replace(Hi,Gi);return function(Yt){return Yt.getAttribute("id")===Gt}},D.find.ID=function(wt,Gt){if(void 0!==Gt.getElementById&&Jt){var Yt=Gt.getElementById(wt);return Yt?[Yt]:[]}}):(D.filter.ID=function(wt){var Gt=wt.replace(Hi,Gi);return function(Yt){var Ut=void 0!==Yt.getAttributeNode&&Yt.getAttributeNode("id");return Ut&&Ut.value===Gt}},D.find.ID=function(wt,Gt){if(void 0!==Gt.getElementById&&Jt){var Yt,Ut,Zt,be=Gt.getElementById(wt);if(be){if((Yt=be.getAttributeNode("id"))&&Yt.value===wt)return[be];for(Zt=Gt.getElementsByName(wt),Ut=0;be=Zt[Ut++];)if((Yt=be.getAttributeNode("id"))&&Yt.value===wt)return[be]}return[]}}),D.find.TAG=A.getElementsByTagName?function(wt,Gt){return void 0!==Gt.getElementsByTagName?Gt.getElementsByTagName(wt):A.qsa?Gt.querySelectorAll(wt):void 0}:function(wt,Gt){var Yt,Ut=[],Zt=0,be=Gt.getElementsByTagName(wt);if("*"===wt){for(;Yt=be[Zt++];)1===Yt.nodeType&&Ut.push(Yt);return Ut}return be},D.find.CLASS=A.getElementsByClassName&&function(wt,Gt){if(void 0!==Gt.getElementsByClassName&&Jt)return Gt.getElementsByClassName(wt)},Mn=[],ie=[],(A.qsa=oa.test(Lt.querySelectorAll))&&(xi(function(wt){var Gt;ee.appendChild(wt).innerHTML="<a id='"+pn+"'></a><select id='"+pn+"-\r\\' msallowcapture=''><option selected=''></option></select>",wt.querySelectorAll("[msallowcapture^='']").length&&ie.push("[*^$]="+Ge+"*(?:''|\"\")"),wt.querySelectorAll("[selected]").length||ie.push("\\["+Ge+"*(?:value|"+Fi+")"),wt.querySelectorAll("[id~="+pn+"-]").length||ie.push("~="),(Gt=Lt.createElement("input")).setAttribute("name",""),wt.appendChild(Gt),wt.querySelectorAll("[name='']").length||ie.push("\\["+Ge+"*name"+Ge+"*="+Ge+"*(?:''|\"\")"),wt.querySelectorAll(":checked").length||ie.push(":checked"),wt.querySelectorAll("a#"+pn+"+*").length||ie.push(".#.+[+~]"),wt.querySelectorAll("\\\f"),ie.push("[\\r\\n\\f]")}),xi(function(wt){wt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Gt=Lt.createElement("input");Gt.setAttribute("type","hidden"),wt.appendChild(Gt).setAttribute("name","D"),wt.querySelectorAll("[name=d]").length&&ie.push("name"+Ge+"*[*^$|!~]?="),2!==wt.querySelectorAll(":enabled").length&&ie.push(":enabled",":disabled"),ee.appendChild(wt).disabled=!0,2!==wt.querySelectorAll(":disabled").length&&ie.push(":enabled",":disabled"),wt.querySelectorAll("*,:x"),ie.push(",.*:")})),(A.matchesSelector=oa.test(Bn=ee.matches||ee.webkitMatchesSelector||ee.mozMatchesSelector||ee.oMatchesSelector||ee.msMatchesSelector))&&xi(function(wt){A.disconnectedMatch=Bn.call(wt,"*"),Bn.call(wt,"[s!='']:x"),Mn.push("!=",bi)}),ie=ie.length&&new RegExp(ie.join("|")),Mn=Mn.length&&new RegExp(Mn.join("|")),rt=oa.test(ee.compareDocumentPosition),Ci=rt||oa.test(ee.contains)?function(wt,Gt){var Yt=9===wt.nodeType?wt.documentElement:wt,Ut=Gt&&Gt.parentNode;return wt===Ut||!(!Ut||1!==Ut.nodeType||!(Yt.contains?Yt.contains(Ut):wt.compareDocumentPosition&&16&wt.compareDocumentPosition(Ut)))}:function(wt,Gt){if(Gt)for(;Gt=Gt.parentNode;)if(Gt===wt)return!0;return!1},nr=rt?function(wt,Gt){if(wt===Gt)return zt=!0,0;var Yt=!wt.compareDocumentPosition-!Gt.compareDocumentPosition;return Yt||(1&(Yt=(wt.ownerDocument||wt)==(Gt.ownerDocument||Gt)?wt.compareDocumentPosition(Gt):1)||!A.sortDetached&&Gt.compareDocumentPosition(wt)===Yt?wt==Lt||wt.ownerDocument==Fe&&Ci(Fe,wt)?-1:Gt==Lt||Gt.ownerDocument==Fe&&Ci(Fe,Gt)?1:It?yi(It,wt)-yi(It,Gt):0:4&Yt?-1:1)}:function(wt,Gt){if(wt===Gt)return zt=!0,0;var Yt,Ut=0,Zt=wt.parentNode,be=Gt.parentNode,xe=[wt],Ie=[Gt];if(!Zt||!be)return wt==Lt?-1:Gt==Lt?1:Zt?-1:be?1:It?yi(It,wt)-yi(It,Gt):0;if(Zt===be)return po(wt,Gt);for(Yt=wt;Yt=Yt.parentNode;)xe.unshift(Yt);for(Yt=Gt;Yt=Yt.parentNode;)Ie.unshift(Yt);for(;xe[Ut]===Ie[Ut];)Ut++;return Ut?po(xe[Ut],Ie[Ut]):xe[Ut]==Fe?-1:Ie[Ut]==Fe?1:0}),Lt},bn.matches=function(K,rt){return bn(K,null,null,rt)},bn.matchesSelector=function(K,rt){if(Pt(K),A.matchesSelector&&Jt&&!hi[rt+" "]&&(!Mn||!Mn.test(rt))&&(!ie||!ie.test(rt)))try{var gt=Bn.call(K,rt);if(gt||A.disconnectedMatch||K.document&&11!==K.document.nodeType)return gt}catch(Rt){hi(rt,!0)}return 0<bn(rt,Lt,null,[K]).length},bn.contains=function(K,rt){return(K.ownerDocument||K)!=Lt&&Pt(K),Ci(K,rt)},bn.attr=function(K,rt){(K.ownerDocument||K)!=Lt&&Pt(K);var gt=D.attrHandle[rt.toLowerCase()],Rt=gt&&Qi.call(D.attrHandle,rt.toLowerCase())?gt(K,rt,!Jt):void 0;return void 0!==Rt?Rt:A.attributes||!Jt?K.getAttribute(rt):(Rt=K.getAttributeNode(rt))&&Rt.specified?Rt.value:null},bn.escape=function(K){return(K+"").replace(Hr,mr)},bn.error=function(K){throw new Error("Syntax error, unrecognized expression: "+K)},bn.uniqueSort=function(K){var rt,gt=[],Rt=0,wt=0;if(zt=!A.detectDuplicates,It=!A.sortStable&&K.slice(0),K.sort(nr),zt){for(;rt=K[wt++];)rt===K[wt]&&(Rt=gt.push(wt));for(;Rt--;)K.splice(gt[Rt],1)}return It=null,K},R=bn.getText=function(K){var rt,gt="",Rt=0,wt=K.nodeType;if(wt){if(1===wt||9===wt||11===wt){if("string"==typeof K.textContent)return K.textContent;for(K=K.firstChild;K;K=K.nextSibling)gt+=R(K)}else if(3===wt||4===wt)return K.nodeValue}else for(;rt=K[Rt++];)gt+=R(rt);return gt},(D=bn.selectors={cacheLength:50,createPseudo:ni,match:Ma,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(K){return K[1]=K[1].replace(Hi,Gi),K[3]=(K[3]||K[4]||K[5]||"").replace(Hi,Gi),"~="===K[2]&&(K[3]=" "+K[3]+" "),K.slice(0,4)},CHILD:function(K){return K[1]=K[1].toLowerCase(),"nth"===K[1].slice(0,3)?(K[3]||bn.error(K[0]),K[4]=+(K[4]?K[5]+(K[6]||1):2*("even"===K[3]||"odd"===K[3])),K[5]=+(K[7]+K[8]||"odd"===K[3])):K[3]&&bn.error(K[0]),K},PSEUDO:function(K){var rt,gt=!K[6]&&K[2];return Ma.CHILD.test(K[0])?null:(K[3]?K[2]=K[4]||K[5]||"":gt&&Ps.test(gt)&&(rt=W(gt,!0))&&(rt=gt.indexOf(")",gt.length-rt)-gt.length)&&(K[0]=K[0].slice(0,rt),K[2]=gt.slice(0,rt)),K.slice(0,3))}},filter:{TAG:function(K){var rt=K.replace(Hi,Gi).toLowerCase();return"*"===K?function(){return!0}:function(gt){return gt.nodeName&&gt.nodeName.toLowerCase()===rt}},CLASS:function(K){var rt=on[K+" "];return rt||(rt=new RegExp("(^|"+Ge+")"+K+"("+Ge+"|$)"))&&on(K,function(gt){return rt.test("string"==typeof gt.className&&gt.className||void 0!==gt.getAttribute&&gt.getAttribute("class")||"")})},ATTR:function(K,rt,gt){return function(Rt){var wt=bn.attr(Rt,K);return null==wt?"!="===rt:!rt||(wt+="","="===rt?wt===gt:"!="===rt?wt!==gt:"^="===rt?gt&&0===wt.indexOf(gt):"*="===rt?gt&&-1<wt.indexOf(gt):"$="===rt?gt&&wt.slice(-gt.length)===gt:"~="===rt?-1<(" "+wt.replace(En," ")+" ").indexOf(gt):"|="===rt&&(wt===gt||wt.slice(0,gt.length+1)===gt+"-"))}},CHILD:function(K,rt,gt,Rt,wt){var Gt="nth"!==K.slice(0,3),Yt="last"!==K.slice(-4),Ut="of-type"===rt;return 1===Rt&&0===wt?function(Zt){return!!Zt.parentNode}:function(Zt,be,xe){var Ie,Ze,Rn,Be,Un,Tn,ui=Gt!==Yt?"nextSibling":"previousSibling",xn=Zt.parentNode,pi=Ut&&Zt.nodeName.toLowerCase(),ii=!xe&&!Ut,Nn=!1;if(xn){if(Gt){for(;ui;){for(Be=Zt;Be=Be[ui];)if(Ut?Be.nodeName.toLowerCase()===pi:1===Be.nodeType)return!1;Tn=ui="only"===K&&!Tn&&"nextSibling"}return!0}if(Tn=[Yt?xn.firstChild:xn.lastChild],Yt&&ii){for(Nn=(Un=(Ie=(Ze=(Rn=(Be=xn)[pn]||(Be[pn]={}))[Be.uniqueID]||(Rn[Be.uniqueID]={}))[K]||[])[0]===ci&&Ie[1])&&Ie[2],Be=Un&&xn.childNodes[Un];Be=++Un&&Be&&Be[ui]||(Nn=Un=0)||Tn.pop();)if(1===Be.nodeType&&++Nn&&Be===Zt){Ze[K]=[ci,Un,Nn];break}}else if(ii&&(Nn=Un=(Ie=(Ze=(Rn=(Be=Zt)[pn]||(Be[pn]={}))[Be.uniqueID]||(Rn[Be.uniqueID]={}))[K]||[])[0]===ci&&Ie[1]),!1===Nn)for(;(Be=++Un&&Be&&Be[ui]||(Nn=Un=0)||Tn.pop())&&((Ut?Be.nodeName.toLowerCase()!==pi:1!==Be.nodeType)||!++Nn||(ii&&((Ze=(Rn=Be[pn]||(Be[pn]={}))[Be.uniqueID]||(Rn[Be.uniqueID]={}))[K]=[ci,Nn]),Be!==Zt)););return(Nn-=wt)===Rt||Nn%Rt==0&&0<=Nn/Rt}}},PSEUDO:function(K,rt){var gt,Rt=D.pseudos[K]||D.setFilters[K.toLowerCase()]||bn.error("unsupported pseudo: "+K);return Rt[pn]?Rt(rt):1<Rt.length?(gt=[K,K,"",rt],D.setFilters.hasOwnProperty(K.toLowerCase())?ni(function(wt,Gt){for(var Yt,Ut=Rt(wt,rt),Zt=Ut.length;Zt--;)wt[Yt=yi(wt,Ut[Zt])]=!(Gt[Yt]=Ut[Zt])}):function(wt){return Rt(wt,0,gt)}):Rt}},pseudos:{not:ni(function(K){var rt=[],gt=[],Rt=it(K.replace(fi,"$1"));return Rt[pn]?ni(function(wt,Gt,Yt,Ut){for(var Zt,be=Rt(wt,null,Ut,[]),xe=wt.length;xe--;)(Zt=be[xe])&&(wt[xe]=!(Gt[xe]=Zt))}):function(wt,Gt,Yt){return rt[0]=wt,Rt(rt,null,Yt,gt),rt[0]=null,!gt.pop()}}),has:ni(function(K){return function(rt){return 0<bn(K,rt).length}}),contains:ni(function(K){return K=K.replace(Hi,Gi),function(rt){return-1<(rt.textContent||R(rt)).indexOf(K)}}),lang:ni(function(K){return Ms.test(K||"")||bn.error("unsupported lang: "+K),K=K.replace(Hi,Gi).toLowerCase(),function(rt){var gt;do{if(gt=Jt?rt.lang:rt.getAttribute("xml:lang")||rt.getAttribute("lang"))return(gt=gt.toLowerCase())===K||0===gt.indexOf(K+"-")}while((rt=rt.parentNode)&&1===rt.nodeType);return!1}}),target:function(K){var rt=p.location&&p.location.hash;return rt&&rt.slice(1)===K.id},root:function(K){return K===ee},focus:function(K){return K===Lt.activeElement&&(!Lt.hasFocus||Lt.hasFocus())&&!!(K.type||K.href||~K.tabIndex)},enabled:jr(!1),disabled:jr(!0),checked:function(K){var rt=K.nodeName.toLowerCase();return"input"===rt&&!!K.checked||"option"===rt&&!!K.selected},selected:function(K){return!0===K.selected},empty:function(K){for(K=K.firstChild;K;K=K.nextSibling)if(K.nodeType<6)return!1;return!0},parent:function(K){return!D.pseudos.empty(K)},header:function(K){return rl.test(K.nodeName)},input:function(K){return Ds.test(K.nodeName)},button:function(K){var rt=K.nodeName.toLowerCase();return"input"===rt&&"button"===K.type||"button"===rt},text:function(K){var rt;return"input"===K.nodeName.toLowerCase()&&"text"===K.type&&(null==(rt=K.getAttribute("type"))||"text"===rt.toLowerCase())},first:Ji(function(){return[0]}),last:Ji(function(K,rt){return[rt-1]}),eq:Ji(function(K,rt,gt){return[gt<0?gt+rt:gt]}),even:Ji(function(K,rt){for(var gt=0;gt<rt;gt+=2)K.push(gt);return K}),odd:Ji(function(K,rt){for(var gt=1;gt<rt;gt+=2)K.push(gt);return K}),lt:Ji(function(K,rt,gt){for(var Rt=gt<0?gt+rt:rt<gt?rt:gt;0<=--Rt;)K.push(Rt);return K}),gt:Ji(function(K,rt,gt){for(var Rt=gt<0?gt+rt:gt;++Rt<rt;)K.push(Rt);return K})}}).pseudos.nth=D.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[x]=Br(x);for(x in{submit:!0,reset:!0})D.pseudos[x]=al(x);function go(){}function Ea(K){for(var rt=0,gt=K.length,Rt="";rt<gt;rt++)Rt+=K[rt].value;return Rt}function Wr(K,rt,gt){var Rt=rt.dir,wt=rt.next,Gt=wt||Rt,Yt=gt&&"parentNode"===Gt,Ut=an++;return rt.first?function(Zt,be,xe){for(;Zt=Zt[Rt];)if(1===Zt.nodeType||Yt)return K(Zt,be,xe);return!1}:function(Zt,be,xe){var Ie,Ze,Rn,Be=[ci,Ut];if(xe){for(;Zt=Zt[Rt];)if((1===Zt.nodeType||Yt)&&K(Zt,be,xe))return!0}else for(;Zt=Zt[Rt];)if(1===Zt.nodeType||Yt)if(Ze=(Rn=Zt[pn]||(Zt[pn]={}))[Zt.uniqueID]||(Rn[Zt.uniqueID]={}),wt&&wt===Zt.nodeName.toLowerCase())Zt=Zt[Rt]||Zt;else{if((Ie=Ze[Gt])&&Ie[0]===ci&&Ie[1]===Ut)return Be[2]=Ie[2];if((Ze[Gt]=Be)[2]=K(Zt,be,xe))return!0}return!1}}function ua(K){return 1<K.length?function(rt,gt,Rt){for(var wt=K.length;wt--;)if(!K[wt](rt,gt,Rt))return!1;return!0}:K[0]}function La(K,rt,gt,Rt,wt){for(var Gt,Yt=[],Ut=0,Zt=K.length,be=null!=rt;Ut<Zt;Ut++)(Gt=K[Ut])&&(gt&&!gt(Gt,Rt,wt)||(Yt.push(Gt),be&&rt.push(Ut)));return Yt}function mo(K,rt,gt,Rt,wt,Gt){return Rt&&!Rt[pn]&&(Rt=mo(Rt)),wt&&!wt[pn]&&(wt=mo(wt,Gt)),ni(function(Yt,Ut,Zt,be){var xe,Ie,Ze,Rn=[],Be=[],Un=Ut.length,Tn=Yt||function(pi,ii,Nn){for(var Yi=0,Na=ii.length;Yi<Na;Yi++)bn(pi,ii[Yi],Nn);return Nn}(rt||"*",Zt.nodeType?[Zt]:Zt,[]),ui=!K||!Yt&&rt?Tn:La(Tn,Rn,K,Zt,be),xn=gt?wt||(Yt?K:Un||Rt)?[]:Ut:ui;if(gt&&gt(ui,xn,Zt,be),Rt)for(xe=La(xn,Be),Rt(xe,[],Zt,be),Ie=xe.length;Ie--;)(Ze=xe[Ie])&&(xn[Be[Ie]]=!(ui[Be[Ie]]=Ze));if(Yt){if(wt||K){if(wt){for(xe=[],Ie=xn.length;Ie--;)(Ze=xn[Ie])&&xe.push(ui[Ie]=Ze);wt(null,xn=[],xe,be)}for(Ie=xn.length;Ie--;)(Ze=xn[Ie])&&-1<(xe=wt?yi(Yt,Ze):Rn[Ie])&&(Yt[xe]=!(Ut[xe]=Ze))}}else xn=La(xn===Ut?xn.splice(Un,xn.length):xn),wt?wt(null,Ut,xn,be):Dn.apply(Ut,xn)})}function Ia(K){for(var rt,gt,Rt,wt=K.length,Gt=D.relative[K[0].type],Yt=Gt||D.relative[" "],Ut=Gt?1:0,Zt=Wr(function(Ie){return Ie===rt},Yt,!0),be=Wr(function(Ie){return-1<yi(rt,Ie)},Yt,!0),xe=[function(Ie,Ze,Rn){var Be=!Gt&&(Rn||Ze!==_t)||((rt=Ze).nodeType?Zt(Ie,Ze,Rn):be(Ie,Ze,Rn));return rt=null,Be}];Ut<wt;Ut++)if(gt=D.relative[K[Ut].type])xe=[Wr(ua(xe),gt)];else{if((gt=D.filter[K[Ut].type].apply(null,K[Ut].matches))[pn]){for(Rt=++Ut;Rt<wt&&!D.relative[K[Rt].type];Rt++);return mo(1<Ut&&ua(xe),1<Ut&&Ea(K.slice(0,Ut-1).concat({value:" "===K[Ut-2].type?"*":""})).replace(fi,"$1"),gt,Ut<Rt&&Ia(K.slice(Ut,Rt)),Rt<wt&&Ia(K=K.slice(Rt)),Rt<wt&&Ea(K))}xe.push(gt)}return ua(xe)}return go.prototype=D.filters=D.pseudos,D.setFilters=new go,W=bn.tokenize=function(K,rt){var gt,Rt,wt,Gt,Yt,Ut,Zt,be=zr[K+" "];if(be)return rt?0:be.slice(0);for(Yt=K,Ut=[],Zt=D.preFilter;Yt;){for(Gt in gt&&!(Rt=gr.exec(Yt))||(Rt&&(Yt=Yt.slice(Rt[0].length)||Yt),Ut.push(wt=[])),gt=!1,(Rt=Pa.exec(Yt))&&(gt=Rt.shift(),wt.push({value:gt,type:Rt[0].replace(fi," ")}),Yt=Yt.slice(gt.length)),D.filter)!(Rt=Ma[Gt].exec(Yt))||Zt[Gt]&&!(Rt=Zt[Gt](Rt))||(gt=Rt.shift(),wt.push({value:gt,type:Gt,matches:Rt}),Yt=Yt.slice(gt.length));if(!gt)break}return rt?Yt.length:Yt?bn.error(K):zr(K,Ut).slice(0)},it=bn.compile=function(K,rt){var gt,Rt,wt,Gt,Yt,Ut,Zt=[],be=[],xe=Fr[K+" "];if(!xe){for(rt||(rt=W(K)),gt=rt.length;gt--;)(xe=Ia(rt[gt]))[pn]?Zt.push(xe):be.push(xe);(xe=Fr(K,(Rt=be,Gt=0<(wt=Zt).length,Yt=0<Rt.length,Ut=function(Ie,Ze,Rn,Be,Un){var Tn,ui,xn,pi=0,ii="0",Nn=Ie&&[],Yi=[],Na=_t,vo=Ie||Yt&&D.find.TAG("*",Un),_o=ci+=null==Na?1:Math.random()||.1,Ls=vo.length;for(Un&&(_t=Ze==Lt||Ze||Un);ii!==Ls&&null!=(Tn=vo[ii]);ii++){if(Yt&&Tn){for(ui=0,Ze||Tn.ownerDocument==Lt||(Pt(Tn),Rn=!Jt);xn=Rt[ui++];)if(xn(Tn,Ze||Lt,Rn)){Be.push(Tn);break}Un&&(ci=_o)}Gt&&((Tn=!xn&&Tn)&&pi--,Ie&&Nn.push(Tn))}if(pi+=ii,Gt&&ii!==pi){for(ui=0;xn=wt[ui++];)xn(Nn,Yi,Ze,Rn);if(Ie){if(0<pi)for(;ii--;)Nn[ii]||Yi[ii]||(Yi[ii]=Zi.call(Be));Yi=La(Yi)}Dn.apply(Be,Yi),Un&&!Ie&&0<Yi.length&&1<pi+wt.length&&bn.uniqueSort(Be)}return Un&&(ci=_o,_t=Na),Nn},Gt?ni(Ut):Ut))).selector=K}return xe},ut=bn.select=function(K,rt,gt,Rt){var wt,Gt,Yt,Ut,Zt,be="function"==typeof K&&K,xe=!Rt&&W(K=be.selector||K);if(gt=gt||[],1===xe.length){if(2<(Gt=xe[0]=xe[0].slice(0)).length&&"ID"===(Yt=Gt[0]).type&&9===rt.nodeType&&Jt&&D.relative[Gt[1].type]){if(!(rt=(D.find.ID(Yt.matches[0].replace(Hi,Gi),rt)||[])[0]))return gt;be&&(rt=rt.parentNode),K=K.slice(Gt.shift().value.length)}for(wt=Ma.needsContext.test(K)?0:Gt.length;wt--&&!D.relative[Ut=(Yt=Gt[wt]).type];)if((Zt=D.find[Ut])&&(Rt=Zt(Yt.matches[0].replace(Hi,Gi),fo.test(Gt[0].type)&&Da(rt.parentNode)||rt))){if(Gt.splice(wt,1),!(K=Rt.length&&Ea(Gt)))return Dn.apply(gt,Rt),gt;break}}return(be||it(K,xe))(Rt,rt,!Jt,gt,!rt||fo.test(K)&&Da(rt.parentNode)||rt),gt},A.sortStable=pn.split("").sort(nr).join("")===pn,A.detectDuplicates=!!zt,Pt(),A.sortDetached=xi(function(K){return 1&K.compareDocumentPosition(Lt.createElement("fieldset"))}),xi(function(K){return K.innerHTML="<a href='#'></a>","#"===K.firstChild.getAttribute("href")})||_r("type|href|height|width",function(K,rt,gt){if(!gt)return K.getAttribute(rt,"type"===rt.toLowerCase()?1:2)}),A.attributes&&xi(function(K){return K.innerHTML="<input/>",K.firstChild.setAttribute("value",""),""===K.firstChild.getAttribute("value")})||_r("value",function(K,rt,gt){if(!gt&&"input"===K.nodeName.toLowerCase())return K.defaultValue}),xi(function(K){return null==K.getAttribute("disabled")})||_r(Fi,function(K,rt,gt){var Rt;if(!gt)return!0===K[rt]?rt.toLowerCase():(Rt=K.getAttributeNode(rt))&&Rt.specified?Rt.value:null}),bn}(r);L.find=ve,L.expr=ve.selectors,L.expr[":"]=L.expr.pseudos,L.uniqueSort=L.unique=ve.uniqueSort,L.text=ve.getText,L.isXMLDoc=ve.isXML,L.contains=ve.contains,L.escapeSelector=ve.escape;var Ue=function(p,x,A){for(var D=[],R=void 0!==A;(p=p[x])&&9!==p.nodeType;)if(1===p.nodeType){if(R&&L(p).is(A))break;D.push(p)}return D},gn=function(p,x){for(var A=[];p;p=p.nextSibling)1===p.nodeType&&p!==x&&A.push(p);return A},ae=L.expr.match.needsContext;function et(p,x){return p.nodeName&&p.nodeName.toLowerCase()===x.toLowerCase()}var nt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function n(p,x,A){return he(x)?L.grep(p,function(D,R){return!!x.call(D,R,D)!==A}):x.nodeType?L.grep(p,function(D){return D===x!==A}):"string"!=typeof x?L.grep(p,function(D){return-1<We.call(x,D)!==A}):L.filter(x,p,A)}L.filter=function(p,x,A){var D=x[0];return A&&(p=":not("+p+")"),1===x.length&&1===D.nodeType?L.find.matchesSelector(D,p)?[D]:[]:L.find.matches(p,L.grep(x,function(R){return 1===R.nodeType}))},L.fn.extend({find:function(p){var x,A,D=this.length,R=this;if("string"!=typeof p)return this.pushStack(L(p).filter(function(){for(x=0;x<D;x++)if(L.contains(R[x],this))return!0}));for(A=this.pushStack([]),x=0;x<D;x++)L.find(p,R[x],A);return 1<D?L.uniqueSort(A):A},filter:function(p){return this.pushStack(n(this,p||[],!1))},not:function(p){return this.pushStack(n(this,p||[],!0))},is:function(p){return!!n(this,"string"==typeof p&&ae.test(p)?L(p):p||[],!1).length}});var s,h=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(L.fn.init=function(p,x,A){var D,R;if(!p)return this;if(A=A||s,"string"==typeof p){if(!(D="<"===p[0]&&">"===p[p.length-1]&&3<=p.length?[null,p,null]:h.exec(p))||!D[1]&&x)return!x||x.jquery?(x||A).find(p):this.constructor(x).find(p);if(D[1]){if(L.merge(this,L.parseHTML(D[1],(x=x instanceof L?x[0]:x)&&x.nodeType?x.ownerDocument||x:Vt,!0)),nt.test(D[1])&&L.isPlainObject(x))for(D in x)he(this[D])?this[D](x[D]):this.attr(D,x[D]);return this}return(R=Vt.getElementById(D[2]))&&(this[0]=R,this.length=1),this}return p.nodeType?(this[0]=p,this.length=1,this):he(p)?void 0!==A.ready?A.ready(p):p(L):L.makeArray(p,this)}).prototype=L.fn,s=L(Vt);var f=/^(?:parents|prev(?:Until|All))/,w={children:!0,contents:!0,next:!0,prev:!0};function C(p,x){for(;(p=p[x])&&1!==p.nodeType;);return p}L.fn.extend({has:function(p){var x=L(p,this),A=x.length;return this.filter(function(){for(var D=0;D<A;D++)if(L.contains(this,x[D]))return!0})},closest:function(p,x){var A,D=0,R=this.length,j=[],W="string"!=typeof p&&L(p);if(!ae.test(p))for(;D<R;D++)for(A=this[D];A&&A!==x;A=A.parentNode)if(A.nodeType<11&&(W?-1<W.index(A):1===A.nodeType&&L.find.matchesSelector(A,p))){j.push(A);break}return this.pushStack(1<j.length?L.uniqueSort(j):j)},index:function(p){return p?"string"==typeof p?We.call(L(p),this[0]):We.call(this,p.jquery?p[0]:p):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(p,x){return this.pushStack(L.uniqueSort(L.merge(this.get(),L(p,x))))},addBack:function(p){return this.add(null==p?this.prevObject:this.prevObject.filter(p))}}),L.each({parent:function(p){var x=p.parentNode;return x&&11!==x.nodeType?x:null},parents:function(p){return Ue(p,"parentNode")},parentsUntil:function(p,x,A){return Ue(p,"parentNode",A)},next:function(p){return C(p,"nextSibling")},prev:function(p){return C(p,"previousSibling")},nextAll:function(p){return Ue(p,"nextSibling")},prevAll:function(p){return Ue(p,"previousSibling")},nextUntil:function(p,x,A){return Ue(p,"nextSibling",A)},prevUntil:function(p,x,A){return Ue(p,"previousSibling",A)},siblings:function(p){return gn((p.parentNode||{}).firstChild,p)},children:function(p){return gn(p.firstChild)},contents:function(p){return null!=p.contentDocument&&Sn(p.contentDocument)?p.contentDocument:(et(p,"template")&&(p=p.content||p),L.merge([],p.childNodes))}},function(p,x){L.fn[p]=function(A,D){var R=L.map(this,x,A);return"Until"!==p.slice(-5)&&(D=A),D&&"string"==typeof D&&(R=L.filter(D,R)),1<this.length&&(w[p]||L.uniqueSort(R),f.test(p)&&R.reverse()),this.pushStack(R)}});var E=/[^\x20\t\r\n\f]+/g;function M(p){return p}function G(p){throw p}function H(p,x,A,D){var R;try{p&&he(R=p.promise)?R.call(p).done(x).fail(A):p&&he(R=p.then)?R.call(p,x,A):x.apply(void 0,[p].slice(D))}catch(j){A.apply(void 0,[j])}}L.Callbacks=function(p){var A;p="string"==typeof p?(A={},L.each(p.match(E)||[],function(Pt,Lt){A[Lt]=!0}),A):L.extend({},p);var D,R,j,W,it=[],ut=[],_t=-1,It=function(){for(W=W||p.once,j=D=!0;ut.length;_t=-1)for(R=ut.shift();++_t<it.length;)!1===it[_t].apply(R[0],R[1])&&p.stopOnFalse&&(_t=it.length,R=!1);p.memory||(R=!1),D=!1,W&&(it=R?[]:"")},zt={add:function(){return it&&(R&&!D&&(_t=it.length-1,ut.push(R)),function Pt(Lt){L.each(Lt,function(ee,Jt){he(Jt)?p.unique&&zt.has(Jt)||it.push(Jt):Jt&&Jt.length&&"string"!==ze(Jt)&&Pt(Jt)})}(arguments),R&&!D&&It()),this},remove:function(){return L.each(arguments,function(Pt,Lt){for(var ee;-1<(ee=L.inArray(Lt,it,ee));)it.splice(ee,1),ee<=_t&&_t--}),this},has:function(Pt){return Pt?-1<L.inArray(Pt,it):0<it.length},empty:function(){return it&&(it=[]),this},disable:function(){return W=ut=[],it=R="",this},disabled:function(){return!it},lock:function(){return W=ut=[],R||D||(it=R=""),this},locked:function(){return!!W},fireWith:function(Pt,Lt){return W||(Lt=[Pt,(Lt=Lt||[]).slice?Lt.slice():Lt],ut.push(Lt),D||It()),this},fire:function(){return zt.fireWith(this,arguments),this},fired:function(){return!!j}};return zt},L.extend({Deferred:function(p){var x=[["notify","progress",L.Callbacks("memory"),L.Callbacks("memory"),2],["resolve","done",L.Callbacks("once memory"),L.Callbacks("once memory"),0,"resolved"],["reject","fail",L.Callbacks("once memory"),L.Callbacks("once memory"),1,"rejected"]],A="pending",D={state:function(){return A},always:function(){return R.done(arguments).fail(arguments),this},catch:function(j){return D.then(null,j)},pipe:function(){var j=arguments;return L.Deferred(function(W){L.each(x,function(it,ut){var _t=he(j[ut[4]])&&j[ut[4]];R[ut[1]](function(){var It=_t&&_t.apply(this,arguments);It&&he(It.promise)?It.promise().progress(W.notify).done(W.resolve).fail(W.reject):W[ut[0]+"With"](this,_t?[It]:arguments)})}),j=null}).promise()},then:function(j,W,it){var ut=0;function _t(It,zt,Pt,Lt){return function(){var ee=this,Jt=arguments,ie=function(){var Bn,Ci;if(!(It<ut)){if((Bn=Pt.apply(ee,Jt))===zt.promise())throw new TypeError("Thenable self-resolution");he(Ci=Bn&&("object"==typeof Bn||"function"==typeof Bn)&&Bn.then)?Lt?Ci.call(Bn,_t(ut,zt,M,Lt),_t(ut,zt,G,Lt)):(ut++,Ci.call(Bn,_t(ut,zt,M,Lt),_t(ut,zt,G,Lt),_t(ut,zt,M,zt.notifyWith))):(Pt!==M&&(ee=void 0,Jt=[Bn]),(Lt||zt.resolveWith)(ee,Jt))}},Mn=Lt?ie:function(){try{ie()}catch(Bn){L.Deferred.exceptionHook&&L.Deferred.exceptionHook(Bn,Mn.stackTrace),ut<=It+1&&(Pt!==G&&(ee=void 0,Jt=[Bn]),zt.rejectWith(ee,Jt))}};It?Mn():(L.Deferred.getStackHook&&(Mn.stackTrace=L.Deferred.getStackHook()),r.setTimeout(Mn))}}return L.Deferred(function(It){x[0][3].add(_t(0,It,he(it)?it:M,It.notifyWith)),x[1][3].add(_t(0,It,he(j)?j:M)),x[2][3].add(_t(0,It,he(W)?W:G))}).promise()},promise:function(j){return null!=j?L.extend(j,D):D}},R={};return L.each(x,function(j,W){var it=W[2],ut=W[5];D[W[1]]=it.add,ut&&it.add(function(){A=ut},x[3-j][2].disable,x[3-j][3].disable,x[0][2].lock,x[0][3].lock),it.add(W[3].fire),R[W[0]]=function(){return R[W[0]+"With"](this===R?void 0:this,arguments),this},R[W[0]+"With"]=it.fireWith}),D.promise(R),p&&p.call(R,R),R},when:function(p){var x=arguments.length,A=x,D=Array(A),R=pe.call(arguments),j=L.Deferred(),W=function(it){return function(ut){D[it]=this,R[it]=1<arguments.length?pe.call(arguments):ut,--x||j.resolveWith(D,R)}};if(x<=1&&(H(p,j.done(W(A)).resolve,j.reject,!x),"pending"===j.state()||he(R[A]&&R[A].then)))return j.then();for(;A--;)H(R[A],W(A),j.reject);return j.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;L.Deferred.exceptionHook=function(p,x){r.console&&r.console.warn&&p&&V.test(p.name)&&r.console.warn("jQuery.Deferred exception: "+p.message,p.stack,x)},L.readyException=function(p){r.setTimeout(function(){throw p})};var tt=L.Deferred();function ht(){Vt.removeEventListener("DOMContentLoaded",ht),r.removeEventListener("load",ht),L.ready()}L.fn.ready=function(p){return tt.then(p).catch(function(x){L.readyException(x)}),this},L.extend({isReady:!1,readyWait:1,ready:function(p){(!0===p?--L.readyWait:L.isReady)||(L.isReady=!0)!==p&&0<--L.readyWait||tt.resolveWith(Vt,[L])}}),L.ready.then=tt.then,"complete"===Vt.readyState||"loading"!==Vt.readyState&&!Vt.documentElement.doScroll?r.setTimeout(L.ready):(Vt.addEventListener("DOMContentLoaded",ht),r.addEventListener("load",ht));var J=function(p,x,A,D,R,j,W){var it=0,ut=p.length,_t=null==A;if("object"===ze(A))for(it in R=!0,A)J(p,x,it,A[it],!0,j,W);else if(void 0!==D&&(R=!0,he(D)||(W=!0),_t&&(W?(x.call(p,D),x=null):(_t=x,x=function(It,zt,Pt){return _t.call(L(It),Pt)})),x))for(;it<ut;it++)x(p[it],A,W?D:D.call(p[it],it,x(p[it],A)));return R?p:_t?x.call(p):ut?x(p[0],A):j},mt=/^-ms-/,At=/-([a-z])/g;function Dt(p,x){return x.toUpperCase()}function at(p){return p.replace(mt,"ms-").replace(At,Dt)}var ne=function(p){return 1===p.nodeType||9===p.nodeType||!+p.nodeType};function Et(){this.expando=L.expando+Et.uid++}Et.uid=1,Et.prototype={cache:function(p){var x=p[this.expando];return x||(x={},ne(p)&&(p.nodeType?p[this.expando]=x:Object.defineProperty(p,this.expando,{value:x,configurable:!0}))),x},set:function(p,x,A){var D,R=this.cache(p);if("string"==typeof x)R[at(x)]=A;else for(D in x)R[at(D)]=x[D];return R},get:function(p,x){return void 0===x?this.cache(p):p[this.expando]&&p[this.expando][at(x)]},access:function(p,x,A){return void 0===x||x&&"string"==typeof x&&void 0===A?this.get(p,x):(this.set(p,x,A),void 0!==A?A:x)},remove:function(p,x){var A,D=p[this.expando];if(void 0!==D){if(void 0!==x)for((A=(x=Array.isArray(x)?x.map(at):(x=at(x))in D?[x]:x.match(E)||[]).length);A--;)delete D[x[A]];(void 0===x||L.isEmptyObject(D))&&(p.nodeType?p[this.expando]=void 0:delete p[this.expando])}},hasData:function(p){var x=p[this.expando];return void 0!==x&&!L.isEmptyObject(x)}};var yt=new Et,Bt=new Et,le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Kt=/[A-Z]/g;function Ft(p,x,A){var D,R;if(void 0===A&&1===p.nodeType)if(D="data-"+x.replace(Kt,"-$&").toLowerCase(),"string"==typeof(A=p.getAttribute(D))){try{A="true"===(R=A)||"false"!==R&&("null"===R?null:R===+R+""?+R:le.test(R)?JSON.parse(R):R)}catch(j){}Bt.set(p,x,A)}else A=void 0;return A}L.extend({hasData:function(p){return Bt.hasData(p)||yt.hasData(p)},data:function(p,x,A){return Bt.access(p,x,A)},removeData:function(p,x){Bt.remove(p,x)},_data:function(p,x,A){return yt.access(p,x,A)},_removeData:function(p,x){yt.remove(p,x)}}),L.fn.extend({data:function(p,x){var A,D,R,j=this[0],W=j&&j.attributes;if(void 0===p){if(this.length&&(R=Bt.get(j),1===j.nodeType&&!yt.get(j,"hasDataAttrs"))){for(A=W.length;A--;)W[A]&&0===(D=W[A].name).indexOf("data-")&&(D=at(D.slice(5)),Ft(j,D,R[D]));yt.set(j,"hasDataAttrs",!0)}return R}return"object"==typeof p?this.each(function(){Bt.set(this,p)}):J(this,function(it){var ut;if(j&&void 0===it)return void 0!==(ut=Bt.get(j,p))||void 0!==(ut=Ft(j,p))?ut:void 0;this.each(function(){Bt.set(this,p,it)})},null,x,1<arguments.length,null,!0)},removeData:function(p){return this.each(function(){Bt.remove(this,p)})}}),L.extend({queue:function(p,x,A){var D;if(p)return D=yt.get(p,x=(x||"fx")+"queue"),A&&(!D||Array.isArray(A)?D=yt.access(p,x,L.makeArray(A)):D.push(A)),D||[]},dequeue:function(p,x){var A=L.queue(p,x=x||"fx"),D=A.length,R=A.shift(),j=L._queueHooks(p,x);"inprogress"===R&&(R=A.shift(),D--),R&&("fx"===x&&A.unshift("inprogress"),delete j.stop,R.call(p,function(){L.dequeue(p,x)},j)),!D&&j&&j.empty.fire()},_queueHooks:function(p,x){var A=x+"queueHooks";return yt.get(p,A)||yt.access(p,A,{empty:L.Callbacks("once memory").add(function(){yt.remove(p,[x+"queue",A])})})}}),L.fn.extend({queue:function(p,x){var A=2;return"string"!=typeof p&&(x=p,p="fx",A--),arguments.length<A?L.queue(this[0],p):void 0===x?this:this.each(function(){var D=L.queue(this,p,x);L._queueHooks(this,p),"fx"===p&&"inprogress"!==D[0]&&L.dequeue(this,p)})},dequeue:function(p){return this.each(function(){L.dequeue(this,p)})},clearQueue:function(p){return this.queue(p||"fx",[])},promise:function(p,x){var A,D=1,R=L.Deferred(),j=this,W=this.length,it=function(){--D||R.resolveWith(j,[j])};for("string"!=typeof p&&(x=p,p=void 0),p=p||"fx";W--;)(A=yt.get(j[W],p+"queueHooks"))&&A.empty&&(D++,A.empty.add(it));return it(),R.promise(x)}});var se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$t=new RegExp("^(?:([+-])=|)("+se+")([a-z%]*)$","i"),jt=["Top","Right","Bottom","Left"],Ne=Vt.documentElement,ye=function(p){return L.contains(p.ownerDocument,p)},mn={composed:!0};Ne.getRootNode&&(ye=function(p){return L.contains(p.ownerDocument,p)||p.getRootNode(mn)===p.ownerDocument});var nn=function(p,x){return"none"===(p=x||p).style.display||""===p.style.display&&ye(p)&&"none"===L.css(p,"display")};function Me(p,x,A,D){var R,j,W=20,it=D?function(){return D.cur()}:function(){return L.css(p,x,"")},ut=it(),_t=A&&A[3]||(L.cssNumber[x]?"":"px"),It=p.nodeType&&(L.cssNumber[x]||"px"!==_t&&+ut)&&$t.exec(L.css(p,x));if(It&&It[3]!==_t){for(_t=_t||It[3],It=+(ut/=2)||1;W--;)L.style(p,x,It+_t),(1-j)*(1-(j=it()/ut||.5))<=0&&(W=0),It/=j;L.style(p,x,(It*=2)+_t),A=A||[]}return A&&(It=+It||+ut||0,R=A[1]?It+(A[1]+1)*A[2]:+A[2],D&&(D.unit=_t,D.start=It,D.end=R)),R}var De={};function Ee(p,x){for(var A,D,R,j,W,it,ut,_t=[],It=0,zt=p.length;It<zt;It++)(D=p[It]).style&&(A=D.style.display,x?("none"===A&&(_t[It]=yt.get(D,"display")||null,_t[It]||(D.style.display="")),""===D.style.display&&nn(D)&&(_t[It]=(ut=W=j=void 0,W=(R=D).ownerDocument,(ut=De[it=R.nodeName])||(j=W.body.appendChild(W.createElement(it)),ut=L.css(j,"display"),j.parentNode.removeChild(j),"none"===ut&&(ut="block"),De[it]=ut)))):"none"!==A&&(_t[It]="none",yt.set(D,"display",A)));for(It=0;It<zt;It++)null!=_t[It]&&(p[It].style.display=_t[It]);return p}L.fn.extend({show:function(){return Ee(this,!0)},hide:function(){return Ee(this)},toggle:function(p){return"boolean"==typeof p?p?this.show():this.hide():this.each(function(){nn(this)?L(this).show():L(this).hide()})}});var Xt,e,o=/^(?:checkbox|radio)$/i,l=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,v=/^$|^module$|\/(?:java|ecma)script/i;Xt=Vt.createDocumentFragment().appendChild(Vt.createElement("div")),(e=Vt.createElement("input")).setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),Xt.appendChild(e),ue.checkClone=Xt.cloneNode(!0).cloneNode(!0).lastChild.checked,Xt.innerHTML="<textarea>x</textarea>",ue.noCloneChecked=!!Xt.cloneNode(!0).lastChild.defaultValue,Xt.innerHTML="<option></option>",ue.option=!!Xt.lastChild;var y={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function k(p,x){var A;return A=void 0!==p.getElementsByTagName?p.getElementsByTagName(x||"*"):void 0!==p.querySelectorAll?p.querySelectorAll(x||"*"):[],void 0===x||x&&et(p,x)?L.merge([p],A):A}function O(p,x){for(var A=0,D=p.length;A<D;A++)yt.set(p[A],"globalEval",!x||yt.get(x[A],"globalEval"))}y.tbody=y.tfoot=y.colgroup=y.caption=y.thead,y.th=y.td,ue.option||(y.optgroup=y.option=[1,"<select multiple='multiple'>","</select>"]);var Y=/<|&#?\w+;/;function Z(p,x,A,D,R){for(var j,W,it,ut,_t,It,zt=x.createDocumentFragment(),Pt=[],Lt=0,ee=p.length;Lt<ee;Lt++)if((j=p[Lt])||0===j)if("object"===ze(j))L.merge(Pt,j.nodeType?[j]:j);else if(Y.test(j)){for(W=W||zt.appendChild(x.createElement("div")),it=(l.exec(j)||["",""])[1].toLowerCase(),W.innerHTML=(ut=y[it]||y._default)[1]+L.htmlPrefilter(j)+ut[2],It=ut[0];It--;)W=W.lastChild;L.merge(Pt,W.childNodes),(W=zt.firstChild).textContent=""}else Pt.push(x.createTextNode(j));for(zt.textContent="",Lt=0;j=Pt[Lt++];)if(D&&-1<L.inArray(j,D))R&&R.push(j);else if(_t=ye(j),W=k(zt.appendChild(j),"script"),_t&&O(W),A)for(It=0;j=W[It++];)v.test(j.type||"")&&A.push(j);return zt}var dt=/^([^.]*)(?:\.(.+)|)/;function ct(){return!0}function st(){return!1}function St(p,x){return p===function(){try{return Vt.activeElement}catch(A){}}()==("focus"===x)}function Mt(p,x,A,D,R,j){var W,it;if("object"==typeof x){for(it in"string"!=typeof A&&(D=D||A,A=void 0),x)Mt(p,it,A,D,x[it],j);return p}if(null==D&&null==R?(R=A,D=A=void 0):null==R&&("string"==typeof A?(R=D,D=void 0):(R=D,D=A,A=void 0)),!1===R)R=st;else if(!R)return p;return 1===j&&(W=R,(R=function(ut){return L().off(ut),W.apply(this,arguments)}).guid=W.guid||(W.guid=L.guid++)),p.each(function(){L.event.add(this,x,R,D,A)})}function qt(p,x,A){A?(yt.set(p,x,!1),L.event.add(p,x,{namespace:!1,handler:function(D){var R,j,W=yt.get(this,x);if(1&D.isTrigger&&this[x]){if(W.length)(L.event.special[x]||{}).delegateType&&D.stopPropagation();else if(W=pe.call(arguments),yt.set(this,x,W),R=A(this,x),this[x](),W!==(j=yt.get(this,x))||R?yt.set(this,x,!1):j={},W!==j)return D.stopImmediatePropagation(),D.preventDefault(),j&&j.value}else W.length&&(yt.set(this,x,{value:L.event.trigger(L.extend(W[0],L.Event.prototype),W.slice(1),this)}),D.stopImmediatePropagation())}})):void 0===yt.get(p,x)&&L.event.add(p,x,ct)}L.event={global:{},add:function(p,x,A,D,R){var j,W,it,ut,_t,It,zt,Pt,Lt,ee,Jt,ie=yt.get(p);if(ne(p))for(A.handler&&(A=(j=A).handler,R=j.selector),R&&L.find.matchesSelector(Ne,R),A.guid||(A.guid=L.guid++),(ut=ie.events)||(ut=ie.events=Object.create(null)),(W=ie.handle)||(W=ie.handle=function(Mn){return void 0!==L&&L.event.triggered!==Mn.type?L.event.dispatch.apply(p,arguments):void 0}),_t=(x=(x||"").match(E)||[""]).length;_t--;)Lt=Jt=(it=dt.exec(x[_t])||[])[1],ee=(it[2]||"").split(".").sort(),Lt&&(zt=L.event.special[Lt]||{},zt=L.event.special[Lt=(R?zt.delegateType:zt.bindType)||Lt]||{},It=L.extend({type:Lt,origType:Jt,data:D,handler:A,guid:A.guid,selector:R,needsContext:R&&L.expr.match.needsContext.test(R),namespace:ee.join(".")},j),(Pt=ut[Lt])||((Pt=ut[Lt]=[]).delegateCount=0,zt.setup&&!1!==zt.setup.call(p,D,ee,W)||p.addEventListener&&p.addEventListener(Lt,W)),zt.add&&(zt.add.call(p,It),It.handler.guid||(It.handler.guid=A.guid)),R?Pt.splice(Pt.delegateCount++,0,It):Pt.push(It),L.event.global[Lt]=!0)},remove:function(p,x,A,D,R){var j,W,it,ut,_t,It,zt,Pt,Lt,ee,Jt,ie=yt.hasData(p)&&yt.get(p);if(ie&&(ut=ie.events)){for(_t=(x=(x||"").match(E)||[""]).length;_t--;)if(Lt=Jt=(it=dt.exec(x[_t])||[])[1],ee=(it[2]||"").split(".").sort(),Lt){for(zt=L.event.special[Lt]||{},Pt=ut[Lt=(D?zt.delegateType:zt.bindType)||Lt]||[],it=it[2]&&new RegExp("(^|\\.)"+ee.join("\\.(?:.*\\.|)")+"(\\.|$)"),W=j=Pt.length;j--;)It=Pt[j],!R&&Jt!==It.origType||A&&A.guid!==It.guid||it&&!it.test(It.namespace)||D&&D!==It.selector&&("**"!==D||!It.selector)||(Pt.splice(j,1),It.selector&&Pt.delegateCount--,zt.remove&&zt.remove.call(p,It));W&&!Pt.length&&(zt.teardown&&!1!==zt.teardown.call(p,ee,ie.handle)||L.removeEvent(p,Lt,ie.handle),delete ut[Lt])}else for(Lt in ut)L.event.remove(p,Lt+x[_t],A,D,!0);L.isEmptyObject(ut)&&yt.remove(p,"handle events")}},dispatch:function(p){var x,A,D,R,j,W,it=new Array(arguments.length),ut=L.event.fix(p),_t=(yt.get(this,"events")||Object.create(null))[ut.type]||[],It=L.event.special[ut.type]||{};for(it[0]=ut,x=1;x<arguments.length;x++)it[x]=arguments[x];if(ut.delegateTarget=this,!It.preDispatch||!1!==It.preDispatch.call(this,ut)){for(W=L.event.handlers.call(this,ut,_t),x=0;(R=W[x++])&&!ut.isPropagationStopped();)for(ut.currentTarget=R.elem,A=0;(j=R.handlers[A++])&&!ut.isImmediatePropagationStopped();)ut.rnamespace&&!1!==j.namespace&&!ut.rnamespace.test(j.namespace)||(ut.handleObj=j,ut.data=j.data,void 0!==(D=((L.event.special[j.origType]||{}).handle||j.handler).apply(R.elem,it))&&!1===(ut.result=D)&&(ut.preventDefault(),ut.stopPropagation()));return It.postDispatch&&It.postDispatch.call(this,ut),ut.result}},handlers:function(p,x){var A,D,R,j,W,it=[],ut=x.delegateCount,_t=p.target;if(ut&&_t.nodeType&&!("click"===p.type&&1<=p.button))for(;_t!==this;_t=_t.parentNode||this)if(1===_t.nodeType&&("click"!==p.type||!0!==_t.disabled)){for(j=[],W={},A=0;A<ut;A++)void 0===W[R=(D=x[A]).selector+" "]&&(W[R]=D.needsContext?-1<L(R,this).index(_t):L.find(R,this,null,[_t]).length),W[R]&&j.push(D);j.length&&it.push({elem:_t,handlers:j})}return _t=this,ut<x.length&&it.push({elem:_t,handlers:x.slice(ut)}),it},addProp:function(p,x){Object.defineProperty(L.Event.prototype,p,{enumerable:!0,configurable:!0,get:he(x)?function(){if(this.originalEvent)return x(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[p]},set:function(A){Object.defineProperty(this,p,{enumerable:!0,configurable:!0,writable:!0,value:A})}})},fix:function(p){return p[L.expando]?p:new L.Event(p)},special:{load:{noBubble:!0},click:{setup:function(p){var x=this||p;return o.test(x.type)&&x.click&&et(x,"input")&&qt(x,"click",ct),!1},trigger:function(p){var x=this||p;return o.test(x.type)&&x.click&&et(x,"input")&&qt(x,"click"),!0},_default:function(p){var x=p.target;return o.test(x.type)&&x.click&&et(x,"input")&&yt.get(x,"click")||et(x,"a")}},beforeunload:{postDispatch:function(p){void 0!==p.result&&p.originalEvent&&(p.originalEvent.returnValue=p.result)}}}},L.removeEvent=function(p,x,A){p.removeEventListener&&p.removeEventListener(x,A)},L.Event=function(p,x){if(!(this instanceof L.Event))return new L.Event(p,x);p&&p.type?(this.originalEvent=p,this.type=p.type,this.isDefaultPrevented=p.defaultPrevented||void 0===p.defaultPrevented&&!1===p.returnValue?ct:st,this.target=p.target&&3===p.target.nodeType?p.target.parentNode:p.target,this.currentTarget=p.currentTarget,this.relatedTarget=p.relatedTarget):this.type=p,x&&L.extend(this,x),this.timeStamp=p&&p.timeStamp||Date.now(),this[L.expando]=!0},L.Event.prototype={constructor:L.Event,isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,isSimulated:!1,preventDefault:function(){var p=this.originalEvent;this.isDefaultPrevented=ct,p&&!this.isSimulated&&p.preventDefault()},stopPropagation:function(){var p=this.originalEvent;this.isPropagationStopped=ct,p&&!this.isSimulated&&p.stopPropagation()},stopImmediatePropagation:function(){var p=this.originalEvent;this.isImmediatePropagationStopped=ct,p&&!this.isSimulated&&p.stopImmediatePropagation(),this.stopPropagation()}},L.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},L.event.addProp),L.each({focus:"focusin",blur:"focusout"},function(p,x){L.event.special[p]={setup:function(){return qt(this,p,St),!1},trigger:function(){return qt(this,p),!0},_default:function(){return!0},delegateType:x}}),L.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(p,x){L.event.special[p]={delegateType:x,bindType:x,handle:function(A){var D,R=A.relatedTarget,j=A.handleObj;return R&&(R===this||L.contains(this,R))||(A.type=j.origType,D=j.handler.apply(this,arguments),A.type=x),D}}}),L.fn.extend({on:function(p,x,A,D){return Mt(this,p,x,A,D)},one:function(p,x,A,D){return Mt(this,p,x,A,D,1)},off:function(p,x,A){var D,R;if(p&&p.preventDefault&&p.handleObj)return D=p.handleObj,L(p.delegateTarget).off(D.namespace?D.origType+"."+D.namespace:D.origType,D.selector,D.handler),this;if("object"==typeof p){for(R in p)this.off(R,x,p[R]);return this}return!1!==x&&"function"!=typeof x||(A=x,x=void 0),!1===A&&(A=st),this.each(function(){L.event.remove(this,p,A,x)})}});var Wt=/<script|<style|<link/i,ce=/checked\s*(?:[^=]|=\s*.checked.)/i,we=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(p,x){return et(p,"table")&&et(11!==x.nodeType?x:x.firstChild,"tr")&&L(p).children("tbody")[0]||p}function yn(p){return p.type=(null!==p.getAttribute("type"))+"/"+p.type,p}function He(p){return"true/"===(p.type||"").slice(0,5)?p.type=p.type.slice(5):p.removeAttribute("type"),p}function de(p,x){var A,D,R,j,W,it;if(1===x.nodeType){if(yt.hasData(p)&&(it=yt.get(p).events))for(R in yt.remove(x,"handle events"),it)for(A=0,D=it[R].length;A<D;A++)L.event.add(x,R,it[R][A]);Bt.hasData(p)&&(j=Bt.access(p),W=L.extend({},j),Bt.set(x,W))}}function ge(p,x,A,D){x=Ct(x);var R,j,W,it,ut,_t,It=0,zt=p.length,Pt=zt-1,Lt=x[0],ee=he(Lt);if(ee||1<zt&&"string"==typeof Lt&&!ue.checkClone&&ce.test(Lt))return p.each(function(Jt){var ie=p.eq(Jt);ee&&(x[0]=Lt.call(this,Jt,ie.html())),ge(ie,x,A,D)});if(zt&&(j=(R=Z(x,p[0].ownerDocument,!1,p,D)).firstChild,1===R.childNodes.length&&(R=j),j||D)){for(it=(W=L.map(k(R,"script"),yn)).length;It<zt;It++)ut=R,It!==Pt&&(ut=L.clone(ut,!0,!0),it&&L.merge(W,k(ut,"script"))),A.call(p[It],ut,It);if(it)for(_t=W[W.length-1].ownerDocument,L.map(W,He),It=0;It<it;It++)v.test((ut=W[It]).type||"")&&!yt.access(ut,"globalEval")&&L.contains(_t,ut)&&(ut.src&&"module"!==(ut.type||"").toLowerCase()?L._evalUrl&&!ut.noModule&&L._evalUrl(ut.src,{nonce:ut.nonce||ut.getAttribute("nonce")},_t):_e(ut.textContent.replace(we,""),ut,_t))}return p}function rn(p,x,A){for(var D,R=x?L.filter(x,p):p,j=0;null!=(D=R[j]);j++)A||1!==D.nodeType||L.cleanData(k(D)),D.parentNode&&(A&&ye(D)&&O(k(D,"script")),D.parentNode.removeChild(D));return p}L.extend({htmlPrefilter:function(p){return p},clone:function(p,x,A){var D,R,j,W,it,ut,_t,It=p.cloneNode(!0),zt=ye(p);if(!(ue.noCloneChecked||1!==p.nodeType&&11!==p.nodeType||L.isXMLDoc(p)))for(W=k(It),D=0,R=(j=k(p)).length;D<R;D++)it=j[D],"input"===(_t=(ut=W[D]).nodeName.toLowerCase())&&o.test(it.type)?ut.checked=it.checked:"input"!==_t&&"textarea"!==_t||(ut.defaultValue=it.defaultValue);if(x)if(A)for(j=j||k(p),W=W||k(It),D=0,R=j.length;D<R;D++)de(j[D],W[D]);else de(p,It);return 0<(W=k(It,"script")).length&&O(W,!zt&&k(p,"script")),It},cleanData:function(p){for(var x,A,D,R=L.event.special,j=0;void 0!==(A=p[j]);j++)if(ne(A)){if(x=A[yt.expando]){if(x.events)for(D in x.events)R[D]?L.event.remove(A,D):L.removeEvent(A,D,x.handle);A[yt.expando]=void 0}A[Bt.expando]&&(A[Bt.expando]=void 0)}}}),L.fn.extend({detach:function(p){return rn(this,p,!0)},remove:function(p){return rn(this,p)},text:function(p){return J(this,function(x){return void 0===x?L.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=x)})},null,p,arguments.length)},append:function(){return ge(this,arguments,function(p){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,p).appendChild(p)})},prepend:function(){return ge(this,arguments,function(p){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var x=Le(this,p);x.insertBefore(p,x.firstChild)}})},before:function(){return ge(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this)})},after:function(){return ge(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this.nextSibling)})},empty:function(){for(var p,x=0;null!=(p=this[x]);x++)1===p.nodeType&&(L.cleanData(k(p,!1)),p.textContent="");return this},clone:function(p,x){return p=null!=p&&p,x=null==x?p:x,this.map(function(){return L.clone(this,p,x)})},html:function(p){return J(this,function(x){var A=this[0]||{},D=0,R=this.length;if(void 0===x&&1===A.nodeType)return A.innerHTML;if("string"==typeof x&&!Wt.test(x)&&!y[(l.exec(x)||["",""])[1].toLowerCase()]){x=L.htmlPrefilter(x);try{for(;D<R;D++)1===(A=this[D]||{}).nodeType&&(L.cleanData(k(A,!1)),A.innerHTML=x);A=0}catch(j){}}A&&this.empty().append(x)},null,p,arguments.length)},replaceWith:function(){var p=[];return ge(this,arguments,function(x){var A=this.parentNode;L.inArray(this,p)<0&&(L.cleanData(k(this)),A&&A.replaceChild(x,this))},p)}}),L.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(p,x){L.fn[p]=function(A){for(var D,R=[],j=L(A),W=j.length-1,it=0;it<=W;it++)D=it===W?this:this.clone(!0),L(j[it])[x](D),je.apply(R,D.get());return this.pushStack(R)}});var In=new RegExp("^("+se+")(?!px)[a-z%]+$","i"),tn=function(p){var x=p.ownerDocument.defaultView;return x&&x.opener||(x=r),x.getComputedStyle(p)},Ye=function(p,x,A){var D,R,j={};for(R in x)j[R]=p.style[R],p.style[R]=x[R];for(R in D=A.call(p),x)p.style[R]=j[R];return D},Ae=new RegExp(jt.join("|"),"i");function fn(p,x,A){var D,R,j,W,it=p.style;return(A=A||tn(p))&&(""!==(W=A.getPropertyValue(x)||A[x])||ye(p)||(W=L.style(p,x)),!ue.pixelBoxStyles()&&In.test(W)&&Ae.test(x)&&(D=it.width,R=it.minWidth,j=it.maxWidth,it.minWidth=it.maxWidth=it.width=W,W=A.width,it.width=D,it.minWidth=R,it.maxWidth=j)),void 0!==W?W+"":W}function Ke(p,x){return{get:function(){if(!p())return(this.get=x).apply(this,arguments);delete this.get}}}!function(){function p(){if(_t){ut.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",_t.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ne.appendChild(ut).appendChild(_t);var It=r.getComputedStyle(_t);A="1%"!==It.top,it=12===x(It.marginLeft),_t.style.right="60%",j=36===x(It.right),D=36===x(It.width),_t.style.position="absolute",R=12===x(_t.offsetWidth/3),Ne.removeChild(ut),_t=null}}function x(It){return Math.round(parseFloat(It))}var A,D,R,j,W,it,ut=Vt.createElement("div"),_t=Vt.createElement("div");_t.style&&(_t.style.backgroundClip="content-box",_t.cloneNode(!0).style.backgroundClip="",ue.clearCloneStyle="content-box"===_t.style.backgroundClip,L.extend(ue,{boxSizingReliable:function(){return p(),D},pixelBoxStyles:function(){return p(),j},pixelPosition:function(){return p(),A},reliableMarginLeft:function(){return p(),it},scrollboxSize:function(){return p(),R},reliableTrDimensions:function(){var It,zt,Pt,Lt;return null==W&&(It=Vt.createElement("table"),zt=Vt.createElement("tr"),Pt=Vt.createElement("div"),It.style.cssText="position:absolute;left:-11111px;border-collapse:separate",zt.style.cssText="border:1px solid",zt.style.height="1px",Pt.style.height="9px",Pt.style.display="block",Ne.appendChild(It).appendChild(zt).appendChild(Pt),Lt=r.getComputedStyle(zt),W=parseInt(Lt.height,10)+parseInt(Lt.borderTopWidth,10)+parseInt(Lt.borderBottomWidth,10)===zt.offsetHeight,Ne.removeChild(It)),W}}))}();var Gn=["Webkit","Moz","ms"],Ln=Vt.createElement("div").style,Xn={};function un(p){return L.cssProps[p]||Xn[p]||(p in Ln?p:Xn[p]=function(A){for(var D=A[0].toUpperCase()+A.slice(1),R=Gn.length;R--;)if((A=Gn[R]+D)in Ln)return A}(p)||p)}var Vn=/^(none|table(?!-c[ea]).+)/,ti=/^--/,ea={position:"absolute",visibility:"hidden",display:"block"},Ni={letterSpacing:"0",fontWeight:"400"};function Oi(p,x,A){var D=$t.exec(x);return D?Math.max(0,D[2]-(A||0))+(D[3]||"px"):x}function vi(p,x,A,D,R,j){var W="width"===x?1:0,it=0,ut=0;if(A===(D?"border":"content"))return 0;for(;W<4;W+=2)"margin"===A&&(ut+=L.css(p,A+jt[W],!0,R)),D?("content"===A&&(ut-=L.css(p,"padding"+jt[W],!0,R)),"margin"!==A&&(ut-=L.css(p,"border"+jt[W]+"Width",!0,R))):(ut+=L.css(p,"padding"+jt[W],!0,R),"padding"!==A?ut+=L.css(p,"border"+jt[W]+"Width",!0,R):it+=L.css(p,"border"+jt[W]+"Width",!0,R));return!D&&0<=j&&(ut+=Math.max(0,Math.ceil(p["offset"+x[0].toUpperCase()+x.slice(1)]-j-ut-it-.5))||0),ut}function vn(p,x,A){var D=tn(p),R=(!ue.boxSizingReliable()||A)&&"border-box"===L.css(p,"boxSizing",!1,D),j=R,W=fn(p,x,D),it="offset"+x[0].toUpperCase()+x.slice(1);if(In.test(W)){if(!A)return W;W="auto"}return(!ue.boxSizingReliable()&&R||!ue.reliableTrDimensions()&&et(p,"tr")||"auto"===W||!parseFloat(W)&&"inline"===L.css(p,"display",!1,D))&&p.getClientRects().length&&(R="border-box"===L.css(p,"boxSizing",!1,D),(j=it in p)&&(W=p[it])),(W=parseFloat(W)||0)+vi(p,x,A||(R?"border":"content"),j,D,W)+"px"}function qn(p,x,A,D,R){return new qn.prototype.init(p,x,A,D,R)}L.extend({cssHooks:{opacity:{get:function(p,x){if(x){var A=fn(p,"opacity");return""===A?"1":A}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(p,x,A,D){if(p&&3!==p.nodeType&&8!==p.nodeType&&p.style){var R,j,W,it=at(x),ut=ti.test(x),_t=p.style;if(ut||(x=un(it)),W=L.cssHooks[x]||L.cssHooks[it],void 0===A)return W&&"get"in W&&void 0!==(R=W.get(p,!1,D))?R:_t[x];"string"==(j=typeof A)&&(R=$t.exec(A))&&R[1]&&(A=Me(p,x,R),j="number"),null!=A&&A==A&&("number"!==j||ut||(A+=R&&R[3]||(L.cssNumber[it]?"":"px")),ue.clearCloneStyle||""!==A||0!==x.indexOf("background")||(_t[x]="inherit"),W&&"set"in W&&void 0===(A=W.set(p,A,D))||(ut?_t.setProperty(x,A):_t[x]=A))}},css:function(p,x,A,D){var R,j,W,it=at(x);return ti.test(x)||(x=un(it)),(W=L.cssHooks[x]||L.cssHooks[it])&&"get"in W&&(R=W.get(p,!0,A)),void 0===R&&(R=fn(p,x,D)),"normal"===R&&x in Ni&&(R=Ni[x]),""===A||A?(j=parseFloat(R),!0===A||isFinite(j)?j||0:R):R}}),L.each(["height","width"],function(p,x){L.cssHooks[x]={get:function(A,D,R){if(D)return!Vn.test(L.css(A,"display"))||A.getClientRects().length&&A.getBoundingClientRect().width?vn(A,x,R):Ye(A,ea,function(){return vn(A,x,R)})},set:function(A,D,R){var j,W=tn(A),it=!ue.scrollboxSize()&&"absolute"===W.position,ut=(it||R)&&"border-box"===L.css(A,"boxSizing",!1,W),_t=R?vi(A,x,R,ut,W):0;return ut&&it&&(_t-=Math.ceil(A["offset"+x[0].toUpperCase()+x.slice(1)]-parseFloat(W[x])-vi(A,x,"border",!1,W)-.5)),_t&&(j=$t.exec(D))&&"px"!==(j[3]||"px")&&(A.style[x]=D,D=L.css(A,x)),Oi(0,D,_t)}}}),L.cssHooks.marginLeft=Ke(ue.reliableMarginLeft,function(p,x){if(x)return(parseFloat(fn(p,"marginLeft"))||p.getBoundingClientRect().left-Ye(p,{marginLeft:0},function(){return p.getBoundingClientRect().left}))+"px"}),L.each({margin:"",padding:"",border:"Width"},function(p,x){L.cssHooks[p+x]={expand:function(A){for(var D=0,R={},j="string"==typeof A?A.split(" "):[A];D<4;D++)R[p+jt[D]+x]=j[D]||j[D-2]||j[0];return R}},"margin"!==p&&(L.cssHooks[p+x].set=Oi)}),L.fn.extend({css:function(p,x){return J(this,function(A,D,R){var j,W,it={},ut=0;if(Array.isArray(D)){for(j=tn(A),W=D.length;ut<W;ut++)it[D[ut]]=L.css(A,D[ut],!1,j);return it}return void 0!==R?L.style(A,D,R):L.css(A,D)},p,x,1<arguments.length)}}),((L.Tween=qn).prototype={constructor:qn,init:function(p,x,A,D,R,j){this.elem=p,this.prop=A,this.easing=R||L.easing._default,this.options=x,this.start=this.now=this.cur(),this.end=D,this.unit=j||(L.cssNumber[A]?"":"px")},cur:function(){var p=qn.propHooks[this.prop];return p&&p.get?p.get(this):qn.propHooks._default.get(this)},run:function(p){var x,A=qn.propHooks[this.prop];return this.pos=x=this.options.duration?L.easing[this.easing](p,this.options.duration*p,0,1,this.options.duration):p,this.now=(this.end-this.start)*x+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),A&&A.set?A.set(this):qn.propHooks._default.set(this),this}}).init.prototype=qn.prototype,(qn.propHooks={_default:{get:function(p){var x;return 1!==p.elem.nodeType||null!=p.elem[p.prop]&&null==p.elem.style[p.prop]?p.elem[p.prop]:(x=L.css(p.elem,p.prop,""))&&"auto"!==x?x:0},set:function(p){L.fx.step[p.prop]?L.fx.step[p.prop](p):1!==p.elem.nodeType||!L.cssHooks[p.prop]&&null==p.elem.style[un(p.prop)]?p.elem[p.prop]=p.now:L.style(p.elem,p.prop,p.now+p.unit)}}}).scrollTop=qn.propHooks.scrollLeft={set:function(p){p.elem.nodeType&&p.elem.parentNode&&(p.elem[p.prop]=p.now)}},L.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},L.fx=qn.prototype.init,L.fx.step={};var $n,oi,Qn,cn,ei=/^(?:toggle|show|hide)$/,nl=/queueHooks$/;function no(){oi&&(!1===Vt.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(no):r.setTimeout(no,L.fx.interval),L.fx.tick())}function ms(){return r.setTimeout(function(){$n=void 0}),$n=Date.now()}function Sa(p,x){var A,D=0,R={height:p};for(x=x?1:0;D<4;D+=2-x)R["margin"+(A=jt[D])]=R["padding"+A]=p;return x&&(R.opacity=R.width=p),R}function vs(p,x,A){for(var D,R=(Wi.tweeners[x]||[]).concat(Wi.tweeners["*"]),j=0,W=R.length;j<W;j++)if(D=R[j].call(A,x,p))return D}function Wi(p,x,A){var D,R,j=0,W=Wi.prefilters.length,it=L.Deferred().always(function(){delete ut.elem}),ut=function(){if(R)return!1;for(var zt=$n||ms(),Pt=Math.max(0,_t.startTime+_t.duration-zt),Lt=1-(Pt/_t.duration||0),ee=0,Jt=_t.tweens.length;ee<Jt;ee++)_t.tweens[ee].run(Lt);return it.notifyWith(p,[_t,Lt,Pt]),Lt<1&&Jt?Pt:(Jt||it.notifyWith(p,[_t,1,0]),it.resolveWith(p,[_t]),!1)},_t=it.promise({elem:p,props:L.extend({},x),opts:L.extend(!0,{specialEasing:{},easing:L.easing._default},A),originalProperties:x,originalOptions:A,startTime:$n||ms(),duration:A.duration,tweens:[],createTween:function(zt,Pt){var Lt=L.Tween(p,_t.opts,zt,Pt,_t.opts.specialEasing[zt]||_t.opts.easing);return _t.tweens.push(Lt),Lt},stop:function(zt){var Pt=0,Lt=zt?_t.tweens.length:0;if(R)return this;for(R=!0;Pt<Lt;Pt++)_t.tweens[Pt].run(1);return zt?(it.notifyWith(p,[_t,1,0]),it.resolveWith(p,[_t,zt])):it.rejectWith(p,[_t,zt]),this}}),It=_t.props;for(function(zt,Pt){var Lt,ee,Jt,ie,Mn;for(Lt in zt)if(Jt=Pt[ee=at(Lt)],ie=zt[Lt],Array.isArray(ie)&&(Jt=ie[1],ie=zt[Lt]=ie[0]),Lt!==ee&&(zt[ee]=ie,delete zt[Lt]),(Mn=L.cssHooks[ee])&&"expand"in Mn)for(Lt in ie=Mn.expand(ie),delete zt[ee],ie)Lt in zt||(zt[Lt]=ie[Lt],Pt[Lt]=Jt);else Pt[ee]=Jt}(It,_t.opts.specialEasing);j<W;j++)if(D=Wi.prefilters[j].call(_t,p,It,_t.opts))return he(D.stop)&&(L._queueHooks(_t.elem,_t.opts.queue).stop=D.stop.bind(D)),D;return L.map(It,vs,_t),he(_t.opts.start)&&_t.opts.start.call(p,_t),_t.progress(_t.opts.progress).done(_t.opts.done,_t.opts.complete).fail(_t.opts.fail).always(_t.opts.always),L.fx.timer(L.extend(ut,{elem:p,anim:_t,queue:_t.opts.queue})),_t}L.Animation=L.extend(Wi,{tweeners:{"*":[function(p,x){var A=this.createTween(p,x);return Me(A.elem,p,$t.exec(x),A),A}]},tweener:function(p,x){he(p)?(x=p,p=["*"]):p=p.match(E);for(var A,D=0,R=p.length;D<R;D++)(Wi.tweeners[A=p[D]]=Wi.tweeners[A]||[]).unshift(x)},prefilters:[function(p,x,A){var D,R,j,W,it,ut,_t,It,zt="width"in x||"height"in x,Pt=this,Lt={},ee=p.style,Jt=p.nodeType&&nn(p),ie=yt.get(p,"fxshow");for(D in A.queue||(null==(W=L._queueHooks(p,"fx")).unqueued&&(W.unqueued=0,it=W.empty.fire,W.empty.fire=function(){W.unqueued||it()}),W.unqueued++,Pt.always(function(){Pt.always(function(){W.unqueued--,L.queue(p,"fx").length||W.empty.fire()})})),x)if(ei.test(R=x[D])){if(delete x[D],j=j||"toggle"===R,R===(Jt?"hide":"show")){if("show"!==R||!ie||void 0===ie[D])continue;Jt=!0}Lt[D]=ie&&ie[D]||L.style(p,D)}if((ut=!L.isEmptyObject(x))||!L.isEmptyObject(Lt))for(D in zt&&1===p.nodeType&&(A.overflow=[ee.overflow,ee.overflowX,ee.overflowY],null==(_t=ie&&ie.display)&&(_t=yt.get(p,"display")),"none"===(It=L.css(p,"display"))&&(_t?It=_t:(Ee([p],!0),_t=p.style.display||_t,It=L.css(p,"display"),Ee([p]))),("inline"===It||"inline-block"===It&&null!=_t)&&"none"===L.css(p,"float")&&(ut||(Pt.done(function(){ee.display=_t}),null==_t&&(_t="none"===(It=ee.display)?"":It)),ee.display="inline-block")),A.overflow&&(ee.overflow="hidden",Pt.always(function(){ee.overflow=A.overflow[0],ee.overflowX=A.overflow[1],ee.overflowY=A.overflow[2]})),ut=!1,Lt)ut||(ie?"hidden"in ie&&(Jt=ie.hidden):ie=yt.access(p,"fxshow",{display:_t}),j&&(ie.hidden=!Jt),Jt&&Ee([p],!0),Pt.done(function(){for(D in Jt||Ee([p]),yt.remove(p,"fxshow"),Lt)L.style(p,D,Lt[D])})),ut=vs(Jt?ie[D]:0,D,Pt),D in ie||(ie[D]=ut.start,Jt&&(ut.end=ut.start,ut.start=0))}],prefilter:function(p,x){x?Wi.prefilters.unshift(p):Wi.prefilters.push(p)}}),L.speed=function(p,x,A){var D=p&&"object"==typeof p?L.extend({},p):{complete:A||!A&&x||he(p)&&p,duration:p,easing:A&&x||x&&!he(x)&&x};return L.fx.off?D.duration=0:"number"!=typeof D.duration&&(D.duration=D.duration in L.fx.speeds?L.fx.speeds[D.duration]:L.fx.speeds._default),null!=D.queue&&!0!==D.queue||(D.queue="fx"),D.old=D.complete,D.complete=function(){he(D.old)&&D.old.call(this),D.queue&&L.dequeue(this,D.queue)},D},L.fn.extend({fadeTo:function(p,x,A,D){return this.filter(nn).css("opacity",0).show().end().animate({opacity:x},p,A,D)},animate:function(p,x,A,D){var R=L.isEmptyObject(p),j=L.speed(x,A,D),W=function(){var it=Wi(this,L.extend({},p),j);(R||yt.get(this,"finish"))&&it.stop(!0)};return W.finish=W,R||!1===j.queue?this.each(W):this.queue(j.queue,W)},stop:function(p,x,A){var D=function(R){var j=R.stop;delete R.stop,j(A)};return"string"!=typeof p&&(A=x,x=p,p=void 0),x&&this.queue(p||"fx",[]),this.each(function(){var R=!0,j=null!=p&&p+"queueHooks",W=L.timers,it=yt.get(this);if(j)it[j]&&it[j].stop&&D(it[j]);else for(j in it)it[j]&&it[j].stop&&nl.test(j)&&D(it[j]);for(j=W.length;j--;)W[j].elem!==this||null!=p&&W[j].queue!==p||(W[j].anim.stop(A),R=!1,W.splice(j,1));!R&&A||L.dequeue(this,p)})},finish:function(p){return!1!==p&&(p=p||"fx"),this.each(function(){var x,A=yt.get(this),D=A[p+"queue"],R=A[p+"queueHooks"],j=L.timers,W=D?D.length:0;for(A.finish=!0,L.queue(this,p,[]),R&&R.stop&&R.stop.call(this,!0),x=j.length;x--;)j[x].elem===this&&j[x].queue===p&&(j[x].anim.stop(!0),j.splice(x,1));for(x=0;x<W;x++)D[x]&&D[x].finish&&D[x].finish.call(this);delete A.finish})}}),L.each(["toggle","show","hide"],function(p,x){var A=L.fn[x];L.fn[x]=function(D,R,j){return null==D||"boolean"==typeof D?A.apply(this,arguments):this.animate(Sa(x,!0),D,R,j)}}),L.each({slideDown:Sa("show"),slideUp:Sa("hide"),slideToggle:Sa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(p,x){L.fn[p]=function(A,D,R){return this.animate(x,A,D,R)}}),L.timers=[],L.fx.tick=function(){var p,x=0,A=L.timers;for($n=Date.now();x<A.length;x++)(p=A[x])()||A[x]!==p||A.splice(x--,1);A.length||L.fx.stop(),$n=void 0},L.fx.timer=function(p){L.timers.push(p),L.fx.start()},L.fx.interval=13,L.fx.start=function(){oi||(oi=!0,no())},L.fx.stop=function(){oi=null},L.fx.speeds={slow:600,fast:200,_default:400},L.fn.delay=function(p,x){return p=L.fx&&L.fx.speeds[p]||p,this.queue(x=x||"fx",function(A,D){var R=r.setTimeout(A,p);D.stop=function(){r.clearTimeout(R)}})},Qn=Vt.createElement("input"),cn=Vt.createElement("select").appendChild(Vt.createElement("option")),Qn.type="checkbox",ue.checkOn=""!==Qn.value,ue.optSelected=cn.selected,(Qn=Vt.createElement("input")).value="t",Qn.type="radio",ue.radioValue="t"===Qn.value;var io,Lr=L.expr.attrHandle;L.fn.extend({attr:function(p,x){return J(this,L.attr,p,x,1<arguments.length)},removeAttr:function(p){return this.each(function(){L.removeAttr(this,p)})}}),L.extend({attr:function(p,x,A){var D,R,j=p.nodeType;if(3!==j&&8!==j&&2!==j)return void 0===p.getAttribute?L.prop(p,x,A):(1===j&&L.isXMLDoc(p)||(R=L.attrHooks[x.toLowerCase()]||(L.expr.match.bool.test(x)?io:void 0)),void 0!==A?null===A?void L.removeAttr(p,x):R&&"set"in R&&void 0!==(D=R.set(p,A,x))?D:(p.setAttribute(x,A+""),A):R&&"get"in R&&null!==(D=R.get(p,x))?D:null==(D=L.find.attr(p,x))?void 0:D)},attrHooks:{type:{set:function(p,x){if(!ue.radioValue&&"radio"===x&&et(p,"input")){var A=p.value;return p.setAttribute("type",x),A&&(p.value=A),x}}}},removeAttr:function(p,x){var A,D=0,R=x&&x.match(E);if(R&&1===p.nodeType)for(;A=R[D++];)p.removeAttribute(A)}}),io={set:function(p,x,A){return!1===x?L.removeAttr(p,A):p.setAttribute(A,A),A}},L.each(L.expr.match.bool.source.match(/\w+/g),function(p,x){var A=Lr[x]||L.find.attr;Lr[x]=function(D,R,j){var W,it,ut=R.toLowerCase();return j||(it=Lr[ut],Lr[ut]=W,W=null!=A(D,R,j)?ut:null,Lr[ut]=it),W}});var _s=/^(?:input|select|textarea|button)$/i,or=/^(?:a|area)$/i;function sr(p){return(p.match(E)||[]).join(" ")}function Ki(p){return p.getAttribute&&p.getAttribute("class")||""}function na(p){return Array.isArray(p)?p:"string"==typeof p&&p.match(E)||[]}L.fn.extend({prop:function(p,x){return J(this,L.prop,p,x,1<arguments.length)},removeProp:function(p){return this.each(function(){delete this[L.propFix[p]||p]})}}),L.extend({prop:function(p,x,A){var D,R,j=p.nodeType;if(3!==j&&8!==j&&2!==j)return 1===j&&L.isXMLDoc(p)||(R=L.propHooks[x=L.propFix[x]||x]),void 0!==A?R&&"set"in R&&void 0!==(D=R.set(p,A,x))?D:p[x]=A:R&&"get"in R&&null!==(D=R.get(p,x))?D:p[x]},propHooks:{tabIndex:{get:function(p){var x=L.find.attr(p,"tabindex");return x?parseInt(x,10):_s.test(p.nodeName)||or.test(p.nodeName)&&p.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ue.optSelected||(L.propHooks.selected={get:function(p){return null},set:function(p){}}),L.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){L.propFix[this.toLowerCase()]=this}),L.fn.extend({addClass:function(p){var x,A,D,R,j,W,it,ut=0;if(he(p))return this.each(function(_t){L(this).addClass(p.call(this,_t,Ki(this)))});if((x=na(p)).length)for(;A=this[ut++];)if(R=Ki(A),D=1===A.nodeType&&" "+sr(R)+" "){for(W=0;j=x[W++];)D.indexOf(" "+j+" ")<0&&(D+=j+" ");R!==(it=sr(D))&&A.setAttribute("class",it)}return this},removeClass:function(p){var x,A,D,R,j,W,it,ut=0;if(he(p))return this.each(function(_t){L(this).removeClass(p.call(this,_t,Ki(this)))});if(!arguments.length)return this.attr("class","");if((x=na(p)).length)for(;A=this[ut++];)if(R=Ki(A),D=1===A.nodeType&&" "+sr(R)+" "){for(W=0;j=x[W++];)for(;-1<D.indexOf(" "+j+" ");)D=D.replace(" "+j+" "," ");R!==(it=sr(D))&&A.setAttribute("class",it)}return this},toggleClass:function(p,x){var A=typeof p,D="string"===A||Array.isArray(p);return"boolean"==typeof x&&D?x?this.addClass(p):this.removeClass(p):he(p)?this.each(function(R){L(this).toggleClass(p.call(this,R,Ki(this),x),x)}):this.each(function(){var R,j,W,it;if(D)for(j=0,W=L(this),it=na(p);R=it[j++];)W.hasClass(R)?W.removeClass(R):W.addClass(R);else void 0!==p&&"boolean"!==A||((R=Ki(this))&&yt.set(this,"__className__",R),this.setAttribute&&this.setAttribute("class",R||!1===p?"":yt.get(this,"__className__")||""))})},hasClass:function(p){var x,A,D=0;for(x=" "+p+" ";A=this[D++];)if(1===A.nodeType&&-1<(" "+sr(Ki(A))+" ").indexOf(x))return!0;return!1}});var Ir=/\r/g;L.fn.extend({val:function(p){var x,A,D,R=this[0];return arguments.length?(D=he(p),this.each(function(j){var W;1===this.nodeType&&(null==(W=D?p.call(this,j,L(this).val()):p)?W="":"number"==typeof W?W+="":Array.isArray(W)&&(W=L.map(W,function(it){return null==it?"":it+""})),(x=L.valHooks[this.type]||L.valHooks[this.nodeName.toLowerCase()])&&"set"in x&&void 0!==x.set(this,W,"value")||(this.value=W))})):R?(x=L.valHooks[R.type]||L.valHooks[R.nodeName.toLowerCase()])&&"get"in x&&void 0!==(A=x.get(R,"value"))?A:"string"==typeof(A=R.value)?A.replace(Ir,""):null==A?"":A:void 0}}),L.extend({valHooks:{option:{get:function(p){var x=L.find.attr(p,"value");return null!=x?x:sr(L.text(p))}},select:{get:function(p){var x,A,D,R=p.options,j=p.selectedIndex,W="select-one"===p.type,it=W?null:[],ut=W?j+1:R.length;for(D=j<0?ut:W?j:0;D<ut;D++)if(((A=R[D]).selected||D===j)&&!A.disabled&&(!A.parentNode.disabled||!et(A.parentNode,"optgroup"))){if(x=L(A).val(),W)return x;it.push(x)}return it},set:function(p,x){for(var A,D,R=p.options,j=L.makeArray(x),W=R.length;W--;)((D=R[W]).selected=-1<L.inArray(L.valHooks.option.get(D),j))&&(A=!0);return A||(p.selectedIndex=-1),j}}}}),L.each(["radio","checkbox"],function(){L.valHooks[this]={set:function(p,x){if(Array.isArray(x))return p.checked=-1<L.inArray(L(p).val(),x)}},ue.checkOn||(L.valHooks[this].get=function(p){return null===p.getAttribute("value")?"on":p.value})}),ue.focusin="onfocusin"in r;var Zn=/^(?:focusinfocus|focusoutblur)$/,ro=function(p){p.stopPropagation()};L.extend(L.event,{trigger:function(p,x,A,D){var R,j,W,it,ut,_t,It,zt,Pt=[A||Vt],Lt=On.call(p,"type")?p.type:p,ee=On.call(p,"namespace")?p.namespace.split("."):[];if(j=zt=W=A=A||Vt,3!==A.nodeType&&8!==A.nodeType&&!Zn.test(Lt+L.event.triggered)&&(-1<Lt.indexOf(".")&&(Lt=(ee=Lt.split(".")).shift(),ee.sort()),ut=Lt.indexOf(":")<0&&"on"+Lt,(p=p[L.expando]?p:new L.Event(Lt,"object"==typeof p&&p)).isTrigger=D?2:3,p.namespace=ee.join("."),p.rnamespace=p.namespace?new RegExp("(^|\\.)"+ee.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p.result=void 0,p.target||(p.target=A),x=null==x?[p]:L.makeArray(x,[p]),It=L.event.special[Lt]||{},D||!It.trigger||!1!==It.trigger.apply(A,x))){if(!D&&!It.noBubble&&!dn(A)){for(Zn.test((it=It.delegateType||Lt)+Lt)||(j=j.parentNode);j;j=j.parentNode)Pt.push(j),W=j;W===(A.ownerDocument||Vt)&&Pt.push(W.defaultView||W.parentWindow||r)}for(R=0;(j=Pt[R++])&&!p.isPropagationStopped();)zt=j,p.type=1<R?it:It.bindType||Lt,(_t=(yt.get(j,"events")||Object.create(null))[p.type]&&yt.get(j,"handle"))&&_t.apply(j,x),(_t=ut&&j[ut])&&_t.apply&&ne(j)&&(p.result=_t.apply(j,x),!1===p.result&&p.preventDefault());return p.type=Lt,D||p.isDefaultPrevented()||It._default&&!1!==It._default.apply(Pt.pop(),x)||!ne(A)||ut&&he(A[Lt])&&!dn(A)&&((W=A[ut])&&(A[ut]=null),L.event.triggered=Lt,p.isPropagationStopped()&&zt.addEventListener(Lt,ro),A[Lt](),p.isPropagationStopped()&&zt.removeEventListener(Lt,ro),L.event.triggered=void 0,W&&(A[ut]=W)),p.result}},simulate:function(p,x,A){var D=L.extend(new L.Event,A,{type:p,isSimulated:!0});L.event.trigger(D,null,x)}}),L.fn.extend({trigger:function(p,x){return this.each(function(){L.event.trigger(p,x,this)})},triggerHandler:function(p,x){var A=this[0];if(A)return L.event.trigger(p,x,A,!0)}}),ue.focusin||L.each({focus:"focusin",blur:"focusout"},function(p,x){var A=function(D){L.event.simulate(x,D.target,L.event.fix(D))};L.event.special[x]={setup:function(){var D=this.ownerDocument||this.document||this,R=yt.access(D,x);R||D.addEventListener(p,A,!0),yt.access(D,x,(R||0)+1)},teardown:function(){var D=this.ownerDocument||this.document||this,R=yt.access(D,x)-1;R?yt.access(D,x,R):(D.removeEventListener(p,A,!0),yt.remove(D,x))}}});var Nr=r.location,Ta={guid:Date.now()},Ca=/\?/;L.parseXML=function(p){var x,A;if(!p||"string"!=typeof p)return null;try{x=(new r.DOMParser).parseFromString(p,"text/xml")}catch(D){}return A=x&&x.getElementsByTagName("parsererror")[0],x&&!A||L.error("Invalid XML: "+(A?L.map(A.childNodes,function(D){return D.textContent}).join("\n"):p)),x};var ys=/\[\]$/,ia=/\r?\n/g,$i=/^(?:submit|button|image|reset|file)$/i,ao=/^(?:input|select|textarea|keygen)/i;function Aa(p,x,A,D){var R;if(Array.isArray(x))L.each(x,function(j,W){A||ys.test(p)?D(p,W):Aa(p+"["+("object"==typeof W&&null!=W?j:"")+"]",W,A,D)});else if(A||"object"!==ze(x))D(p,x);else for(R in x)Aa(p+"["+R+"]",x[R],A,D)}L.param=function(p,x){var A,D=[],R=function(j,W){var it=he(W)?W():W;D[D.length]=encodeURIComponent(j)+"="+encodeURIComponent(null==it?"":it)};if(null==p)return"";if(Array.isArray(p)||p.jquery&&!L.isPlainObject(p))L.each(p,function(){R(this.name,this.value)});else for(A in p)Aa(A,p[A],x,R);return D.join("&")},L.fn.extend({serialize:function(){return L.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var p=L.prop(this,"elements");return p?L.makeArray(p):this}).filter(function(){var p=this.type;return this.name&&!L(this).is(":disabled")&&ao.test(this.nodeName)&&!$i.test(p)&&(this.checked||!o.test(p))}).map(function(p,x){var A=L(this).val();return null==A?null:Array.isArray(A)?L.map(A,function(D){return{name:x.name,value:D.replace(ia,"\r\n")}}):{name:x.name,value:A.replace(ia,"\r\n")}}).get()}});var bs=/%20/g,xs=/#.*$/,ws=/([?&])_=[^&]*/,Ss=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ts=/^(?:GET|HEAD)$/,Or=/^\/\//,oo={},so={},uo="*/".concat("*"),Rr=Vt.createElement("a");function Ri(p){return function(x,A){"string"!=typeof x&&(A=x,x="*");var D,R=0,j=x.toLowerCase().match(E)||[];if(he(A))for(;D=j[R++];)"+"===D[0]?(D=D.slice(1)||"*",(p[D]=p[D]||[]).unshift(A)):(p[D]=p[D]||[]).push(A)}}function ka(p,x,A,D){var R={},j=p===so;function W(it){var ut;return R[it]=!0,L.each(p[it]||[],function(_t,It){var zt=It(x,A,D);return"string"!=typeof zt||j||R[zt]?j?!(ut=zt):void 0:(x.dataTypes.unshift(zt),W(zt),!1)}),ut}return W(x.dataTypes[0])||!R["*"]&&W("*")}function ra(p,x){var A,D,R=L.ajaxSettings.flatOptions||{};for(A in x)void 0!==x[A]&&((R[A]?p:D||(D={}))[A]=x[A]);return D&&L.extend(!0,p,D),p}Rr.href=Nr.href,L.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nr.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Nr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":uo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":L.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(p,x){return x?ra(ra(p,L.ajaxSettings),x):ra(L.ajaxSettings,p)},ajaxPrefilter:Ri(oo),ajaxTransport:Ri(so),ajax:function(p,x){"object"==typeof p&&(x=p,p=void 0);var A,D,R,j,W,it,ut,_t,It,zt,Pt=L.ajaxSetup({},x=x||{}),Lt=Pt.context||Pt,ee=Pt.context&&(Lt.nodeType||Lt.jquery)?L(Lt):L.event,Jt=L.Deferred(),ie=L.Callbacks("once memory"),Mn=Pt.statusCode||{},Bn={},Ci={},pn="canceled",Fe={readyState:0,getResponseHeader:function(an){var on;if(ut){if(!j)for(j={};on=Ss.exec(R);)j[on[1].toLowerCase()+" "]=(j[on[1].toLowerCase()+" "]||[]).concat(on[2]);on=j[an.toLowerCase()+" "]}return null==on?null:on.join(", ")},getAllResponseHeaders:function(){return ut?R:null},setRequestHeader:function(an,on){return null==ut&&(an=Ci[an.toLowerCase()]=Ci[an.toLowerCase()]||an,Bn[an]=on),this},overrideMimeType:function(an){return null==ut&&(Pt.mimeType=an),this},statusCode:function(an){var on;if(an)if(ut)Fe.always(an[Fe.status]);else for(on in an)Mn[on]=[Mn[on],an[on]];return this},abort:function(an){var on=an||pn;return A&&A.abort(on),ci(0,on),this}};if(Jt.promise(Fe),Pt.url=((p||Pt.url||Nr.href)+"").replace(Or,Nr.protocol+"//"),Pt.type=x.method||x.type||Pt.method||Pt.type,Pt.dataTypes=(Pt.dataType||"*").toLowerCase().match(E)||[""],null==Pt.crossDomain){it=Vt.createElement("a");try{it.href=Pt.url,it.href=it.href,Pt.crossDomain=Rr.protocol+"//"+Rr.host!=it.protocol+"//"+it.host}catch(an){Pt.crossDomain=!0}}if(Pt.data&&Pt.processData&&"string"!=typeof Pt.data&&(Pt.data=L.param(Pt.data,Pt.traditional)),ka(oo,Pt,x,Fe),ut)return Fe;for(It in(_t=L.event&&Pt.global)&&0==L.active++&&L.event.trigger("ajaxStart"),Pt.type=Pt.type.toUpperCase(),Pt.hasContent=!Ts.test(Pt.type),D=Pt.url.replace(xs,""),Pt.hasContent?Pt.data&&Pt.processData&&0===(Pt.contentType||"").indexOf("application/x-www-form-urlencoded")&&(Pt.data=Pt.data.replace(bs,"+")):(zt=Pt.url.slice(D.length),Pt.data&&(Pt.processData||"string"==typeof Pt.data)&&(D+=(Ca.test(D)?"&":"?")+Pt.data,delete Pt.data),!1===Pt.cache&&(D=D.replace(ws,"$1"),zt=(Ca.test(D)?"&":"?")+"_="+Ta.guid+++zt),Pt.url=D+zt),Pt.ifModified&&(L.lastModified[D]&&Fe.setRequestHeader("If-Modified-Since",L.lastModified[D]),L.etag[D]&&Fe.setRequestHeader("If-None-Match",L.etag[D])),(Pt.data&&Pt.hasContent&&!1!==Pt.contentType||x.contentType)&&Fe.setRequestHeader("Content-Type",Pt.contentType),Fe.setRequestHeader("Accept",Pt.dataTypes[0]&&Pt.accepts[Pt.dataTypes[0]]?Pt.accepts[Pt.dataTypes[0]]+("*"!==Pt.dataTypes[0]?", "+uo+"; q=0.01":""):Pt.accepts["*"]),Pt.headers)Fe.setRequestHeader(It,Pt.headers[It]);if(Pt.beforeSend&&(!1===Pt.beforeSend.call(Lt,Fe,Pt)||ut))return Fe.abort();if(pn="abort",ie.add(Pt.complete),Fe.done(Pt.success),Fe.fail(Pt.error),A=ka(so,Pt,x,Fe)){if(Fe.readyState=1,_t&&ee.trigger("ajaxSend",[Fe,Pt]),ut)return Fe;Pt.async&&0<Pt.timeout&&(W=r.setTimeout(function(){Fe.abort("timeout")},Pt.timeout));try{ut=!1,A.send(Bn,ci)}catch(an){if(ut)throw an;ci(-1,an)}}else ci(-1,"No Transport");function ci(an,on,zr,Fr){var hi,nr,Qi,di,Zi,_i=on;ut||(ut=!0,W&&r.clearTimeout(W),A=void 0,R=Fr||"",Fe.readyState=0<an?4:0,hi=200<=an&&an<300||304===an,zr&&(di=function(Dn,si,yi){for(var Fi,Ge,hn,jn,bi=Dn.contents,En=Dn.dataTypes;"*"===En[0];)En.shift(),void 0===Fi&&(Fi=Dn.mimeType||si.getResponseHeader("Content-Type"));if(Fi)for(Ge in bi)if(bi[Ge]&&bi[Ge].test(Fi)){En.unshift(Ge);break}if(En[0]in yi)hn=En[0];else{for(Ge in yi){if(!En[0]||Dn.converters[Ge+" "+En[0]]){hn=Ge;break}jn||(jn=Ge)}hn=hn||jn}if(hn)return hn!==En[0]&&En.unshift(hn),yi[hn]}(Pt,Fe,zr)),!hi&&-1<L.inArray("script",Pt.dataTypes)&&L.inArray("json",Pt.dataTypes)<0&&(Pt.converters["text script"]=function(){}),di=function(Dn,si,yi,Fi){var Ge,hn,jn,bi,En,fi={},gr=Dn.dataTypes.slice();if(gr[1])for(jn in Dn.converters)fi[jn.toLowerCase()]=Dn.converters[jn];for(hn=gr.shift();hn;)if(Dn.responseFields[hn]&&(yi[Dn.responseFields[hn]]=si),!En&&Fi&&Dn.dataFilter&&(si=Dn.dataFilter(si,Dn.dataType)),En=hn,hn=gr.shift())if("*"===hn)hn=En;else if("*"!==En&&En!==hn){if(!(jn=fi[En+" "+hn]||fi["* "+hn]))for(Ge in fi)if((bi=Ge.split(" "))[1]===hn&&(jn=fi[En+" "+bi[0]]||fi["* "+bi[0]])){!0===jn?jn=fi[Ge]:!0!==fi[Ge]&&(hn=bi[0],gr.unshift(bi[1]));break}if(!0!==jn)if(jn&&Dn.throws)si=jn(si);else try{si=jn(si)}catch(Pa){return{state:"parsererror",error:jn?Pa:"No conversion from "+En+" to "+hn}}}return{state:"success",data:si}}(Pt,di,Fe,hi),hi?(Pt.ifModified&&((Zi=Fe.getResponseHeader("Last-Modified"))&&(L.lastModified[D]=Zi),(Zi=Fe.getResponseHeader("etag"))&&(L.etag[D]=Zi)),204===an||"HEAD"===Pt.type?_i="nocontent":304===an?_i="notmodified":(_i=di.state,nr=di.data,hi=!(Qi=di.error))):(Qi=_i,!an&&_i||(_i="error",an<0&&(an=0))),Fe.status=an,Fe.statusText=(on||_i)+"",hi?Jt.resolveWith(Lt,[nr,_i,Fe]):Jt.rejectWith(Lt,[Fe,_i,Qi]),Fe.statusCode(Mn),Mn=void 0,_t&&ee.trigger(hi?"ajaxSuccess":"ajaxError",[Fe,Pt,hi?nr:Qi]),ie.fireWith(Lt,[Fe,_i]),_t&&(ee.trigger("ajaxComplete",[Fe,Pt]),--L.active||L.event.trigger("ajaxStop")))}return Fe},getJSON:function(p,x,A){return L.get(p,x,A,"json")},getScript:function(p,x){return L.get(p,void 0,x,"script")}}),L.each(["get","post"],function(p,x){L[x]=function(A,D,R,j){return he(D)&&(j=j||R,R=D,D=void 0),L.ajax(L.extend({url:A,type:x,dataType:j,data:D,success:R},L.isPlainObject(A)&&A))}}),L.ajaxPrefilter(function(p){var x;for(x in p.headers)"content-type"===x.toLowerCase()&&(p.contentType=p.headers[x]||"")}),L._evalUrl=function(p,x,A){return L.ajax({url:p,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(D){L.globalEval(D,x,A)}})},L.fn.extend({wrapAll:function(p){var x;return this[0]&&(he(p)&&(p=p.call(this[0])),x=L(p,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&x.insertBefore(this[0]),x.map(function(){for(var A=this;A.firstElementChild;)A=A.firstElementChild;return A}).append(this)),this},wrapInner:function(p){return he(p)?this.each(function(x){L(this).wrapInner(p.call(this,x))}):this.each(function(){var x=L(this),A=x.contents();A.length?A.wrapAll(p):x.append(p)})},wrap:function(p){var x=he(p);return this.each(function(A){L(this).wrapAll(x?p.call(this,A):p)})},unwrap:function(p){return this.parent(p).not("body").each(function(){L(this).replaceWith(this.childNodes)}),this}}),L.expr.pseudos.hidden=function(p){return!L.expr.pseudos.visible(p)},L.expr.pseudos.visible=function(p){return!!(p.offsetWidth||p.offsetHeight||p.getClientRects().length)},L.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(p){}};var lo={0:200,1223:204},pr=L.ajaxSettings.xhr();ue.cors=!!pr&&"withCredentials"in pr,ue.ajax=pr=!!pr,L.ajaxTransport(function(p){var x,A;if(ue.cors||pr&&!p.crossDomain)return{send:function(D,R){var j,W=p.xhr();if(W.open(p.type,p.url,p.async,p.username,p.password),p.xhrFields)for(j in p.xhrFields)W[j]=p.xhrFields[j];for(j in p.mimeType&&W.overrideMimeType&&W.overrideMimeType(p.mimeType),p.crossDomain||D["X-Requested-With"]||(D["X-Requested-With"]="XMLHttpRequest"),D)W.setRequestHeader(j,D[j]);x=function(it){return function(){x&&(x=A=W.onload=W.onerror=W.onabort=W.ontimeout=W.onreadystatechange=null,"abort"===it?W.abort():"error"===it?"number"!=typeof W.status?R(0,"error"):R(W.status,W.statusText):R(lo[W.status]||W.status,W.statusText,"text"!==(W.responseType||"text")||"string"!=typeof W.responseText?{binary:W.response}:{text:W.responseText},W.getAllResponseHeaders()))}},W.onload=x(),A=W.onerror=W.ontimeout=x("error"),void 0!==W.onabort?W.onabort=A:W.onreadystatechange=function(){4===W.readyState&&r.setTimeout(function(){x&&A()})},x=x("abort");try{W.send(p.hasContent&&p.data||null)}catch(it){if(x)throw it}},abort:function(){x&&x()}}}),L.ajaxPrefilter(function(p){p.crossDomain&&(p.contents.script=!1)}),L.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(p){return L.globalEval(p),p}}}),L.ajaxPrefilter("script",function(p){void 0===p.cache&&(p.cache=!1),p.crossDomain&&(p.type="GET")}),L.ajaxTransport("script",function(p){var x,A;if(p.crossDomain||p.scriptAttrs)return{send:function(D,R){x=L("<script>").attr(p.scriptAttrs||{}).prop({charset:p.scriptCharset,src:p.url}).on("load error",A=function(j){x.remove(),A=null,j&&R("error"===j.type?404:200,j.type)}),Vt.head.appendChild(x[0])},abort:function(){A&&A()}}});var co,aa=[],zi=/(=)\?(?=&|$)|\?\?/;L.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var p=aa.pop()||L.expando+"_"+Ta.guid++;return this[p]=!0,p}}),L.ajaxPrefilter("json jsonp",function(p,x,A){var D,R,j,W=!1!==p.jsonp&&(zi.test(p.url)?"url":"string"==typeof p.data&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&zi.test(p.data)&&"data");if(W||"jsonp"===p.dataTypes[0])return D=p.jsonpCallback=he(p.jsonpCallback)?p.jsonpCallback():p.jsonpCallback,W?p[W]=p[W].replace(zi,"$1"+D):!1!==p.jsonp&&(p.url+=(Ca.test(p.url)?"&":"?")+p.jsonp+"="+D),p.converters["script json"]=function(){return j||L.error(D+" was not called"),j[0]},p.dataTypes[0]="json",R=r[D],r[D]=function(){j=arguments},A.always(function(){void 0===R?L(r).removeProp(D):r[D]=R,p[D]&&(p.jsonpCallback=x.jsonpCallback,aa.push(D)),j&&he(R)&&R(j[0]),j=R=void 0}),"script"}),ue.createHTMLDocument=((co=Vt.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===co.childNodes.length),L.parseHTML=function(p,x,A){return"string"!=typeof p?[]:("boolean"==typeof x&&(A=x,x=!1),x||(ue.createHTMLDocument?((D=(x=Vt.implementation.createHTMLDocument("")).createElement("base")).href=Vt.location.href,x.head.appendChild(D)):x=Vt),j=!A&&[],(R=nt.exec(p))?[x.createElement(R[1])]:(R=Z([p],x,j),j&&j.length&&L(j).remove(),L.merge([],R.childNodes)));var D,R,j},L.fn.load=function(p,x,A){var D,R,j,W=this,it=p.indexOf(" ");return-1<it&&(D=sr(p.slice(it)),p=p.slice(0,it)),he(x)?(A=x,x=void 0):x&&"object"==typeof x&&(R="POST"),0<W.length&&L.ajax({url:p,type:R||"GET",dataType:"html",data:x}).done(function(ut){j=arguments,W.html(D?L("<div>").append(L.parseHTML(ut)).find(D):ut)}).always(A&&function(ut,_t){W.each(function(){A.apply(this,j||[ut.responseText,_t,ut])})}),this},L.expr.pseudos.animated=function(p){return L.grep(L.timers,function(x){return p===x.elem}).length},L.offset={setOffset:function(p,x,A){var D,R,j,W,it,ut,_t=L.css(p,"position"),It=L(p),zt={};"static"===_t&&(p.style.position="relative"),it=It.offset(),j=L.css(p,"top"),ut=L.css(p,"left"),("absolute"===_t||"fixed"===_t)&&-1<(j+ut).indexOf("auto")?(W=(D=It.position()).top,R=D.left):(W=parseFloat(j)||0,R=parseFloat(ut)||0),he(x)&&(x=x.call(p,A,L.extend({},it))),null!=x.top&&(zt.top=x.top-it.top+W),null!=x.left&&(zt.left=x.left-it.left+R),"using"in x?x.using.call(p,zt):It.css(zt)}},L.fn.extend({offset:function(p){if(arguments.length)return void 0===p?this:this.each(function(R){L.offset.setOffset(this,p,R)});var x,A,D=this[0];return D?D.getClientRects().length?{top:(x=D.getBoundingClientRect()).top+(A=D.ownerDocument.defaultView).pageYOffset,left:x.left+A.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var p,x,A,D=this[0],R={top:0,left:0};if("fixed"===L.css(D,"position"))x=D.getBoundingClientRect();else{for(x=this.offset(),A=D.ownerDocument,p=D.offsetParent||A.documentElement;p&&(p===A.body||p===A.documentElement)&&"static"===L.css(p,"position");)p=p.parentNode;p&&p!==D&&1===p.nodeType&&((R=L(p).offset()).top+=L.css(p,"borderTopWidth",!0),R.left+=L.css(p,"borderLeftWidth",!0))}return{top:x.top-R.top-L.css(D,"marginTop",!0),left:x.left-R.left-L.css(D,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var p=this.offsetParent;p&&"static"===L.css(p,"position");)p=p.offsetParent;return p||Ne})}}),L.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(p,x){var A="pageYOffset"===x;L.fn[p]=function(D){return J(this,function(R,j,W){var it;if(dn(R)?it=R:9===R.nodeType&&(it=R.defaultView),void 0===W)return it?it[x]:R[j];it?it.scrollTo(A?it.pageXOffset:W,A?W:it.pageYOffset):R[j]=W},p,D,arguments.length)}}),L.each(["top","left"],function(p,x){L.cssHooks[x]=Ke(ue.pixelPosition,function(A,D){if(D)return D=fn(A,x),In.test(D)?L(A).position()[x]+"px":D})}),L.each({Height:"height",Width:"width"},function(p,x){L.each({padding:"inner"+p,content:x,"":"outer"+p},function(A,D){L.fn[D]=function(R,j){var W=arguments.length&&(A||"boolean"!=typeof R),it=A||(!0===R||!0===j?"margin":"border");return J(this,function(ut,_t,It){var zt;return dn(ut)?0===D.indexOf("outer")?ut["inner"+p]:ut.document.documentElement["client"+p]:9===ut.nodeType?(zt=ut.documentElement,Math.max(ut.body["scroll"+p],zt["scroll"+p],ut.body["offset"+p],zt["offset"+p],zt["client"+p])):void 0===It?L.css(ut,_t,it):L.style(ut,_t,It,it)},x,W?R:void 0,W)}})}),L.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(p,x){L.fn[x]=function(A){return this.on(x,A)}}),L.fn.extend({bind:function(p,x,A){return this.on(p,null,x,A)},unbind:function(p,x){return this.off(p,null,x)},delegate:function(p,x,A,D){return this.on(x,p,A,D)},undelegate:function(p,x,A){return 1===arguments.length?this.off(p,"**"):this.off(x,p||"**",A)},hover:function(p,x){return this.mouseenter(p).mouseleave(x||p)}}),L.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(p,x){L.fn[x]=function(A,D){return 0<arguments.length?this.on(x,null,A,D):this.trigger(x)}});var Cs=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;L.proxy=function(p,x){var A,D,R;if("string"==typeof x&&(A=p[x],x=p,p=A),he(p))return D=pe.call(arguments,2),(R=function(){return p.apply(x||this,D.concat(pe.call(arguments)))}).guid=p.guid=p.guid||L.guid++,R},L.holdReady=function(p){p?L.readyWait++:L.ready(!0)},L.isArray=Array.isArray,L.parseJSON=JSON.parse,L.nodeName=et,L.isFunction=he,L.isWindow=dn,L.camelCase=at,L.type=ze,L.now=Date.now,L.isNumeric=function(p){var x=L.type(p);return("number"===x||"string"===x)&&!isNaN(p-parseFloat(p))},L.trim=function(p){return null==p?"":(p+"").replace(Cs,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return L});var As=r.jQuery,ho=r.$;return L.noConflict=function(p){return r.$===L&&(r.$=ho),p&&r.jQuery===L&&(r.jQuery=As),L},void 0===Ht&&(r.jQuery=r.$=L),L}),function(r){"use strict";"function"==typeof define&&define.amd?define(["jquery"],r):r(jQuery)}(function(r){"use strict";r.ui=r.ui||{},r.ui.version="1.13.0";var Ht,Ct,je,We,Re,sn,On,_n,Pe,ue,wn=0,Sn=Array.prototype.hasOwnProperty,pe=Array.prototype.slice;function he(e,o,l){return[parseFloat(e[0])*(Pe.test(e[0])?o/100:1),parseFloat(e[1])*(Pe.test(e[1])?l/100:1)]}function dn(e,o){return parseInt(r.css(e,o),10)||0}function Vt(e){return null!=e&&e===e.window}r.cleanData=(Ht=r.cleanData,function(e){for(var o,l,v=0;null!=(l=e[v]);v++)(o=r._data(l,"events"))&&o.remove&&r(l).triggerHandler("remove");Ht(e)}),r.widget=function(e,o,l){var v,y,k,O={},Y=e.split(".")[0],Z=Y+"-"+(e=e.split(".")[1]);return l||(l=o,o=r.Widget),Array.isArray(l)&&(l=r.extend.apply(null,[{}].concat(l))),r.expr.pseudos[Z.toLowerCase()]=function(dt){return!!r.data(dt,Z)},r[Y]=r[Y]||{},v=r[Y][e],y=r[Y][e]=function(dt,ct){if(!this._createWidget)return new y(dt,ct);arguments.length&&this._createWidget(dt,ct)},r.extend(y,v,{version:l.version,_proto:r.extend({},l),_childConstructors:[]}),(k=new o).options=r.widget.extend({},k.options),r.each(l,function(dt,ct){function st(){return o.prototype[dt].apply(this,arguments)}function St(Mt){return o.prototype[dt].apply(this,Mt)}O[dt]="function"==typeof ct?function(){var Mt,qt=this._super,Wt=this._superApply;return this._super=st,this._superApply=St,Mt=ct.apply(this,arguments),this._super=qt,this._superApply=Wt,Mt}:ct}),y.prototype=r.widget.extend(k,{widgetEventPrefix:v&&k.widgetEventPrefix||e},O,{constructor:y,namespace:Y,widgetName:e,widgetFullName:Z}),v?(r.each(v._childConstructors,function(dt,ct){var st=ct.prototype;r.widget(st.namespace+"."+st.widgetName,y,ct._proto)}),delete v._childConstructors):o._childConstructors.push(y),r.widget.bridge(e,y),y},r.widget.extend=function(e){for(var o,l,v=pe.call(arguments,1),y=0,k=v.length;y<k;y++)for(o in v[y])l=v[y][o],Sn.call(v[y],o)&&void 0!==l&&(e[o]=r.isPlainObject(l)?r.isPlainObject(e[o])?r.widget.extend({},e[o],l):r.widget.extend({},l):l);return e},r.widget.bridge=function(e,o){var l=o.prototype.widgetFullName||e;r.fn[e]=function(v){var y="string"==typeof v,k=pe.call(arguments,1),O=this;return y?this.length||"instance"!==v?this.each(function(){var Y,Z=r.data(this,l);return"instance"===v?(O=Z,!1):Z?"function"!=typeof Z[v]||"_"===v.charAt(0)?r.error("no such method '"+v+"' for "+e+" widget instance"):(Y=Z[v].apply(Z,k))!==Z&&void 0!==Y?(O=Y&&Y.jquery?O.pushStack(Y.get()):Y,!1):void 0:r.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+v+"'")}):O=void 0:(k.length&&(v=r.widget.extend.apply(null,[v].concat(k))),this.each(function(){var Y=r.data(this,l);Y?(Y.option(v||{}),Y._init&&Y._init()):r.data(this,l,new o(v,this))})),O}},r.Widget=function(){},r.Widget._childConstructors=[],r.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,o){o=r(o||this.defaultElement||this)[0],this.element=r(o),this.uuid=wn++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=r(),this.hoverable=r(),this.focusable=r(),this.classesElementLookup={},o!==this&&(r.data(o,this.widgetFullName,this),this._on(!0,this.element,{remove:function(l){l.target===o&&this.destroy()}}),this.document=r(o.style?o.ownerDocument:o.document||o),this.window=r(this.document[0].defaultView||this.document[0].parentWindow)),this.options=r.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:r.noop,_create:r.noop,_init:r.noop,destroy:function(){var e=this;this._destroy(),r.each(this.classesElementLookup,function(o,l){e._removeClass(l,o)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:r.noop,widget:function(){return this.element},option:function(e,o){var l,v,y,k=e;if(0===arguments.length)return r.widget.extend({},this.options);if("string"==typeof e)if(k={},e=(l=e.split(".")).shift(),l.length){for(v=k[e]=r.widget.extend({},this.options[e]),y=0;y<l.length-1;y++)v[l[y]]=v[l[y]]||{},v=v[l[y]];if(e=l.pop(),1===arguments.length)return void 0===v[e]?null:v[e];v[e]=o}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];k[e]=o}return this._setOptions(k),this},_setOptions:function(e){for(var o in e)this._setOption(o,e[o]);return this},_setOption:function(e,o){return"classes"===e&&this._setOptionClasses(o),this.options[e]=o,"disabled"===e&&this._setOptionDisabled(o),this},_setOptionClasses:function(e){var o,l,v;for(o in e)v=this.classesElementLookup[o],e[o]!==this.options.classes[o]&&v&&v.length&&(l=r(v.get()),this._removeClass(v,o),l.addClass(this._classes({element:l,keys:o,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var o=[],l=this;function v(y,k){for(var O,Y=0;Y<y.length;Y++)O=l.classesElementLookup[y[Y]]||r(),O=e.add?(e.element.each(function(Z,dt){r.map(l.classesElementLookup,function(ct){return ct}).some(function(ct){return ct.is(dt)})||l._on(r(dt),{remove:"_untrackClassesElement"})}),r(r.uniqueSort(O.get().concat(e.element.get())))):r(O.not(e.element).get()),l.classesElementLookup[y[Y]]=O,o.push(y[Y]),k&&e.classes[y[Y]]&&o.push(e.classes[y[Y]])}return(e=r.extend({element:this.element,classes:this.options.classes||{}},e)).keys&&v(e.keys.match(/\S+/g)||[],!0),e.extra&&v(e.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(e){var o=this;r.each(o.classesElementLookup,function(l,v){-1!==r.inArray(e.target,v)&&(o.classesElementLookup[l]=r(v.not(e.target).get()))}),this._off(r(e.target))},_removeClass:function(e,o,l){return this._toggleClass(e,o,l,!1)},_addClass:function(e,o,l){return this._toggleClass(e,o,l,!0)},_toggleClass:function(e,o,l,v){var y="string"==typeof e||null===e;return(l={extra:y?o:l,keys:y?e:o,element:y?this.element:e,add:v="boolean"==typeof v?v:l}).element.toggleClass(this._classes(l),v),this},_on:function(e,o,l){var v,y=this;"boolean"!=typeof e&&(l=o,o=e,e=!1),l?(o=v=r(o),this.bindings=this.bindings.add(o)):(l=o,o=this.element,v=this.widget()),r.each(l,function(k,O){function Y(){if(e||!0!==y.options.disabled&&!r(this).hasClass("ui-state-disabled"))return("string"==typeof O?y[O]:O).apply(y,arguments)}var Z;"string"!=typeof O&&(Y.guid=O.guid=O.guid||Y.guid||r.guid++),k=(Z=k.match(/^([\w:-]*)\s*(.*)$/))[1]+y.eventNamespace,(Z=Z[2])?v.on(k,Z,Y):o.on(k,Y)})},_off:function(e,o){o=(o||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(o),this.bindings=r(this.bindings.not(e).get()),this.focusable=r(this.focusable.not(e).get()),this.hoverable=r(this.hoverable.not(e).get())},_delay:function(e,o){var l=this;return setTimeout(function(){return("string"==typeof e?l[e]:e).apply(l,arguments)},o||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(o){this._addClass(r(o.currentTarget),null,"ui-state-hover")},mouseleave:function(o){this._removeClass(r(o.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(o){this._addClass(r(o.currentTarget),null,"ui-state-focus")},focusout:function(o){this._removeClass(r(o.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,o,l){var v,y,k=this.options[e];if(l=l||{},(o=r.Event(o)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),o.target=this.element[0],y=o.originalEvent)for(v in y)v in o||(o[v]=y[v]);return this.element.trigger(o,l),!("function"==typeof k&&!1===k.apply(this.element[0],[o].concat(l))||o.isDefaultPrevented())}},r.each({show:"fadeIn",hide:"fadeOut"},function(e,o){r.Widget.prototype["_"+e]=function(l,v,y){var k,O=(v="string"==typeof v?{effect:v}:v)?!0!==v&&"number"!=typeof v&&v.effect||o:e;"number"==typeof(v=v||{})?v={duration:v}:!0===v&&(v={}),k=!r.isEmptyObject(v),v.complete=y,v.delay&&l.delay(v.delay),k&&r.effects&&r.effects.effect[O]?l[e](v):O!==e&&l[O]?l[O](v.duration,v.easing,y):l.queue(function(Y){r(this)[e](),y&&y.call(l[0]),Y()})}}),je=Math.max,We=Math.abs,Re=/left|center|right/,sn=/top|center|bottom/,On=/[\+\-]\d+(\.[\d]+)?%?/,_n=/^\w+/,Pe=/%$/,ue=r.fn.position,r.position={scrollbarWidth:function(){if(void 0!==Ct)return Ct;var e,o=r("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),l=o.children()[0];return r("body").append(o),e=l.offsetWidth,o.css("overflow","scroll"),e===(l=l.offsetWidth)&&(l=o[0].clientWidth),o.remove(),Ct=e-l},getScrollInfo:function(e){var o=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),l=e.isWindow||e.isDocument?"":e.element.css("overflow-y");return o="scroll"===o||"auto"===o&&e.width<e.element[0].scrollWidth,{width:"scroll"===l||"auto"===l&&e.height<e.element[0].scrollHeight?r.position.scrollbarWidth():0,height:o?r.position.scrollbarWidth():0}},getWithinInfo:function(e){var o=r(e||window),l=Vt(o[0]),v=!!o[0]&&9===o[0].nodeType;return{element:o,isWindow:l,isDocument:v,offset:l||v?{left:0,top:0}:r(e).offset(),scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:o.outerWidth(),height:o.outerHeight()}}},r.fn.position=function(e){if(!e||!e.of)return ue.apply(this,arguments);var o,l,v,y,k,O,Y="string"==typeof(e=r.extend({},e)).of?r(document).find(e.of):r(e.of),Z=r.position.getWithinInfo(e.within),dt=r.position.getScrollInfo(Z),ct=(e.collision||"flip").split(" "),st={},St=9===(O=(St=Y)[0]).nodeType?{width:St.width(),height:St.height(),offset:{top:0,left:0}}:Vt(O)?{width:St.width(),height:St.height(),offset:{top:St.scrollTop(),left:St.scrollLeft()}}:O.preventDefault?{width:0,height:0,offset:{top:O.pageY,left:O.pageX}}:{width:St.outerWidth(),height:St.outerHeight(),offset:St.offset()};return Y[0].preventDefault&&(e.at="left top"),l=St.width,v=St.height,k=r.extend({},y=St.offset),r.each(["my","at"],function(){var Mt,qt,Wt=(e[this]||"").split(" ");(Wt=1===Wt.length?Re.test(Wt[0])?Wt.concat(["center"]):sn.test(Wt[0])?["center"].concat(Wt):["center","center"]:Wt)[0]=Re.test(Wt[0])?Wt[0]:"center",Wt[1]=sn.test(Wt[1])?Wt[1]:"center",Mt=On.exec(Wt[0]),qt=On.exec(Wt[1]),st[this]=[Mt?Mt[0]:0,qt?qt[0]:0],e[this]=[_n.exec(Wt[0])[0],_n.exec(Wt[1])[0]]}),1===ct.length&&(ct[1]=ct[0]),"right"===e.at[0]?k.left+=l:"center"===e.at[0]&&(k.left+=l/2),"bottom"===e.at[1]?k.top+=v:"center"===e.at[1]&&(k.top+=v/2),o=he(st.at,l,v),k.left+=o[0],k.top+=o[1],this.each(function(){var Mt,qt,Wt=r(this),ce=Wt.outerWidth(),we=Wt.outerHeight(),Le=dn(this,"marginLeft"),yn=dn(this,"marginTop"),He=ce+Le+dn(this,"marginRight")+dt.width,de=we+yn+dn(this,"marginBottom")+dt.height,ge=r.extend({},k),rn=he(st.my,Wt.outerWidth(),Wt.outerHeight());"right"===e.my[0]?ge.left-=ce:"center"===e.my[0]&&(ge.left-=ce/2),"bottom"===e.my[1]?ge.top-=we:"center"===e.my[1]&&(ge.top-=we/2),ge.left+=rn[0],ge.top+=rn[1],Mt={marginLeft:Le,marginTop:yn},r.each(["left","top"],function(In,tn){r.ui.position[ct[In]]&&r.ui.position[ct[In]][tn](ge,{targetWidth:l,targetHeight:v,elemWidth:ce,elemHeight:we,collisionPosition:Mt,collisionWidth:He,collisionHeight:de,offset:[o[0]+rn[0],o[1]+rn[1]],my:e.my,at:e.at,within:Z,elem:Wt})}),e.using&&(qt=function(In){var tn=y.left-ge.left,Ye=tn+l-ce,Ae=y.top-ge.top,fn=Ae+v-we,Ke={target:{element:Y,left:y.left,top:y.top,width:l,height:v},element:{element:Wt,left:ge.left,top:ge.top,width:ce,height:we},horizontal:Ye<0?"left":0<tn?"right":"center",vertical:fn<0?"top":0<Ae?"bottom":"middle"};l<ce&&We(tn+Ye)<l&&(Ke.horizontal="center"),v<we&&We(Ae+fn)<v&&(Ke.vertical="middle"),Ke.important=je(We(tn),We(Ye))>je(We(Ae),We(fn))?"horizontal":"vertical",e.using.call(this,In,Ke)}),Wt.offset(r.extend(ge,{using:qt}))})},r.ui.position={fit:{left:function(e,o){var l=o.within,v=l.isWindow?l.scrollLeft:l.offset.left,y=l.width,k=e.left-o.collisionPosition.marginLeft,O=v-k,Y=k+o.collisionWidth-y-v;o.collisionWidth>y?0<O&&Y<=0?e.left+=O-(l=e.left+O+o.collisionWidth-y-v):e.left=!(0<Y&&O<=0)&&Y<O?v+y-o.collisionWidth:v:0<O?e.left+=O:0<Y?e.left-=Y:e.left=je(e.left-k,e.left)},top:function(e,o){var l=o.within,v=l.isWindow?l.scrollTop:l.offset.top,y=o.within.height,k=e.top-o.collisionPosition.marginTop,O=v-k,Y=k+o.collisionHeight-y-v;o.collisionHeight>y?0<O&&Y<=0?e.top+=O-(l=e.top+O+o.collisionHeight-y-v):e.top=!(0<Y&&O<=0)&&Y<O?v+y-o.collisionHeight:v:0<O?e.top+=O:0<Y?e.top-=Y:e.top=je(e.top-k,e.top)}},flip:{left:function(e,o){var v=(l=o.within).offset.left+l.scrollLeft,y=l.width,k=l.isWindow?l.scrollLeft:l.offset.left,Y=(O=e.left-o.collisionPosition.marginLeft)-k,Z=O+o.collisionWidth-y-k,dt="left"===o.my[0]?-o.elemWidth:"right"===o.my[0]?o.elemWidth:0,l="left"===o.at[0]?o.targetWidth:"right"===o.at[0]?-o.targetWidth:0,O=-2*o.offset[0];Y<0?((v=e.left+dt+l+O+o.collisionWidth-y-v)<0||v<We(Y))&&(e.left+=dt+l+O):0<Z&&(0<(k=e.left-o.collisionPosition.marginLeft+dt+l+O-k)||We(k)<Z)&&(e.left+=dt+l+O)},top:function(e,o){var v=(l=o.within).offset.top+l.scrollTop,y=l.height,k=l.isWindow?l.scrollTop:l.offset.top,Y=(O=e.top-o.collisionPosition.marginTop)-k,Z=O+o.collisionHeight-y-k,dt="top"===o.my[1]?-o.elemHeight:"bottom"===o.my[1]?o.elemHeight:0,l="top"===o.at[1]?o.targetHeight:"bottom"===o.at[1]?-o.targetHeight:0,O=-2*o.offset[1];Y<0?((v=e.top+dt+l+O+o.collisionHeight-y-v)<0||v<We(Y))&&(e.top+=dt+l+O):0<Z&&(0<(k=e.top-o.collisionPosition.marginTop+dt+l+O-k)||We(k)<Z)&&(e.top+=dt+l+O)}},flipfit:{left:function(){r.ui.position.flip.left.apply(this,arguments),r.ui.position.fit.left.apply(this,arguments)},top:function(){r.ui.position.flip.top.apply(this,arguments),r.ui.position.fit.top.apply(this,arguments)}}},r.extend(r.expr.pseudos,{data:r.expr.createPseudo?r.expr.createPseudo(function(e){return function(o){return!!r.data(o,e)}}):function(e,o,l){return!!r.data(e,l[3])}}),r.fn.extend({disableSelection:(qe="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(qe+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var qe,_e=r,ze={},$=ze.toString,L=/^([\-+])=\s*(\d+\.?\d*)/,re=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),e[4]?(parseInt(e[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),e[4]?(parseInt(e[4]+e[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],ve=_e.Color=function(e,o,l,v){return new _e.Color.fn.parse(e,o,l,v)},Ue={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},gn={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},ae=ve.support={},et=_e("<p>")[0],nt=_e.each;function n(e){return null==e?e+"":"object"==typeof e?ze[$.call(e)]||"object":typeof e}function s(e,o,l){var v=gn[o.type]||{};return null==e?l||!o.def?null:o.def:(e=v.floor?~~e:parseFloat(e),isNaN(e)?o.def:v.mod?(e+v.mod)%v.mod:Math.min(v.max,Math.max(0,e)))}function h(e){var o=ve(),l=o._rgba=[];return e=e.toLowerCase(),nt(re,function(v,y){var k=(k=y.re.exec(e))&&y.parse(k);if(y=y.space||"rgba",k)return k=o[y](k),o[Ue[y].cache]=k[Ue[y].cache],l=o._rgba=k._rgba,!1}),l.length?("0,0,0,0"===l.join()&&_e.extend(l,mt.transparent),o):mt[e]}function f(e,o,l){return 6*(l=(l+1)%1)<1?e+(o-e)*l*6:2*l<1?o:3*l<2?e+(o-e)*(2/3-l)*6:e}et.style.cssText="background-color:rgba(1,1,1,.5)",ae.rgba=-1<et.style.backgroundColor.indexOf("rgba"),nt(Ue,function(e,o){o.cache="_"+e,o.props.alpha={idx:3,type:"percent",def:1}}),_e.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,o){ze["[object "+o+"]"]=o.toLowerCase()}),(ve.fn=_e.extend(ve.prototype,{parse:function(e,o,l,v){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=_e(e).css(o),o=void 0);var y=this,k=n(e),O=this._rgba=[];return void 0!==o&&(e=[e,o,l,v],k="array"),"string"===k?this.parse(h(e)||mt._default):"array"===k?(nt(Ue.rgba.props,function(Y,Z){O[Z.idx]=s(e[Z.idx],Z)}),this):"object"===k?(nt(Ue,e instanceof ve?function(Y,Z){e[Z.cache]&&(y[Z.cache]=e[Z.cache].slice())}:function(Y,Z){var dt=Z.cache;nt(Z.props,function(ct,st){if(!y[dt]&&Z.to){if("alpha"===ct||null==e[ct])return;y[dt]=Z.to(y._rgba)}y[dt][st.idx]=s(e[ct],st,!0)}),y[dt]&&_e.inArray(null,y[dt].slice(0,3))<0&&(null==y[dt][3]&&(y[dt][3]=1),Z.from&&(y._rgba=Z.from(y[dt])))}),this):void 0},is:function(e){var o=ve(e),l=!0,v=this;return nt(Ue,function(y,k){var O,Y=o[k.cache];return Y&&(O=v[k.cache]||k.to&&k.to(v._rgba)||[],nt(k.props,function(Z,dt){if(null!=Y[dt.idx])return l=Y[dt.idx]===O[dt.idx]})),l}),l},_space:function(){var e=[],o=this;return nt(Ue,function(l,v){o[v.cache]&&e.push(l)}),e.pop()},transition:function(e,o){var l=(O=ve(e))._space(),v=Ue[l],y=(e=0===this.alpha()?ve("transparent"):this)[v.cache]||v.to(e._rgba),k=y.slice(),O=O[v.cache];return nt(v.props,function(Y,Z){var dt=Z.idx,ct=y[dt],st=O[dt],St=gn[Z.type]||{};null!==st&&(null===ct?k[dt]=st:(St.mod&&(st-ct>St.mod/2?ct+=St.mod:ct-st>St.mod/2&&(ct-=St.mod)),k[dt]=s((st-ct)*o+ct,Z)))}),this[l](k)},blend:function(e){if(1===this._rgba[3])return this;var o=this._rgba.slice(),l=o.pop(),v=ve(e)._rgba;return ve(_e.map(o,function(y,k){return(1-l)*v[k]+l*y}))},toRgbaString:function(){var e="rgba(",o=_e.map(this._rgba,function(l,v){return null!=l?l:2<v?1:0});return 1===o[3]&&(o.pop(),e="rgb("),e+o.join()+")"},toHslaString:function(){var e="hsla(",o=_e.map(this.hsla(),function(l,v){return null==l&&(l=2<v?1:0),v&&v<3?Math.round(100*l)+"%":l});return 1===o[3]&&(o.pop(),e="hsl("),e+o.join()+")"},toHexString:function(e){var o=this._rgba.slice(),l=o.pop();return e&&o.push(~~(255*l)),"#"+_e.map(o,function(v){return 1===(v=(v||0).toString(16)).length?"0"+v:v}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=ve.fn,Ue.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var o=e[0]/255,l=e[1]/255,v=e[2]/255,y=e[3],k=Math.max(o,l,v),O=Math.min(o,l,v),Y=k-O,Z=(e=.5*(Z=k+O),l=O===k?0:o===k?60*(l-v)/Y+360:l===k?60*(v-o)/Y+120:60*(o-l)/Y+240,0==Y?0:e<=.5?Y/Z:Y/(2-Z));return[Math.round(l)%360,Z,e,null==y?1:y]},Ue.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var o=e[0]/360,l=e[1],v=e[2];return e=e[3],v=2*v-(l=v<=.5?v*(1+l):v+l-v*l),[Math.round(255*f(v,l,o+1/3)),Math.round(255*f(v,l,o)),Math.round(255*f(v,l,o-1/3)),e]},nt(Ue,function(e,o){var l=o.props,v=o.cache,y=o.to,k=o.from;ve.fn[e]=function(O){if(y&&!this[v]&&(this[v]=y(this._rgba)),void 0===O)return this[v].slice();var Y=n(O),Z="array"===Y||"object"===Y?O:arguments,dt=this[v].slice();return nt(l,function(ct,st){null==(ct=Z["object"===Y?ct:st.idx])&&(ct=dt[st.idx]),dt[st.idx]=s(ct,st)}),k?((O=ve(k(dt)))[v]=dt,O):ve(dt)},nt(l,function(O,Y){ve.fn[O]||(ve.fn[O]=function(Z){var dt,ct=n(Z),st="alpha"===O?this._hsla?"hsla":"rgba":e,St=this[st](),Mt=St[Y.idx];return"undefined"===ct?Mt:("function"===ct&&(ct=n(Z=Z.call(this,Mt))),null==Z&&Y.empty?this:("string"===ct&&(dt=L.exec(Z))&&(Z=Mt+parseFloat(dt[2])*("+"===dt[1]?1:-1)),St[Y.idx]=Z,this[st](St)))})})}),(ve.hook=function(e){e=e.split(" "),nt(e,function(o,l){_e.cssHooks[l]={set:function(v,y){var k,O,Y="";if("transparent"!==y&&("string"!==n(y)||(k=h(y)))){if(y=ve(k||y),!ae.rgba&&1!==y._rgba[3]){for(O="backgroundColor"===l?v.parentNode:v;(""===Y||"transparent"===Y)&&O&&O.style;)try{Y=_e.css(O,"backgroundColor"),O=O.parentNode}catch(Z){}y=y.blend(Y&&"transparent"!==Y?Y:"_default")}y=y.toRgbaString()}try{v.style[l]=y}catch(Z){}}},_e.fx.step[l]=function(v){v.colorInit||(v.start=ve(v.elem,l),v.end=ve(v.end),v.colorInit=!0),_e.cssHooks[l].set(v.elem,v.start.transition(v.end,v.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),_e.cssHooks.borderColor={expand:function(e){var o={};return nt(["Top","Right","Bottom","Left"],function(l,v){o["border"+v+"Color"]=e}),o}};var w,C,E,M,G,H,V,tt,ht,J,le,Kt,Ft,mt=_e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},At="ui-effects-",Dt="ui-effects-style",at="ui-effects-animated";function ne(e){var o,l,v=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,y={};if(v&&v.length&&v[0]&&v[v[0]])for(l=v.length;l--;)"string"==typeof v[o=v[l]]&&(y[o.replace(/-([\da-z])/gi,function(k,O){return O.toUpperCase()})]=v[o]);else for(o in v)"string"==typeof v[o]&&(y[o]=v[o]);return y}function Et(e,o,l,v){return e={effect:e=r.isPlainObject(e)?(o=e).effect:e},"function"==typeof(o=null==o?{}:o)&&(v=o,l=null,o={}),"number"!=typeof o&&!r.fx.speeds[o]||(v=l,l=o,o={}),"function"==typeof l&&(v=l,l=null),o&&r.extend(e,o),l=l||o.duration,e.duration=r.fx.off?0:"number"==typeof l?l:l in r.fx.speeds?r.fx.speeds[l]:r.fx.speeds._default,e.complete=v||o.complete,e}function yt(e){return!e||"number"==typeof e||r.fx.speeds[e]||"string"==typeof e&&!r.effects.effect[e]||"function"==typeof e||"object"==typeof e&&!e.effect}function Bt(e,o){var l=o.outerWidth();return o=o.outerHeight(),e=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||["",0,l,o,0],{top:parseFloat(e[1])||0,right:"auto"===e[2]?l:parseFloat(e[2]),bottom:"auto"===e[3]?o:parseFloat(e[3]),left:parseFloat(e[4])||0}}r.effects={effect:{}},M=["add","remove","toggle"],G={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},r.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,o){r.fx.step[o]=function(l){("none"!==l.end&&!l.setAttr||1===l.pos&&!l.setAttr)&&(_e.style(l.elem,o,l.end),l.setAttr=!0)}}),r.fn.addBack||(r.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),r.effects.animateClass=function(e,o,l,v){var y=r.speed(o,l,v);return this.queue(function(){var k=r(this),O=k.attr("class")||"",Y=(Y=y.children?k.find("*").addBack():k).map(function(){return{el:r(this),start:ne(this)}}),Z=function(){r.each(M,function(dt,ct){e[ct]&&k[ct+"Class"](e[ct])})};Z(),Y=Y.map(function(){return this.end=ne(this.el[0]),this.diff=function(dt,ct){var st,St,Mt={};for(st in ct)dt[st]!==(St=ct[st])&&(G[st]||!r.fx.step[st]&&isNaN(parseFloat(St))||(Mt[st]=St));return Mt}(this.start,this.end),this}),k.attr("class",O),Y=Y.map(function(){var dt=this,ct=r.Deferred(),st=r.extend({},y,{queue:!1,complete:function(){ct.resolve(dt)}});return this.el.animate(this.diff,st),ct.promise()}),r.when.apply(r,Y.get()).done(function(){Z(),r.each(arguments,function(){var dt=this.el;r.each(this.diff,function(ct){dt.css(ct,"")})}),y.complete.call(k[0])})})},r.fn.extend({addClass:(E=r.fn.addClass,function(e,o,l,v){return o?r.effects.animateClass.call(this,{add:e},o,l,v):E.apply(this,arguments)}),removeClass:(C=r.fn.removeClass,function(e,o,l,v){return 1<arguments.length?r.effects.animateClass.call(this,{remove:e},o,l,v):C.apply(this,arguments)}),toggleClass:(w=r.fn.toggleClass,function(e,o,l,v,y){return"boolean"==typeof o||void 0===o?l?r.effects.animateClass.call(this,o?{add:e}:{remove:e},l,v,y):w.apply(this,arguments):r.effects.animateClass.call(this,{toggle:e},o,l,v)}),switchClass:function(e,o,l,v,y){return r.effects.animateClass.call(this,{add:o,remove:e},l,v,y)}}),r.expr&&r.expr.pseudos&&r.expr.pseudos.animated&&(r.expr.pseudos.animated=(H=r.expr.pseudos.animated,function(e){return!!r(e).data(at)||H(e)})),!1!==r.uiBackCompat&&r.extend(r.effects,{save:function(e,o){for(var l=0,v=o.length;l<v;l++)null!==o[l]&&e.data(At+o[l],e[0].style[o[l]])},restore:function(e,o){for(var l,v=0,y=o.length;v<y;v++)null!==o[v]&&(l=e.data(At+o[v]),e.css(o[v],l))},setMode:function(e,o){return"toggle"===o?e.is(":hidden")?"show":"hide":o},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var o={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},l=r("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),v={width:e.width(),height:e.height()},y=document.activeElement;return e.wrap(l),e[0]!==y&&!r.contains(e[0],y)||r(y).trigger("focus"),l=e.parent(),"static"===e.css("position")?(l.css({position:"relative"}),e.css({position:"relative"})):(r.extend(o,{position:e.css("position"),zIndex:e.css("z-index")}),r.each(["top","left","bottom","right"],function(k,O){o[O]=e.css(O),isNaN(parseInt(o[O],10))&&(o[O]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(v),l.css(o).show()},removeWrapper:function(e){var o=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),e[0]!==o&&!r.contains(e[0],o)||r(o).trigger("focus")),e}}),r.extend(r.effects,{version:"1.13.0",define:function(e,o,l){return l||(l=o,o="effect"),r.effects.effect[e]=l,r.effects.effect[e].mode=o,l},scaledDimensions:function(e,o,l){if(0===o)return{height:0,width:0,outerHeight:0,outerWidth:0};var v="horizontal"!==l?(o||100)/100:1;return o="vertical"!==l?(o||100)/100:1,{height:e.height()*o,width:e.width()*v,outerHeight:e.outerHeight()*o,outerWidth:e.outerWidth()*v}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,o,l){var v=e.queue();1<o&&v.splice.apply(v,[1,0].concat(v.splice(o,l))),e.dequeue()},saveStyle:function(e){e.data(Dt,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(Dt)||"",e.removeData(Dt)},mode:function(e,o){return e=e.is(":hidden"),"toggle"===o&&(o=e?"show":"hide"),(e?"hide"===o:"show"===o)?"none":o},getBaseline:function(e,o){var l,v;switch(e[0]){case"top":l=0;break;case"middle":l=.5;break;case"bottom":l=1;break;default:l=e[0]/o.height}switch(e[1]){case"left":v=0;break;case"center":v=.5;break;case"right":v=1;break;default:v=e[1]/o.width}return{x:v,y:l}},createPlaceholder:function(e){var o,l=e.css("position"),v=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(l)&&(l="absolute",o=r("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(At+"placeholder",o)),e.css({position:l,left:v.left,top:v.top}),o},removePlaceholder:function(e){var o=At+"placeholder",l=e.data(o);l&&(l.remove(),e.removeData(o))},cleanUp:function(e){r.effects.restoreStyle(e),r.effects.removePlaceholder(e)},setTransition:function(e,o,l,v){return v=v||{},r.each(o,function(y,k){var O=e.cssUnit(k);0<O[0]&&(v[k]=O[0]*l+O[1])}),v}}),r.fn.extend({effect:function(){function e(ct){var st=r(this),St=r.effects.mode(st,Y)||v;st.data(at,!0),Z.push(St),v&&("show"===St||St===v&&"hide"===St)&&st.show(),v&&"none"===St||r.effects.saveStyle(st),"function"==typeof ct&&ct()}var o=Et.apply(this,arguments),l=r.effects.effect[o.effect],v=l.mode,y=o.queue,k=y||"fx",O=o.complete,Y=o.mode,Z=[];return r.fx.off||!l?Y?this[Y](o.duration,O):this.each(function(){O&&O.call(this)}):!1===y?this.each(e).each(dt):this.queue(k,e).queue(k,dt);function dt(ct){var st=r(this);function St(){"function"==typeof O&&O.call(st[0]),"function"==typeof ct&&ct()}o.mode=Z.shift(),!1===r.uiBackCompat||v?"none"===o.mode?(st[Y](),St()):l.call(st[0],o,function(){st.removeData(at),r.effects.cleanUp(st),"hide"===o.mode&&st.hide(),St()}):(st.is(":hidden")?"hide"===Y:"show"===Y)?(st[Y](),St()):l.call(st[0],o,St)}},show:(ht=r.fn.show,function(e){return yt(e)?ht.apply(this,arguments):((e=Et.apply(this,arguments)).mode="show",this.effect.call(this,e))}),hide:(tt=r.fn.hide,function(e){return yt(e)?tt.apply(this,arguments):((e=Et.apply(this,arguments)).mode="hide",this.effect.call(this,e))}),toggle:(V=r.fn.toggle,function(e){return yt(e)||"boolean"==typeof e?V.apply(this,arguments):((e=Et.apply(this,arguments)).mode="toggle",this.effect.call(this,e))}),cssUnit:function(e){var o=this.css(e),l=[];return r.each(["em","px","%","pt"],function(v,y){0<o.indexOf(y)&&(l=[parseFloat(o),y])}),l},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):Bt(this.css("clip"),this)},transfer:function(e,o){var l=r(this),y="fixed"===(v=r(e.to)).css("position"),k=r("body"),O=y?k.scrollTop():0,Y=y?k.scrollLeft():0,v=(k={top:(k=v.offset()).top-O,left:k.left-Y,height:v.innerHeight(),width:v.innerWidth()},l.offset()),Z=r("<div class='ui-effects-transfer'></div>");Z.appendTo("body").addClass(e.className).css({top:v.top-O,left:v.left-Y,height:l.innerHeight(),width:l.innerWidth(),position:y?"fixed":"absolute"}).animate(k,e.duration,e.easing,function(){Z.remove(),"function"==typeof o&&o()})}}),r.fx.step.clip=function(e){e.clipInit||(e.start=r(e.elem).cssClip(),"string"==typeof e.end&&(e.end=Bt(e.end,e.elem)),e.clipInit=!0),r(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})},J={},r.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,o){J[o]=function(l){return Math.pow(l,e+2)}}),r.extend(J,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var o,l=4;e<((o=Math.pow(2,--l))-1)/11;);return 1/Math.pow(4,3-l)-7.5625*Math.pow((3*o-2)/22-e,2)}}),r.each(J,function(e,o){r.easing["easeIn"+e]=o,r.easing["easeOut"+e]=function(l){return 1-o(1-l)},r.easing["easeInOut"+e]=function(l){return l<.5?o(2*l)/2:1-o(-2*l+2)/2}}),et=r.effects,r.effects.define("blind","hide",function(e,o){var l={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},v=r(this),y=e.direction||"up",k=v.cssClip(),O={clip:r.extend({},k)},Y=r.effects.createPlaceholder(v);O.clip[l[y][0]]=O.clip[l[y][1]],"show"===e.mode&&(v.cssClip(O.clip),Y&&Y.css(r.effects.clipToBox(O)),O.clip=k),Y&&Y.animate(r.effects.clipToBox(O),e.duration,e.easing),v.animate(O,{queue:!1,duration:e.duration,easing:e.easing,complete:o})}),r.effects.define("bounce",function(e,o){var l,v,k,y=r(this),O="hide"===(k=e.mode),Y="show"===k,Z=e.direction||"up",dt=e.distance,ct=e.times||5,st=e.duration/(k=2*ct+(Y||O?1:0)),St=e.easing,Mt="up"===Z||"down"===Z?"top":"left",qt="up"===Z||"left"===Z,Wt=0;for(e=y.queue().length,r.effects.createPlaceholder(y),Z=y.css(Mt),dt=dt||y["top"==Mt?"outerHeight":"outerWidth"]()/3,Y&&((v={opacity:1})[Mt]=Z,y.css("opacity",0).css(Mt,qt?2*-dt:2*dt).animate(v,st,St)),O&&(dt/=Math.pow(2,ct-1)),(v={})[Mt]=Z;Wt<ct;Wt++)(l={})[Mt]=(qt?"-=":"+=")+dt,y.animate(l,st,St).animate(v,st,St),dt=O?2*dt:dt/2;O&&((l={opacity:0})[Mt]=(qt?"-=":"+=")+dt,y.animate(l,st,St)),y.queue(o),r.effects.unshift(y,e,1+k)}),r.effects.define("clip","hide",function(e,o){var l={},v=r(this),O=(k="both"===(y=e.direction||"vertical"))||"horizontal"===y,k=k||"vertical"===y,y=v.cssClip();l.clip={top:k?(y.bottom-y.top)/2:y.top,right:O?(y.right-y.left)/2:y.right,bottom:k?(y.bottom-y.top)/2:y.bottom,left:O?(y.right-y.left)/2:y.left},r.effects.createPlaceholder(v),"show"===e.mode&&(v.cssClip(l.clip),l.clip=y),v.animate(l,{queue:!1,duration:e.duration,easing:e.easing,complete:o})}),r.effects.define("drop","hide",function(e,o){var l=r(this),v="show"===e.mode,y=e.direction||"left",k="up"===y||"down"===y?"top":"left",O="up"===y||"left"===y?"-=":"+=",Y="+="==O?"-=":"+=",Z={opacity:0};r.effects.createPlaceholder(l),y=e.distance||l["top"==k?"outerHeight":"outerWidth"](!0)/2,Z[k]=O+y,v&&(l.css(Z),Z[k]=Y+y,Z.opacity=1),l.animate(Z,{queue:!1,duration:e.duration,easing:e.easing,complete:o})}),r.effects.define("explode","hide",function(e,o){var l,v,y,k,O,Y,Z=e.pieces?Math.round(Math.sqrt(e.pieces)):3,dt=Z,ct=r(this),st="show"===e.mode,St=ct.show().css("visibility","hidden").offset(),Mt=Math.ceil(ct.outerWidth()/dt),qt=Math.ceil(ct.outerHeight()/Z),Wt=[];function ce(){Wt.push(this),Wt.length===Z*dt&&(ct.css({visibility:"visible"}),r(Wt).remove(),o())}for(l=0;l<Z;l++)for(k=St.top+l*qt,Y=l-(Z-1)/2,v=0;v<dt;v++)y=St.left+v*Mt,O=v-(dt-1)/2,ct.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-v*Mt,top:-l*qt}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:Mt,height:qt,left:y+(st?O*Mt:0),top:k+(st?Y*qt:0),opacity:st?0:1}).animate({left:y+(st?0:O*Mt),top:k+(st?0:Y*qt),opacity:st?1:0},e.duration||500,e.easing,ce)}),r.effects.define("fade","toggle",function(e,o){var l="show"===e.mode;r(this).css("opacity",l?0:1).animate({opacity:l?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:o})}),r.effects.define("fold","hide",function(e,o){var l=r(this),y="show"===(v=e.mode),k="hide"===v,O=e.size||15,Y=/([0-9]+)%/.exec(O),Z=e.horizFirst?["right","bottom"]:["bottom","right"],dt=e.duration/2,ct=r.effects.createPlaceholder(l),st=l.cssClip(),St={clip:r.extend({},st)},Mt={clip:r.extend({},st)},qt=[st[Z[0]],st[Z[1]]],v=l.queue().length;Y&&(O=parseInt(Y[1],10)/100*qt[k?0:1]),St.clip[Z[0]]=O,Mt.clip[Z[0]]=O,Mt.clip[Z[1]]=0,y&&(l.cssClip(Mt.clip),ct&&ct.css(r.effects.clipToBox(Mt)),Mt.clip=st),l.queue(function(Wt){ct&&ct.animate(r.effects.clipToBox(St),dt,e.easing).animate(r.effects.clipToBox(Mt),dt,e.easing),Wt()}).animate(St,dt,e.easing).animate(Mt,dt,e.easing).queue(o),r.effects.unshift(l,v,4)}),r.effects.define("highlight","show",function(e,o){var l=r(this),v={backgroundColor:l.css("backgroundColor")};"hide"===e.mode&&(v.opacity=0),r.effects.saveStyle(l),l.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:o})}),r.effects.define("size",function(e,o){var l,v=r(this),y=["fontSize"],k=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],O=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],Y=e.mode,Z="effect"!==Y,dt=e.scale||"both",ct=e.origin||["middle","center"],st=v.css("position"),St=v.position(),Mt=r.effects.scaledDimensions(v),qt=e.from||Mt,Wt=e.to||r.effects.scaledDimensions(v,0);r.effects.createPlaceholder(v),"show"===Y&&(Y=qt,qt=Wt,Wt=Y),l={from:{y:qt.height/Mt.height,x:qt.width/Mt.width},to:{y:Wt.height/Mt.height,x:Wt.width/Mt.width}},"box"!==dt&&"both"!==dt||(l.from.y!==l.to.y&&(qt=r.effects.setTransition(v,k,l.from.y,qt),Wt=r.effects.setTransition(v,k,l.to.y,Wt)),l.from.x!==l.to.x&&(qt=r.effects.setTransition(v,O,l.from.x,qt),Wt=r.effects.setTransition(v,O,l.to.x,Wt))),"content"!==dt&&"both"!==dt||l.from.y!==l.to.y&&(qt=r.effects.setTransition(v,y,l.from.y,qt),Wt=r.effects.setTransition(v,y,l.to.y,Wt)),ct&&(ct=r.effects.getBaseline(ct,Mt),qt.top=(Mt.outerHeight-qt.outerHeight)*ct.y+St.top,qt.left=(Mt.outerWidth-qt.outerWidth)*ct.x+St.left,Wt.top=(Mt.outerHeight-Wt.outerHeight)*ct.y+St.top,Wt.left=(Mt.outerWidth-Wt.outerWidth)*ct.x+St.left),delete qt.outerHeight,delete qt.outerWidth,v.css(qt),"content"!==dt&&"both"!==dt||(k=k.concat(["marginTop","marginBottom"]).concat(y),O=O.concat(["marginLeft","marginRight"]),v.find("*[width]").each(function(){var ce=r(this),Le={height:(we=r.effects.scaledDimensions(ce)).height*l.from.y,width:we.width*l.from.x,outerHeight:we.outerHeight*l.from.y,outerWidth:we.outerWidth*l.from.x},we={height:we.height*l.to.y,width:we.width*l.to.x,outerHeight:we.height*l.to.y,outerWidth:we.width*l.to.x};l.from.y!==l.to.y&&(Le=r.effects.setTransition(ce,k,l.from.y,Le),we=r.effects.setTransition(ce,k,l.to.y,we)),l.from.x!==l.to.x&&(Le=r.effects.setTransition(ce,O,l.from.x,Le),we=r.effects.setTransition(ce,O,l.to.x,we)),Z&&r.effects.saveStyle(ce),ce.css(Le),ce.animate(we,e.duration,e.easing,function(){Z&&r.effects.restoreStyle(ce)})})),v.animate(Wt,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var ce=v.offset();0===Wt.opacity&&v.css("opacity",qt.opacity),Z||(v.css("position","static"===st?"relative":st).offset(ce),r.effects.saveStyle(v)),o()}})}),r.effects.define("scale",function(e,o){var l=r(this),v=e.mode;v=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"effect"!==v?0:100),v=r.extend(!0,{from:r.effects.scaledDimensions(l),to:r.effects.scaledDimensions(l,v,e.direction||"both"),origin:e.origin||["middle","center"]},e),e.fade&&(v.from.opacity=1,v.to.opacity=0),r.effects.effect.size.call(this,v,o)}),r.effects.define("puff","hide",function(e,o){e=r.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150}),r.effects.effect.scale.call(this,e,o)}),r.effects.define("pulsate","show",function(e,o){var l=r(this),y="show"===(v=e.mode),k=2*(e.times||5)+(y||"hide"===v?1:0),O=e.duration/k,Y=0,Z=1,v=l.queue().length;for(!y&&l.is(":visible")||(l.css("opacity",0).show(),Y=1);Z<k;Z++)l.animate({opacity:Y},O,e.easing),Y=1-Y;l.animate({opacity:Y},O,e.easing),l.queue(o),r.effects.unshift(l,v,1+k)}),r.effects.define("shake",function(e,o){var l=1,v=r(this),y=e.direction||"left",k=e.distance||20,O=e.times||3,Y=2*O+1,Z=Math.round(e.duration/Y),dt="up"===y||"down"===y?"top":"left",ct="up"===y||"left"===y,st={},St={},Mt={};for(y=v.queue().length,r.effects.createPlaceholder(v),st[dt]=(ct?"-=":"+=")+k,St[dt]=(ct?"+=":"-=")+2*k,Mt[dt]=(ct?"-=":"+=")+2*k,v.animate(st,Z,e.easing);l<O;l++)v.animate(St,Z,e.easing).animate(Mt,Z,e.easing);v.animate(St,Z,e.easing).animate(st,Z/2,e.easing).queue(o),r.effects.unshift(v,y,1+Y)}),r.effects.define("slide","show",function(e,o){var l,v,y=r(this),k={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},O=e.mode,Y=e.direction||"left",Z="up"===Y||"down"===Y?"top":"left",dt="up"===Y||"left"===Y,ct=e.distance||y["top"==Z?"outerHeight":"outerWidth"](!0),st={};r.effects.createPlaceholder(y),l=y.cssClip(),v=y.position()[Z],st[Z]=(dt?-1:1)*ct+v,st.clip=y.cssClip(),st.clip[k[Y][1]]=st.clip[k[Y][0]],"show"===O&&(y.cssClip(st.clip),y.css(Z,st[Z]),st.clip=l,st[Z]=v),y.animate(st,{queue:!1,duration:e.duration,easing:e.easing,complete:o})}),et=!1!==r.uiBackCompat?r.effects.define("transfer",function(e,o){r(this).transfer(e,o)}):et,r.ui.focusable=function(e,o){var l,v,y,k,O=e.nodeName.toLowerCase();return"area"===O?(v=(l=e.parentNode).name,!(!e.href||!v||"map"!==l.nodeName.toLowerCase())&&0<(v=r("img[usemap='#"+v+"']")).length&&v.is(":visible")):(/^(input|select|textarea|button|object)$/.test(O)?(y=!e.disabled)&&(k=r(e).closest("fieldset")[0])&&(y=!k.disabled):y="a"===O&&e.href||o,y&&r(e).is(":visible")&&function(Y){for(var Z=Y.css("visibility");"inherit"===Z;)Z=(Y=Y.parent()).css("visibility");return"visible"===Z}(r(e)))},r.extend(r.expr.pseudos,{focusable:function(e){return r.ui.focusable(e,null!=r.attr(e,"tabindex"))}}),r.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):r(this[0].form)},r.ui.formResetMixin={_formResetHandler:function(){var e=r(this);setTimeout(function(){var o=e.data("ui-form-reset-instances");r.each(o,function(){this.refresh()})})},_bindFormResetHandler:function(){var e;this.form=this.element._form(),this.form.length&&((e=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e))},_unbindFormResetHandler:function(){var e;this.form.length&&((e=this.form.data("ui-form-reset-instances")).splice(r.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}},r.expr.pseudos||(r.expr.pseudos=r.expr[":"]),r.uniqueSort||(r.uniqueSort=r.unique),r.escapeSelector||(le=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,Kt=function(e,o){return o?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},r.escapeSelector=function(e){return(e+"").replace(le,Kt)}),r.fn.even&&r.fn.odd||r.fn.extend({even:function(){return this.filter(function(e){return e%2==0})},odd:function(){return this.filter(function(e){return e%2==1})}}),r.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},r.fn.labels=function(){var e,o,l;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(o=this.eq(0).parents("label"),(e=this.attr("id"))&&(l=(l=this.eq(0).parents().last()).add((l.length?l:this).siblings()),e="label[for='"+r.escapeSelector(e)+"']",o=o.add(l.find(e).addBack(e))),this.pushStack(o)):this.pushStack([])},r.fn.scrollParent=function(e){var o=this.css("position"),l="absolute"===o,v=e?/(auto|scroll|hidden)/:/(auto|scroll)/;return e=this.parents().filter(function(){var y=r(this);return(!l||"static"!==y.css("position"))&&v.test(y.css("overflow")+y.css("overflow-y")+y.css("overflow-x"))}).eq(0),"fixed"!==o&&e.length?e:r(this[0].ownerDocument||document)},r.extend(r.expr.pseudos,{tabbable:function(e){var o=r.attr(e,"tabindex"),l=null!=o;return(!l||0<=o)&&r.ui.focusable(e,l)}}),r.fn.extend({uniqueId:(Ft=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++Ft)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&r(this).removeAttr("id")})}}),r.widget("ui.accordion",{version:"1.13.0",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(e){return e.find("> li > :first-child").add(e.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=r(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():r()}},_createIcons:function(){var e,o=this.options.icons;o&&(e=r("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+o.header),e.prependTo(this.headers),e=this.active.children(".ui-accordion-header-icon"),this._removeClass(e,o.header)._addClass(e,null,o.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,o){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(o)),this._super(e,o),"collapsible"!==e||o||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),o&&this._createIcons())):this._activate(o)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var o=r.ui.keyCode,l=this.headers.length,v=this.headers.index(e.target),y=!1;switch(e.keyCode){case o.RIGHT:case o.DOWN:y=this.headers[(v+1)%l];break;case o.LEFT:case o.UP:y=this.headers[(v-1+l)%l];break;case o.SPACE:case o.ENTER:this._eventHandler(e);break;case o.HOME:y=this.headers[0];break;case o.END:y=this.headers[l-1]}y&&(r(e.target).attr("tabIndex",-1),r(y).attr("tabIndex",0),r(y).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===r.ui.keyCode.UP&&e.ctrlKey&&r(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=r()):!1===e.active?this._activate(0):this.active.length&&!r.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=r()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,o=this.panels;this.headers="function"==typeof this.options.header?this.options.header(this.element):this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),o&&(this._off(e.not(this.headers)),this._off(o.not(this.panels)))},_refresh:function(){var e,o=this.options,l=o.heightStyle,v=this.element.parent();this.active=this._findActive(o.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var y=r(this),k=y.uniqueId().attr("id"),O=y.next(),Y=O.uniqueId().attr("id");y.attr("aria-controls",Y),O.attr("aria-labelledby",k)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(o.event),"fill"===l?(e=v.height(),this.element.siblings(":visible").each(function(){var y=r(this),k=y.css("position");"absolute"!==k&&"fixed"!==k&&(e-=y.outerHeight(!0))}),this.headers.each(function(){e-=r(this).outerHeight(!0)}),this.headers.next().each(function(){r(this).height(Math.max(0,e-r(this).innerHeight()+r(this).height()))}).css("overflow","auto")):"auto"===l&&(e=0,this.headers.next().each(function(){var y=r(this).is(":visible");y||r(this).show(),e=Math.max(e,r(this).css("height","").height()),y||r(this).hide()}).height(e))},_activate:function(e){(e=this._findActive(e)[0])!==this.active[0]&&this._eventHandler({target:e=e||this.active[0],currentTarget:e,preventDefault:r.noop})},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):r()},_setupEvents:function(e){var o={keydown:"_keydown"};e&&r.each(e.split(" "),function(l,v){o[v]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,o),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var o=this.options,l=this.active,v=r(e.currentTarget),y=v[0]===l[0],k=y&&o.collapsible,O=k?r():v.next(),Y=l.next();O={oldHeader:l,oldPanel:Y,newHeader:k?r():v,newPanel:O},e.preventDefault(),y&&!o.collapsible||!1===this._trigger("beforeActivate",e,O)||(o.active=!k&&this.headers.index(v),this.active=y?r():v,this._toggle(O),this._removeClass(l,"ui-accordion-header-active","ui-state-active"),o.icons&&(l=l.children(".ui-accordion-header-icon"),this._removeClass(l,null,o.icons.activeHeader)._addClass(l,null,o.icons.header)),y||(this._removeClass(v,"ui-accordion-header-collapsed")._addClass(v,"ui-accordion-header-active","ui-state-active"),o.icons&&(y=v.children(".ui-accordion-header-icon"),this._removeClass(y,null,o.icons.header)._addClass(y,null,o.icons.activeHeader)),this._addClass(v.next(),"ui-accordion-content-active")))},_toggle:function(e){var o=e.newPanel,l=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=o,this.prevHide=l,this.options.animate?this._animate(o,l,e):(l.hide(),o.show(),this._toggleComplete(e)),l.attr({"aria-hidden":"true"}),l.prev().attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&l.length?l.prev().attr({tabIndex:-1,"aria-expanded":"false"}):o.length&&this.headers.filter(function(){return 0===parseInt(r(this).attr("tabIndex"),10)}).attr("tabIndex",-1),o.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,o,l){var v,y,k,O=this,Y=0,Z=e.css("box-sizing"),dt=e.length&&(!o.length||e.index()<o.index()),ct=this.options.animate||{},st=dt&&ct.down||ct;return dt=function(){O._toggleComplete(l)},y=(y="string"==typeof st?st:y)||st.easing||ct.easing,k=(k="number"==typeof st?st:k)||st.duration||ct.duration,o.length?e.length?(v=e.show().outerHeight(),o.animate(this.hideProps,{duration:k,easing:y,step:function(St,Mt){Mt.now=Math.round(St)}}),void e.hide().animate(this.showProps,{duration:k,easing:y,complete:dt,step:function(St,Mt){Mt.now=Math.round(St),"height"!==Mt.prop?"content-box"===Z&&(Y+=Mt.now):"content"!==O.options.heightStyle&&(Mt.now=Math.round(v-o.outerHeight()-Y),Y=0)}})):o.animate(this.hideProps,k,y,dt):e.animate(this.showProps,k,y,dt)},_toggleComplete:function(e){var o=e.oldPanel,l=o.prev();this._removeClass(o,"ui-accordion-content-active"),this._removeClass(l,"ui-accordion-header-active")._addClass(l,"ui-accordion-header-collapsed"),o.length&&(o.parent()[0].className=o.parent()[0].className),this._trigger("activate",null,e)}}),r.ui.safeActiveElement=function(e){var o;try{o=e.activeElement}catch(l){o=e.body}return(o=o||e.body).nodeName?o:e.body},r.widget("ui.menu",{version:"1.13.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault(),this._activateItem(e)},"click .ui-menu-item":function(e){var o=r(e.target),l=r(r.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&o.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),o.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&l.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,o){var l=this.active||this._menuItems().first();o||this.focus(e,l)},blur:function(e){this._delay(function(){r.contains(this.element[0],r.ui.safeActiveElement(this.document[0]))||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e,!0),this.mouseHandled=!1}})},_activateItem:function(e){var o,l;this.previousFilter||e.clientX===this.lastMousePosition.x&&e.clientY===this.lastMousePosition.y||(this.lastMousePosition={x:e.clientX,y:e.clientY},o=r(e.target).closest(".ui-menu-item"),l=r(e.currentTarget),o[0]===l[0]&&(l.is(".ui-state-active")||(this._removeClass(l.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,l))))},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var o=r(this);o.data("ui-menu-submenu-caret")&&o.remove()})},_keydown:function(e){var o,l,v,y=!0;switch(e.keyCode){case r.ui.keyCode.PAGE_UP:this.previousPage(e);break;case r.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case r.ui.keyCode.HOME:this._move("first","first",e);break;case r.ui.keyCode.END:this._move("last","last",e);break;case r.ui.keyCode.UP:this.previous(e);break;case r.ui.keyCode.DOWN:this.next(e);break;case r.ui.keyCode.LEFT:this.collapse(e);break;case r.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case r.ui.keyCode.ENTER:case r.ui.keyCode.SPACE:this._activate(e);break;case r.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=this.previousFilter||"",v=y=!1,l=96<=e.keyCode&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),l===o?v=!0:l=o+l,o=this._filterMenuItems(l),(o=v&&-1!==o.index(this.active.next())?this.active.nextAll(".ui-menu-item"):o).length||(l=String.fromCharCode(e.keyCode),o=this._filterMenuItems(l)),o.length?(this.focus(e,o),this.previousFilter=l,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}y&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,o,l=this,v=this.options.icons.submenu,y=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),o=y.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var k=r(this),O=k.prev(),Y=r("<span>").data("ui-menu-submenu-caret",!0);l._addClass(Y,"ui-menu-icon","ui-icon "+v),O.attr("aria-haspopup","true").prepend(Y),k.attr("aria-labelledby",O.attr("id"))}),this._addClass(o,"ui-menu","ui-widget ui-widget-content ui-front"),(e=y.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var k=r(this);l._isDivider(k)&&l._addClass(k,"ui-menu-divider","ui-widget-content")}),y=(o=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(o,"ui-menu-item")._addClass(y,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!r.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,o){var l;"icons"===e&&(l=this.element.find(".ui-menu-icon"),this._removeClass(l,null,this.options.icons.submenu)._addClass(l,null,o.submenu)),this._super(e,o)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,o){var l;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(o),this.active=o.first(),l=this.active.children(".ui-menu-item-wrapper"),this._addClass(l,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",l.attr("id")),l=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(l,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(l=o.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(l),this.activeMenu=o.parent(),this._trigger("focus",e,{item:o})},_scrollIntoView:function(e){var o,l,v;this._hasScroll()&&(l=parseFloat(r.css(this.activeMenu[0],"borderTopWidth"))||0,v=parseFloat(r.css(this.activeMenu[0],"paddingTop"))||0,o=e.offset().top-this.activeMenu.offset().top-l-v,l=this.activeMenu.scrollTop(),v=this.activeMenu.height(),e=e.outerHeight(),o<0?this.activeMenu.scrollTop(l+o):v<o+e&&this.activeMenu.scrollTop(l+o-v+e))},blur:function(e,o){o||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var o=r.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(o)},collapseAll:function(e,o){clearTimeout(this.timer),this.timer=this._delay(function(){var l=o?this.element:r(e&&e.target).closest(this.element.find(".ui-menu"));l.length||(l=this.element),this._close(l),this.blur(e),this._removeClass(l.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=l},o?0:this.delay)},_close:function(e){(e=e||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!r(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var o=this.active&&this.active.parent().closest(".ui-menu-item",this.element);o&&o.length&&(this._close(),this.focus(e,o))},expand:function(e){var o=this.active&&this._menuItems(this.active.children(".ui-menu")).first();o&&o.length&&(this._open(o.parent()),this._delay(function(){this.focus(e,o)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(e){return(e||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(e,o,l){var v;(v=this.active?"first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").last():this.active[e+"All"](".ui-menu-item").first():v)&&v.length&&this.active||(v=this._menuItems(this.activeMenu)[o]()),this.focus(l,v)},nextPage:function(e){var o,l,v;this.active?this.isLastItem()||(this._hasScroll()?(l=this.active.offset().top,v=this.element.innerHeight(),0===r.fn.jquery.indexOf("3.2.")&&(v+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(o=r(this)).offset().top-l-v<0}),this.focus(e,o)):this.focus(e,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var o,l,v;this.active?this.isFirstItem()||(this._hasScroll()?(l=this.active.offset().top,v=this.element.innerHeight(),0===r.fn.jquery.indexOf("3.2.")&&(v+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return 0<(o=r(this)).offset().top-l+v}),this.focus(e,o)):this.focus(e,this._menuItems(this.activeMenu).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||r(e.target).closest(".ui-menu-item");var o={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,o)},_filterMenuItems:function(e){e=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var o=new RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return o.test(String.prototype.trim.call(r(this).children(".ui-menu-item-wrapper").text()))})}}),r.widget("ui.autocomplete",{version:"1.13.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,o,l,y="textarea"===(v=this.element[0].nodeName.toLowerCase()),v="input"===v;this.isMultiLine=y||!v&&this._isContentEditable(this.element),this.valueMethod=this.element[y||v?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(k){if(this.element.prop("readOnly"))o=l=e=!0;else{o=l=e=!1;var O=r.ui.keyCode;switch(k.keyCode){case O.PAGE_UP:e=!0,this._move("previousPage",k);break;case O.PAGE_DOWN:e=!0,this._move("nextPage",k);break;case O.UP:e=!0,this._keyEvent("previous",k);break;case O.DOWN:e=!0,this._keyEvent("next",k);break;case O.ENTER:this.menu.active&&(e=!0,k.preventDefault(),this.menu.select(k));break;case O.TAB:this.menu.active&&this.menu.select(k);break;case O.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(k),k.preventDefault());break;default:o=!0,this._searchTimeout(k)}}},keypress:function(k){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||k.preventDefault());if(!o){var O=r.ui.keyCode;switch(k.keyCode){case O.PAGE_UP:this._move("previousPage",k);break;case O.PAGE_DOWN:this._move("nextPage",k);break;case O.UP:this._keyEvent("previous",k);break;case O.DOWN:this._keyEvent("next",k)}}},input:function(k){if(l)return l=!1,void k.preventDefault();this._searchTimeout(k)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(k){clearTimeout(this.searching),this.close(k),this._change(k)}}),this._initSource(),this.menu=r("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(k){k.preventDefault()},menufocus:function(k,O){var Y;if(this.isNewMenu&&(this.isNewMenu=!1,k.originalEvent&&/^mouse/.test(k.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){r(k.target).trigger(k.originalEvent)});Y=O.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",k,{item:Y})&&k.originalEvent&&/^key/.test(k.originalEvent.type)&&this._value(Y.value),(Y=O.item.attr("aria-label")||Y.value)&&String.prototype.trim.call(Y).length&&(this.liveRegion.children().hide(),r("<div>").text(Y).appendTo(this.liveRegion))},menuselect:function(k,O){var Y=O.item.data("ui-autocomplete-item"),Z=this.previous;this.element[0]!==r.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=Z,this._delay(function(){this.previous=Z,this.selectedItem=Y})),!1!==this._trigger("select",k,{item:Y})&&this._value(Y.value),this.term=this._value(),this.close(k),this.selectedItem=Y}}),this.liveRegion=r("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,o){this._super(e,o),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&o&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var o=this.menu.element[0];return e.target===this.element[0]||e.target===o||r.contains(o,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return(e=(e=e&&(e.jquery||e.nodeType?r(e):this.document.find(e).eq(0)))&&e[0]?e:this.element.closest(".ui-front, dialog")).length?e:this.document[0].body},_initSource:function(){var e,o,l=this;Array.isArray(this.options.source)?(e=this.options.source,this.source=function(v,y){y(r.ui.autocomplete.filter(e,v.term))}):"string"==typeof this.options.source?(o=this.options.source,this.source=function(v,y){l.xhr&&l.xhr.abort(),l.xhr=r.ajax({url:o,data:v,dataType:"json",success:function(k){y(k)},error:function(){y([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var o=this.term===this._value(),l=this.menu.element.is(":visible");o&&(l||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,o){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(o):!1!==this._trigger("search",o)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return function(o){e===this.requestIndex&&this.__response(o),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(e){e=e&&this._normalize(e),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:r.map(e,function(o){return"string"==typeof o?{label:o,value:o}:r.extend({},o,{label:o.label||o.value,value:o.value||o.label})})},_suggest:function(e){var o=this.menu.element.empty();this._renderMenu(o,e),this.isNewMenu=!0,this.menu.refresh(),o.show(),this._resizeMenu(),o.position(r.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,o){var l=this;r.each(o,function(v,y){l._renderItemData(e,y)})},_renderItemData:function(e,o){return this._renderItem(e,o).data("ui-autocomplete-item",o)},_renderItem:function(e,o){return r("<li>").append(r("<div>").text(o.label)).appendTo(e)},_move:function(e,o){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](o);this.search(null,o)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,o){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,o),o.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var o=e.prop("contentEditable");return"inherit"===o?this._isContentEditable(e.parent()):"true"===o}}),r.extend(r.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,o){var l=new RegExp(r.ui.autocomplete.escapeRegex(o),"i");return r.grep(e,function(v){return l.test(v.label||v.value||v)})}}),r.widget("ui.autocomplete",r.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),r("<div>").text(e).appendTo(this.liveRegion))}});var $t,jt,se=/ui-corner-([a-z]){2,6}/g;function Ne(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},r.extend(this._defaults,this.regional[""]),this.regional.en=r.extend(!0,{},this.regional[""]),this.regional["en-US"]=r.extend(!0,{},this.regional.en),this.dpDiv=ye(r("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function ye(e){var o="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",o,function(){r(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&r(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&r(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",o,mn)}function mn(){r.datepicker._isDisabledDatepicker((jt.inline?jt.dpDiv.parent():jt.input)[0])||(r(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),r(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&r(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&r(this).addClass("ui-datepicker-next-hover"))}function nn(e,o){for(var l in r.extend(e,o),o)null==o[l]&&(e[l]=o[l]);return e}r.widget("ui.controlgroup",{version:"1.13.0",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,o=[];r.each(this.options.items,function(l,v){var y,k={};if(v)return"controlgroupLabel"===l?((y=e.element.find(v)).each(function(){var O=r(this);O.children(".ui-controlgroup-label-contents").length||O.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(y,null,"ui-widget ui-widget-content ui-state-default"),void(o=o.concat(y.get()))):void(r.fn[l]&&(k=e["_"+l+"Options"]?e["_"+l+"Options"]("middle"):{classes:{}},e.element.find(v).each(function(){var O=r(this),Y=O[l]("instance"),Z=r.widget.extend({},k);"button"===l&&O.parent(".ui-spinner").length||((Y=Y||O[l]()[l]("instance"))&&(Z.classes=e._resolveClassesValues(Z.classes,Y)),O[l](Z),Z=O[l]("widget"),r.data(Z[0],"ui-controlgroup-data",Y||O[l]("instance")),o.push(Z[0]))})))}),this.childWidgets=r(r.uniqueSort(o)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var o=r(this).data("ui-controlgroup-data");o&&o[e]&&o[e]()})},_updateCornerClass:function(e,o){o=this._buildSimpleOptions(o,"label").classes.label,this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,o)},_buildSimpleOptions:function(e,o){var l="vertical"===this.options.direction,v={classes:{}};return v.classes[o]={middle:"",first:"ui-corner-"+(l?"top":"left"),last:"ui-corner-"+(l?"bottom":"right"),only:"ui-corner-all"}[e],v},_spinnerOptions:function(e){return(e=this._buildSimpleOptions(e,"ui-spinner")).classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var o="vertical"===this.options.direction;return{width:o&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(o?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(o?"top":"left")},last:{"ui-selectmenu-button-open":o?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(o?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(e,o){var l={};return r.each(e,function(v){var y=o.options.classes[v]||"";y=String.prototype.trim.call(y.replace(se,"")),l[v]=(y+" "+e[v]).replace(/\s+/g," ")}),l},_setOption:function(e,o){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,o),"disabled"!==e?this.refresh():this._callChildMethod(o?"disable":"enable")},refresh:function(){var e,o=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,(e=this.options.onlyVisible?e.filter(":visible"):e).length&&(r.each(["first","last"],function(l,v){var y,k=e[v]().data("ui-controlgroup-data");k&&o["_"+k.widgetName+"Options"]?((y=o["_"+k.widgetName+"Options"](1===e.length?"only":v)).classes=o._resolveClassesValues(y.classes,k),k.element[k.widgetName](y)):o._updateCornerClass(e[v](),v)}),this._callChildMethod("refresh"))}}),r.widget("ui.checkboxradio",[r.ui.formResetMixin,{version:"1.13.0",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,o=this,l=this._super()||{};return this._readType(),e=this.element.labels(),this.label=r(e[e.length-1]),this.label.length||r.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){o.originalLabel+=3===this.nodeType?r(this).text():this.outerHTML}),this.originalLabel&&(l.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(l.disabled=e),l},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||r.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,o="input[name='"+r.escapeSelector(e)+"']";return e?(this.form.length?r(this.form[0].elements).filter(o):r(o).filter(function(){return 0===r(this)._form().length})).not(this.element):r([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var o=r(this).checkboxradio("instance");o&&o._removeClass(o.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,o){if("label"!==e||o){if(this._super(e,o),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",o),void(this.element[0].disabled=o);this.refresh()}},_updateIcon:function(e){var o="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=r("<span>"),this.iconSpace=r("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(o+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):o+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",o),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),(e=this.iconSpace?e.not(this.iconSpace[0]):e).remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,o=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),o!==this.options.disabled&&this._setOptions({disabled:o})}}]),r.widget("ui.button",{version:"1.13.0",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,o=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(o.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(o.label=this.originalLabel),o},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===r.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,o){var l="iconPosition"!==e,v=l?this.options.iconPosition:o;e="top"===v||"bottom"===v,this.icon?l&&this._removeClass(this.icon,null,this.options.icon):(this.icon=r("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),l&&this._addClass(this.icon,null,o),this._attachIcon(v),e?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=r("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(v))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){(void 0===e.showLabel?this.options:e).showLabel||(void 0===e.icon?this.options:e).icon||(e.showLabel=!0),this._super(e)},_setOption:function(e,o){"icon"===e&&(o?this._updateIcon(e,o):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,o),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!o),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(o):(this.element.html(o),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,o),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",o),(this.element[0].disabled=o)&&this.element.trigger("blur"))},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==r.uiBackCompat&&(r.widget("ui.button",r.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,o){"text"!==e?("showLabel"===e&&(this.options.text=o),"icon"===e&&(this.options.icons.primary=o),"icons"===e&&(o.primary?(this._super("icon",o.primary),this._super("iconPosition","beginning")):o.secondary&&(this._super("icon",o.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",o)}}),r.fn.button=($t=r.fn.button,function(e){var o="string"==typeof e,l=Array.prototype.slice.call(arguments,1),v=this;return o?this.length||"instance"!==e?this.each(function(){var y=r(this).attr("type"),k=r.data(this,"ui-"+("checkbox"!==y&&"radio"!==y?"button":"checkboxradio"));return"instance"===e?(v=k,!1):k?"function"!=typeof k[e]||"_"===e.charAt(0)?r.error("no such method '"+e+"' for button widget instance"):(y=k[e].apply(k,l))!==k&&void 0!==y?(v=y&&y.jquery?v.pushStack(y.get()):y,!1):void 0:r.error("cannot call methods on button prior to initialization; attempted to call method '"+e+"'")}):v=void 0:(l.length&&(e=r.widget.extend.apply(null,[e].concat(l))),this.each(function(){var y,k="checkbox"!==(y=r(this).attr("type"))&&"radio"!==y?"button":"checkboxradio";(y=r.data(this,"ui-"+k))?(y.option(e||{}),y._init&&y._init()):"button"!=k?r(this).checkboxradio(r.extend({icon:!1},e)):$t.call(r(this),e)})),v}),r.fn.buttonset=function(){return r.ui.controlgroup||r.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),r.extend(r.ui,{datepicker:{version:"1.13.0"}}),r.extend(Ne.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return nn(this._defaults,e||{}),this},_attachDatepicker:function(e,o){var l,v=e.nodeName.toLowerCase(),y="div"===v||"span"===v;e.id||(this.uuid+=1,e.id="dp"+this.uuid),(l=this._newInst(r(e),y)).settings=r.extend({},o||{}),"input"===v?this._connectDatepicker(e,l):y&&this._inlineDatepicker(e,l)},_newInst:function(e,o){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:o,dpDiv:o?ye(r("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,o){var l=r(e);o.append=r([]),o.trigger=r([]),l.hasClass(this.markerClassName)||(this._attachments(l,o),l.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(o),r.data(e,"datepicker",o),o.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,o){var l,v=this._get(o,"appendText"),y=this._get(o,"isRTL");o.append&&o.append.remove(),v&&(o.append=r("<span>").addClass(this._appendClass).text(v),e[y?"before":"after"](o.append)),e.off("focus",this._showDatepicker),o.trigger&&o.trigger.remove(),"focus"!==(l=this._get(o,"showOn"))&&"both"!==l||e.on("focus",this._showDatepicker),"button"!==l&&"both"!==l||(v=this._get(o,"buttonText"),l=this._get(o,"buttonImage"),this._get(o,"buttonImageOnly")?o.trigger=r("<img>").addClass(this._triggerClass).attr({src:l,alt:v,title:v}):(o.trigger=r("<button type='button'>").addClass(this._triggerClass),l?o.trigger.html(r("<img>").attr({src:l,alt:v,title:v})):o.trigger.text(v)),e[y?"before":"after"](o.trigger),o.trigger.on("click",function(){return r.datepicker._datepickerShowing&&r.datepicker._lastInput===e[0]?r.datepicker._hideDatepicker():(r.datepicker._datepickerShowing&&r.datepicker._lastInput!==e[0]&&r.datepicker._hideDatepicker(),r.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){var o,l,v,y,k,O;this._get(e,"autoSize")&&!e.inline&&(k=new Date(2009,11,20),(O=this._get(e,"dateFormat")).match(/[DM]/)&&(k.setMonth((o=function(Y){for(y=v=l=0;y<Y.length;y++)Y[y].length>l&&(l=Y[y].length,v=y);return v})(this._get(e,O.match(/MM/)?"monthNames":"monthNamesShort"))),k.setDate(o(this._get(e,O.match(/DD/)?"dayNames":"dayNamesShort"))+20-k.getDay())),e.input.attr("size",this._formatDate(e,k).length))},_inlineDatepicker:function(e,o){var l=r(e);l.hasClass(this.markerClassName)||(l.addClass(this.markerClassName).append(o.dpDiv),r.data(e,"datepicker",o),this._setDate(o,this._getDefaultDate(o),!0),this._updateDatepicker(o),this._updateAlternate(o),o.settings.disabled&&this._disableDatepicker(e),o.dpDiv.css("display","block"))},_dialogDatepicker:function(e,o,l,v,y){var k,O=this._dialogInst;return O||(this.uuid+=1,this._dialogInput=r("<input type='text' id='"+(k="dp"+this.uuid)+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),r("body").append(this._dialogInput),(O=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},r.data(this._dialogInput[0],"datepicker",O)),nn(O.settings,v||{}),o=o&&o.constructor===Date?this._formatDate(O,o):o,this._dialogInput.val(o),this._pos=y?y.length?y:[y.pageX,y.pageY]:null,this._pos||(k=document.documentElement.clientWidth,v=document.documentElement.clientHeight,o=document.documentElement.scrollLeft||document.body.scrollLeft,y=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[k/2-100+o,v/2-150+y]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),O.settings.onSelect=l,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),r.blockUI&&r.blockUI(this.dpDiv),r.data(this._dialogInput[0],"datepicker",O),this},_destroyDatepicker:function(e){var o,l=r(e),v=r.data(e,"datepicker");l.hasClass(this.markerClassName)&&(o=e.nodeName.toLowerCase(),r.removeData(e,"datepicker"),"input"===o?(v.append.remove(),v.trigger.remove(),l.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==o&&"span"!==o||l.removeClass(this.markerClassName).empty(),jt===v&&(jt=null,this._curInst=null))},_enableDatepicker:function(e){var o,l=r(e),v=r.data(e,"datepicker");l.hasClass(this.markerClassName)&&("input"===(o=e.nodeName.toLowerCase())?(e.disabled=!1,v.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==o&&"span"!==o||((l=l.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),l.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=r.map(this._disabledInputs,function(y){return y===e?null:y}))},_disableDatepicker:function(e){var o,l=r(e),v=r.data(e,"datepicker");l.hasClass(this.markerClassName)&&("input"===(o=e.nodeName.toLowerCase())?(e.disabled=!0,v.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==o&&"span"!==o||((l=l.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),l.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=r.map(this._disabledInputs,function(y){return y===e?null:y}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var o=0;o<this._disabledInputs.length;o++)if(this._disabledInputs[o]===e)return!0;return!1},_getInst:function(e){try{return r.data(e,"datepicker")}catch(o){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,o,l){var v,y,k=this._getInst(e);if(2===arguments.length&&"string"==typeof o)return"defaults"===o?r.extend({},r.datepicker._defaults):k?"all"===o?r.extend({},k.settings):this._get(k,o):null;v=o||{},"string"==typeof o&&((v={})[o]=l),k&&(this._curInst===k&&this._hideDatepicker(),y=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(k,"min"),l=this._getMinMaxDate(k,"max"),nn(k.settings,v),null!==o&&void 0!==v.dateFormat&&void 0===v.minDate&&(k.settings.minDate=this._formatDate(k,o)),null!==l&&void 0!==v.dateFormat&&void 0===v.maxDate&&(k.settings.maxDate=this._formatDate(k,l)),"disabled"in v&&(v.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(r(e),k),this._autoSize(k),this._setDate(k,y),this._updateAlternate(k),this._updateDatepicker(k))},_changeDatepicker:function(e,o,l){this._optionDatepicker(e,o,l)},_refreshDatepicker:function(e){(e=this._getInst(e))&&this._updateDatepicker(e)},_setDateDatepicker:function(e,o){(e=this._getInst(e))&&(this._setDate(e,o),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(e,o){return(e=this._getInst(e))&&!e.inline&&this._setDateFromField(e,o),e?this._getDate(e):null},_doKeyDown:function(e){var o,l,v=r.datepicker._getInst(e.target),y=!0,k=v.dpDiv.is(".ui-datepicker-rtl");if(v._keyEvent=!0,r.datepicker._datepickerShowing)switch(e.keyCode){case 9:r.datepicker._hideDatepicker(),y=!1;break;case 13:return(l=r("td."+r.datepicker._dayOverClass+":not(."+r.datepicker._currentClass+")",v.dpDiv))[0]&&r.datepicker._selectDay(e.target,v.selectedMonth,v.selectedYear,l[0]),(o=r.datepicker._get(v,"onSelect"))?(l=r.datepicker._formatDate(v),o.apply(v.input?v.input[0]:null,[l,v])):r.datepicker._hideDatepicker(),!1;case 27:r.datepicker._hideDatepicker();break;case 33:r.datepicker._adjustDate(e.target,e.ctrlKey?-r.datepicker._get(v,"stepBigMonths"):-r.datepicker._get(v,"stepMonths"),"M");break;case 34:r.datepicker._adjustDate(e.target,e.ctrlKey?+r.datepicker._get(v,"stepBigMonths"):+r.datepicker._get(v,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&r.datepicker._clearDate(e.target),y=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&r.datepicker._gotoToday(e.target),y=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&r.datepicker._adjustDate(e.target,k?1:-1,"D"),y=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&r.datepicker._adjustDate(e.target,e.ctrlKey?-r.datepicker._get(v,"stepBigMonths"):-r.datepicker._get(v,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&r.datepicker._adjustDate(e.target,-7,"D"),y=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&r.datepicker._adjustDate(e.target,k?-1:1,"D"),y=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&r.datepicker._adjustDate(e.target,e.ctrlKey?+r.datepicker._get(v,"stepBigMonths"):+r.datepicker._get(v,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&r.datepicker._adjustDate(e.target,7,"D"),y=e.ctrlKey||e.metaKey;break;default:y=!1}else 36===e.keyCode&&e.ctrlKey?r.datepicker._showDatepicker(this):y=!1;y&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var o,l=r.datepicker._getInst(e.target);if(r.datepicker._get(l,"constrainInput"))return o=r.datepicker._possibleChars(r.datepicker._get(l,"dateFormat")),l=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||l<" "||!o||-1<o.indexOf(l)},_doKeyUp:function(e){if((e=r.datepicker._getInst(e.target)).input.val()!==e.lastVal)try{r.datepicker.parseDate(r.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,r.datepicker._getFormatConfig(e))&&(r.datepicker._setDateFromField(e),r.datepicker._updateAlternate(e),r.datepicker._updateDatepicker(e))}catch(o){}return!0},_showDatepicker:function(e){var o,l,v,y;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=r("input",e.parentNode)[0]),r.datepicker._isDisabledDatepicker(e)||r.datepicker._lastInput===e||(y=r.datepicker._getInst(e),r.datepicker._curInst&&r.datepicker._curInst!==y&&(r.datepicker._curInst.dpDiv.stop(!0,!0),y&&r.datepicker._datepickerShowing&&r.datepicker._hideDatepicker(r.datepicker._curInst.input[0])),!1!==(l=(v=r.datepicker._get(y,"beforeShow"))?v.apply(e,[e,y]):{})&&(nn(y.settings,l),y.lastVal=null,r.datepicker._lastInput=e,r.datepicker._setDateFromField(y),r.datepicker._inDialog&&(e.value=""),r.datepicker._pos||(r.datepicker._pos=r.datepicker._findPos(e),r.datepicker._pos[1]+=e.offsetHeight),o=!1,r(e).parents().each(function(){return!(o|="fixed"===r(this).css("position"))}),v={left:r.datepicker._pos[0],top:r.datepicker._pos[1]},r.datepicker._pos=null,y.dpDiv.empty(),y.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),r.datepicker._updateDatepicker(y),v=r.datepicker._checkOffset(y,v,o),y.dpDiv.css({position:r.datepicker._inDialog&&r.blockUI?"static":o?"fixed":"absolute",display:"none",left:v.left+"px",top:v.top+"px"}),y.inline||(l=r.datepicker._get(y,"showAnim"),v=r.datepicker._get(y,"duration"),y.dpDiv.css("z-index",function(k){for(var O,Y;k.length&&k[0]!==document;){if(("absolute"===(O=k.css("position"))||"relative"===O||"fixed"===O)&&(Y=parseInt(k.css("zIndex"),10),!isNaN(Y)&&0!==Y))return Y;k=k.parent()}return 0}(r(e))+1),r.datepicker._datepickerShowing=!0,r.effects&&r.effects.effect[l]?y.dpDiv.show(l,r.datepicker._get(y,"showOptions"),v):y.dpDiv[l||"show"](l?v:null),r.datepicker._shouldFocusInput(y)&&y.input.trigger("focus"),r.datepicker._curInst=y)))},_updateDatepicker:function(e){this.maxRows=4,(jt=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var o,l=this._getNumberOfMonths(e),v=l[1],y=e.dpDiv.find("."+this._dayOverClass+" a"),k=r.datepicker._get(e,"onUpdateDatepicker");0<y.length&&mn.apply(y.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<v&&e.dpDiv.addClass("ui-datepicker-multi-"+v).css("width",17*v+"em"),e.dpDiv[(1!==l[0]||1!==l[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===r.datepicker._curInst&&r.datepicker._datepickerShowing&&r.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(o=e.yearshtml,setTimeout(function(){o===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year").first().replaceWith(e.yearshtml),o=e.yearshtml=null},0)),k&&k.apply(e.input?e.input[0]:null,[e])},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,o,l){var v=e.dpDiv.outerWidth(),y=e.dpDiv.outerHeight(),k=e.input?e.input.outerWidth():0,O=e.input?e.input.outerHeight():0,Y=document.documentElement.clientWidth+(l?0:r(document).scrollLeft()),Z=document.documentElement.clientHeight+(l?0:r(document).scrollTop());return o.left-=this._get(e,"isRTL")?v-k:0,o.left-=l&&o.left===e.input.offset().left?r(document).scrollLeft():0,o.top-=l&&o.top===e.input.offset().top+O?r(document).scrollTop():0,o.left-=Math.min(o.left,o.left+v>Y&&v<Y?Math.abs(o.left+v-Y):0),o.top-=Math.min(o.top,o.top+y>Z&&y<Z?Math.abs(y+O):0),o},_findPos:function(e){for(var o=this._getInst(e),l=this._get(o,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||r.expr.pseudos.hidden(e));)e=e[l?"previousSibling":"nextSibling"];return[(o=r(e).offset()).left,o.top]},_hideDatepicker:function(e){var o,l,v=this._curInst;!v||e&&v!==r.data(e,"datepicker")||this._datepickerShowing&&(o=this._get(v,"showAnim"),l=this._get(v,"duration"),e=function(){r.datepicker._tidyDialog(v)},r.effects&&(r.effects.effect[o]||r.effects[o])?v.dpDiv.hide(o,r.datepicker._get(v,"showOptions"),l,e):v.dpDiv["slideDown"===o?"slideUp":"fadeIn"===o?"fadeOut":"hide"](o?l:null,e),o||e(),this._datepickerShowing=!1,(e=this._get(v,"onClose"))&&e.apply(v.input?v.input[0]:null,[v.input?v.input.val():"",v]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),r.blockUI&&(r.unblockUI(),r("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){var o;r.datepicker._curInst&&(o=r(e.target),e=r.datepicker._getInst(o[0]),(o[0].id===r.datepicker._mainDivId||0!==o.parents("#"+r.datepicker._mainDivId).length||o.hasClass(r.datepicker.markerClassName)||o.closest("."+r.datepicker._triggerClass).length||!r.datepicker._datepickerShowing||r.datepicker._inDialog&&r.blockUI)&&(!o.hasClass(r.datepicker.markerClassName)||r.datepicker._curInst===e)||r.datepicker._hideDatepicker())},_adjustDate:function(e,o,l){var v=r(e);e=this._getInst(v[0]),this._isDisabledDatepicker(v[0])||(this._adjustInstDate(e,o,l),this._updateDatepicker(e))},_gotoToday:function(e){var o=r(e),l=this._getInst(o[0]);this._get(l,"gotoCurrent")&&l.currentDay?(l.selectedDay=l.currentDay,l.drawMonth=l.selectedMonth=l.currentMonth,l.drawYear=l.selectedYear=l.currentYear):(e=new Date,l.selectedDay=e.getDate(),l.drawMonth=l.selectedMonth=e.getMonth(),l.drawYear=l.selectedYear=e.getFullYear()),this._notifyChange(l),this._adjustDate(o)},_selectMonthYear:function(e,o,l){var v=r(e);(e=this._getInst(v[0]))["selected"+("M"===l?"Month":"Year")]=e["draw"+("M"===l?"Month":"Year")]=parseInt(o.options[o.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(v)},_selectDay:function(e,o,l,v){var y=r(e);r(v).hasClass(this._unselectableClass)||this._isDisabledDatepicker(y[0])||((y=this._getInst(y[0])).selectedDay=y.currentDay=parseInt(r("a",v).attr("data-date")),y.selectedMonth=y.currentMonth=o,y.selectedYear=y.currentYear=l,this._selectDate(e,this._formatDate(y,y.currentDay,y.currentMonth,y.currentYear)))},_clearDate:function(e){e=r(e),this._selectDate(e,"")},_selectDate:function(e,o){var l=r(e);e=this._getInst(l[0]),o=null!=o?o:this._formatDate(e),e.input&&e.input.val(o),this._updateAlternate(e),(l=this._get(e,"onSelect"))?l.apply(e.input?e.input[0]:null,[o,e]):e.input&&e.input.trigger("change"),e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var o,l,v=this._get(e,"altField");v&&(o=this._get(e,"altFormat")||this._get(e,"dateFormat"),l=this._getDate(e),e=this.formatDate(o,l,this._getFormatConfig(e)),r(document).find(v).val(e))},noWeekends:function(e){return[0<(e=e.getDay())&&e<6,""]},iso8601Week:function(e){var o=new Date(e.getTime());return o.setDate(o.getDate()+4-(o.getDay()||7)),e=o.getTime(),o.setMonth(0),o.setDate(1),Math.floor(Math.round((e-o)/864e5)/7)+1},parseDate:function(e,o,l){if(null==e||null==o)throw"Invalid arguments";if(""===(o="object"==typeof o?o.toString():o+""))return null;for(var v,y,k,O=0,Y="string"!=typeof(Y=(l?l.shortYearCutoff:null)||this._defaults.shortYearCutoff)?Y:(new Date).getFullYear()%100+parseInt(Y,10),Z=(l?l.dayNamesShort:null)||this._defaults.dayNamesShort,dt=(l?l.dayNames:null)||this._defaults.dayNames,ct=(l?l.monthNamesShort:null)||this._defaults.monthNamesShort,st=(l?l.monthNames:null)||this._defaults.monthNames,St=-1,Mt=-1,qt=-1,Wt=-1,ce=!1,we=function(ge){return(ge=de+1<e.length&&e.charAt(de+1)===ge)&&de++,ge},Le=function(ge){var rn=we(ge);if(rn="@"===ge?14:"!"===ge?20:"y"===ge&&rn?4:"o"===ge?3:2,rn=new RegExp("^\\d{"+("y"===ge?rn:1)+","+rn+"}"),!(rn=o.substring(O).match(rn)))throw"Missing number at position "+O;return O+=rn[0].length,parseInt(rn[0],10)},yn=function(ge,rn,In){var tn=-1;if(rn=r.map(we(ge)?In:rn,function(Ye,Ae){return[[Ae,Ye]]}).sort(function(Ye,Ae){return-(Ye[1].length-Ae[1].length)}),r.each(rn,function(Ye,Ae){var fn=Ae[1];if(o.substr(O,fn.length).toLowerCase()===fn.toLowerCase())return tn=Ae[0],O+=fn.length,!1}),-1!==tn)return tn+1;throw"Unknown name at position "+O},He=function(){if(o.charAt(O)!==e.charAt(de))throw"Unexpected literal at position "+O;O++},de=0;de<e.length;de++)if(ce)"'"!==e.charAt(de)||we("'")?He():ce=!1;else switch(e.charAt(de)){case"d":qt=Le("d");break;case"D":yn("D",Z,dt);break;case"o":Wt=Le("o");break;case"m":Mt=Le("m");break;case"M":Mt=yn("M",ct,st);break;case"y":St=Le("y");break;case"@":St=(k=new Date(Le("@"))).getFullYear(),Mt=k.getMonth()+1,qt=k.getDate();break;case"!":St=(k=new Date((Le("!")-this._ticksTo1970)/1e4)).getFullYear(),Mt=k.getMonth()+1,qt=k.getDate();break;case"'":we("'")?He():ce=!0;break;default:He()}if(O<o.length&&(y=o.substr(O),!/^\s+/.test(y)))throw"Extra/unparsed characters found in date: "+y;if(-1===St?St=(new Date).getFullYear():St<100&&(St+=(new Date).getFullYear()-(new Date).getFullYear()%100+(St<=Y?0:-100)),-1<Wt)for(Mt=1,qt=Wt;!(qt<=(v=this._getDaysInMonth(St,Mt-1)));)Mt++,qt-=v;if((k=this._daylightSavingAdjust(new Date(St,Mt-1,qt))).getFullYear()!==St||k.getMonth()+1!==Mt||k.getDate()!==qt)throw"Invalid date";return k},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,o,l){if(!o)return"";function v(Mt,qt,Wt){var ce=""+qt;if(ct(Mt))for(;ce.length<Wt;)ce="0"+ce;return ce}function y(Mt,qt,Wt,ce){return(ct(Mt)?ce:Wt)[qt]}var k,O=(l?l.dayNamesShort:null)||this._defaults.dayNamesShort,Y=(l?l.dayNames:null)||this._defaults.dayNames,Z=(l?l.monthNamesShort:null)||this._defaults.monthNamesShort,dt=(l?l.monthNames:null)||this._defaults.monthNames,ct=function(Mt){return(Mt=k+1<e.length&&e.charAt(k+1)===Mt)&&k++,Mt},st="",St=!1;if(o)for(k=0;k<e.length;k++)if(St)"'"!==e.charAt(k)||ct("'")?st+=e.charAt(k):St=!1;else switch(e.charAt(k)){case"d":st+=v("d",o.getDate(),2);break;case"D":st+=y("D",o.getDay(),O,Y);break;case"o":st+=v("o",Math.round((new Date(o.getFullYear(),o.getMonth(),o.getDate()).getTime()-new Date(o.getFullYear(),0,0).getTime())/864e5),3);break;case"m":st+=v("m",o.getMonth()+1,2);break;case"M":st+=y("M",o.getMonth(),Z,dt);break;case"y":st+=ct("y")?o.getFullYear():(o.getFullYear()%100<10?"0":"")+o.getFullYear()%100;break;case"@":st+=o.getTime();break;case"!":st+=1e4*o.getTime()+this._ticksTo1970;break;case"'":ct("'")?st+="'":St=!0;break;default:st+=e.charAt(k)}return st},_possibleChars:function(e){for(var o="",l=!1,v=function(k){return(k=y+1<e.length&&e.charAt(y+1)===k)&&y++,k},y=0;y<e.length;y++)if(l)"'"!==e.charAt(y)||v("'")?o+=e.charAt(y):l=!1;else switch(e.charAt(y)){case"d":case"m":case"y":case"@":o+="0123456789";break;case"D":case"M":return null;case"'":v("'")?o+="'":l=!0;break;default:o+=e.charAt(y)}return o},_get:function(e,o){return(void 0!==e.settings[o]?e.settings:this._defaults)[o]},_setDateFromField:function(e,o){if(e.input.val()!==e.lastVal){var l=this._get(e,"dateFormat"),v=e.lastVal=e.input?e.input.val():null,y=this._getDefaultDate(e),k=y,O=this._getFormatConfig(e);try{k=this.parseDate(l,v,O)||y}catch(Y){v=o?"":v}e.selectedDay=k.getDate(),e.drawMonth=e.selectedMonth=k.getMonth(),e.drawYear=e.selectedYear=k.getFullYear(),e.currentDay=v?k.getDate():0,e.currentMonth=v?k.getMonth():0,e.currentYear=v?k.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,o,l){var v,y;return(o=(o=null==o||""===o?l:"string"==typeof o?function(k){try{return r.datepicker.parseDate(r.datepicker._get(e,"dateFormat"),k,r.datepicker._getFormatConfig(e))}catch(St){}for(var O=(k.toLowerCase().match(/^c/)?r.datepicker._getDate(e):null)||new Date,Y=O.getFullYear(),Z=O.getMonth(),dt=O.getDate(),ct=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,st=ct.exec(k);st;){switch(st[2]||"d"){case"d":case"D":dt+=parseInt(st[1],10);break;case"w":case"W":dt+=7*parseInt(st[1],10);break;case"m":case"M":Z+=parseInt(st[1],10),dt=Math.min(dt,r.datepicker._getDaysInMonth(Y,Z));break;case"y":case"Y":Y+=parseInt(st[1],10),dt=Math.min(dt,r.datepicker._getDaysInMonth(Y,Z))}st=ct.exec(k)}return new Date(Y,Z,dt)}(o):"number"==typeof o?isNaN(o)?l:(v=o,(y=new Date).setDate(y.getDate()+v),y):new Date(o.getTime()))&&"Invalid Date"===o.toString()?l:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,o,l){var v=!o,y=e.selectedMonth,k=e.selectedYear;o=this._restrictMinMax(e,this._determineDate(e,o,new Date)),e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),y===e.selectedMonth&&k===e.selectedYear||l||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(v?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var o=this._get(e,"stepMonths"),l="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var v={prev:function(){r.datepicker._adjustDate(l,-o,"M")},next:function(){r.datepicker._adjustDate(l,+o,"M")},hide:function(){r.datepicker._hideDatepicker()},today:function(){r.datepicker._gotoToday(l)},selectDay:function(){return r.datepicker._selectDay(l,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return r.datepicker._selectMonthYear(l,this,"M"),!1},selectYear:function(){return r.datepicker._selectMonthYear(l,this,"Y"),!1}};r(this).on(this.getAttribute("data-event"),v[this.getAttribute("data-handler")])})},_generateHTML:function(e){var o,l,v,y,k,O,Y,Z,dt,ct,st,St,Mt,qt,Wt,ce,we,Le,yn,He,de,ge,rn,In,tn,Ye,Ae,fn,Ke,Gn,Ln,Xn,un=new Date,Vn=this._daylightSavingAdjust(new Date(un.getFullYear(),un.getMonth(),un.getDate())),ti=this._get(e,"isRTL"),ea=this._get(e,"showButtonPanel"),Ni=this._get(e,"hideIfNoPrevNext"),Oi=this._get(e,"navigationAsDateFormat"),vi=this._getNumberOfMonths(e),vn=this._get(e,"showCurrentAtPos"),qn=(un=this._get(e,"stepMonths"),1!==vi[0]||1!==vi[1]),$n=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),oi=this._getMinMaxDate(e,"min"),Qn=this._getMinMaxDate(e,"max"),cn=e.drawMonth-vn,ei=e.drawYear;if(cn<0&&(cn+=12,ei--),Qn)for(o=this._daylightSavingAdjust(new Date(Qn.getFullYear(),Qn.getMonth()-vi[0]*vi[1]+1,Qn.getDate())),o=oi&&o<oi?oi:o;this._daylightSavingAdjust(new Date(ei,cn,1))>o;)--cn<0&&(cn=11,ei--);for(e.drawMonth=cn,e.drawYear=ei,vn=this._get(e,"prevText"),vn=Oi?this.formatDate(vn,this._daylightSavingAdjust(new Date(ei,cn-un,1)),this._getFormatConfig(e)):vn,l=this._canAdjustMonth(e,-1,ei,cn)?r("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:vn}).append(r("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(ti?"e":"w")).text(vn))[0].outerHTML:Ni?"":r("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:vn}).append(r("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(ti?"e":"w")).text(vn))[0].outerHTML,vn=this._get(e,"nextText"),vn=Oi?this.formatDate(vn,this._daylightSavingAdjust(new Date(ei,cn+un,1)),this._getFormatConfig(e)):vn,v=this._canAdjustMonth(e,1,ei,cn)?r("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:vn}).append(r("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(ti?"w":"e")).text(vn))[0].outerHTML:Ni?"":r("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:vn}).append(r("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(ti?"w":"e")).text(vn))[0].outerHTML,un=this._get(e,"currentText"),Ni=this._get(e,"gotoCurrent")&&e.currentDay?$n:Vn,un=Oi?this.formatDate(un,Ni,this._getFormatConfig(e)):un,vn="",e.inline||(vn=r("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(e,"closeText"))[0].outerHTML),Oi="",ea&&(Oi=r("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(ti?vn:"").append(this._isInRange(e,Ni)?r("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(un):"").append(ti?"":vn)[0].outerHTML),y=parseInt(this._get(e,"firstDay"),10),y=isNaN(y)?0:y,k=this._get(e,"showWeek"),O=this._get(e,"dayNames"),Y=this._get(e,"dayNamesMin"),Z=this._get(e,"monthNames"),dt=this._get(e,"monthNamesShort"),ct=this._get(e,"beforeShowDay"),st=this._get(e,"showOtherMonths"),St=this._get(e,"selectOtherMonths"),Mt=this._getDefaultDate(e),qt="",ce=0;ce<vi[0];ce++){for(we="",this.maxRows=4,Le=0;Le<vi[1];Le++){if(yn=this._daylightSavingAdjust(new Date(ei,cn,e.selectedDay)),He=" ui-corner-all",de="",qn){if(de+="<div class='ui-datepicker-group",1<vi[1])switch(Le){case 0:de+=" ui-datepicker-group-first",He=" ui-corner-"+(ti?"right":"left");break;case vi[1]-1:de+=" ui-datepicker-group-last",He=" ui-corner-"+(ti?"left":"right");break;default:de+=" ui-datepicker-group-middle",He=""}de+="'>"}for(de+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+He+"'>"+(/all|left/.test(He)&&0===ce?ti?v:l:"")+(/all|right/.test(He)&&0===ce?ti?l:v:"")+this._generateMonthYearHeader(e,cn,ei,oi,Qn,0<ce||0<Le,Z,dt)+"</div><table class='ui-datepicker-calendar'><thead><tr>",ge=k?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",Wt=0;Wt<7;Wt++)ge+="<th scope='col'"+(5<=(Wt+y+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+O[rn=(Wt+y)%7]+"'>"+Y[rn]+"</span></th>";for(de+=ge+"</tr></thead><tbody>",tn=this._getDaysInMonth(ei,cn),ei===e.selectedYear&&cn===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,tn)),In=(this._getFirstDayOfMonth(ei,cn)-y+7)%7,tn=Math.ceil((In+tn)/7),this.maxRows=Ye=qn&&this.maxRows>tn?this.maxRows:tn,Ae=this._daylightSavingAdjust(new Date(ei,cn,1-In)),fn=0;fn<Ye;fn++){for(de+="<tr>",Ke=k?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(Ae)+"</td>":"",Wt=0;Wt<7;Wt++)Gn=ct?ct.apply(e.input?e.input[0]:null,[Ae]):[!0,""],Xn=(Ln=Ae.getMonth()!==cn)&&!St||!Gn[0]||oi&&Ae<oi||Qn&&Qn<Ae,Ke+="<td class='"+(5<=(Wt+y+6)%7?" ui-datepicker-week-end":"")+(Ln?" ui-datepicker-other-month":"")+(Ae.getTime()===yn.getTime()&&cn===e.selectedMonth&&e._keyEvent||Mt.getTime()===Ae.getTime()&&Mt.getTime()===yn.getTime()?" "+this._dayOverClass:"")+(Xn?" "+this._unselectableClass+" ui-state-disabled":"")+(Ln&&!st?"":" "+Gn[1]+(Ae.getTime()===$n.getTime()?" "+this._currentClass:"")+(Ae.getTime()===Vn.getTime()?" ui-datepicker-today":""))+"'"+(Ln&&!st||!Gn[2]?"":" title='"+Gn[2].replace(/'/g,"&#39;")+"'")+(Xn?"":" data-handler='selectDay' data-event='click' data-month='"+Ae.getMonth()+"' data-year='"+Ae.getFullYear()+"'")+">"+(Ln&&!st?"&#xa0;":Xn?"<span class='ui-state-default'>"+Ae.getDate()+"</span>":"<a class='ui-state-default"+(Ae.getTime()===Vn.getTime()?" ui-state-highlight":"")+(Ae.getTime()===$n.getTime()?" ui-state-active":"")+(Ln?" ui-priority-secondary":"")+"' href='#' aria-current='"+(Ae.getTime()===$n.getTime()?"true":"false")+"' data-date='"+Ae.getDate()+"'>"+Ae.getDate()+"</a>")+"</td>",Ae.setDate(Ae.getDate()+1),Ae=this._daylightSavingAdjust(Ae);de+=Ke+"</tr>"}11<++cn&&(cn=0,ei++),we+=de+="</tbody></table>"+(qn?"</div>"+(0<vi[0]&&Le===vi[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}qt+=we}return qt+=Oi,e._keyEvent=!1,qt},_generateMonthYearHeader:function(e,o,l,v,y,k,O,Y){var Z,dt,ct,st,St,Mt,qt=this._get(e,"changeMonth"),Wt=this._get(e,"changeYear"),ce=this._get(e,"showMonthAfterYear"),we=this._get(e,"selectMonthLabel"),Le=this._get(e,"selectYearLabel"),yn="<div class='ui-datepicker-title'>",He="";if(k||!qt)He+="<span class='ui-datepicker-month'>"+O[o]+"</span>";else{for(Z=v&&v.getFullYear()===l,dt=y&&y.getFullYear()===l,He+="<select class='ui-datepicker-month' aria-label='"+we+"' data-handler='selectMonth' data-event='change'>",ct=0;ct<12;ct++)(!Z||ct>=v.getMonth())&&(!dt||ct<=y.getMonth())&&(He+="<option value='"+ct+"'"+(ct===o?" selected='selected'":"")+">"+Y[ct]+"</option>");He+="</select>"}if(ce||(yn+=He+(!k&&qt&&Wt?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",k||!Wt)yn+="<span class='ui-datepicker-year'>"+l+"</span>";else{for(O=this._get(e,"yearRange").split(":"),st=(new Date).getFullYear(),St=(we=function(de){return de=de.match(/c[+\-].*/)?l+parseInt(de.substring(1),10):de.match(/[+\-].*/)?st+parseInt(de,10):parseInt(de,10),isNaN(de)?st:de})(O[0]),Mt=Math.max(St,we(O[1]||"")),St=v?Math.max(St,v.getFullYear()):St,Mt=y?Math.min(Mt,y.getFullYear()):Mt,e.yearshtml+="<select class='ui-datepicker-year' aria-label='"+Le+"' data-handler='selectYear' data-event='change'>";St<=Mt;St++)e.yearshtml+="<option value='"+St+"'"+(St===l?" selected='selected'":"")+">"+St+"</option>";e.yearshtml+="</select>",yn+=e.yearshtml,e.yearshtml=null}return yn+=this._get(e,"yearSuffix"),ce&&(yn+=(!k&&qt&&Wt?"":"&#xa0;")+He),yn+"</div>"},_adjustInstDate:function(e,o,l){var v=e.selectedYear+("Y"===l?o:0),y=e.selectedMonth+("M"===l?o:0);o=Math.min(e.selectedDay,this._getDaysInMonth(v,y))+("D"===l?o:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(v,y,o))),e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),"M"!==l&&"Y"!==l||this._notifyChange(e)},_restrictMinMax:function(e,o){var l=this._getMinMaxDate(e,"min");return o=l&&o<l?l:o,(e=this._getMinMaxDate(e,"max"))&&e<o?e:o},_notifyChange:function(e){var o=this._get(e,"onChangeMonthYear");o&&o.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){return null==(e=this._get(e,"numberOfMonths"))?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(e,o){return this._determineDate(e,this._get(e,o+"Date"),null)},_getDaysInMonth:function(e,o){return 32-this._daylightSavingAdjust(new Date(e,o,32)).getDate()},_getFirstDayOfMonth:function(e,o){return new Date(e,o,1).getDay()},_canAdjustMonth:function(e,o,l,v){var y=this._getNumberOfMonths(e);return y=this._daylightSavingAdjust(new Date(l,v+(o<0?o:y[0]*y[1]),1)),o<0&&y.setDate(this._getDaysInMonth(y.getFullYear(),y.getMonth())),this._isInRange(e,y)},_isInRange:function(e,o){var l=this._getMinMaxDate(e,"min"),v=this._getMinMaxDate(e,"max"),y=null,k=null,O=this._get(e,"yearRange");return O&&(e=O.split(":"),O=(new Date).getFullYear(),y=parseInt(e[0],10),k=parseInt(e[1],10),e[0].match(/[+\-].*/)&&(y+=O),e[1].match(/[+\-].*/)&&(k+=O)),(!l||o.getTime()>=l.getTime())&&(!v||o.getTime()<=v.getTime())&&(!y||o.getFullYear()>=y)&&(!k||o.getFullYear()<=k)},_getFormatConfig:function(e){var o=this._get(e,"shortYearCutoff");return{shortYearCutoff:o="string"!=typeof o?o:(new Date).getFullYear()%100+parseInt(o,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,o,l,v){return o||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear),o=o?"object"==typeof o?o:this._daylightSavingAdjust(new Date(v,l,o)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay)),this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}}),r.fn.datepicker=function(e){if(!this.length)return this;r.datepicker.initialized||(r(document).on("mousedown",r.datepicker._checkExternalClick),r.datepicker.initialized=!0),0===r("#"+r.datepicker._mainDivId).length&&r("body").append(r.datepicker.dpDiv);var o=Array.prototype.slice.call(arguments,1);return"string"==typeof e&&("isDisabled"===e||"getDate"===e||"widget"===e)||"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?r.datepicker["_"+e+"Datepicker"].apply(r.datepicker,[this[0]].concat(o)):this.each(function(){"string"==typeof e?r.datepicker["_"+e+"Datepicker"].apply(r.datepicker,[this].concat(o)):r.datepicker._attachDatepicker(this,e)})},r.datepicker=new Ne,r.datepicker.initialized=!1,r.datepicker.uuid=(new Date).getTime(),r.datepicker.version="1.13.0",r.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var Xt,Me=!1;function De(e,o,l){return o<=e&&e<o+l}function Ee(e){return function(){var o=this.element.val();e.apply(this,arguments),this._refresh(),o!==this.element.val()&&this._trigger("change")}}r(document).on("mouseup",function(){Me=!1}),r.widget("ui.mouse",{version:"1.13.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(o){return e._mouseDown(o)}).on("click."+this.widgetName,function(o){if(!0===r.data(o.target,e.widgetName+".preventClickEvent"))return r.removeData(o.target,e.widgetName+".preventClickEvent"),o.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!Me){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var o=this,l=1===e.which,v=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&r(e.target).closest(this.options.cancel).length;return!(l&&!v&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){o.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===r.data(e.target,this.widgetName+".preventClickEvent")&&r.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(y){return o._mouseMove(y)},this._mouseUpDelegate=function(y){return o._mouseUp(y)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),Me=!0))}},_mouseMove:function(e){if(this._mouseMoved){if(r.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&r.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,Me=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),r.ui.plugin={add:function(e,o,l){var v,y=r.ui[e].prototype;for(v in l)y.plugins[v]=y.plugins[v]||[],y.plugins[v].push([o,l[v]])},call:function(e,o,l,v){var y,k=e.plugins[o];if(k&&(v||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(y=0;y<k.length;y++)e.options[k[y][0]]&&k[y][1].apply(e.element,l)}},r.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&r(e).trigger("blur")},r.widget("ui.draggable",r.ui.mouse,{version:"1.13.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,o){this._super(e,o),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var o=this.options;return!(this.helper||o.disabled||0<r(e.target).closest(".ui-resizable-handle").length||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===o.iframeFix?"iframe":o.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var o=r(this);return r("<div>").css("position","absolute").appendTo(o.parent()).outerWidth(o.outerWidth()).outerHeight(o.outerHeight()).offset(o.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var o=r.ui.safeActiveElement(this.document[0]);r(e.target).closest(o).length||r.ui.safeBlur(o)},_mouseStart:function(e){var o=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),r.ui.ddmanager&&(r.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===r(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),r.ui.ddmanager&&!o.dropBehaviour&&r.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),r.ui.ddmanager&&r.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,o){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!o){if(o=this._uiHash(),!1===this._trigger("drag",e,o))return this._mouseUp(new r.Event("mouseup",e)),!1;this.position=o.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",r.ui.ddmanager&&r.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var o=this,l=!1;return r.ui.ddmanager&&!this.options.dropBehaviour&&(l=r.ui.ddmanager.drop(this,e)),this.dropped&&(l=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!l||"valid"===this.options.revert&&l||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,l)?r(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==o._trigger("stop",e)&&o._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),r.ui.ddmanager&&r.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),r.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new r.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!r(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var o=this.options,l="function"==typeof o.helper;return(e=l?r(o.helper.apply(this.element[0],[e])):"clone"===o.helper?this.element.clone().removeAttr("id"):this.element).parents("body").length||e.appendTo("parent"===o.appendTo?this.element[0].parentNode:o.appendTo),l&&e[0]===this.element[0]&&this._setPositionRelative(),e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=Array.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&r.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),o=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(o?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(o?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,o,l,v=this.options,y=this.document[0];this.relativeContainer=null,v.containment?"window"!==v.containment?"document"!==v.containment?v.containment.constructor!==Array?("parent"===v.containment&&(v.containment=this.helper[0].parentNode),(l=(o=r(v.containment))[0])&&(e=/(scroll|auto)/.test(o.css("overflow")),this.containment=[(parseInt(o.css("borderLeftWidth"),10)||0)+(parseInt(o.css("paddingLeft"),10)||0),(parseInt(o.css("borderTopWidth"),10)||0)+(parseInt(o.css("paddingTop"),10)||0),(e?Math.max(l.scrollWidth,l.offsetWidth):l.offsetWidth)-(parseInt(o.css("borderRightWidth"),10)||0)-(parseInt(o.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(l.scrollHeight,l.offsetHeight):l.offsetHeight)-(parseInt(o.css("borderBottomWidth"),10)||0)-(parseInt(o.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=o)):this.containment=v.containment:this.containment=[0,0,r(y).width()-this.helperProportions.width-this.margins.left,(r(y).height()||y.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[r(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,r(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,r(window).scrollLeft()+r(window).width()-this.helperProportions.width-this.margins.left,r(window).scrollTop()+(r(window).height()||y.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,o){o=o||this.position;var l="absolute"===e?1:-1;return e=this._isRootNode(this.scrollParent[0]),{top:o.top+this.offset.relative.top*l+this.offset.parent.top*l-("fixed"===this.cssPosition?-this.offset.scroll.top:e?0:this.offset.scroll.top)*l,left:o.left+this.offset.relative.left*l+this.offset.parent.left*l-("fixed"===this.cssPosition?-this.offset.scroll.left:e?0:this.offset.scroll.left)*l}},_generatePosition:function(e,o){var l,v=this.options,y=this._isRootNode(this.scrollParent[0]),k=e.pageX,O=e.pageY;return y&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),o&&(this.containment&&(l=this.relativeContainer?(l=this.relativeContainer.offset(),[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]):this.containment,e.pageX-this.offset.click.left<l[0]&&(k=l[0]+this.offset.click.left),e.pageY-this.offset.click.top<l[1]&&(O=l[1]+this.offset.click.top),e.pageX-this.offset.click.left>l[2]&&(k=l[2]+this.offset.click.left),e.pageY-this.offset.click.top>l[3]&&(O=l[3]+this.offset.click.top)),v.grid&&(e=v.grid[1]?this.originalPageY+Math.round((O-this.originalPageY)/v.grid[1])*v.grid[1]:this.originalPageY,O=!l||e-this.offset.click.top>=l[1]||e-this.offset.click.top>l[3]?e:e-this.offset.click.top>=l[1]?e-v.grid[1]:e+v.grid[1],e=v.grid[0]?this.originalPageX+Math.round((k-this.originalPageX)/v.grid[0])*v.grid[0]:this.originalPageX,k=!l||e-this.offset.click.left>=l[0]||e-this.offset.click.left>l[2]?e:e-this.offset.click.left>=l[0]?e-v.grid[0]:e+v.grid[0]),"y"===v.axis&&(k=this.originalPageX),"x"===v.axis&&(O=this.originalPageY)),{top:O-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:y?0:this.offset.scroll.top),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:y?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,o,l){return l=l||this._uiHash(),r.ui.plugin.call(this,e,[o,l,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),l.offset=this.positionAbs),r.Widget.prototype._trigger.call(this,e,o,l)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),r.ui.plugin.add("draggable","connectToSortable",{start:function(e,o,l){var v=r.extend({},o,{item:l.element});l.sortables=[],r(l.options.connectToSortable).each(function(){var y=r(this).sortable("instance");y&&!y.options.disabled&&(l.sortables.push(y),y.refreshPositions(),y._trigger("activate",e,v))})},stop:function(e,o,l){var v=r.extend({},o,{item:l.element});l.cancelHelperRemoval=!1,r.each(l.sortables,function(){var y=this;y.isOver?(y.isOver=0,l.cancelHelperRemoval=!0,y.cancelHelperRemoval=!1,y._storedCSS={position:y.placeholder.css("position"),top:y.placeholder.css("top"),left:y.placeholder.css("left")},y._mouseStop(e),y.options.helper=y.options._helper):(y.cancelHelperRemoval=!0,y._trigger("deactivate",e,v))})},drag:function(e,o,l){r.each(l.sortables,function(){var v=!1,y=this;y.positionAbs=l.positionAbs,y.helperProportions=l.helperProportions,y.offset.click=l.offset.click,y._intersectsWith(y.containerCache)&&(v=!0,r.each(l.sortables,function(){return this.positionAbs=l.positionAbs,this.helperProportions=l.helperProportions,this.offset.click=l.offset.click,v=(this===y||!this._intersectsWith(this.containerCache)||!r.contains(y.element[0],this.element[0]))&&v})),v?(y.isOver||(y.isOver=1,l._parent=o.helper.parent(),y.currentItem=o.helper.appendTo(y.element).data("ui-sortable-item",!0),y.options._helper=y.options.helper,y.options.helper=function(){return o.helper[0]},e.target=y.currentItem[0],y._mouseCapture(e,!0),y._mouseStart(e,!0,!0),y.offset.click.top=l.offset.click.top,y.offset.click.left=l.offset.click.left,y.offset.parent.left-=l.offset.parent.left-y.offset.parent.left,y.offset.parent.top-=l.offset.parent.top-y.offset.parent.top,l._trigger("toSortable",e),l.dropped=y.element,r.each(l.sortables,function(){this.refreshPositions()}),l.currentItem=l.element,y.fromOutside=l),y.currentItem&&(y._mouseDrag(e),o.position=y.position)):y.isOver&&(y.isOver=0,y.cancelHelperRemoval=!0,y.options._revert=y.options.revert,y.options.revert=!1,y._trigger("out",e,y._uiHash(y)),y._mouseStop(e,!0),y.options.revert=y.options._revert,y.options.helper=y.options._helper,y.placeholder&&y.placeholder.remove(),o.helper.appendTo(l._parent),l._refreshOffsets(e),o.position=l._generatePosition(e,!0),l._trigger("fromSortable",e),l.dropped=!1,r.each(l.sortables,function(){this.refreshPositions()}))})}}),r.ui.plugin.add("draggable","cursor",{start:function(e,o,l){var v=r("body");l=l.options,v.css("cursor")&&(l._cursor=v.css("cursor")),v.css("cursor",l.cursor)},stop:function(e,o,l){(l=l.options)._cursor&&r("body").css("cursor",l._cursor)}}),r.ui.plugin.add("draggable","opacity",{start:function(e,o,l){o=r(o.helper),l=l.options,o.css("opacity")&&(l._opacity=o.css("opacity")),o.css("opacity",l.opacity)},stop:function(e,o,l){(l=l.options)._opacity&&r(o.helper).css("opacity",l._opacity)}}),r.ui.plugin.add("draggable","scroll",{start:function(e,o,l){l.scrollParentNotHidden||(l.scrollParentNotHidden=l.helper.scrollParent(!1)),l.scrollParentNotHidden[0]!==l.document[0]&&"HTML"!==l.scrollParentNotHidden[0].tagName&&(l.overflowOffset=l.scrollParentNotHidden.offset())},drag:function(e,o,l){var v=l.options,y=!1,k=l.scrollParentNotHidden[0],O=l.document[0];k!==O&&"HTML"!==k.tagName?(v.axis&&"x"===v.axis||(l.overflowOffset.top+k.offsetHeight-e.pageY<v.scrollSensitivity?k.scrollTop=y=k.scrollTop+v.scrollSpeed:e.pageY-l.overflowOffset.top<v.scrollSensitivity&&(k.scrollTop=y=k.scrollTop-v.scrollSpeed)),v.axis&&"y"===v.axis||(l.overflowOffset.left+k.offsetWidth-e.pageX<v.scrollSensitivity?k.scrollLeft=y=k.scrollLeft+v.scrollSpeed:e.pageX-l.overflowOffset.left<v.scrollSensitivity&&(k.scrollLeft=y=k.scrollLeft-v.scrollSpeed))):(v.axis&&"x"===v.axis||(e.pageY-r(O).scrollTop()<v.scrollSensitivity?y=r(O).scrollTop(r(O).scrollTop()-v.scrollSpeed):r(window).height()-(e.pageY-r(O).scrollTop())<v.scrollSensitivity&&(y=r(O).scrollTop(r(O).scrollTop()+v.scrollSpeed))),v.axis&&"y"===v.axis||(e.pageX-r(O).scrollLeft()<v.scrollSensitivity?y=r(O).scrollLeft(r(O).scrollLeft()-v.scrollSpeed):r(window).width()-(e.pageX-r(O).scrollLeft())<v.scrollSensitivity&&(y=r(O).scrollLeft(r(O).scrollLeft()+v.scrollSpeed)))),!1!==y&&r.ui.ddmanager&&!v.dropBehaviour&&r.ui.ddmanager.prepareOffsets(l,e)}}),r.ui.plugin.add("draggable","snap",{start:function(e,o,l){var v=l.options;l.snapElements=[],r(v.snap.constructor!==String?v.snap.items||":data(ui-draggable)":v.snap).each(function(){var y=r(this),k=y.offset();this!==l.element[0]&&l.snapElements.push({item:this,width:y.outerWidth(),height:y.outerHeight(),top:k.top,left:k.left})})},drag:function(e,o,l){for(var v,y,k,O,Y,Z,dt,ct,st,St=l.options,Mt=St.snapTolerance,qt=o.offset.left,Wt=qt+l.helperProportions.width,ce=o.offset.top,we=ce+l.helperProportions.height,Le=l.snapElements.length-1;0<=Le;Le--)Z=(Y=l.snapElements[Le].left-l.margins.left)+l.snapElements[Le].width,ct=(dt=l.snapElements[Le].top-l.margins.top)+l.snapElements[Le].height,Wt<Y-Mt||Z+Mt<qt||we<dt-Mt||ct+Mt<ce||!r.contains(l.snapElements[Le].item.ownerDocument,l.snapElements[Le].item)?(l.snapElements[Le].snapping&&l.options.snap.release&&l.options.snap.release.call(l.element,e,r.extend(l._uiHash(),{snapItem:l.snapElements[Le].item})),l.snapElements[Le].snapping=!1):("inner"!==St.snapMode&&(v=Math.abs(dt-we)<=Mt,y=Math.abs(ct-ce)<=Mt,k=Math.abs(Y-Wt)<=Mt,O=Math.abs(Z-qt)<=Mt,v&&(o.position.top=l._convertPositionTo("relative",{top:dt-l.helperProportions.height,left:0}).top),y&&(o.position.top=l._convertPositionTo("relative",{top:ct,left:0}).top),k&&(o.position.left=l._convertPositionTo("relative",{top:0,left:Y-l.helperProportions.width}).left),O&&(o.position.left=l._convertPositionTo("relative",{top:0,left:Z}).left)),st=v||y||k||O,"outer"!==St.snapMode&&(v=Math.abs(dt-ce)<=Mt,y=Math.abs(ct-we)<=Mt,k=Math.abs(Y-qt)<=Mt,O=Math.abs(Z-Wt)<=Mt,v&&(o.position.top=l._convertPositionTo("relative",{top:dt,left:0}).top),y&&(o.position.top=l._convertPositionTo("relative",{top:ct-l.helperProportions.height,left:0}).top),k&&(o.position.left=l._convertPositionTo("relative",{top:0,left:Y}).left),O&&(o.position.left=l._convertPositionTo("relative",{top:0,left:Z-l.helperProportions.width}).left)),!l.snapElements[Le].snapping&&(v||y||k||O||st)&&l.options.snap.snap&&l.options.snap.snap.call(l.element,e,r.extend(l._uiHash(),{snapItem:l.snapElements[Le].item})),l.snapElements[Le].snapping=v||y||k||O||st)}}),r.ui.plugin.add("draggable","stack",{start:function(e,o,l){var v;(l=r.makeArray(r((l=l.options).stack)).sort(function(y,k){return(parseInt(r(y).css("zIndex"),10)||0)-(parseInt(r(k).css("zIndex"),10)||0)})).length&&(v=parseInt(r(l[0]).css("zIndex"),10)||0,r(l).each(function(y){r(this).css("zIndex",v+y)}),this.css("zIndex",v+l.length))}}),r.ui.plugin.add("draggable","zIndex",{start:function(e,o,l){o=r(o.helper),l=l.options,o.css("zIndex")&&(l._zIndex=o.css("zIndex")),o.css("zIndex",l.zIndex)},stop:function(e,o,l){(l=l.options)._zIndex&&r(o.helper).css("zIndex",l._zIndex)}}),r.widget("ui.resizable",r.ui.mouse,{version:"1.13.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,o){if("hidden"===r(e).css("overflow"))return!1;var l=o&&"left"===o?"scrollLeft":"scrollTop";if(o=!1,0<e[l])return!0;try{e[l]=1,o=0<e[l],e[l]=0}catch(v){}return o},_create:function(){var e,o=this.options,l=this;this._addClass("ui-resizable"),r.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(r("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),o.autoHide&&r(this.element).on("mouseenter",function(){o.disabled||(l._removeClass("ui-resizable-autohide"),l._handles.show())}).on("mouseleave",function(){o.disabled||l.resizing||(l._addClass("ui-resizable-autohide"),l._handles.hide())}),this._mouseInit()},_destroy:function(){function e(l){r(l).removeData("resizable").removeData("ui-resizable").off(".resizable")}var o;return this._mouseDestroy(),this._addedHandles.remove(),this.elementIsWrapper&&(e(this.element),this.originalElement.css({position:(o=this.element).css("position"),width:o.outerWidth(),height:o.outerHeight(),top:o.css("top"),left:o.css("left")}).insertAfter(o),o.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(e,o){switch(this._super(e,o),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!o}},_setupHandles:function(){var e,o,l,v,y,k=this.options,O=this;if(this.handles=k.handles||(r(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=r(),this._addedHandles=r(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),l=this.handles.split(","),this.handles={},o=0;o<l.length;o++)v="ui-resizable-"+(e=String.prototype.trim.call(l[o])),y=r("<div>"),this._addClass(y,"ui-resizable-handle "+v),y.css({zIndex:k.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.children(this.handles[e]).length||(this.element.append(y),this._addedHandles=this._addedHandles.add(y));this._renderAxis=function(Y){var Z,dt,ct;for(Z in Y=Y||this.element,this.handles)this.handles[Z].constructor===String?this.handles[Z]=this.element.children(this.handles[Z]).first().show():(this.handles[Z].jquery||this.handles[Z].nodeType)&&(this.handles[Z]=r(this.handles[Z]),this._on(this.handles[Z],{mousedown:O._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(dt=r(this.handles[Z],this.element),ct=/sw|ne|nw|se|n|s/.test(Z)?dt.outerHeight():dt.outerWidth(),dt=["padding",/ne|nw|n/.test(Z)?"Top":/se|sw|s/.test(Z)?"Bottom":/^e$/.test(Z)?"Right":"Left"].join(""),Y.css(dt,ct),this._proportionallyResize()),this._handles=this._handles.add(this.handles[Z])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){O.resizing||(this.className&&(y=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),O.axis=y&&y[1]?y[1]:"se")}),k.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(e){var o,l,v=!1;for(o in this.handles)(l=r(this.handles[o])[0])!==e.target&&!r.contains(l,e.target)||(v=!0);return!this.options.disabled&&v},_mouseStart:function(e){var o,l,v=this.options,y=this.element;return this.resizing=!0,this._renderProxy(),o=this._num(this.helper.css("left")),l=this._num(this.helper.css("top")),v.containment&&(o+=r(v.containment).scrollLeft()||0,l+=r(v.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:l},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:y.width(),height:y.height()},this.originalSize=this._helper?{width:y.outerWidth(),height:y.outerHeight()}:{width:y.width(),height:y.height()},this.sizeDiff={width:y.outerWidth()-y.width(),height:y.outerHeight()-y.height()},this.originalPosition={left:o,top:l},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof v.aspectRatio?v.aspectRatio:this.originalSize.width/this.originalSize.height||1,v=r(".ui-resizable-"+this.axis).css("cursor"),r("body").css("cursor","auto"===v?this.axis+"-resize":v),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var v=e.pageX-(o=this.originalMousePosition).left||0,o=e.pageY-o.top||0,l=this._change[l=this.axis];return this._updatePrevProperties(),l&&(o=l.apply(this,[e,v,o]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(o=this._updateRatio(o,e)),o=this._respectSize(o,e),this._updateCache(o),this._propagate("resize",e),o=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),r.isEmptyObject(o)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var o,l,v,y=this.options,k=this;return this._helper&&(v=(o=(l=this._proportionallyResizeElements).length&&/textarea/i.test(l[0].nodeName))&&this._hasScroll(l[0],"left")?0:k.sizeDiff.height,l=o?0:k.sizeDiff.width,o={width:k.helper.width()-l,height:k.helper.height()-v},l=parseFloat(k.element.css("left"))+(k.position.left-k.originalPosition.left)||null,v=parseFloat(k.element.css("top"))+(k.position.top-k.originalPosition.top)||null,y.animate||this.element.css(r.extend(o,{top:v,left:l})),k.helper.height(k.size.height),k.helper.width(k.size.width),this._helper&&!y.animate&&this._proportionallyResize()),r("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var o,l,v=this.options,y={minWidth:this._isNumber(v.minWidth)?v.minWidth:0,maxWidth:this._isNumber(v.maxWidth)?v.maxWidth:1/0,minHeight:this._isNumber(v.minHeight)?v.minHeight:0,maxHeight:this._isNumber(v.maxHeight)?v.maxHeight:1/0};(this._aspectRatio||e)&&(l=y.minWidth/this.aspectRatio,v=y.maxHeight*this.aspectRatio,e=y.maxWidth/this.aspectRatio,(o=y.minHeight*this.aspectRatio)>y.minWidth&&(y.minWidth=o),l>y.minHeight&&(y.minHeight=l),v<y.maxWidth&&(y.maxWidth=v),e<y.maxHeight&&(y.maxHeight=e)),this._vBoundaries=y},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var o=this.position,l=this.size,v=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===v&&(e.left=o.left+(l.width-e.width),e.top=null),"nw"===v&&(e.top=o.top+(l.height-e.height),e.left=o.left+(l.width-e.width)),e},_respectSize:function(e){var o=this._vBoundaries,l=this.axis,v=this._isNumber(e.width)&&o.maxWidth&&o.maxWidth<e.width,y=this._isNumber(e.height)&&o.maxHeight&&o.maxHeight<e.height,k=this._isNumber(e.width)&&o.minWidth&&o.minWidth>e.width,O=this._isNumber(e.height)&&o.minHeight&&o.minHeight>e.height,Y=this.originalPosition.left+this.originalSize.width,Z=this.originalPosition.top+this.originalSize.height,dt=/sw|nw|w/.test(l);return l=/nw|ne|n/.test(l),k&&(e.width=o.minWidth),O&&(e.height=o.minHeight),v&&(e.width=o.maxWidth),y&&(e.height=o.maxHeight),k&&dt&&(e.left=Y-o.minWidth),v&&dt&&(e.left=Y-o.maxWidth),O&&l&&(e.top=Z-o.minHeight),y&&l&&(e.top=Z-o.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var o=0,l=[],v=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],y=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];o<4;o++)l[o]=parseFloat(v[o])||0,l[o]+=parseFloat(y[o])||0;return{height:l[0]+l[2],width:l[1]+l[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,o=0,l=this.helper||this.element;o<this._proportionallyResizeElements.length;o++)e=this._proportionallyResizeElements[o],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:l.height()-this.outerDimensions.height||0,width:l.width()-this.outerDimensions.width||0})},_renderProxy:function(){var o=this.options;this.elementOffset=this.element.offset(),this._helper?(this.helper=this.helper||r("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,o){return{width:this.originalSize.width+o}},w:function(e,o){return{left:this.originalPosition.left+o,width:this.originalSize.width-o}},n:function(e,o,l){return{top:this.originalPosition.top+l,height:this.originalSize.height-l}},s:function(e,o,l){return{height:this.originalSize.height+l}},se:function(e,o,l){return r.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,o,l]))},sw:function(e,o,l){return r.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,o,l]))},ne:function(e,o,l){return r.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,o,l]))},nw:function(e,o,l){return r.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,o,l]))}},_propagate:function(e,o){r.ui.plugin.call(this,e,[o,this.ui()]),"resize"!==e&&this._trigger(e,o,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),r.ui.plugin.add("resizable","animate",{stop:function(e){var o=r(this).resizable("instance"),l=o.options,v=o._proportionallyResizeElements,k=(y=v.length&&/textarea/i.test(v[0].nodeName))&&o._hasScroll(v[0],"left")?0:o.sizeDiff.height,y={width:o.size.width-(y?0:o.sizeDiff.width),height:o.size.height-k},O=parseFloat(o.element.css("left"))+(o.position.left-o.originalPosition.left)||null;k=parseFloat(o.element.css("top"))+(o.position.top-o.originalPosition.top)||null,o.element.animate(r.extend(y,k&&O?{top:k,left:O}:{}),{duration:l.animateDuration,easing:l.animateEasing,step:function(){var Y={width:parseFloat(o.element.css("width")),height:parseFloat(o.element.css("height")),top:parseFloat(o.element.css("top")),left:parseFloat(o.element.css("left"))};v&&v.length&&r(v[0]).css({width:Y.width,height:Y.height}),o._updateCache(Y),o._propagate("resize",e)}})}}),r.ui.plugin.add("resizable","containment",{start:function(){var e,o,l=r(this).resizable("instance"),v=l.options,y=l.element,k=v.containment,O=k instanceof r?k.get(0):/parent/.test(k)?y.parent().get(0):k;O&&(l.containerElement=r(O),/document/.test(k)||k===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:r(document),left:0,top:0,width:r(document).width(),height:r(document).height()||document.body.parentNode.scrollHeight}):(e=r(O),o=[],r(["Top","Right","Left","Bottom"]).each(function(Y,Z){o[Y]=l._num(e.css("padding"+Z))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-o[3],width:e.innerWidth()-o[1]},v=l.containerOffset,y=l.containerSize.height,k=l.containerSize.width,k=l._hasScroll(O,"left")?O.scrollWidth:k,y=l._hasScroll(O)?O.scrollHeight:y,l.parentData={element:O,left:v.left,top:v.top,width:k,height:y}))},resize:function(e){var o=r(this).resizable("instance"),l=o.options,v=o.containerOffset,y=o.position,k=o._aspectRatio||e.shiftKey,O={top:0,left:0},Y=o.containerElement;e=!0,Y[0]!==document&&/static/.test(Y.css("position"))&&(O=v),y.left<(o._helper?v.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-v.left:o.position.left-O.left),k&&(o.size.height=o.size.width/o.aspectRatio,e=!1),o.position.left=l.helper?v.left:0),y.top<(o._helper?v.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-v.top:o.position.top),k&&(o.size.width=o.size.height*o.aspectRatio,e=!1),o.position.top=o._helper?v.top:0),l=o.containerElement.get(0)===o.element.parent().get(0),y=/relative|absolute/.test(o.containerElement.css("position")),l&&y?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),y=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-O.left:o.offset.left-v.left)),v=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-O.top:o.offset.top-v.top)),y+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-y,k&&(o.size.height=o.size.width/o.aspectRatio,e=!1)),v+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-v,k&&(o.size.width=o.size.height*o.aspectRatio,e=!1)),e||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=r(this).resizable("instance"),o=e.options,l=e.containerOffset,v=e.containerPosition,y=e.containerElement,O=(k=r(e.helper)).offset(),Y=k.outerWidth()-e.sizeDiff.width,k=k.outerHeight()-e.sizeDiff.height;e._helper&&!o.animate&&/relative/.test(y.css("position"))&&r(this).css({left:O.left-v.left-l.left,width:Y,height:k}),e._helper&&!o.animate&&/static/.test(y.css("position"))&&r(this).css({left:O.left-v.left-l.left,width:Y,height:k})}}),r.ui.plugin.add("resizable","alsoResize",{start:function(){var e=r(this).resizable("instance").options;r(e.alsoResize).each(function(){var o=r(this);o.data("ui-resizable-alsoresize",{width:parseFloat(o.width()),height:parseFloat(o.height()),left:parseFloat(o.css("left")),top:parseFloat(o.css("top"))})})},resize:function(e,o){var l=r(this).resizable("instance"),y=l.originalSize,k=l.originalPosition,O={height:l.size.height-y.height||0,width:l.size.width-y.width||0,top:l.position.top-k.top||0,left:l.position.left-k.left||0};r(l.options.alsoResize).each(function(){var Y=r(this),Z=r(this).data("ui-resizable-alsoresize"),dt={},ct=Y.parents(o.originalElement[0]).length?["width","height"]:["width","height","top","left"];r.each(ct,function(st,St){var Mt=(Z[St]||0)+(O[St]||0);Mt&&0<=Mt&&(dt[St]=Mt||null)}),Y.css(dt)})},stop:function(){r(this).removeData("ui-resizable-alsoresize")}}),r.ui.plugin.add("resizable","ghost",{start:function(){var e=r(this).resizable("instance"),o=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:o.height,width:o.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==r.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=r(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=r(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),r.ui.plugin.add("resizable","grid",{resize:function(){var e,o=r(this).resizable("instance"),l=o.options,v=o.size,y=o.originalSize,k=o.originalPosition,O=o.axis,Y="number"==typeof l.grid?[l.grid,l.grid]:l.grid,Z=Y[0]||1,dt=Y[1]||1,ct=Math.round((v.width-y.width)/Z)*Z,st=Math.round((v.height-y.height)/dt)*dt,St=y.width+ct,Mt=y.height+st,qt=l.maxWidth&&l.maxWidth<St,Wt=l.maxHeight&&l.maxHeight<Mt,ce=l.minWidth&&l.minWidth>St;v=l.minHeight&&l.minHeight>Mt,l.grid=Y,ce&&(St+=Z),v&&(Mt+=dt),qt&&(St-=Z),Wt&&(Mt-=dt),/^(se|s|e)$/.test(O)?(o.size.width=St,o.size.height=Mt):/^(ne)$/.test(O)?(o.size.width=St,o.size.height=Mt,o.position.top=k.top-st):/^(sw)$/.test(O)?(o.size.width=St,o.size.height=Mt,o.position.left=k.left-ct):((Mt-dt<=0||St-Z<=0)&&(e=o._getPaddingPlusBorderDimensions(this)),0<Mt-dt?(o.size.height=Mt,o.position.top=k.top-st):(o.size.height=Mt=dt-e.height,o.position.top=k.top+y.height-Mt),0<St-Z?(o.size.width=St,o.position.left=k.left-ct):(o.size.width=St=Z-e.width,o.position.left=k.left+y.width-St))}}),r.widget("ui.dialog",{version:"1.13.0",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var o=r(this).css(e).offset().top;o<0&&r(this).css("top",e.top-o)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&r.fn.draggable&&this._makeDraggable(),this.options.resizable&&r.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?r(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,o=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=o.parent.children().eq(o.index)).length&&e[0]!==this.element[0]?e.before(this.element):o.parent.append(this.element)},widget:function(){return this.uiDialog},disable:r.noop,enable:r.noop,close:function(e){var o=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||r.ui.safeBlur(r.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){o._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,o){var l=!1,v=this.uiDialog.siblings(".ui-front:visible").map(function(){return+r(this).css("z-index")}).get();return(v=Math.max.apply(null,v))>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",v+1),l=!0),l&&!o&&this._trigger("focus",e),l},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=r(r.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;(e=(e=(e=(e=(e=e||this.element.find("[autofocus]")).length?e:this.element.find(":tabbable")).length?e:this.uiDialogButtonPane.find(":tabbable")).length?e:this.uiDialogTitlebarClose.filter(":tabbable")).length?e:this.uiDialog).eq(0).trigger("focus")},_restoreTabbableFocus:function(){var e=r.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||r.contains(this.uiDialog[0],e)||this._focusTabbable()},_keepFocus:function(e){e.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=r("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===r.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);var o,l,v;e.keyCode!==r.ui.keyCode.TAB||e.isDefaultPrevented()||(o=this.uiDialog.find(":tabbable"),l=o.first(),v=o.last(),e.target!==v[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==l[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){v.trigger("focus")}),e.preventDefault()):(this._delay(function(){l.trigger("focus")}),e.preventDefault()))},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=r("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(o){r(o.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=r("<button type='button'></button>").button({label:r("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(o){o.preventDefault(),this.close(o)}}),e=r("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=r("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=r("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,o=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),r.isEmptyObject(o)||Array.isArray(o)&&!o.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(r.each(o,function(l,v){var y;v=r.extend({type:"button"},v="function"==typeof v?{click:v,text:l}:v),y=v.click,l={icon:v.icon,iconPosition:v.iconPosition,showLabel:v.showLabel,icons:v.icons,text:v.text},delete v.click,delete v.icon,delete v.iconPosition,delete v.showLabel,delete v.icons,"boolean"==typeof v.text&&delete v.text,r("<button></button>",v).button(l).appendTo(e.uiButtonSet).on("click",function(){y.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,o=this.options;function l(v){return{position:v.position,offset:v.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(v,y){e._addClass(r(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",v,l(y))},drag:function(v,y){e._trigger("drag",v,l(y))},stop:function(v,y){var k=y.offset.left-e.document.scrollLeft(),O=y.offset.top-e.document.scrollTop();o.position={my:"left top",at:"left"+(0<=k?"+":"")+k+" top"+(0<=O?"+":"")+O,of:e.window},e._removeClass(r(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",v,l(y))}})},_makeResizable:function(){var e=this,o=this.options,l=o.resizable,v=this.uiDialog.css("position");function y(k){return{originalPosition:k.originalPosition,originalSize:k.originalSize,position:k.position,size:k.size}}l="string"==typeof l?l:"n,e,s,w,se,sw,ne,nw",this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:this._minHeight(),handles:l,start:function(k,O){e._addClass(r(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",k,y(O))},resize:function(k,O){e._trigger("resize",k,y(O))},stop:function(k,O){var Z=(Y=e.uiDialog.offset()).left-e.document.scrollLeft(),Y=Y.top-e.document.scrollTop();o.height=e.uiDialog.height(),o.width=e.uiDialog.width(),o.position={my:"left top",at:"left"+(0<=Z?"+":"")+Z+" top"+(0<=Y?"+":"")+Y,of:e.window},e._removeClass(r(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",k,y(O))}}).css("position",v)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=r(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),o=r.inArray(this,e);-1!==o&&e.splice(o,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||this.document.data("ui-dialog-instances",e=[]),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var o=this,l=!1,v={};r.each(e,function(y,k){o._setOption(y,k),y in o.sizeRelatedOptions&&(l=!0),y in o.resizableRelatedOptions&&(v[y]=k)}),l&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",v)},_setOption:function(e,o){var l,v=this.uiDialog;"disabled"!==e&&(this._super(e,o),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:r("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((l=v.is(":data(ui-draggable)"))&&!o&&v.draggable("destroy"),!l&&o&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((l=v.is(":data(ui-resizable)"))&&!o&&v.resizable("destroy"),l&&"string"==typeof o&&v.resizable("option","handles",o),l||!1===o||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,o,l,v=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),v.minWidth>v.width&&(v.width=v.minWidth),e=this.uiDialog.css({height:"auto",width:v.width}).outerHeight(),o=Math.max(0,v.minHeight-e),l="number"==typeof v.maxHeight?Math.max(0,v.maxHeight-e):"none","auto"===v.height?this.element.css({minHeight:o,maxHeight:l,height:"auto"}):this.element.height(Math.max(0,v.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=r(this);return r("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!r(e.target).closest(".ui-dialog").length||!!r(e.target).closest(".ui-datepicker").length},_createOverlay:function(){var e,o;this.options.modal&&(e=r.fn.jquery.substring(0,4),o=!0,this._delay(function(){o=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(l){var v;o||(v=this._trackingInstances()[0])._allowInteraction(l)||(l.preventDefault(),v._focusTabbable(),"3.4."!==e&&"3.5."!==e||v._delay(v._restoreTabbableFocus))}.bind(this)),this.overlay=r("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var e;this.options.modal&&this.overlay&&((e=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",e):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null)}}),!1!==r.uiBackCompat&&r.widget("ui.dialog",r.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,o){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(o),this._superApply(arguments)}}),r.widget("ui.droppable",{version:"1.13.0",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,o=this.options,l=o.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof l?l:function(v){return v.is(l)},this.proportions=function(){if(!arguments.length)return e=e||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};e=arguments[0]},this._addToManager(o.scope),o.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){r.ui.ddmanager.droppables[e]=r.ui.ddmanager.droppables[e]||[],r.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var o=0;o<e.length;o++)e[o]===this&&e.splice(o,1)},_destroy:function(){this._splice(r.ui.ddmanager.droppables[this.options.scope])},_setOption:function(e,o){"accept"===e?this.accept="function"==typeof o?o:function(v){return v.is(o)}:"scope"===e&&(this._splice(r.ui.ddmanager.droppables[this.options.scope]),this._addToManager(o)),this._super(e,o)},_activate:function(e){var o=r.ui.ddmanager.current;this._addActiveClass(),o&&this._trigger("activate",e,this.ui(o))},_deactivate:function(e){var o=r.ui.ddmanager.current;this._removeActiveClass(),o&&this._trigger("deactivate",e,this.ui(o))},_over:function(e){var o=r.ui.ddmanager.current;o&&(o.currentItem||o.element)[0]!==this.element[0]&&this.accept.call(this.element[0],o.currentItem||o.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(o)))},_out:function(e){var o=r.ui.ddmanager.current;o&&(o.currentItem||o.element)[0]!==this.element[0]&&this.accept.call(this.element[0],o.currentItem||o.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(o)))},_drop:function(e,o){var l=o||r.ui.ddmanager.current,v=!1;return!(!l||(l.currentItem||l.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var y=r(this).droppable("instance");if(y.options.greedy&&!y.options.disabled&&y.options.scope===l.options.scope&&y.accept.call(y.element[0],l.currentItem||l.element)&&r.ui.intersect(l,r.extend(y,{offset:y.element.offset()}),y.options.tolerance,e))return!(v=!0)}),!v&&!!this.accept.call(this.element[0],l.currentItem||l.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(l)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),r.ui.intersect=function(e,o,l,v){if(!o.offset)return!1;var y=(e.positionAbs||e.position.absolute).left+e.margins.left,k=(e.positionAbs||e.position.absolute).top+e.margins.top,O=y+e.helperProportions.width,Y=k+e.helperProportions.height,Z=o.offset.left,dt=o.offset.top,ct=Z+o.proportions().width,st=dt+o.proportions().height;switch(l){case"fit":return Z<=y&&O<=ct&&dt<=k&&Y<=st;case"intersect":return Z<y+e.helperProportions.width/2&&O-e.helperProportions.width/2<ct&&dt<k+e.helperProportions.height/2&&Y-e.helperProportions.height/2<st;case"pointer":return De(v.pageY,dt,o.proportions().height)&&De(v.pageX,Z,o.proportions().width);case"touch":return(dt<=k&&k<=st||dt<=Y&&Y<=st||k<dt&&st<Y)&&(Z<=y&&y<=ct||Z<=O&&O<=ct||y<Z&&ct<O);default:return!1}},!(r.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,o){var l,v,y=r.ui.ddmanager.droppables[e.options.scope]||[],k=o?o.type:null,O=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(l=0;l<y.length;l++)if(!(y[l].options.disabled||e&&!y[l].accept.call(y[l].element[0],e.currentItem||e.element))){for(v=0;v<O.length;v++)if(O[v]===y[l].element[0]){y[l].proportions().height=0;continue t}y[l].visible="none"!==y[l].element.css("display"),y[l].visible&&("mousedown"===k&&y[l]._activate.call(y[l],o),y[l].offset=y[l].element.offset(),y[l].proportions({width:y[l].element[0].offsetWidth,height:y[l].element[0].offsetHeight}))}},drop:function(e,o){var l=!1;return r.each((r.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&r.ui.intersect(e,this,this.options.tolerance,o)&&(l=this._drop.call(this,o)||l),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,o)))}),l},dragStart:function(e,o){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||r.ui.ddmanager.prepareOffsets(e,o)})},drag:function(e,o){e.options.refreshPositions&&r.ui.ddmanager.prepareOffsets(e,o),r.each(r.ui.ddmanager.droppables[e.options.scope]||[],function(){var l,v,y,k;this.options.disabled||this.greedyChild||!this.visible||(k=!(y=r.ui.intersect(e,this,this.options.tolerance,o))&&this.isover?"isout":y&&!this.isover?"isover":null)&&(this.options.greedy&&(v=this.options.scope,(y=this.element.parents(":data(ui-droppable)").filter(function(){return r(this).droppable("instance").options.scope===v})).length&&((l=r(y[0]).droppable("instance")).greedyChild="isover"===k)),l&&"isover"===k&&(l.isover=!1,l.isout=!0,l._out.call(l,o)),this[k]=!0,this["isout"===k?"isover":"isout"]=!1,this["isover"===k?"_over":"_out"].call(this,o),l&&"isout"===k&&(l.isout=!1,l.isover=!0,l._over.call(l,o)))})},dragStop:function(e,o){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||r.ui.ddmanager.prepareOffsets(e,o)}})!==r.uiBackCompat&&r.widget("ui.droppable",r.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),r.widget("ui.progressbar",{version:"1.13.0",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=r("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var o=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(o),this._refreshValue()},_setOption:function(e,o){"max"===e&&(o=Math.max(this.min,o)),this._super(e,o)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,o=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(o.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=r("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),r.widget("ui.selectable",r.ui.mouse,{version:"1.13.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=r(e.element[0]).offset(),e.selectees=r(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var o=r(this),l=o.offset();r.data(this,"selectable-item",{element:this,$element:o,left:(l={left:l.left-e.elementPos.left,top:l.top-e.elementPos.top}).left,top:l.top,right:l.left+o.outerWidth(),bottom:l.top+o.outerHeight(),startselected:!1,selected:o.hasClass("ui-selected"),selecting:o.hasClass("ui-selecting"),unselecting:o.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=r("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var o=this,l=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=r(this.element[0]).offset(),this.options.disabled||(this.selectees=r(l.filter,this.element[0]),this._trigger("start",e),r(l.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),l.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var v=r.data(this,"selectable-item");v.startselected=!0,e.metaKey||e.ctrlKey||(o._removeClass(v.$element,"ui-selected"),v.selected=!1,o._addClass(v.$element,"ui-unselecting"),v.unselecting=!0,o._trigger("unselecting",e,{unselecting:v.element}))}),r(e.target).parents().addBack().each(function(){var v,y=r.data(this,"selectable-item");if(y)return v=!e.metaKey&&!e.ctrlKey||!y.$element.hasClass("ui-selected"),o._removeClass(y.$element,v?"ui-unselecting":"ui-selected")._addClass(y.$element,v?"ui-selecting":"ui-unselecting"),y.unselecting=!v,y.selecting=v,(y.selected=v)?o._trigger("selecting",e,{selecting:y.element}):o._trigger("unselecting",e,{unselecting:y.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var o,l=this,v=this.options,y=this.opos[0],k=this.opos[1],O=e.pageX,Y=e.pageY;return O<y&&(o=O,O=y,y=o),Y<k&&(o=Y,Y=k,k=o),this.helper.css({left:y,top:k,width:O-y,height:Y-k}),this.selectees.each(function(){var Z=r.data(this,"selectable-item"),dt=!1,ct={};Z&&Z.element!==l.element[0]&&(ct.left=Z.left+l.elementPos.left,ct.right=Z.right+l.elementPos.left,ct.top=Z.top+l.elementPos.top,ct.bottom=Z.bottom+l.elementPos.top,"touch"===v.tolerance?dt=!(ct.left>O||ct.right<y||ct.top>Y||ct.bottom<k):"fit"===v.tolerance&&(dt=ct.left>y&&ct.right<O&&ct.top>k&&ct.bottom<Y),dt?(Z.selected&&(l._removeClass(Z.$element,"ui-selected"),Z.selected=!1),Z.unselecting&&(l._removeClass(Z.$element,"ui-unselecting"),Z.unselecting=!1),Z.selecting||(l._addClass(Z.$element,"ui-selecting"),Z.selecting=!0,l._trigger("selecting",e,{selecting:Z.element}))):(Z.selecting&&((e.metaKey||e.ctrlKey)&&Z.startselected?(l._removeClass(Z.$element,"ui-selecting"),Z.selecting=!1,l._addClass(Z.$element,"ui-selected"),Z.selected=!0):(l._removeClass(Z.$element,"ui-selecting"),Z.selecting=!1,Z.startselected&&(l._addClass(Z.$element,"ui-unselecting"),Z.unselecting=!0),l._trigger("unselecting",e,{unselecting:Z.element}))),Z.selected&&(e.metaKey||e.ctrlKey||Z.startselected||(l._removeClass(Z.$element,"ui-selected"),Z.selected=!1,l._addClass(Z.$element,"ui-unselecting"),Z.unselecting=!0,l._trigger("unselecting",e,{unselecting:Z.element})))))}),!1}},_mouseStop:function(e){var o=this;return this.dragged=!1,r(".ui-unselecting",this.element[0]).each(function(){var l=r.data(this,"selectable-item");o._removeClass(l.$element,"ui-unselecting"),l.unselecting=!1,l.startselected=!1,o._trigger("unselected",e,{unselected:l.element})}),r(".ui-selecting",this.element[0]).each(function(){var l=r.data(this,"selectable-item");o._removeClass(l.$element,"ui-selecting")._addClass(l.$element,"ui-selected"),l.selecting=!1,l.selected=!0,l.startselected=!0,o._trigger("selected",e,{selected:l.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),r.widget("ui.selectmenu",[r.ui.formResetMixin,{version:"1.13.0",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=r()},_drawButton:function(){var e,o=this,l=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(v){this.button.trigger("focus"),v.preventDefault()}}),this.element.hide(),this.button=r("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=r("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(l).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){o._rendered||o._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=r("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=r("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(o,l){o.preventDefault(),e._setSelection(),e._select(l.item.data("ui-selectmenu-item"),o)},focus:function(o,l){l=l.item.data("ui-selectmenu-item"),null!=e.focusIndex&&l.index!==e.focusIndex&&(e._trigger("focus",o,{item:l}),e.isOpen||e._select(l,o)),e.focusIndex=l.index,e.button.attr("aria-activedescendant",e.menuItems.eq(l.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(r.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var o=r("<span>");return this._setText(o,e.label),this._addClass(o,"ui-selectmenu-text"),o},_renderMenu:function(e,o){var l=this,v="";r.each(o,function(y,k){var O;k.optgroup!==v&&(O=r("<li>",{text:k.optgroup}),l._addClass(O,"ui-selectmenu-optgroup","ui-menu-divider"+(k.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),O.appendTo(e),v=k.optgroup),l._renderItemData(e,k)})},_renderItemData:function(e,o){return this._renderItem(e,o).data("ui-selectmenu-item",o)},_renderItem:function(e,o){var l=r("<li>"),v=r("<div>",{title:o.element.attr("title")});return o.disabled&&this._addClass(l,null,"ui-state-disabled"),this._setText(v,o.label),l.append(v).appendTo(e)},_setText:function(e,o){o?e.text(o):e.html("&#160;")},_move:function(e,o){var l,v=".ui-menu-item";this.isOpen?l=this.menuItems.eq(this.focusIndex).parent("li"):(l=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),v+=":not(.ui-state-disabled)"),(v="first"===e||"last"===e?l["first"===e?"prevAll":"nextAll"](v).eq(-1):l[e+"All"](v).eq(0)).length&&this.menuInstance.focus(o,v)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(r(e.target).closest(".ui-selectmenu-menu, #"+r.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var o=!0;switch(e.keyCode){case r.ui.keyCode.TAB:case r.ui.keyCode.ESCAPE:this.close(e),o=!1;break;case r.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case r.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case r.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case r.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case r.ui.keyCode.LEFT:this._move("prev",e);break;case r.ui.keyCode.RIGHT:this._move("next",e);break;case r.ui.keyCode.HOME:case r.ui.keyCode.PAGE_UP:this._move("first",e);break;case r.ui.keyCode.END:case r.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),o=!1}o&&e.preventDefault()}},_selectFocusedItem:function(e){var o=this.menuItems.eq(this.focusIndex).parent("li");o.hasClass("ui-state-disabled")||this._select(o.data("ui-selectmenu-item"),e)},_select:function(e,o){var l=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",o,{item:e}),e.index!==l&&this._trigger("change",o,{item:e}),this.close(o)},_setAria:function(e){e=this.menuItems.eq(e.index).attr("id"),this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(e,o){var l;"icons"===e&&(l=this.button.find("span.ui-icon"),this._removeClass(l,null,this.options.icons.button)._addClass(l,null,o.button)),this._super(e,o),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return(e=(e=e&&(e.jquery||e.nodeType?r(e):this.document.find(e).eq(0)))&&e[0]?e:this.element.closest(".ui-front, dialog")).length?e:this.document[0].body},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;!1!==e?(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(e){var o=this,l=[];e.each(function(v,y){y.hidden||l.push(o._parseOption(r(y),v))}),this.items=l},_parseOption:function(e,o){var l=e.parent("optgroup");return{element:e,index:o,value:e.val(),label:e.text(),optgroup:l.attr("label")||"",disabled:l.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),r.widget("ui.slider",r.ui.mouse,{version:"1.13.0",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,o=this.options,l=this.element.find(".ui-slider-handle"),v=[],y=o.values&&o.values.length||1;for(l.length>y&&(l.slice(y).remove(),l=l.slice(0,y)),e=l.length;e<y;e++)v.push("<span tabindex='0'></span>");this.handles=l.add(r(v.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(k){r(this).data("ui-slider-handle-index",k).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:Array.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=r("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var o,l,v,y,k,O,Y=this,Z=this.options;return!Z.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),o=this._normValueFromMouse(O={x:e.pageX,y:e.pageY}),l=this._valueMax()-this._valueMin()+1,this.handles.each(function(dt){var ct=Math.abs(o-Y.values(dt));(ct<l||l===ct&&(dt===Y._lastChangedValue||Y.values(dt)===Z.min))&&(l=ct,v=r(this),y=dt)}),!1!==this._start(e,y)&&(this._mouseSliding=!0,this._handleIndex=y,this._addClass(v,null,"ui-state-active"),v.trigger("focus"),k=v.offset(),O=!r(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=O?{left:0,top:0}:{left:e.pageX-k.left-v.width()/2,top:e.pageY-k.top-v.height()/2-(parseInt(v.css("borderTopWidth"),10)||0)-(parseInt(v.css("borderBottomWidth"),10)||0)+(parseInt(v.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,y,o),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var o=this._normValueFromMouse(o={x:e.pageX,y:e.pageY});return this._slide(e,this._handleIndex,o),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var o;return(e=1<(e=(e="horizontal"===this.orientation?(o=this.elementSize.width,e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(o=this.elementSize.height,e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)))/o)?1:e)<0&&(e=0),"vertical"===this.orientation&&(e=1-e),o=this._valueMax()-this._valueMin(),o=this._valueMin()+e*o,this._trimAlignValue(o)},_uiHash:function(e,o,l){var v={handle:this.handles[e],handleIndex:e,value:void 0!==o?o:this.value()};return this._hasMultipleValues()&&(v.value=void 0!==o?o:this.values(e),v.values=l||this.values()),v},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,o){return this._trigger("start",e,this._uiHash(o))},_slide:function(e,o,l){var v,y=this.value(),k=this.values();this._hasMultipleValues()&&(v=this.values(o?0:1),y=this.values(o),2===this.options.values.length&&!0===this.options.range&&(l=0===o?Math.min(v,l):Math.max(v,l)),k[o]=l),l!==y&&!1!==this._trigger("slide",e,this._uiHash(o,l,k))&&(this._hasMultipleValues()?this.values(o,l):this.value(l))},_stop:function(e,o){this._trigger("stop",e,this._uiHash(o))},_change:function(e,o){this._keySliding||this._mouseSliding||(this._lastChangedValue=o,this._trigger("change",e,this._uiHash(o)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,o){var l,v,y;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(o),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!Array.isArray(e))return this._hasMultipleValues()?this._values(e):this.value();for(l=this.options.values,v=e,y=0;y<l.length;y+=1)l[y]=this._trimAlignValue(v[y]),this._change(null,y);this._refreshValue()},_setOption:function(e,o){var l,v=0;switch("range"===e&&!0===this.options.range&&("min"===o?(this.options.value=this._values(0),this.options.values=null):"max"===o&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(v=this.options.values.length),this._super(e,o),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(o),this.handles.css("horizontal"===o?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),l=v-1;0<=l;l--)this._change(null,l);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(e){var o,l;if(arguments.length)return this._trimAlignValue(e=this.options.values[e]);if(this._hasMultipleValues()){for(o=this.options.values.slice(),l=0;l<o.length;l+=1)o[l]=this._trimAlignValue(o[l]);return o}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var o=0<this.options.step?this.options.step:1,l=(e-this._valueMin())%o;return e-=l,2*Math.abs(l)>=o&&(e+=0<l?o:-o),parseFloat(e.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,o=this._valueMin(),l=this.options.step;(e=Math.round((e-o)/l)*l+o)>this.options.max&&(e-=l),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min?Math.max(e,this._precisionOf(this.options.min)):e},_precisionOf:function(e){var o=e.toString();return-1===(e=o.indexOf("."))?0:o.length-e-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,o,l,v,y,k=this.options.range,O=this.options,Y=this,Z=!this._animateOff&&O.animate,dt={};this._hasMultipleValues()?this.handles.each(function(ct){o=(Y.values(ct)-Y._valueMin())/(Y._valueMax()-Y._valueMin())*100,dt["horizontal"===Y.orientation?"left":"bottom"]=o+"%",r(this).stop(1,1)[Z?"animate":"css"](dt,O.animate),!0===Y.options.range&&("horizontal"===Y.orientation?(0===ct&&Y.range.stop(1,1)[Z?"animate":"css"]({left:o+"%"},O.animate),1===ct&&Y.range[Z?"animate":"css"]({width:o-e+"%"},{queue:!1,duration:O.animate})):(0===ct&&Y.range.stop(1,1)[Z?"animate":"css"]({bottom:o+"%"},O.animate),1===ct&&Y.range[Z?"animate":"css"]({height:o-e+"%"},{queue:!1,duration:O.animate}))),e=o}):(l=this.value(),v=this._valueMin(),y=this._valueMax(),dt["horizontal"===this.orientation?"left":"bottom"]=(o=y!==v?(l-v)/(y-v)*100:0)+"%",this.handle.stop(1,1)[Z?"animate":"css"](dt,O.animate),"min"===k&&"horizontal"===this.orientation&&this.range.stop(1,1)[Z?"animate":"css"]({width:o+"%"},O.animate),"max"===k&&"horizontal"===this.orientation&&this.range.stop(1,1)[Z?"animate":"css"]({width:100-o+"%"},O.animate),"min"===k&&"vertical"===this.orientation&&this.range.stop(1,1)[Z?"animate":"css"]({height:o+"%"},O.animate),"max"===k&&"vertical"===this.orientation&&this.range.stop(1,1)[Z?"animate":"css"]({height:100-o+"%"},O.animate))},_handleEvents:{keydown:function(e){var o,l,v,y=r(e.target).data("ui-slider-handle-index");switch(e.keyCode){case r.ui.keyCode.HOME:case r.ui.keyCode.END:case r.ui.keyCode.PAGE_UP:case r.ui.keyCode.PAGE_DOWN:case r.ui.keyCode.UP:case r.ui.keyCode.RIGHT:case r.ui.keyCode.DOWN:case r.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(r(e.target),null,"ui-state-active"),!1===this._start(e,y)))return}switch(v=this.options.step,o=l=this._hasMultipleValues()?this.values(y):this.value(),e.keyCode){case r.ui.keyCode.HOME:l=this._valueMin();break;case r.ui.keyCode.END:l=this._valueMax();break;case r.ui.keyCode.PAGE_UP:l=this._trimAlignValue(o+(this._valueMax()-this._valueMin())/this.numPages);break;case r.ui.keyCode.PAGE_DOWN:l=this._trimAlignValue(o-(this._valueMax()-this._valueMin())/this.numPages);break;case r.ui.keyCode.UP:case r.ui.keyCode.RIGHT:if(o===this._valueMax())return;l=this._trimAlignValue(o+v);break;case r.ui.keyCode.DOWN:case r.ui.keyCode.LEFT:if(o===this._valueMin())return;l=this._trimAlignValue(o-v)}this._slide(e,y,l)},keyup:function(e){var o=r(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,o),this._change(e,o),this._removeClass(r(e.target),null,"ui-state-active"))}}}),r.widget("ui.sortable",r.ui.mouse,{version:"1.13.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,o,l){return o<=e&&e<o+l},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,o){this._super(e,o),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),r.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,o){var l=null,v=!1,y=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),r(e.target).parents().each(function(){if(r.data(this,y.widgetName+"-item")===y)return l=r(this),!1}),!(l=r.data(e.target,y.widgetName+"-item")===y?r(e.target):l)||this.options.handle&&!o&&(r(this.options.handle,l).find("*").addBack().each(function(){this===e.target&&(v=!0)}),!v)||(this.currentItem=l,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,o,l){var v,y,k=this.options;if((this.currentContainer=this).refreshPositions(),this.appendTo=r("parent"!==k.appendTo?k.appendTo:this.currentItem.parent()),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},r.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),k.cursorAt&&this._adjustOffsetFromHelper(k.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),r.extend(this.offset,{parent:this._getParentOffset()}),k.containment&&this._setContainment(),k.cursor&&"auto"!==k.cursor&&(y=this.document.find("body"),this.storedCursor=y.css("cursor"),y.css("cursor",k.cursor),this.storedStylesheet=r("<style>*{ cursor: "+k.cursor+" !important; }</style>").appendTo(y)),k.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",k.zIndex)),k.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",k.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!l)for(v=this.containers.length-1;0<=v;v--)this.containers[v]._trigger("activate",e,this._uiHash(this));return r.ui.ddmanager&&(r.ui.ddmanager.current=this),r.ui.ddmanager&&!k.dropBehaviour&&r.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(e),!0},_scroll:function(e){var o=this.options,l=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=l=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=l=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=l=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=l=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?l=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(l=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?l=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(l=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),l},_mouseDrag:function(e){var o,l,v,y,k=this.options;if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),this._contactContainers(e),null!==this.innermostContainer)for(k.scroll&&!1!==this._scroll(e)&&(this._refreshItemPositions(!0),r.ui.ddmanager&&!k.dropBehaviour&&r.ui.ddmanager.prepareOffsets(this,e)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},o=this.items.length-1;0<=o;o--)if(v=(l=this.items[o]).item[0],(y=this._intersectsWithPointer(l))&&l.instance===this.currentContainer&&!(v===this.currentItem[0]||this.placeholder[1===y?"next":"prev"]()[0]===v||r.contains(this.placeholder[0],v)||"semi-dynamic"===this.options.type&&r.contains(this.element[0],v))){if(this.direction=1===y?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(l))break;this._rearrange(e,l),this._trigger("change",e,this._uiHash());break}return r.ui.ddmanager&&r.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,o){var l,v,y,k;if(e)return r.ui.ddmanager&&!this.options.dropBehaviour&&r.ui.ddmanager.drop(this,e),this.options.revert?(v=(l=this).placeholder.offset(),k={},(y=this.options.axis)&&"x"!==y||(k.left=v.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),y&&"y"!==y||(k.top=v.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,r(this.helper).animate(k,parseInt(this.options.revert,10)||500,function(){l._clear(e)})):this._clear(e,o),!1},cancel:function(){if(this.dragging){this._mouseUp(new r.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),r.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?r(this.domPosition.prev).after(this.currentItem):r(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var o=this._getItemsAsjQuery(e&&e.connected),l=[];return e=e||{},r(o).each(function(){var v=(r(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);v&&l.push((e.key||v[1]+"[]")+"="+(e.key&&e.expression?v[1]:v[2]))}),!l.length&&e.key&&l.push(e.key+"="),l.join("&")},toArray:function(e){var o=this._getItemsAsjQuery(e&&e.connected),l=[];return e=e||{},o.each(function(){l.push(r(e.item||this).attr(e.attribute||"id")||"")}),l},_intersectsWith:function(e){var o=this.positionAbs.left,v=this.positionAbs.top,k=e.left,O=k+e.width,Y=e.top,Z=Y+e.height,dt=this.offset.click.top,ct=this.offset.click.left;return dt="x"===this.options.axis||Y<v+dt&&v+dt<Z,ct="y"===this.options.axis||k<o+ct&&o+ct<O,"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?dt&&ct:k<o+this.helperProportions.width/2&&o+this.helperProportions.width-this.helperProportions.width/2<O&&Y<v+this.helperProportions.height/2&&v+this.helperProportions.height-this.helperProportions.height/2<Z},_intersectsWithPointer:function(e){var o="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height);return e="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),!(!o||!e)&&(o=this.dragDirection.vertical,e=this.dragDirection.horizontal,this.floating?"right"===e||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(e){var o=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),l=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),v=this.dragDirection.vertical;return e=this.dragDirection.horizontal,this.floating&&e?"right"===e&&l||"left"===e&&!l:v&&("down"===v&&o||"up"===v&&!o)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var o,l,v,y,k=[],O=[],Y=this._connectWith();if(Y&&e)for(o=Y.length-1;0<=o;o--)for(l=(v=r(Y[o],this.document[0])).length-1;0<=l;l--)(y=r.data(v[l],this.widgetFullName))&&y!==this&&!y.options.disabled&&O.push(["function"==typeof y.options.items?y.options.items.call(y.element):r(y.options.items,y.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),y]);function Z(){k.push(this)}for(O.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):r(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),o=O.length-1;0<=o;o--)O[o][0].each(Z);return r(k)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=r.grep(this.items,function(o){for(var l=0;l<e.length;l++)if(e[l]===o.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var o,l,v,y,k,O,Y,Z,dt=this.items,ct=[["function"==typeof this.options.items?this.options.items.call(this.element[0],e,{item:this.currentItem}):r(this.options.items,this.element),this]],st=this._connectWith();if(st&&this.ready)for(o=st.length-1;0<=o;o--)for(l=(v=r(st[o],this.document[0])).length-1;0<=l;l--)(y=r.data(v[l],this.widgetFullName))&&y!==this&&!y.options.disabled&&(ct.push(["function"==typeof y.options.items?y.options.items.call(y.element[0],e,{item:this.currentItem}):r(y.options.items,y.element),y]),this.containers.push(y));for(o=ct.length-1;0<=o;o--)for(k=ct[o][1],Z=(O=ct[o][l=0]).length;l<Z;l++)(Y=r(O[l])).data(this.widgetName+"-item",k),dt.push({item:Y,instance:k,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(e){for(var o,l,v=this.items.length-1;0<=v;v--)o=this.items[v],this.currentContainer&&o.instance!==this.currentContainer&&o.item[0]!==this.currentItem[0]||(l=this.options.toleranceElement?r(this.options.toleranceElement,o.item):o.item,e||(o.width=l.outerWidth(),o.height=l.outerHeight()),l=l.offset(),o.left=l.left,o.top=l.top)},refreshPositions:function(e){var o,l;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),null!==this.innermostContainer&&this._refreshItemPositions(e),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(o=this.containers.length-1;0<=o;o--)l=this.containers[o].element.offset(),this.containers[o].containerCache.left=l.left,this.containers[o].containerCache.top=l.top,this.containers[o].containerCache.width=this.containers[o].element.outerWidth(),this.containers[o].containerCache.height=this.containers[o].element.outerHeight();return this},_createPlaceholder:function(e){var o,l,v=(e=e||this).options;v.placeholder&&v.placeholder.constructor!==String||(o=v.placeholder,l=e.currentItem[0].nodeName.toLowerCase(),v.placeholder={element:function(){var y=r("<"+l+">",e.document[0]);return e._addClass(y,"ui-sortable-placeholder",o||e.currentItem[0].className)._removeClass(y,"ui-sortable-helper"),"tbody"===l?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),r("<tr>",e.document[0]).appendTo(y)):"tr"===l?e._createTrPlaceholder(e.currentItem,y):"img"===l&&y.attr("src",e.currentItem.attr("src")),o||y.css("visibility","hidden"),y},update:function(y,k){o&&!v.forcePlaceholderSize||(k.height()&&(!v.forcePlaceholderSize||"tbody"!==l&&"tr"!==l)||k.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),k.width()||k.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=r(v.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),v.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,o){var l=this;e.children().each(function(){r("<td>&#160;</td>",l.document[0]).attr("colspan",r(this).attr("colspan")||1).appendTo(o)})},_contactContainers:function(e){for(var o,l,v,y,k,O,Y,Z,dt,ct=null,st=null,St=this.containers.length-1;0<=St;St--)r.contains(this.currentItem[0],this.containers[St].element[0])||(this._intersectsWith(this.containers[St].containerCache)?ct&&r.contains(this.containers[St].element[0],ct.element[0])||(ct=this.containers[St],st=St):this.containers[St].containerCache.over&&(this.containers[St]._trigger("out",e,this._uiHash(this)),this.containers[St].containerCache.over=0));if(this.innermostContainer=ct)if(1===this.containers.length)this.containers[st].containerCache.over||(this.containers[st]._trigger("over",e,this._uiHash(this)),this.containers[st].containerCache.over=1);else{for(l=1e4,v=null,y=(Z=ct.floating||this._isFloating(this.currentItem))?"left":"top",k=Z?"width":"height",dt=Z?"pageX":"pageY",o=this.items.length-1;0<=o;o--)r.contains(this.containers[st].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(O=this.items[o].item.offset()[y],Y=!1,e[dt]-O>this.items[o][k]/2&&(Y=!0),Math.abs(e[dt]-O)<l&&(l=Math.abs(e[dt]-O),v=this.items[o],this.direction=Y?"up":"down"));(v||this.options.dropOnEmpty)&&(this.currentContainer!==this.containers[st]?(v?this._rearrange(e,v,null,!0):this._rearrange(e,null,this.containers[st].element,!0),this._trigger("change",e,this._uiHash()),this.containers[st]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[st],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[st]._trigger("over",e,this._uiHash(this)),this.containers[st].containerCache.over=1):this.currentContainer.containerCache.over||(this.containers[st]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1))}},_createHelper:function(e){var o=this.options;return(e="function"==typeof o.helper?r(o.helper.apply(this.element[0],[e,this.currentItem])):"clone"===o.helper?this.currentItem.clone():this.currentItem).parents("body").length||this.appendTo[0].appendChild(e[0]),e[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),e[0].style.width&&!o.forceHelperSize||e.width(this.currentItem.width()),e[0].style.height&&!o.forceHelperSize||e.height(this.currentItem.height()),e},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=Array.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&r.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&r.ui.ie?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,o,l=this.options;"parent"===l.containment&&(l.containment=this.helper[0].parentNode),"document"!==l.containment&&"window"!==l.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===l.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===l.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(l.containment)||(e=r(l.containment)[0],o=r(l.containment).offset(),l="hidden"!==r(e).css("overflow"),this.containment=[o.left+(parseInt(r(e).css("borderLeftWidth"),10)||0)+(parseInt(r(e).css("paddingLeft"),10)||0)-this.margins.left,o.top+(parseInt(r(e).css("borderTopWidth"),10)||0)+(parseInt(r(e).css("paddingTop"),10)||0)-this.margins.top,o.left+(l?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(r(e).css("borderLeftWidth"),10)||0)-(parseInt(r(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,o.top+(l?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(r(e).css("borderTopWidth"),10)||0)-(parseInt(r(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,o){o=o||this.position;var l="absolute"===e?1:-1,v="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&r.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return e=/(html|body)/i.test(v[0].tagName),{top:o.top+this.offset.relative.top*l+this.offset.parent.top*l-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():e?0:v.scrollTop())*l,left:o.left+this.offset.relative.left*l+this.offset.parent.left*l-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():e?0:v.scrollLeft())*l}},_generatePosition:function(e){var o=this.options,l=e.pageX,v=e.pageY,y="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&r.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=/(html|body)/i.test(y[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(l=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(v=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(l=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(v=this.containment[3]+this.offset.click.top)),o.grid&&(e=this.originalPageY+Math.round((v-this.originalPageY)/o.grid[1])*o.grid[1],v=!this.containment||e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-o.grid[1]:e+o.grid[1],e=this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0],l=!this.containment||e-this.offset.click.left>=this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-o.grid[0]:e+o.grid[0])),{top:v-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():k?0:y.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():k?0:y.scrollLeft())}},_rearrange:function(e,o,l,v){l?l[0].appendChild(this.placeholder[0]):o.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?o.item[0]:o.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var y=this.counter;this._delay(function(){y===this.counter&&this.refreshPositions(!v)})},_clear:function(e,o){this.reverting=!1;var l,v=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(l in this._storedCSS)"auto"!==this._storedCSS[l]&&"static"!==this._storedCSS[l]||(this._storedCSS[l]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function y(k,O,Y){return function(Z){Y._trigger(k,Z,O._uiHash(O))}}for(this.fromOutside&&!o&&v.push(function(k){this._trigger("receive",k,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||o||v.push(function(k){this._trigger("update",k,this._uiHash())}),this!==this.currentContainer&&(o||(v.push(function(k){this._trigger("remove",k,this._uiHash())}),v.push(function(k){return function(O){k._trigger("receive",O,this._uiHash(this))}}.call(this,this.currentContainer)),v.push(function(k){return function(O){k._trigger("update",O,this._uiHash(this))}}.call(this,this.currentContainer)))),l=this.containers.length-1;0<=l;l--)o||v.push(y("deactivate",this,this.containers[l])),this.containers[l].containerCache.over&&(v.push(y("out",this,this.containers[l])),this.containers[l].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,o||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!o){for(l=0;l<v.length;l++)v[l].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===r.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var o=e||this;return{helper:o.helper,placeholder:o.placeholder||r([]),position:o.position,originalPosition:o.originalPosition,offset:o.positionAbs,item:o.currentItem,sender:e?e.element:null}}}),r.widget("ui.spinner",{version:"1.13.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),o=this.element;return r.each(["min","max","step"],function(l,v){var y=o.attr(v);null!=y&&y.length&&(e[v]=y)}),e},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,o){var l=r.ui.safeActiveElement(this.document[0]);if(this.element[0]===l&&o){if(!this.spinning&&!this._start(e))return!1;this._spin((0<o?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){var o;function l(){this.element[0]===r.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=o,this._delay(function(){this.previous=o}))}o=this.element[0]===r.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),l.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,l.call(this)}),!1!==this._start(e)&&this._repeat(null,r(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(r(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,r(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var o=this.options,l=r.ui.keyCode;switch(e.keyCode){case l.UP:return this._repeat(null,1,e),!0;case l.DOWN:return this._repeat(null,-1,e),!0;case l.PAGE_UP:return this._repeat(null,o.page,e),!0;case l.PAGE_DOWN:return this._repeat(null,-o.page,e),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(e,o,l){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,o,l)},e),this._spin(o*this.options.step,l)},_spin:function(e,o){var l=this.value()||0;this.counter||(this.counter=1),l=this._adjustValue(l+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",o,{value:l})||(this._value(l),this.counter++)},_increment:function(e){var o=this.options.incremental;return o?"function"==typeof o?o(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min?Math.max(e,this._precisionOf(this.options.min)):e},_precisionOf:function(e){var o=e.toString();return-1===(e=o.indexOf("."))?0:o.length-e-1},_adjustValue:function(e){var o=this.options,l=null!==o.min?o.min:0;return e=l+Math.round((e-l)/o.step)*o.step,e=parseFloat(e.toFixed(this._precision())),null!==o.max&&e>o.max?o.max:null!==o.min&&e<o.min?o.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,o){var l;if("culture"===e||"numberFormat"===e)return l=this._parse(this.element.val()),this.options[e]=o,void this.element.val(this._format(l));"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof o&&(o=this._parse(o)),"icons"===e&&(l=this.buttons.first().find(".ui-icon"),this._removeClass(l,null,this.options.icons.up),this._addClass(l,null,o.up),l=this.buttons.last().find(".ui-icon"),this._removeClass(l,null,this.options.icons.down),this._addClass(l,null,o.down)),this._super(e,o)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:Ee(function(e){this._super(e)}),_parse:function(e){return""===(e="string"==typeof e&&""!==e?window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e:e)||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,o){var l;""!==e&&null!==(l=this._parse(e))&&(o||(l=this._adjustValue(l)),e=this._format(l)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:Ee(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:Ee(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:Ee(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:Ee(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());Ee(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==r.uiBackCompat&&r.widget("ui.spinner",r.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),r.widget("ui.tabs",{version:"1.13.0",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(Xt=/#.*$/,function(e){var o=e.href.replace(Xt,""),l=location.href.replace(Xt,"");try{o=decodeURIComponent(o)}catch(v){}try{l=decodeURIComponent(l)}catch(v){}return 1<e.hash.length&&o===l}),_create:function(){var e=this,o=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,o.collapsible),this._processTabs(),o.active=this._initialActive(),Array.isArray(o.disabled)&&(o.disabled=r.uniqueSort(o.disabled.concat(r.map(this.tabs.filter(".ui-state-disabled"),function(l){return e.tabs.index(l)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(o.active):r(),this._refresh(),this.active.length&&this.load(o.active)},_initialActive:function(){var e=this.options.active,o=this.options.collapsible,l=location.hash.substring(1);return null===e&&(l&&this.tabs.each(function(v,y){if(r(y).attr("aria-controls")===l)return e=v,!1}),null!==(e=null===e?this.tabs.index(this.tabs.filter(".ui-tabs-active")):e)&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!o&&0),e=!o&&!1===e&&this.anchors.length?0:e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):r()}},_tabKeydown:function(e){var o=r(r.ui.safeActiveElement(this.document[0])).closest("li"),l=this.tabs.index(o),v=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case r.ui.keyCode.RIGHT:case r.ui.keyCode.DOWN:l++;break;case r.ui.keyCode.UP:case r.ui.keyCode.LEFT:v=!1,l--;break;case r.ui.keyCode.END:l=this.anchors.length-1;break;case r.ui.keyCode.HOME:l=0;break;case r.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(l);case r.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(l!==this.options.active&&l);default:return}e.preventDefault(),clearTimeout(this.activating),l=this._focusNextTab(l,v),e.ctrlKey||e.metaKey||(o.attr("aria-selected","false"),this.tabs.eq(l).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",l)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===r.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===r.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===r.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,o){for(var l=this.tabs.length-1;-1!==r.inArray(e=(e=l<e?0:e)<0?l:e,this.options.disabled);)e=o?e+1:e-1;return e},_focusNextTab:function(e,o){return e=this._findNextTab(e,o),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,o){"active"!==e?(this._super(e,o),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,o),o||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(o),"heightStyle"===e&&this._setupHeightStyle(o)):this._activate(o)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,o=this.tablist.children(":has(a[href])");e.disabled=r.map(o.filter(".ui-state-disabled"),function(l){return o.index(l)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!r.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=r()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=r()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,o=this.tabs,l=this.anchors,v=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(y){r(this).is(".ui-state-disabled")&&y.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){r(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return r("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=r(),this.anchors.each(function(y,k){var O,Y,Z,dt=r(k).uniqueId().attr("id"),ct=r(k).closest("li"),st=ct.attr("aria-controls");e._isLocal(k)?(Z=(O=k.hash).substring(1),Y=e.element.find(e._sanitizeSelector(O))):(Z=ct.attr("aria-controls")||r({}).uniqueId()[0].id,(Y=e.element.find(O="#"+Z)).length||(Y=e._createPanel(Z)).insertAfter(e.panels[y-1]||e.tablist),Y.attr("aria-live","polite")),Y.length&&(e.panels=e.panels.add(Y)),st&&ct.data("ui-tabs-aria-controls",st),ct.attr({"aria-controls":Z,"aria-labelledby":dt}),Y.attr("aria-labelledby",dt)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),o&&(this._off(o.not(this.tabs)),this._off(l.not(this.anchors)),this._off(v.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return r("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var o,l;for(Array.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),l=0;o=this.tabs[l];l++)o=r(o),!0===e||-1!==r.inArray(l,e)?(o.attr("aria-disabled","true"),this._addClass(o,null,"ui-state-disabled")):(o.removeAttr("aria-disabled"),this._removeClass(o,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var o={};e&&r.each(e.split(" "),function(l,v){o[v]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(l){l.preventDefault()}}),this._on(this.anchors,o),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var o,l=this.element.parent();"fill"===e?(o=l.height(),o-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var v=r(this),y=v.css("position");"absolute"!==y&&"fixed"!==y&&(o-=v.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){o-=r(this).outerHeight(!0)}),this.panels.each(function(){r(this).height(Math.max(0,o-r(this).innerHeight()+r(this).height()))}).css("overflow","auto")):"auto"===e&&(o=0,this.panels.each(function(){o=Math.max(o,r(this).height("").height())}).height(o))},_eventHandler:function(e){var o=this.options,l=this.active,v=r(e.currentTarget).closest("li"),y=v[0]===l[0],k=y&&o.collapsible,O=k?r():this._getPanelForTab(v),Y=l.length?this._getPanelForTab(l):r();l={oldTab:l,oldPanel:Y,newTab:k?r():v,newPanel:O},e.preventDefault(),v.hasClass("ui-state-disabled")||v.hasClass("ui-tabs-loading")||this.running||y&&!o.collapsible||!1===this._trigger("beforeActivate",e,l)||(o.active=!k&&this.tabs.index(v),this.active=y?r():v,this.xhr&&this.xhr.abort(),Y.length||O.length||r.error("jQuery UI Tabs: Mismatching fragment identifier."),O.length&&this.load(this.tabs.index(v),e),this._toggle(e,l))},_toggle:function(e,o){var l=this,v=o.newPanel,y=o.oldPanel;function k(){l.running=!1,l._trigger("activate",e,o)}function O(){l._addClass(o.newTab.closest("li"),"ui-tabs-active","ui-state-active"),v.length&&l.options.show?l._show(v,l.options.show,k):(v.show(),k())}this.running=!0,y.length&&this.options.hide?this._hide(y,this.options.hide,function(){l._removeClass(o.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),O()}):(this._removeClass(o.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),y.hide(),O()),y.attr("aria-hidden","true"),o.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),v.length&&y.length?o.oldTab.attr("tabIndex",-1):v.length&&this.tabs.filter(function(){return 0===r(this).attr("tabIndex")}).attr("tabIndex",-1),v.attr("aria-hidden","false"),o.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){(e=this._findActive(e))[0]!==this.active[0]&&(e=(e=e.length?e:this.active).find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:r.noop}))},_findActive:function(e){return!1===e?r():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e?this.anchors.index(this.anchors.filter("[href$='"+r.escapeSelector(e)+"']")):e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){r.data(this,"ui-tabs-destroy")?r(this).remove():r(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=r(this),o=e.data("ui-tabs-aria-controls");o?e.attr("aria-controls",o).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var o=this.options.disabled;!1!==o&&(o=void 0!==e&&(e=this._getIndex(e),Array.isArray(o)?r.map(o,function(l){return l!==e?l:null}):r.map(this.tabs,function(l,v){return v!==e?v:null})),this._setOptionDisabled(o))},disable:function(e){var o=this.options.disabled;if(!0!==o){if(void 0===e)o=!0;else{if(e=this._getIndex(e),-1!==r.inArray(e,o))return;o=Array.isArray(o)?r.merge([e],o).sort():[e]}this._setOptionDisabled(o)}},load:function(e,o){function l(Y,Z){"abort"===Z&&v.panels.stop(!1,!0),v._removeClass(y,"ui-tabs-loading"),k.removeAttr("aria-busy"),Y===v.xhr&&delete v.xhr}e=this._getIndex(e);var v=this,y=this.tabs.eq(e),k=(e=y.find(".ui-tabs-anchor"),this._getPanelForTab(y)),O={tab:y,panel:k};this._isLocal(e[0])||(this.xhr=r.ajax(this._ajaxSettings(e,o,O)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(y,"ui-tabs-loading"),k.attr("aria-busy","true"),this.xhr.done(function(Y,Z,dt){setTimeout(function(){k.html(Y),v._trigger("load",o,O),l(dt,Z)},1)}).fail(function(Y,Z){setTimeout(function(){l(Y,Z)},1)})))},_ajaxSettings:function(e,o,l){var v=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(y,k){return v._trigger("beforeLoad",o,r.extend({jqXHR:y,ajaxSettings:k},l))}}},_getPanelForTab:function(e){return e=r(e).attr("aria-controls"),this.element.find(this._sanitizeSelector("#"+e))}}),!1!==r.uiBackCompat&&r.widget("ui.tabs",r.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),r.widget("ui.tooltip",{version:"1.13.0",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=r(this).attr("title");return r("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,o){var l=(e.attr("aria-describedby")||"").split(/\s+/);l.push(o),e.data("ui-tooltip-id",o).attr("aria-describedby",String.prototype.trim.call(l.join(" ")))},_removeDescribedBy:function(e){var o=e.data("ui-tooltip-id"),l=(e.attr("aria-describedby")||"").split(/\s+/);-1!==(o=r.inArray(o,l))&&l.splice(o,1),e.removeData("ui-tooltip-id"),(l=String.prototype.trim.call(l.join(" ")))?e.attr("aria-describedby",l):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=r("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=r([])},_setOption:function(e,o){var l=this;this._super(e,o),"content"===e&&r.each(this.tooltips,function(v,y){l._updateContent(y.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var e=this;r.each(this.tooltips,function(o,l){var v=r.Event("blur");v.target=v.currentTarget=l.element[0],e.close(v,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var o=r(this);if(o.is("[title]"))return o.data("ui-tooltip-title",o.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=r(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=r([])},open:function(e){var o=this,l=r(e?e.target:this.element).closest(this.options.items);l.length&&!l.data("ui-tooltip-id")&&(l.attr("title")&&l.data("ui-tooltip-title",l.attr("title")),l.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&l.parents().each(function(){var v,y=r(this);y.data("ui-tooltip-open")&&((v=r.Event("blur")).target=v.currentTarget=this,o.close(v,!0)),y.attr("title")&&(y.uniqueId(),o.parents[this.id]={element:this,title:y.attr("title")},y.attr("title",""))}),this._registerCloseHandlers(e,l),this._updateContent(l,e))},_updateContent:function(e,o){var l=this.options.content,v=this,y=o?o.type:null;if("string"==typeof l||l.nodeType||l.jquery)return this._open(o,e,l);(l=l.call(e[0],function(k){v._delay(function(){e.data("ui-tooltip-open")&&(o&&(o.type=y),this._open(o,e,k))})}))&&this._open(o,e,l)},_open:function(e,o,l){var v,y,k,O=r.extend({},this.options.position);function Y(Z){O.of=Z,y.is(":hidden")||y.position(O)}l&&((v=this._find(o))?v.tooltip.find(".ui-tooltip-content").html(l):(o.is("[title]")&&(e&&"mouseover"===e.type?o.attr("title",""):o.removeAttr("title")),v=this._tooltip(o),this._addDescribedBy(o,(y=v.tooltip).attr("id")),y.find(".ui-tooltip-content").html(l),this.liveRegion.children().hide(),(l=r("<div>").html(y.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:Y}),Y(e)):y.position(r.extend({of:o},this.options.position)),y.hide(),this._show(y,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(k=this.delayedShow=setInterval(function(){y.is(":visible")&&(Y(O.of),clearInterval(k))},13)),this._trigger("open",e,{tooltip:y})))},_registerCloseHandlers:function(e,o){var l={keyup:function(v){v.keyCode===r.ui.keyCode.ESCAPE&&((v=r.Event(v)).currentTarget=o[0],this.close(v,!0))}};o[0]!==this.element[0]&&(l.remove=function(){this._removeTooltip(this._find(o).tooltip)}),e&&"mouseover"!==e.type||(l.mouseleave="close"),e&&"focusin"!==e.type||(l.focusout="close"),this._on(!0,o,l)},close:function(e){var o,l=this,v=r(e?e.currentTarget:this.element),y=this._find(v);y?(o=y.tooltip,y.closing||(clearInterval(this.delayedShow),v.data("ui-tooltip-title")&&!v.attr("title")&&v.attr("title",v.data("ui-tooltip-title")),this._removeDescribedBy(v),y.hiding=!0,o.stop(!0),this._hide(o,this.options.hide,function(){l._removeTooltip(r(this))}),v.removeData("ui-tooltip-open"),this._off(v,"mouseleave focusout keyup"),v[0]!==this.element[0]&&this._off(v,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&r.each(this.parents,function(k,O){r(O.element).attr("title",O.title),delete l.parents[k]}),y.closing=!0,this._trigger("close",e,{tooltip:o}),y.hiding||(y.closing=!1))):v.removeData("ui-tooltip-open")},_tooltip:function(e){var o=r("<div>").attr("role","tooltip"),l=r("<div>").appendTo(o),v=o.uniqueId().attr("id");return this._addClass(l,"ui-tooltip-content"),this._addClass(o,"ui-tooltip","ui-widget ui-widget-content"),o.appendTo(this._appendTo(e)),this.tooltips[v]={element:e,tooltip:o}},_find:function(e){return(e=e.data("ui-tooltip-id"))?this.tooltips[e]:null},_removeTooltip:function(e){clearInterval(this.delayedShow),e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){return(e=e.closest(".ui-front, dialog")).length?e:this.document[0].body},_destroy:function(){var e=this;r.each(this.tooltips,function(o,l){var v=r.Event("blur");v.target=v.currentTarget=(l=l.element)[0],e.close(v,!0),r("#"+o).remove(),l.data("ui-tooltip-title")&&(l.attr("title")||l.attr("title",l.data("ui-tooltip-title")),l.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==r.uiBackCompat&&r.widget("ui.tooltip",r.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}})}),function(){var Ct,Ht=[].indexOf||function(Ct){for(var je=0,We=this.length;je<We;je++)if(je in this&&this[je]===Ct)return je;return-1},wn=[].slice,Sn=function(Ct,je){return function(){return Ct.apply(je,arguments)}},pe={}.hasOwnProperty;Ct=function(Ct){var je,We,Re,sn,On,_n,Pe,ue,he,dn,Vt,qe,_e,ze,$,L,re,ve,Ue,gn,ae,et;return We=function(et,nt,n){var s,h,f,w;for(f=(h=(et+="").split("."))[0],w=h.length>1?n+h[1]:"",s=/(\d+)(\d{3})/;s.test(f);)f=f.replace(s,"$1"+nt+"$2");return f+w},Vt=function(et){return et=Ct.extend({},{digitsAfterDecimal:2,scaler:1,thousandsSep:",",decimalSep:".",prefix:"",suffix:""},et),function(n){var s;return isNaN(n)||!isFinite(n)?"":(s=We((et.scaler*n).toFixed(et.digitsAfterDecimal),et.thousandsSep,et.decimalSep),""+et.prefix+s+et.suffix)}},ve=Vt(),Ue=Vt({digitsAfterDecimal:0}),gn=Vt({digitsAfterDecimal:1,scaler:100,suffix:"%"}),Re={count:function(et){return null==et&&(et=Ue),function(){return function(nt,n,s){return{count:0,push:function(){return this.count++},value:function(){return this.count},format:et}}}},uniques:function(et,nt){return null==nt&&(nt=Ue),function(n){var s;return s=n[0],function(h,f,w){return{uniq:[],push:function(C){if(Ht.call(this.uniq,C[s])<0)return this.uniq.push(C[s])},value:function(){return et(this.uniq)},format:nt,numInputs:null!=s?0:1}}}},sum:function(et){return null==et&&(et=ve),function(nt){var n;return n=nt[0],function(s,h,f){return{sum:0,push:function(w){if(!isNaN(parseFloat(w[n])))return this.sum+=parseFloat(w[n])},value:function(){return this.sum},format:et,numInputs:null!=n?0:1}}}},extremes:function(et,nt){return null==nt&&(nt=ve),function(n){var s;return s=n[0],function(h,f,w){return{val:null,sorter:Pe(null!=h?h.sorters:void 0,s),push:function(C){var E,M,G,H;if(H=C[s],"min"!==et&&"max"!==et||(H=parseFloat(H),isNaN(H)||(this.val=Math[et](H,null!=(E=this.val)?E:H))),"first"===et&&this.sorter(H,null!=(M=this.val)?M:H)<=0&&(this.val=H),"last"===et&&this.sorter(H,null!=(G=this.val)?G:H)>=0)return this.val=H},value:function(){return this.val},format:function(C){return isNaN(C)?C:nt(C)},numInputs:null!=s?0:1}}}},quantile:function(et,nt){return null==nt&&(nt=ve),function(n){var s;return s=n[0],function(h,f,w){return{vals:[],push:function(C){var E;if(E=parseFloat(C[s]),!isNaN(E))return this.vals.push(E)},value:function(){var C;return 0===this.vals.length?null:(this.vals.sort(function(E,M){return E-M}),C=(this.vals.length-1)*et,(this.vals[Math.floor(C)]+this.vals[Math.ceil(C)])/2)},format:nt,numInputs:null!=s?0:1}}}},runningStat:function(et,nt,n){return null==et&&(et="mean"),null==nt&&(nt=1),null==n&&(n=ve),function(s){var h;return h=s[0],function(f,w,C){return{n:0,m:0,s:0,push:function(E){var M,G;if(G=parseFloat(E[h]),!isNaN(G))return this.n+=1,1===this.n?this.m=G:(this.s=this.s+(G-this.m)*(G-(M=this.m+(G-this.m)/this.n)),this.m=M)},value:function(){if("mean"===et)return 0===this.n?NaN:this.m;if(this.n<=nt)return 0;switch(et){case"var":return this.s/(this.n-nt);case"stdev":return Math.sqrt(this.s/(this.n-nt))}},format:n,numInputs:null!=h?0:1}}}},sumOverSum:function(et){return null==et&&(et=ve),function(nt){var n,s;return s=nt[0],n=nt[1],function(h,f,w){return{sumNum:0,sumDenom:0,push:function(C){if(isNaN(parseFloat(C[s]))||(this.sumNum+=parseFloat(C[s])),!isNaN(parseFloat(C[n])))return this.sumDenom+=parseFloat(C[n])},value:function(){return this.sumNum/this.sumDenom},format:et,numInputs:null!=s&&null!=n?0:2}}}},sumOverSumBound80:function(et,nt){return null==et&&(et=!0),null==nt&&(nt=ve),function(n){var s,h;return h=n[0],s=n[1],function(f,w,C){return{sumNum:0,sumDenom:0,push:function(E){if(isNaN(parseFloat(E[h]))||(this.sumNum+=parseFloat(E[h])),!isNaN(parseFloat(E[s])))return this.sumDenom+=parseFloat(E[s])},value:function(){return(.821187207574908/this.sumDenom+this.sumNum/this.sumDenom+1.2815515655446004*(et?1:-1)*Math.sqrt(.410593603787454/(this.sumDenom*this.sumDenom)+this.sumNum*(1-this.sumNum/this.sumDenom)/(this.sumDenom*this.sumDenom)))/(1+1.642374415149816/this.sumDenom)},format:nt,numInputs:null!=h&&null!=s?0:2}}}},fractionOf:function(et,nt,n){return null==nt&&(nt="total"),null==n&&(n=gn),function(){var s;return s=1<=arguments.length?wn.call(arguments,0):[],function(h,f,w){return{selector:{total:[[],[]],row:[f,[]],col:[[],w]}[nt],inner:et.apply(null,s)(h,f,w),push:function(C){return this.inner.push(C)},format:n,value:function(){return this.inner.value()/h.getAggregator.apply(h,this.selector).inner.value()},numInputs:et.apply(null,s)().numInputs}}}}},Re.countUnique=function(et){return Re.uniques(function(nt){return nt.length},et)},Re.listUnique=function(et){return Re.uniques(function(nt){return nt.sort(dn).join(et)},function(nt){return nt})},Re.max=function(et){return Re.extremes("max",et)},Re.min=function(et){return Re.extremes("min",et)},Re.first=function(et){return Re.extremes("first",et)},Re.last=function(et){return Re.extremes("last",et)},Re.median=function(et){return Re.quantile(.5,et)},Re.average=function(et){return Re.runningStat("mean",1,et)},Re.var=function(et,nt){return Re.runningStat("var",et,nt)},Re.stdev=function(et,nt){return Re.runningStat("stdev",et,nt)},sn={Count:(et=Re).count(Ue),"Count Unique Values":et.countUnique(Ue),"List Unique Values":et.listUnique(", "),Sum:et.sum(ve),"Integer Sum":et.sum(Ue),Average:et.average(ve),Median:et.median(ve),"Sample Variance":et.var(1,ve),"Sample Standard Deviation":et.stdev(1,ve),Minimum:et.min(ve),Maximum:et.max(ve),First:et.first(ve),Last:et.last(ve),"Sum over Sum":et.sumOverSum(ve),"80% Upper Bound":et.sumOverSumBound80(!0,ve),"80% Lower Bound":et.sumOverSumBound80(!1,ve),"Sum as Fraction of Total":et.fractionOf(et.sum(),"total",gn),"Sum as Fraction of Rows":et.fractionOf(et.sum(),"row",gn),"Sum as Fraction of Columns":et.fractionOf(et.sum(),"col",gn),"Count as Fraction of Total":et.fractionOf(et.count(),"total",gn),"Count as Fraction of Rows":et.fractionOf(et.count(),"row",gn),"Count as Fraction of Columns":et.fractionOf(et.count(),"col",gn)},ze={Table:function(et,nt){return qe(et,nt)},"Table Barchart":function(et,nt){return Ct(qe(et,nt)).barchart()},Heatmap:function(et,nt){return Ct(qe(et,nt)).heatmap("heatmap",nt)},"Row Heatmap":function(et,nt){return Ct(qe(et,nt)).heatmap("rowheatmap",nt)},"Col Heatmap":function(et,nt){return Ct(qe(et,nt)).heatmap("colheatmap",nt)}},ue={en:{aggregators:sn,renderers:ze,localeStrings:{renderError:"An error occurred rendering the PivotTable results.",computeError:"An error occurred computing the PivotTable results.",uiRenderError:"An error occurred rendering the PivotTable UI.",selectAll:"Select All",selectNone:"Select None",tooMany:"(too many to list)",filterResults:"Filter values",apply:"Apply",cancel:"Cancel",totals:"Totals",vs:"vs",by:"by"}}},he=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],On=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ae=function(et){return("0"+et).substr(-2,2)},_n={bin:function(et,nt){return function(n){return n[et]-n[et]%nt}},dateFormat:function(et,nt,n,s,h){var f;return null==n&&(n=!1),null==s&&(s=he),null==h&&(h=On),f=n?"UTC":"",function(w){var C;return C=new Date(Date.parse(w[et])),isNaN(C)?"":nt.replace(/%(.)/g,function(E,M){switch(M){case"y":return C["get"+f+"FullYear"]();case"m":return ae(C["get"+f+"Month"]()+1);case"n":return s[C["get"+f+"Month"]()];case"d":return ae(C["get"+f+"Date"]());case"w":return h[C["get"+f+"Day"]()];case"x":return C["get"+f+"Day"]();case"H":return ae(C["get"+f+"Hours"]());case"M":return ae(C["get"+f+"Minutes"]());case"S":return ae(C["get"+f+"Seconds"]());default:return"%"+M}})}}},$=/(\d+)|(\D+)/g,_e=/\d/,L=/^0/,dn=function(nt,n){var s,h,f,w,C,E;if(null!=n&&null==nt)return-1;if(null!=nt&&null==n)return 1;if("number"==typeof nt&&isNaN(nt))return-1;if("number"==typeof n&&isNaN(n))return 1;if((C=+nt)<(E=+n))return-1;if(C>E)return 1;if("number"==typeof nt&&"number"!=typeof n)return-1;if("number"==typeof n&&"number"!=typeof nt)return 1;if("number"==typeof nt&&"number"==typeof n)return 0;if(isNaN(E)&&!isNaN(C))return-1;if(isNaN(C)&&!isNaN(E))return 1;if((s=String(nt))===(f=String(n)))return 0;if(!_e.test(s)||!_e.test(f))return s>f?1:-1;for(s=s.match($),f=f.match($);s.length&&f.length;)if((h=s.shift())!==(w=f.shift()))return _e.test(h)&&_e.test(w)?h.replace(L,".0")-w.replace(L,".0"):h>w?1:-1;return s.length-f.length},re=function(et){var nt,n,s,h;for(nt in s={},n={},et)s[h=et[nt]]=nt,"string"==typeof h&&(n[h.toLowerCase()]=nt);return function(f,w){return null!=s[f]&&null!=s[w]?s[f]-s[w]:null!=s[f]?-1:null!=s[w]?1:null!=n[f]&&null!=n[w]?n[f]-n[w]:null!=n[f]?-1:null!=n[w]?1:dn(f,w)}},Pe=function(et,nt){var n;if(null!=et)if(Ct.isFunction(et)){if(n=et(nt),Ct.isFunction(n))return n}else if(null!=et[nt])return et[nt];return dn},je=function(){function et(nt,n){var s,h,f,w,C,E,M,G,H,V,tt;null==n&&(n={}),this.getAggregator=Sn(this.getAggregator,this),this.getRowKeys=Sn(this.getRowKeys,this),this.getColKeys=Sn(this.getColKeys,this),this.sortKeys=Sn(this.sortKeys,this),this.arrSort=Sn(this.arrSort,this),this.input=nt,this.aggregator=null!=(s=n.aggregator)?s:Re.count()(),this.aggregatorName=null!=(h=n.aggregatorName)?h:"Count",this.colAttrs=null!=(f=n.cols)?f:[],this.rowAttrs=null!=(w=n.rows)?w:[],this.valAttrs=null!=(C=n.vals)?C:[],this.sorters=null!=(E=n.sorters)?E:{},this.rowOrder=null!=(M=n.rowOrder)?M:"key_a_to_z",this.colOrder=null!=(G=n.colOrder)?G:"key_a_to_z",this.derivedAttributes=null!=(H=n.derivedAttributes)?H:{},this.filter=null!=(V=n.filter)?V:function(){return!0},this.tree={},this.rowKeys=[],this.colKeys=[],this.rowTotals={},this.colTotals={},this.allTotal=this.aggregator(this,[],[]),this.sorted=!1,et.forEachRecord(this.input,this.derivedAttributes,(tt=this,function(ht){if(tt.filter(ht))return tt.processRecord(ht)}))}return et.forEachRecord=function(nt,n,s){var h,f,w,C,M,G,H,V,tt,ht,J;if(h=Ct.isEmptyObject(n)?s:function(mt){var At,Dt;for(At in n)mt[At]=null!=(Dt=(0,n[At])(mt))?Dt:mt[At];return s(mt)},Ct.isFunction(nt))return nt(h);if(Ct.isArray(nt)){if(Ct.isArray(nt[0])){for(w in tt=[],nt)if(pe.call(nt,w)&&(f=nt[w],w>0)){for(C in H={},V=nt[0])pe.call(V,C)&&(H[V[C]]=f[C]);tt.push(h(H))}return tt}for(ht=[],M=0,G=nt.length;M<G;M++)ht.push(h(H=nt[M]));return ht}if(nt instanceof Ct)return J=[],Ct("thead > tr > th",nt).each(function(mt){return J.push(Ct(this).text())}),Ct("tbody > tr",nt).each(function(mt){return H={},Ct("td",this).each(function(At){return H[J[At]]=Ct(this).text()}),h(H)});throw new Error("unknown input format")},et.prototype.forEachMatchingRecord=function(nt,n){return et.forEachRecord(this.input,this.derivedAttributes,(s=this,function(h){var f,w;if(s.filter(h)){for(f in nt)if(nt[f]!==(null!=(w=h[f])?w:"null"))return;return n(h)}}));var s},et.prototype.arrSort=function(nt){var s;return s=function(){var h,f,w;for(w=[],h=0,f=nt.length;h<f;h++)w.push(Pe(this.sorters,nt[h]));return w}.call(this),function(h,f){var w,C;for(C in s)if(pe.call(s,C)&&0!==(w=(0,s[C])(h[C],f[C])))return w;return 0}},et.prototype.sortKeys=function(){var nt,n;if(!this.sorted){switch(this.sorted=!0,n=this,nt=function(s,h){return n.getAggregator(s,h).value()},this.rowOrder){case"value_a_to_z":this.rowKeys.sort(function(s,h){return dn(nt(s,[]),nt(h,[]))});break;case"value_z_to_a":this.rowKeys.sort(function(s,h){return-dn(nt(s,[]),nt(h,[]))});break;default:this.rowKeys.sort(this.arrSort(this.rowAttrs))}switch(this.colOrder){case"value_a_to_z":return this.colKeys.sort(function(s,h){return dn(nt([],s),nt([],h))});case"value_z_to_a":return this.colKeys.sort(function(s,h){return-dn(nt([],s),nt([],h))});default:return this.colKeys.sort(this.arrSort(this.colAttrs))}}},et.prototype.getColKeys=function(){return this.sortKeys(),this.colKeys},et.prototype.getRowKeys=function(){return this.sortKeys(),this.rowKeys},et.prototype.processRecord=function(nt){var n,s,h,f,w,C,E,M,G,H,V,tt;for(n=[],tt=[],f=0,w=(M=this.colAttrs).length;f<w;f++)n.push(null!=(G=nt[M[f]])?G:"null");for(E=0,C=(H=this.rowAttrs).length;E<C;E++)tt.push(null!=(V=nt[H[E]])?V:"null");if(h=tt.join(String.fromCharCode(0)),s=n.join(String.fromCharCode(0)),this.allTotal.push(nt),0!==tt.length&&(this.rowTotals[h]||(this.rowKeys.push(tt),this.rowTotals[h]=this.aggregator(this,tt,[])),this.rowTotals[h].push(nt)),0!==n.length&&(this.colTotals[s]||(this.colKeys.push(n),this.colTotals[s]=this.aggregator(this,[],n)),this.colTotals[s].push(nt)),0!==n.length&&0!==tt.length)return this.tree[h]||(this.tree[h]={}),this.tree[h][s]||(this.tree[h][s]=this.aggregator(this,tt,n)),this.tree[h][s].push(nt)},et.prototype.getAggregator=function(nt,n){var s,h,f;return f=nt.join(String.fromCharCode(0)),h=n.join(String.fromCharCode(0)),null!=(s=0===nt.length&&0===n.length?this.allTotal:0===nt.length?this.colTotals[h]:0===n.length?this.rowTotals[f]:this.tree[f][h])?s:{value:function(){return null},format:function(){return""}}},et}(),Ct.pivotUtilities={aggregatorTemplates:Re,aggregators:sn,renderers:ze,derivers:_n,locales:ue,naturalSort:dn,numberFormat:Vt,sortAs:re,PivotData:je},qe=function(et,nt){var n,s,h,f,w,E,M,G,H,V,tt,ht,J,mt,At,Dt,at,ne,Et,yt,Bt,le,Kt;for(G in nt=Ct.extend(!0,{},{table:{clickCallback:null,rowTotals:!0,colTotals:!0},localeStrings:{totals:"Totals"}},nt),h=et.colAttrs,tt=et.rowAttrs,J=et.getRowKeys(),w=et.getColKeys(),nt.table.clickCallback&&(E=function(Ft,se,$t){var jt,Ne,ye;for(ye in Ne={},h)pe.call(h,ye)&&(jt=h[ye],null!=$t[ye]&&(Ne[jt]=$t[ye]));for(ye in tt)pe.call(tt,ye)&&(jt=tt[ye],null!=se[ye]&&(Ne[jt]=se[ye]));return function(mn){return nt.table.clickCallback(mn,Ft,Ne,et)}}),(V=document.createElement("table")).className="pvtTable",mt=function(Ft,se,$t){var jt,Ne,ye,mn,nn,Me,De,Ee;if(0!==se){for(mn=!0,Ee=jt=0,nn=$t;0<=nn?jt<=nn:jt>=nn;Ee=0<=nn?++jt:--jt)Ft[se-1][Ee]!==Ft[se][Ee]&&(mn=!1);if(mn)return-1}for(Ne=0;se+Ne<Ft.length;){for(De=!1,Ee=ye=0,Me=$t;0<=Me?ye<=Me:ye>=Me;Ee=0<=Me?++ye:--ye)Ft[se][Ee]!==Ft[se+Ne][Ee]&&(De=!0);if(De)break;Ne++}return Ne},ne=document.createElement("thead"),h)if(pe.call(h,G)){for(M in s=h[G],yt=document.createElement("tr"),0===parseInt(G)&&0!==tt.length&&((at=document.createElement("th")).setAttribute("colspan",tt.length),at.setAttribute("rowspan",h.length),yt.appendChild(at)),(at=document.createElement("th")).className="pvtAxisLabel",at.textContent=s,yt.appendChild(at),w)pe.call(w,M)&&(f=w[M],-1!==(Kt=mt(w,parseInt(M),parseInt(G)))&&((at=document.createElement("th")).className="pvtColLabel",at.textContent=f[G],at.setAttribute("colspan",Kt),parseInt(G)===h.length-1&&0!==tt.length&&at.setAttribute("rowspan",2),yt.appendChild(at)));0===parseInt(G)&&nt.table.rowTotals&&((at=document.createElement("th")).className="pvtTotalLabel pvtRowTotalLabel",at.innerHTML=nt.localeStrings.totals,at.setAttribute("rowspan",h.length+(0===tt.length?0:1)),yt.appendChild(at)),ne.appendChild(yt)}if(0!==tt.length){for(M in yt=document.createElement("tr"),tt)pe.call(tt,M)&&(H=tt[M],(at=document.createElement("th")).className="pvtAxisLabel",at.textContent=H,yt.appendChild(at));at=document.createElement("th"),0===h.length&&(at.className="pvtTotalLabel pvtRowTotalLabel",at.innerHTML=nt.localeStrings.totals),yt.appendChild(at),ne.appendChild(yt)}for(M in V.appendChild(ne),At=document.createElement("tbody"),J)if(pe.call(J,M)){for(G in ht=J[M],yt=document.createElement("tr"),ht)pe.call(ht,G)&&(Bt=ht[G],-1!==(Kt=mt(J,parseInt(M),parseInt(G)))&&((at=document.createElement("th")).className="pvtRowLabel",at.textContent=Bt,at.setAttribute("rowspan",Kt),parseInt(G)===tt.length-1&&0!==h.length&&at.setAttribute("colspan",2),yt.appendChild(at)));for(G in w)pe.call(w,G)&&(le=(n=et.getAggregator(ht,f=w[G])).value(),(Dt=document.createElement("td")).className="pvtVal row"+M+" col"+G,Dt.textContent=n.format(le),Dt.setAttribute("data-value",le),null!=E&&(Dt.onclick=E(le,ht,f)),yt.appendChild(Dt));(nt.table.rowTotals||0===h.length)&&(le=(Et=et.getAggregator(ht,[])).value(),(Dt=document.createElement("td")).className="pvtTotal rowTotal",Dt.textContent=Et.format(le),Dt.setAttribute("data-value",le),null!=E&&(Dt.onclick=E(le,ht,[])),Dt.setAttribute("data-for","row"+M),yt.appendChild(Dt)),At.appendChild(yt)}if(nt.table.colTotals||0===tt.length){for(G in yt=document.createElement("tr"),(nt.table.colTotals||0===tt.length)&&((at=document.createElement("th")).className="pvtTotalLabel pvtColTotalLabel",at.innerHTML=nt.localeStrings.totals,at.setAttribute("colspan",tt.length+(0===h.length?0:1)),yt.appendChild(at)),w)pe.call(w,G)&&(le=(Et=et.getAggregator([],f=w[G])).value(),(Dt=document.createElement("td")).className="pvtTotal colTotal",Dt.textContent=Et.format(le),Dt.setAttribute("data-value",le),null!=E&&(Dt.onclick=E(le,[],f)),Dt.setAttribute("data-for","col"+G),yt.appendChild(Dt));(nt.table.rowTotals||0===h.length)&&(le=(Et=et.getAggregator([],[])).value(),(Dt=document.createElement("td")).className="pvtGrandTotal",Dt.textContent=Et.format(le),Dt.setAttribute("data-value",le),null!=E&&(Dt.onclick=E(le,[],[])),yt.appendChild(Dt)),At.appendChild(yt)}return V.appendChild(At),V.setAttribute("data-numrows",J.length),V.setAttribute("data-numcols",w.length),V},Ct.fn.pivot=function(et,nt,n){var s,h,w,C,E,M,G;null==n&&(n="en"),null==ue[n]&&(n="en"),s={cols:[],rows:[],vals:[],rowOrder:"key_a_to_z",colOrder:"key_a_to_z",dataClass:je,filter:function(){return!0},aggregator:Re.count()(),aggregatorName:"Count",sorters:{},derivedAttributes:{},renderer:qe},w=Ct.extend(!0,{},ue.en.localeStrings,ue[n].localeStrings),C=Ct.extend(!0,{},{rendererOptions:{localeStrings:w},localeStrings:w},Ct.extend({},s,nt)),M=null;try{E=new C.dataClass(et,C);try{M=C.renderer(E,C.rendererOptions)}catch(H){h=H,"undefined"!=typeof console&&null!==console&&console.error(h.stack),M=Ct("<span>").html(C.localeStrings.renderError)}}catch(H){h=H,"undefined"!=typeof console&&null!==console&&console.error(h.stack),M=Ct("<span>").html(C.localeStrings.computeError)}for(G=this[0];G.hasChildNodes();)G.removeChild(G.lastChild);return this.append(M)},Ct.fn.pivotUI=function(et,nt,n,s){var h,f,w,C,E,M,G,H,V,tt,ht,J,mt,At,Dt,at,ne,Et,yt,Bt,le,Kt,Ft,se,$t,jt,Ne,ye,mn,nn,Me,De,Ee,Xt,e,o,l,v,y,k,O,Y,Z,dt,ct,st;null==n&&(n=!1),null==s&&(s="en"),null==ue[s]&&(s="en"),H={derivedAttributes:{},aggregators:ue[s].aggregators,renderers:ue[s].renderers,hiddenAttributes:[],hiddenFromAggregators:[],hiddenFromDragDrop:[],menuLimit:500,cols:[],rows:[],vals:[],rowOrder:"key_a_to_z",colOrder:"key_a_to_z",dataClass:je,exclusions:{},inclusions:{},unusedAttrsVertical:85,autoSortUnusedAttrs:!1,onRefresh:null,showUI:!0,filter:function(){return!0},sorters:{}},Et={rendererOptions:{localeStrings:yt=Ct.extend(!0,{},ue.en.localeStrings,ue[s].localeStrings)},localeStrings:yt},tt=this.data("pivotUIOptions"),Ft=null==tt||n?Ct.extend(!0,{},Et,Ct.extend({},H,nt)):tt;try{for(ct in E={},Bt=[],jt=0,je.forEachRecord(et,Ft.derivedAttributes,function(st){var St,Mt,qt,Wt;if(Ft.filter(st)){for(St in Bt.push(st),st)pe.call(st,St)&&null==E[St]&&(E[St]={},jt>0&&(E[St].null=jt));for(St in E)Wt=null!=(qt=st[St])?qt:"null",null==(Mt=E[St])[Wt]&&(Mt[Wt]=0),E[St][Wt]++;return jt++}}),O=Ct("<table>",{class:"pvtUi"}).attr("cellpadding",5),Xt=Ct("<td>").addClass("pvtUiCell"),Ee=Ct("<select>").addClass("pvtRenderer").appendTo(Xt).bind("change",function(){return Me()}),Ne=Ft.renderers)pe.call(Ne,ct)&&Ct("<option>").val(ct).html(ct).appendTo(Ee);if(Y=Ct("<td>").addClass("pvtAxisContainer pvtUnused pvtUiCell"),o=function(){var st;for(h in st=[],E)Ht.call(Ft.hiddenAttributes,h)<0&&st.push(h);return st}(),l=function(){var st,St,Mt;for(Mt=[],st=0,St=o.length;st<St;st++)Ht.call(Ft.hiddenFromAggregators,M=o[st])<0&&Mt.push(M);return Mt}(),v=function(){var st,St,Mt;for(Mt=[],st=0,St=o.length;st<St;st++)Ht.call(Ft.hiddenFromDragDrop,M=o[st])<0&&Mt.push(M);return Mt}(),dt=!1,Z="auto"===Ft.unusedAttrsVertical?120:parseInt(Ft.unusedAttrsVertical),!isNaN(Z)){for(C=0,At=0,Dt=v.length;At<Dt;At++)C+=(h=v[At]).length;dt=C>Z}for(J in Y.addClass(!0===Ft.unusedAttrsVertical||dt?"pvtVertList":"pvtHorizList"),ht=function(st){var St,Mt,qt,Wt,ce,we,Le,yn,He,de,ge,rn,In,tn,Ye,Ae,fn,Ke,Gn;if(Gn=function(){var Ln;for(Ye in Ln=[],E[st])Ln.push(Ye);return Ln}(),yn=!1,(Ke=Ct("<div>").addClass("pvtFilterBox").hide()).append(Ct("<h4>").append(Ct("<span>").text(st),Ct("<span>").addClass("count").text("("+Gn.length+")"))),Gn.length>Ft.menuLimit)Ke.append(Ct("<p>").html(Ft.localeStrings.tooMany));else for(Gn.length>5&&(Wt=Ct("<p>").appendTo(Ke),In=Pe(Ft.sorters,st),ge=Ft.localeStrings.filterResults,Ct("<input>",{type:"text"}).appendTo(Wt).attr({placeholder:ge,class:"pvtSearch"}).bind("keyup",function(){var Ln,Xn,un;return un=Ct(this).val().toLowerCase().trim(),Xn=function(Vn,ti){return function(ea){var Ni,Oi;return 0===(Ni=un.substring(Vn.length).trim()).length||(Oi=Math.sign(In(ea.toLowerCase(),Ni)),Ht.call(ti,Oi)>=0)}},Ln=0===un.indexOf(">=")?Xn(">=",[1,0]):0===un.indexOf("<=")?Xn("<=",[-1,0]):0===un.indexOf(">")?Xn(">",[1]):0===un.indexOf("<")?Xn("<",[-1]):0===un.indexOf("~")?function(Vn){return 0===un.substring(1).trim().length||Vn.toLowerCase().match(un.substring(1))}:function(Vn){return-1!==Vn.toLowerCase().indexOf(un)},Ke.find(".pvtCheckContainer p label span.value").each(function(){return Ln(Ct(this).text())?Ct(this).parent().parent().show():Ct(this).parent().parent().hide()})}),Wt.append(Ct("<br>")),Ct("<button>",{type:"button"}).appendTo(Wt).html(Ft.localeStrings.selectAll).bind("click",function(){return Ke.find("input:visible:not(:checked)").prop("checked",!0).toggleClass("changed"),!1}),Ct("<button>",{type:"button"}).appendTo(Wt).html(Ft.localeStrings.selectNone).bind("click",function(){return Ke.find("input:visible:checked").prop("checked",!1).toggleClass("changed"),!1})),Mt=Ct("<div>").addClass("pvtCheckContainer").appendTo(Ke),de=0,He=(rn=Gn.sort(Pe(Ft.sorters,st))).length;de<He;de++)fn=E[st][Ae=rn[de]],ce=Ct("<label>"),we=!1,Ft.inclusions[st]?we=Ht.call(Ft.inclusions[st],Ae)<0:Ft.exclusions[st]&&(we=Ht.call(Ft.exclusions[st],Ae)>=0),yn||(yn=we),Ct("<input>").attr("type","checkbox").addClass("pvtFilter").attr("checked",!we).data("filter",[st,Ae]).appendTo(ce).bind("change",function(){return Ct(this).toggleClass("changed")}),ce.append(Ct("<span>").addClass("value").text(Ae)),ce.append(Ct("<span>").addClass("count").text("("+fn+")")),Mt.append(Ct("<p>").append(ce));return qt=function(){return Ke.find("[type='checkbox']").length>Ke.find("[type='checkbox']:checked").length?St.addClass("pvtFilteredAttribute"):St.removeClass("pvtFilteredAttribute"),Ke.find(".pvtSearch").val(""),Ke.find(".pvtCheckContainer p").show(),Ke.hide()},Le=Ct("<p>").appendTo(Ke),Gn.length<=Ft.menuLimit&&Ct("<button>",{type:"button"}).text(Ft.localeStrings.apply).appendTo(Le).bind("click",function(){return Ke.find(".changed").removeClass("changed").length&&Me(),qt()}),Ct("<button>",{type:"button"}).text(Ft.localeStrings.cancel).appendTo(Le).bind("click",function(){return Ke.find(".changed:checked").removeClass("changed").prop("checked",!1),Ke.find(".changed:not(:checked)").removeClass("changed").prop("checked",!0),qt()}),tn=Ct("<span>").addClass("pvtTriangle").html(" &#x25BE;").bind("click",function(Ln){var un;return un=Ct(Ln.currentTarget).position(),Ke.css({left:un.left+10,top:un.top+10}).show()}),St=Ct("<li>").addClass("axis_"+J).append(Ct("<span>").addClass("pvtAttr").text(st).data("attrName",st).append(tn)),yn&&St.addClass("pvtFilteredAttribute"),Y.append(St).append(Ke)},v)pe.call(v,J)&&ht(w=v[J]);for(ct in y=Ct("<tr>").appendTo(O),f=Ct("<select>").addClass("pvtAggregator").bind("change",function(){return Me()}),ye=Ft.aggregators)pe.call(ye,ct)&&f.append(Ct("<option>").val(ct).html(ct));for(se={key_a_to_z:{rowSymbol:"&varr;",colSymbol:"&harr;",next:"value_a_to_z"},value_a_to_z:{rowSymbol:"&darr;",colSymbol:"&rarr;",next:"value_z_to_a"},value_z_to_a:{rowSymbol:"&uarr;",colSymbol:"&larr;",next:"key_a_to_z"}},e=Ct("<a>",{role:"button"}).addClass("pvtRowOrder").data("order",Ft.rowOrder).html(se[Ft.rowOrder].rowSymbol).bind("click",function(){return Ct(this).data("order",se[Ct(this).data("order")].next),Ct(this).html(se[Ct(this).data("order")].rowSymbol),Me()}),G=Ct("<a>",{role:"button"}).addClass("pvtColOrder").data("order",Ft.colOrder).html(se[Ft.colOrder].colSymbol).bind("click",function(){return Ct(this).data("order",se[Ct(this).data("order")].next),Ct(this).html(se[Ct(this).data("order")].colSymbol),Me()}),Ct("<td>").addClass("pvtVals pvtUiCell").appendTo(y).append(f).append(e).append(G).append(Ct("<br>")),Ct("<td>").addClass("pvtAxisContainer pvtHorizList pvtCols pvtUiCell").appendTo(y),(k=Ct("<tr>").appendTo(O)).append(Ct("<td>").addClass("pvtAxisContainer pvtRows pvtUiCell").attr("valign","top")),$t=Ct("<td>").attr("valign","top").addClass("pvtRendererArea").appendTo(k),!0===Ft.unusedAttrsVertical||dt?(O.find("tr:nth-child(1)").prepend(Xt),O.find("tr:nth-child(2)").prepend(Y)):O.prepend(Ct("<tr>").append(Xt).append(Y)),this.html(O),le=0,at=(mn=Ft.cols).length;le<at;le++)ct=mn[le],this.find(".pvtCols").append(this.find(".axis_"+Ct.inArray(ct,v)));for(Kt=0,ne=(nn=Ft.rows).length;Kt<ne;Kt++)ct=nn[Kt],this.find(".pvtRows").append(this.find(".axis_"+Ct.inArray(ct,v)));null!=Ft.aggregatorName&&this.find(".pvtAggregator").val(Ft.aggregatorName),null!=Ft.rendererName&&this.find(".pvtRenderer").val(Ft.rendererName),Ft.showUI||this.find(".pvtUiCell").hide(),mt=!0,st=this,De=function(){var St,Mt,qt,Wt,ce,we,Le,yn,He,de,ge,rn,In,tn;if(de={derivedAttributes:Ft.derivedAttributes,localeStrings:Ft.localeStrings,rendererOptions:Ft.rendererOptions,sorters:Ft.sorters,cols:[],rows:[],dataClass:Ft.dataClass},ce=null!=(yn=Ft.aggregators[f.val()]([])().numInputs)?yn:0,tn=[],st.find(".pvtRows li span.pvtAttr").each(function(){return de.rows.push(Ct(this).data("attrName"))}),st.find(".pvtCols li span.pvtAttr").each(function(){return de.cols.push(Ct(this).data("attrName"))}),st.find(".pvtVals select.pvtAttrDropdown").each(function(){return 0===ce?Ct(this).remove():(ce--,""!==Ct(this).val()?tn.push(Ct(this).val()):void 0)}),0!==ce)for(Le=st.find(".pvtVals"),ct=ge=0,He=ce;0<=He?ge<He:ge>He;ct=0<=He?++ge:--ge){for(Wt=Ct("<select>").addClass("pvtAttrDropdown").append(Ct("<option>")).bind("change",function(){return Me()}),rn=0,qt=l.length;rn<qt;rn++)w=l[rn],Wt.append(Ct("<option>").val(w).text(w));Le.append(Wt)}if(mt&&(tn=Ft.vals,J=0,st.find(".pvtVals select.pvtAttrDropdown").each(function(){return Ct(this).val(tn[J]),J++}),mt=!1),de.aggregatorName=f.val(),de.vals=tn,de.aggregator=Ft.aggregators[f.val()](tn),de.renderer=Ft.renderers[Ee.val()],de.rowOrder=e.data("order"),de.colOrder=G.data("order"),St={},st.find("input.pvtFilter").not(":checked").each(function(){var Ye;return Ye=Ct(this).data("filter"),null!=St[Ye[0]]?St[Ye[0]].push(Ye[1]):St[Ye[0]]=[Ye[1]]}),Mt={},st.find("input.pvtFilter:checked").each(function(){var Ye;if(Ye=Ct(this).data("filter"),null!=St[Ye[0]])return null!=Mt[Ye[0]]?Mt[Ye[0]].push(Ye[1]):Mt[Ye[0]]=[Ye[1]]}),de.filter=function(Ye){var fn,Ke,Gn;if(!Ft.filter(Ye))return!1;for(fn in St)if(Ke=""+(null!=(Gn=Ye[fn])?Gn:"null"),Ht.call(St[fn],Ke)>=0)return!1;return!0},$t.pivot(Bt,de),we=Ct.extend({},Ft,{cols:de.cols,rows:de.rows,colOrder:de.colOrder,rowOrder:de.rowOrder,vals:tn,exclusions:St,inclusions:Mt,inclusionsInfo:Mt,aggregatorName:f.val(),rendererName:Ee.val()}),st.data("pivotUIOptions",we),Ft.autoSortUnusedAttrs&&(In=st.find("td.pvtUnused.pvtAxisContainer"),Ct(In).children("li").sort(function(Ye,Ae){return dn(Ct(Ye).text(),Ct(Ae).text())}).appendTo(In)),$t.css("opacity",1),null!=Ft.onRefresh)return Ft.onRefresh(we)},(Me=function(){return $t.css("opacity",.5),setTimeout(De,10)})(),this.find(".pvtAxisContainer").sortable({update:function(st,St){if(null==St.sender)return Me()},connectWith:this.find(".pvtAxisContainer"),items:"li",placeholder:"pvtPlaceholder"})}catch(st){V=st,"undefined"!=typeof console&&null!==console&&console.error(V.stack),this.html(Ft.localeStrings.uiRenderError)}return this},Ct.fn.heatmap=function(et,nt){var n,s,h,f,w,C,E,M,G,H,V,tt;switch(null==et&&(et="heatmap"),M=this.data("numrows"),E=this.data("numcols"),null==(n=null!=nt&&null!=(G=nt.heatmap)?G.colorScaleGenerator:void 0)&&(n=function(tt){var ht,J;return J=Math.min.apply(Math,tt),ht=Math.max.apply(Math,tt),function(mt){var At;return"rgb(255,"+(At=255-Math.round(255*(mt-J)/(ht-J)))+","+At+")"}}),tt=this,s=function(ht){var J,mt,At;return At=[],(mt=function(Dt){return tt.find(ht).each(function(){var at;if(null!=(at=Ct(this).data("value"))&&isFinite(at))return Dt(at,Ct(this))})})(function(Dt){return At.push(Dt)}),J=n(At),mt(function(Dt,at){return at.css("background-color",J(Dt))})},et){case"heatmap":s(".pvtVal");break;case"rowheatmap":for(h=w=0,H=M;0<=H?w<H:w>H;h=0<=H?++w:--w)s(".pvtVal.row"+h);break;case"colheatmap":for(f=C=0,V=E;0<=V?C<V:C>V;f=0<=V?++C:--C)s(".pvtVal.col"+f)}return s(".pvtTotal.rowTotal"),s(".pvtTotal.colTotal"),this},Ct.fn.barchart=function(et){var nt,n,s,f,w;for(f=this.data("numrows"),this.data("numcols"),nt=function(C){return function(E){var M,G,H,V,tt,ht;return ht=[],(M=function(J){return C.find(E).each(function(){var mt;if(null!=(mt=Ct(this).data("value"))&&isFinite(mt))return J(mt,Ct(this))})})(function(J){return ht.push(J)}),(G=Math.max.apply(Math,ht))<0&&(G=0),V=G,(H=Math.min.apply(Math,ht))<0&&(V=G-H),tt=function(J){return 100*J/(1.4*V)},M(function(J,mt){var At,Dt,at,ne;return at=mt.text(),ne=Ct("<div>").css({position:"relative",height:"55px"}),Dt="gray",At=0,H<0&&(At=tt(-H)),J<0&&(At+=tt(J),Dt="darkred",J=-J),ne.append(Ct("<div>").css({position:"absolute",bottom:At+"%",left:0,right:0,height:tt(J)+"%","background-color":Dt})),ne.append(Ct("<div>").text(at).css({position:"relative","padding-left":"5px","padding-right":"5px"})),mt.css({padding:0,"padding-top":"5px","text-align":"center"}).html(ne)})}}(this),n=s=0,w=f;0<=w?s<w:s>w;n=0<=w?++s:--s)nt(".pvtVal.row"+n);return nt(".pvtTotal.colTotal"),this}},"object"==typeof exports&&"object"==typeof module?Ct(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],Ct):Ct(jQuery)}.call(this),function(){var Ht;Ht=function(Ht,wn){var Sn;return Sn=function(pe){return null==pe&&(pe={}),function(Ct,je){var We,Re,sn,On,_n,Pe,ue,he,dn,Vt,_e,ze,$,L,re,Ue,gn,ae,nt,n,s,h,f,w,C,E,M,G,H,V,tt,ht,J,mt,At,Dt,at,ne,Et,yt,Bt,le,Kt,Ft,se,$t,jt,Ne,ye,mn,nn,Me,De,Ee,Xt;if(null==(sn=(je=Ht.extend(!0,{},{localeStrings:{vs:"vs",by:"by"},c3:{}},je)).c3).size&&(sn.size={}),null==(On=je.c3.size).width&&(On.width=window.innerWidth/1.4),null==(_n=je.c3.size).height&&(_n.height=window.innerHeight/1.4-50),null==pe.type&&(pe.type="line"),null==pe.horizontal&&(pe.horizontal=!1),null==pe.stacked&&(pe.stacked=!1),0===(Ft=Ct.getRowKeys()).length&&Ft.push([]),0===($=Ct.getColKeys()).length&&$.push([]),n=function(){var e,o,l;for(l=[],e=0,o=$.length;e<o;e++)l.push($[e].join("-"));return l}(),yt=0,gn=Ct.aggregatorName,Ct.valAttrs.length&&(gn+="("+Ct.valAttrs.join(", ")+")"),"scatter"===pe.type)for($t={x:{},y:{},t:{}},mn=null!=(mt=(Re=Ct.rowAttrs.concat(Ct.colAttrs))[0])?mt:"",nt=null!=(At=Re[1])?At:"",ae=Re.slice(2).join("-"),ye=mn,""!==nt&&(ye+=" "+je.localeStrings.vs+" "+nt),""!==ae&&(ye+=" "+je.localeStrings.by+" "+ae),s=0,C=Ft.length;s<C;s++)for(Kt=Ft[s],h=0,E=$.length;h<E;h++)null!=(We=Ct.getAggregator(Kt,ze=$[h])).value()&&(Me=Kt.concat(ze),""===(jt=Me.slice(2).join("-"))&&(jt="series"),null==(Pe=$t.x)[jt]&&(Pe[jt]=[]),null==(ue=$t.y)[jt]&&(ue[jt]=[]),Xt=null!=(Dt=Me[0])?Dt:0,De=null!=(at=Me[1])?at:0,$t.y[jt].push(Xt),$t.x[jt].push(De),null==(he=$t.t)[jt]&&(he[jt]={}),null==(dn=$t.t[jt])[De]&&(dn[De]={}),$t.t[jt][De][Xt]=We.value());else{for(tt=0,f=0,M=n.length;f<M;f++)tt+=(De=n[f]).length;for(tt>50&&(yt=45),L=[],w=0,G=Ft.length;w<G;w++){for(Bt=[""===(le=(Kt=Ft[w]).join("-"))?gn:le],V=0,H=$.length;V<H;V++)ze=$[V],nn=parseFloat(Ct.getAggregator(Kt,ze).value()),isFinite(nn)?Bt.push(nn):Bt.push(null);L.push(Bt)}mn=gn,pe.horizontal?(nt=Ct.rowAttrs.join("-"),ae=Ct.colAttrs.join("-")):(nt=Ct.colAttrs.join("-"),ae=Ct.rowAttrs.join("-")),ye=gn,""!==nt&&(ye+=" "+je.localeStrings.vs+" "+nt),""!==ae&&(ye+=" "+je.localeStrings.by+" "+ae)}if((Ne=Ht("<p>",{style:"text-align: center; font-weight: bold"})).text(ye),Ue=Ct.getAggregator([],[]).format,J=Ht.extend(!0,{},J={axis:{rotated:pe.horizontal,y:{label:mn,tick:{}},x:{label:nt,tick:{rotate:yt,multiline:!1}}},data:{type:pe.type,order:null},tooltip:{grouped:!1},color:{pattern:["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac"]}},je.c3),"scatter"===pe.type){for(se in Ee={},ht=0,re=[],$t.x)ht+=1,Ee[se]=se+"_x",re.push([se+"_x"].concat($t.x[se])),re.push([se].concat($t.y[se]));J.data.xs=Ee,J.data.columns=re,J.axis.x.tick={fit:!1},1===ht&&(J.legend={show:!1}),J.tooltip.format={title:function(){return gn},name:function(){return""},value:function(e,o,l,v,y){var k;return Ue($t.t[jt=(k=y[0]).name][De=k.x][Xt=k.value])}}}else J.axis.x.type="category",null==(Vt=J.axis.y.tick).format&&(Vt.format=function(e){return Ue(e)}),J.tooltip.format={value:function(e){return Ue(e)}},pe.horizontal?(1===(_e=function(){var e,o,l;for(l=[],o=0,e=L.length;o<e;o++)l.push(L[o].shift());return l}()).length&&_e[0]===gn&&(_e=[""]),J.axis.x.categories=_e,1===n.length&&""===n[0]&&(n=[gn]),L.unshift(n),J.data.rows=L):(J.axis.x.categories=n,J.data.columns=L);return pe.stacked&&(J.data.groups=pe.horizontal?[function(){var e,o,l;for(l=[],o=0,e=$.length;o<e;o++)l.push((De=$[o]).join("-"));return l}()]:[function(){var e,o,l;for(l=[],o=0,e=Ft.length;o<e;o++)l.push((De=Ft[o]).join("-"));return l}()]),ne=Ht("<div>",{style:"display:none;"}).appendTo(Ht("body")),Et=Ht("<div>").appendTo(ne),J.bindto=Et[0],wn.generate(J),Et.detach(),ne.remove(),Ht("<div>").append(Ne,Et)}},Ht.pivotUtilities.c3_renderers={"Horizontal Bar Chart":Sn({type:"bar",horizontal:!0}),"Horizontal Stacked Bar Chart":Sn({type:"bar",stacked:!0,horizontal:!0}),"Bar Chart":Sn({type:"bar"}),"Stacked Bar Chart":Sn({type:"bar",stacked:!0}),"Line Chart":Sn(),"Area Chart":Sn({type:"area",stacked:!0}),"Scatter Chart":Sn({type:"scatter"})}},"object"==typeof exports&&"object"==typeof module?Ht(require("jquery"),require("c3")):"function"==typeof define&&define.amd?define(["jquery","c3"],Ht):Ht(jQuery,c3)}.call(this),function(){var r="undefined"!=typeof exports&&exports||"undefined"!=typeof define&&{}||this||window;"undefined"!=typeof define&&define("save-svg-as-png",[],function(){return r}),r.default=r;var Ht="http://www.w3.org/2000/xmlns/",Sn="http://www.w3.org/2000/svg",Ct=/url\(["']?(.+?)["']?\)/,je={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},We=function(et){return et instanceof HTMLElement||et instanceof SVGElement},Re=function(et){if(!We(et))throw new Error("an HTMLElement or SVGElement is required; got "+et)},sn=function(et){return new Promise(function(nt,n){We(et)?nt(et):n(new Error("an HTMLElement or SVGElement is required; got "+et))})},_n=function(et){var nt=Object.keys(je).filter(function(n){return et.indexOf("."+n)>0}).map(function(n){return je[n]});return nt?nt[0]:(console.error("Unknown font format for "+et+". Fonts may not be working correctly."),"application/octet-stream")},ue=function(et,nt,n){var s=et.viewBox&&et.viewBox.baseVal&&et.viewBox.baseVal[n]||null!==nt.getAttribute(n)&&!nt.getAttribute(n).match(/%$/)&&parseInt(nt.getAttribute(n))||et.getBoundingClientRect()[n]||parseInt(nt.style[n])||parseInt(window.getComputedStyle(et).getPropertyValue(n));return null==s||isNaN(parseFloat(s))?0:s},Vt=function(et){for(var nt=window.atob(et.split(",")[1]),n=et.split(",")[0].split(":")[1].split(";")[0],s=new ArrayBuffer(nt.length),h=new Uint8Array(s),f=0;f<nt.length;f++)h[f]=nt.charCodeAt(f);return new Blob([s],{type:n})},$={},re=null,Ue=function(et,nt){var n=nt||{},s=n.selectorRemap,h=n.modifyStyle,w=n.fonts,C=n.excludeUnusedCss,E=n.modifyCss||function(V,tt){return(s?s(V):V)+"{"+(h?h(tt):tt)+"}\n"},M=[],G=void 0===w,H=w||[];return(re||(re=Array.from(document.styleSheets).map(function(et){try{return{rules:et.cssRules,href:et.href}}catch(nt){return console.warn("Stylesheet could not be loaded: "+et.href,nt),{}}}))).forEach(function(V){var tt=V.rules,ht=V.href;!tt||Array.from(tt).forEach(function(J){if(void 0!==J.style)if(function(et,nt){if(nt)try{return et.querySelector(nt)||et.parentNode&&et.parentNode.querySelector(nt)}catch(n){console.warn('Invalid CSS selector "'+nt+'"',n)}}(et,J.selectorText))M.push(E(J.selectorText,J.style.cssText));else if(G&&J.cssText.match(/^@font-face/)){var mt=function(et,nt){var n=et.cssText.match(Ct),s=n&&n[1]||"";if(s&&!s.match(/^data:/)&&"about:blank"!==s){var h=s.startsWith("../")?nt+"/../"+s:s.startsWith("./")?nt+"/."+s:s;return{text:et.cssText,format:_n(h),url:h}}}(J,ht);mt&&H.push(mt)}else C||M.push(J.cssText)})}),function(et){return Promise.all(et.map(function(nt){return new Promise(function(n,s){if($[nt.url])return n($[nt.url]);var h=new XMLHttpRequest;h.addEventListener("load",function(){var f=function(et){for(var nt="",n=new Uint8Array(et),s=0;s<n.byteLength;s++)nt+=String.fromCharCode(n[s]);return window.btoa(nt)}(h.response),w=nt.text.replace(Ct,'url("data:'+nt.format+";base64,"+f+'")')+"\n";$[nt.url]=w,n(w)}),h.addEventListener("error",function(f){console.warn("Failed to load font from: "+nt.url,f),$[nt.url]=null,n(null)}),h.addEventListener("abort",function(f){console.warn("Aborted loading font from: "+nt.url,f),n(null)}),h.open("GET",nt.url),h.responseType="arraybuffer",h.send()})})).then(function(nt){return nt.filter(function(n){return n}).join("")})}(H).then(function(V){return M.join("\n")+V})},gn=function(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};r.prepareSvg=function(ae,et,nt){Re(ae);var n=et||{},s=n.left,h=void 0===s?0:s,f=n.top,w=void 0===f?0:f,C=n.width,E=n.height,M=n.scale,G=void 0===M?1:M,H=n.responsive,V=void 0!==H&&H,tt=n.excludeCss,ht=void 0!==tt&&tt;return function(et){return Promise.all(Array.from(et.querySelectorAll("image")).map(function(nt){var n=nt.getAttributeNS("http://www.w3.org/1999/xlink","href")||nt.getAttribute("href");return n?(function(et){return et&&0===et.lastIndexOf("http",0)&&-1===et.lastIndexOf(window.location.host)}(n)&&(n+=(-1===n.indexOf("?")?"?":"&")+"t="+(new Date).valueOf()),new Promise(function(s,h){var f=document.createElement("canvas"),w=new Image;w.crossOrigin="anonymous",w.src=n,w.onerror=function(){return h(new Error("Could not load "+n))},w.onload=function(){f.width=w.width,f.height=w.height,f.getContext("2d").drawImage(w,0,0),nt.setAttributeNS("http://www.w3.org/1999/xlink","href",f.toDataURL("image/png")),s(!0)}})):Promise.resolve(null)}))}(ae).then(function(){var J=ae.cloneNode(!0);J.style.backgroundColor=(et||{}).backgroundColor||ae.style.backgroundColor;var mt=function(et,nt,n,s){if("svg"===et.tagName)return{width:n||ue(et,nt,"width"),height:s||ue(et,nt,"height")};if(et.getBBox){var h=et.getBBox();return{width:h.x+h.width,height:h.y+h.height}}}(ae,J,C,E),At=mt.width,Dt=mt.height;if("svg"!==ae.tagName){if(!ae.getBBox)return void console.error("Attempted to render non-SVG element",ae);null!=J.getAttribute("transform")&&J.setAttribute("transform",J.getAttribute("transform").replace(/translate\(.*?\)/,""));var at=document.createElementNS("http://www.w3.org/2000/svg","svg");at.appendChild(J),J=at}if(J.setAttribute("version","1.1"),J.setAttribute("viewBox",[h,w,At,Dt].join(" ")),J.getAttribute("xmlns")||J.setAttributeNS(Ht,"xmlns",Sn),J.getAttribute("xmlns:xlink")||J.setAttributeNS(Ht,"xmlns:xlink","http://www.w3.org/1999/xlink"),V?(J.removeAttribute("width"),J.removeAttribute("height"),J.setAttribute("preserveAspectRatio","xMinYMin meet")):(J.setAttribute("width",At*G),J.setAttribute("height",Dt*G)),Array.from(J.querySelectorAll("foreignObject > *")).forEach(function(yt){yt.setAttributeNS(Ht,"xmlns","svg"===yt.tagName?Sn:"http://www.w3.org/1999/xhtml")}),!ht)return Ue(ae,et).then(function(yt){var Bt=document.createElement("style");Bt.setAttribute("type","text/css"),Bt.innerHTML="<![CDATA[\n"+yt+"\n]]>";var le=document.createElement("defs");le.appendChild(Bt),J.insertBefore(le,J.firstChild);var Kt=document.createElement("div");Kt.appendChild(J);var Ft=Kt.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if("function"!=typeof nt)return{src:Ft,width:At,height:Dt};nt(Ft,At,Dt)});var ne=document.createElement("div");ne.appendChild(J);var Et=ne.innerHTML;if("function"!=typeof nt)return{src:Et,width:At,height:Dt};nt(Et,At,Dt)})},r.svgAsDataUri=function(ae,et,nt){return Re(ae),r.prepareSvg(ae,et).then(function(n){var h=n.width,f=n.height,w="data:image/svg+xml;base64,"+window.btoa(function(et){return decodeURIComponent(encodeURIComponent(et).replace(/%([0-9A-F]{2})/g,function(nt,n){var s=String.fromCharCode("0x"+n);return"%"===s?"%25":s}))}('<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>'+n.src));return"function"==typeof nt&&nt(w,h,f),w})},r.svgAsPngUri=function(ae,et,nt){Re(ae);var n=et||{},s=n.encoderType,h=void 0===s?"image/png":s,f=n.encoderOptions,w=void 0===f?.8:f,C=n.canvg,E=function(G){var H=G.src,V=G.width,tt=G.height,ht=document.createElement("canvas"),J=ht.getContext("2d"),mt=window.devicePixelRatio||1;ht.width=V*mt,ht.height=tt*mt,ht.style.width=ht.width+"px",ht.style.height=ht.height+"px",J.setTransform(mt,0,0,mt,0,0),C?C(ht,H):J.drawImage(H,0,0);var At=void 0;try{At=ht.toDataURL(h,w)}catch(Dt){if("undefined"!=typeof SecurityError&&Dt instanceof SecurityError||"SecurityError"===Dt.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw Dt}return"function"==typeof nt&&nt(At,ht.width,ht.height),Promise.resolve(At)};return C?r.prepareSvg(ae,et).then(E):r.svgAsDataUri(ae,et).then(function(M){return new Promise(function(G,H){var V=new Image;V.onload=function(){return G(E({src:V,width:V.width,height:V.height}))},V.onerror=function(){H("There was an error loading the data URI as an image on the following SVG\n"+window.atob(M.slice(26))+"Open the following link to see browser's diagnosis\n"+M)},V.src=M})})},r.download=function(ae,et,nt){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(Vt(et),ae);else{var n=document.createElement("a");if("download"in n){n.download=ae,n.style.display="none",document.body.appendChild(n);try{var s=Vt(et),h=URL.createObjectURL(s);n.href=h,n.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(h)})}}catch(f){console.error(f),console.warn("Error while getting object URL. Falling back to string URL."),n.href=et}n.click(),document.body.removeChild(n)}else nt&&nt.popup&&(nt.popup.document.title=ae,nt.popup.location.replace(et))}},r.saveSvg=function(ae,et,nt){var n=gn();return sn(ae).then(function(s){return r.svgAsDataUri(s,nt||{})}).then(function(s){return r.download(et,s,n)})},r.saveSvgAsPng=function(ae,et,nt){var n=gn();return sn(ae).then(function(s){return r.svgAsPngUri(s,nt||{})}).then(function(s){return r.download(et,s,n)})}}();